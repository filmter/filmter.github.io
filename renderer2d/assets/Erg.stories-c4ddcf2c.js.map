{"version":3,"file":"Erg.stories-c4ddcf2c.js","sources":["../../node_modules/element-plus/es/utils/dom/position.mjs","../../node_modules/lodash-es/identity.js","../../node_modules/lodash-es/_baseCreate.js","../../node_modules/lodash-es/_apply.js","../../node_modules/lodash-es/_copyArray.js","../../node_modules/lodash-es/_shortOut.js","../../node_modules/lodash-es/constant.js","../../node_modules/lodash-es/_defineProperty.js","../../node_modules/lodash-es/_baseSetToString.js","../../node_modules/lodash-es/_setToString.js","../../node_modules/lodash-es/_arrayEach.js","../../node_modules/lodash-es/_baseAssignValue.js","../../node_modules/lodash-es/_assignValue.js","../../node_modules/lodash-es/_copyObject.js","../../node_modules/lodash-es/_overRest.js","../../node_modules/lodash-es/_nativeKeysIn.js","../../node_modules/lodash-es/_baseKeysIn.js","../../node_modules/lodash-es/keysIn.js","../../node_modules/lodash-es/_isFlattenable.js","../../node_modules/lodash-es/_baseFlatten.js","../../node_modules/lodash-es/flatten.js","../../node_modules/lodash-es/_flatRest.js","../../node_modules/lodash-es/_getPrototype.js","../../node_modules/lodash-es/_baseAssign.js","../../node_modules/lodash-es/_baseAssignIn.js","../../node_modules/lodash-es/_cloneBuffer.js","../../node_modules/lodash-es/_copySymbols.js","../../node_modules/lodash-es/_getSymbolsIn.js","../../node_modules/lodash-es/_copySymbolsIn.js","../../node_modules/lodash-es/_getAllKeysIn.js","../../node_modules/lodash-es/_initCloneArray.js","../../node_modules/lodash-es/_cloneArrayBuffer.js","../../node_modules/lodash-es/_cloneDataView.js","../../node_modules/lodash-es/_cloneRegExp.js","../../node_modules/lodash-es/_cloneSymbol.js","../../node_modules/lodash-es/_cloneTypedArray.js","../../node_modules/lodash-es/_initCloneByTag.js","../../node_modules/lodash-es/_initCloneObject.js","../../node_modules/lodash-es/_baseIsMap.js","../../node_modules/lodash-es/isMap.js","../../node_modules/lodash-es/_baseIsSet.js","../../node_modules/lodash-es/isSet.js","../../node_modules/lodash-es/_baseClone.js","../../node_modules/lodash-es/cloneDeep.js","../../node_modules/lodash-es/_baseHasIn.js","../../node_modules/lodash-es/_hasPath.js","../../node_modules/lodash-es/hasIn.js","../../node_modules/lodash-es/isString.js","../../node_modules/lodash-es/isBoolean.js","../../node_modules/lodash-es/_baseSet.js","../../node_modules/lodash-es/_basePickBy.js","../../node_modules/lodash-es/_basePick.js","../../node_modules/lodash-es/pick.js","../../node_modules/element-plus/es/utils/dom/scroll.mjs","../../node_modules/element-plus/es/utils/vue/refs.mjs","../../node_modules/element-plus/es/utils/vue/size.mjs","../../node_modules/element-plus/es/utils/vue/vnode.mjs","../../node_modules/element-plus/es/hooks/use-attrs/index.mjs","../../node_modules/element-plus/es/hooks/use-draggable/index.mjs","../../node_modules/element-plus/es/hooks/use-focus/index.mjs","../../node_modules/element-plus/es/hooks/use-lockscreen/index.mjs","../../node_modules/element-plus/es/hooks/use-same-target/index.mjs","../../node_modules/element-plus/es/hooks/use-cursor/index.mjs","../../node_modules/element-plus/es/components/config-provider/src/config-provider-props.mjs","../../node_modules/element-plus/es/components/config-provider/src/config-provider.mjs","../../node_modules/element-plus/es/components/input/src/utils.mjs","../../node_modules/element-plus/es/components/input/src/input.mjs","../../node_modules/element-plus/es/components/input/src/input2.mjs","../../node_modules/element-plus/es/components/input/index.mjs","../../node_modules/element-plus/es/components/scrollbar/src/constants.mjs","../../node_modules/element-plus/es/components/scrollbar/src/thumb.mjs","../../node_modules/element-plus/es/components/scrollbar/src/thumb2.mjs","../../node_modules/element-plus/es/components/scrollbar/src/bar.mjs","../../node_modules/element-plus/es/components/scrollbar/src/bar2.mjs","../../node_modules/element-plus/es/components/scrollbar/src/scrollbar.mjs","../../node_modules/element-plus/es/components/scrollbar/src/scrollbar2.mjs","../../node_modules/element-plus/es/components/scrollbar/index.mjs","../../node_modules/element-plus/es/components/badge/src/badge.mjs","../../node_modules/element-plus/es/components/badge/src/badge2.mjs","../../node_modules/element-plus/es/components/badge/index.mjs","../../node_modules/element-plus/es/components/color-picker/src/props/alpha-slider.mjs","../../node_modules/element-plus/es/components/color-picker/src/utils/draggable.mjs","../../node_modules/element-plus/es/components/color-picker/src/composables/use-alpha-slider.mjs","../../node_modules/element-plus/es/components/color-picker/src/components/alpha-slider.mjs","../../node_modules/element-plus/es/components/color-picker/src/components/hue-slider.mjs","../../node_modules/element-plus/es/components/color-picker/src/color-picker.mjs","../../node_modules/element-plus/es/components/color-picker/src/utils/color.mjs","../../node_modules/element-plus/es/components/color-picker/src/components/predefine.mjs","../../node_modules/element-plus/es/components/color-picker/src/components/sv-panel.mjs","../../node_modules/element-plus/es/components/color-picker/src/color-picker2.mjs","../../node_modules/element-plus/es/components/color-picker/index.mjs","../../node_modules/element-plus/es/components/overlay/src/overlay.mjs","../../node_modules/element-plus/es/components/overlay/index.mjs","../../node_modules/element-plus/es/components/dialog/src/constants.mjs","../../node_modules/element-plus/es/components/dialog/src/dialog-content.mjs","../../node_modules/element-plus/es/components/dialog/src/dialog-content2.mjs","../../node_modules/element-plus/es/components/dialog/src/dialog.mjs","../../node_modules/element-plus/es/components/dialog/src/use-dialog.mjs","../../node_modules/element-plus/es/components/dialog/src/dialog2.mjs","../../node_modules/element-plus/es/components/dialog/index.mjs","../../node_modules/element-plus/es/components/divider/src/divider.mjs","../../node_modules/element-plus/es/components/divider/src/divider2.mjs","../../node_modules/element-plus/es/components/divider/index.mjs","../../node_modules/element-plus/es/components/select/src/token.mjs","../../node_modules/element-plus/es/components/select/src/useOption.mjs","../../node_modules/element-plus/es/components/select/src/option.mjs","../../node_modules/element-plus/es/components/select/src/select-dropdown.mjs","../../node_modules/element-plus/es/components/select/src/useSelect.mjs","../../node_modules/element-plus/es/components/select/src/options.mjs","../../node_modules/element-plus/es/components/select/src/select.mjs","../../node_modules/element-plus/es/components/select/src/option-group.mjs","../../node_modules/element-plus/es/components/select/index.mjs","../../node_modules/element-plus/es/components/message/src/message.mjs","../../node_modules/element-plus/es/components/message/src/instance.mjs","../../node_modules/element-plus/es/components/message/src/message2.mjs","../../node_modules/element-plus/es/components/message/src/method.mjs","../../node_modules/element-plus/es/components/message/index.mjs","../../src/core/utils/uuid.ts","../../src/core/materials/icon/lock.ts","../../src/core/utils/color.ts","../../src/core/materials/node/node-erwin.ts","../../src/core/materials/node/node-rect.ts","../../src/core/materials/text/text-base.ts","../../src/core/utils/fx.ts","../../src/core/materials/line/line-erwin.ts","../../src/core/utils/math.ts","../../src/core/utils/log.ts","../../src/erg/hooks/data-handler.ts","../../src/core/materials/frame/frame-resize.ts","../../src/core/materials/frame/frame-hover.ts","../../src/erg/hooks/guides.ts","../../src/erg/hooks/event.ts","../../src/erg/hooks/layout/utils/tree.ts","../../src/erg/hooks/layout/utils/conf.ts","../../src/core/utils/string.ts","../../src/erg/hooks/layout/utils/auto-size.ts","../../src/erg/hooks/layout/hierarchical.ts","../../src/erg/index.ts","../../stories/erg/assets/js/mock-gpt.ts","../../stories/erg/assets/icon/symbol-defs.svg","../../stories/erg/Base.vue","../../stories/erg/assets/js/right-menu.ts","../../stories/erg/components/parent-association.vue","../../stories/erg/RightMenu.vue","../../stories/erg/ExtraDrawing.vue","../../stories/erg/ExportData.vue"],"sourcesContent":["import '../browser.mjs';\nimport { isClient } from '@vueuse/core';\n\nconst isInContainer = (el, container) => {\n  if (!isClient || !el || !container)\n    return false;\n  const elRect = el.getBoundingClientRect();\n  let containerRect;\n  if (container instanceof Element) {\n    containerRect = container.getBoundingClientRect();\n  } else {\n    containerRect = {\n      top: 0,\n      right: window.innerWidth,\n      bottom: window.innerHeight,\n      left: 0\n    };\n  }\n  return elRect.top < containerRect.bottom && elRect.bottom > containerRect.top && elRect.right > containerRect.left && elRect.left < containerRect.right;\n};\nconst getOffsetTop = (el) => {\n  let offset = 0;\n  let parent = el;\n  while (parent) {\n    offset += parent.offsetTop;\n    parent = parent.offsetParent;\n  }\n  return offset;\n};\nconst getOffsetTopDistance = (el, containerEl) => {\n  return Math.abs(getOffsetTop(el) - getOffsetTop(containerEl));\n};\nconst getClientXY = (event) => {\n  let clientX;\n  let clientY;\n  if (event.type === \"touchend\") {\n    clientY = event.changedTouches[0].clientY;\n    clientX = event.changedTouches[0].clientX;\n  } else if (event.type.startsWith(\"touch\")) {\n    clientY = event.touches[0].clientY;\n    clientX = event.touches[0].clientX;\n  } else {\n    clientY = event.clientY;\n    clientX = event.clientX;\n  }\n  return {\n    clientX,\n    clientY\n  };\n};\n\nexport { getClientXY, getOffsetTop, getOffsetTopDistance, isInContainer };\n//# sourceMappingURL=position.mjs.map\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","import baseFlatten from './_baseFlatten.js';\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nexport default flatten;\n","import flatten from './flatten.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nexport default flatRest;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","import copyObject from './_copyObject.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nexport default baseAssign;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nexport default baseAssignIn;\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","import copyObject from './_copyObject.js';\nimport getSymbols from './_getSymbols.js';\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nexport default copySymbols;\n","import arrayPush from './_arrayPush.js';\nimport getPrototype from './_getPrototype.js';\nimport getSymbols from './_getSymbols.js';\nimport stubArray from './stubArray.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nexport default getSymbolsIn;\n","import copyObject from './_copyObject.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nexport default copySymbolsIn;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nexport default getAllKeysIn;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nexport default initCloneArray;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nexport default cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nexport default cloneRegExp;\n","import Symbol from './_Symbol.js';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nexport default cloneSymbol;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\nimport cloneDataView from './_cloneDataView.js';\nimport cloneRegExp from './_cloneRegExp.js';\nimport cloneSymbol from './_cloneSymbol.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nexport default initCloneByTag;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nexport default baseIsMap;\n","import baseIsMap from './_baseIsMap.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nexport default isMap;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nexport default baseIsSet;\n","import baseIsSet from './_baseIsSet.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nexport default isSet;\n","import Stack from './_Stack.js';\nimport arrayEach from './_arrayEach.js';\nimport assignValue from './_assignValue.js';\nimport baseAssign from './_baseAssign.js';\nimport baseAssignIn from './_baseAssignIn.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport copyArray from './_copyArray.js';\nimport copySymbols from './_copySymbols.js';\nimport copySymbolsIn from './_copySymbolsIn.js';\nimport getAllKeys from './_getAllKeys.js';\nimport getAllKeysIn from './_getAllKeysIn.js';\nimport getTag from './_getTag.js';\nimport initCloneArray from './_initCloneArray.js';\nimport initCloneByTag from './_initCloneByTag.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isMap from './isMap.js';\nimport isObject from './isObject.js';\nimport isSet from './isSet.js';\nimport keys from './keys.js';\nimport keysIn from './keysIn.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nexport default baseClone;\n","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nexport default cloneDeep;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nexport default baseHasIn;\n","import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nexport default hasPath;\n","import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nexport default hasIn;\n","import baseGetTag from './_baseGetTag.js';\nimport isArray from './isArray.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nexport default isString;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]';\n\n/**\n * Checks if `value` is classified as a boolean primitive or object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n * @example\n *\n * _.isBoolean(false);\n * // => true\n *\n * _.isBoolean(null);\n * // => false\n */\nfunction isBoolean(value) {\n  return value === true || value === false ||\n    (isObjectLike(value) && baseGetTag(value) == boolTag);\n}\n\nexport default isBoolean;\n","import assignValue from './_assignValue.js';\nimport castPath from './_castPath.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nexport default baseSet;\n","import baseGet from './_baseGet.js';\nimport baseSet from './_baseSet.js';\nimport castPath from './_castPath.js';\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nexport default basePickBy;\n","import basePickBy from './_basePickBy.js';\nimport hasIn from './hasIn.js';\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nexport default basePick;\n","import basePick from './_basePick.js';\nimport flatRest from './_flatRest.js';\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nexport default pick;\n","import '../browser.mjs';\nimport { getStyle } from './style.mjs';\nimport { isClient } from '@vueuse/core';\n\nconst isScroll = (el, isVertical) => {\n  if (!isClient)\n    return false;\n  const key = {\n    undefined: \"overflow\",\n    true: \"overflow-y\",\n    false: \"overflow-x\"\n  }[String(isVertical)];\n  const overflow = getStyle(el, key);\n  return [\"scroll\", \"auto\", \"overlay\"].some((s) => overflow.includes(s));\n};\nconst getScrollContainer = (el, isVertical) => {\n  if (!isClient)\n    return;\n  let parent = el;\n  while (parent) {\n    if ([window, document, document.documentElement].includes(parent))\n      return window;\n    if (isScroll(parent, isVertical))\n      return parent;\n    parent = parent.parentNode;\n  }\n  return parent;\n};\nlet scrollBarWidth;\nconst getScrollBarWidth = (namespace) => {\n  var _a;\n  if (!isClient)\n    return 0;\n  if (scrollBarWidth !== void 0)\n    return scrollBarWidth;\n  const outer = document.createElement(\"div\");\n  outer.className = `${namespace}-scrollbar__wrap`;\n  outer.style.visibility = \"hidden\";\n  outer.style.width = \"100px\";\n  outer.style.position = \"absolute\";\n  outer.style.top = \"-9999px\";\n  document.body.appendChild(outer);\n  const widthNoScroll = outer.offsetWidth;\n  outer.style.overflow = \"scroll\";\n  const inner = document.createElement(\"div\");\n  inner.style.width = \"100%\";\n  outer.appendChild(inner);\n  const widthWithScroll = inner.offsetWidth;\n  (_a = outer.parentNode) == null ? void 0 : _a.removeChild(outer);\n  scrollBarWidth = widthNoScroll - widthWithScroll;\n  return scrollBarWidth;\n};\nfunction scrollIntoView(container, selected) {\n  if (!isClient)\n    return;\n  if (!selected) {\n    container.scrollTop = 0;\n    return;\n  }\n  const offsetParents = [];\n  let pointer = selected.offsetParent;\n  while (pointer !== null && container !== pointer && container.contains(pointer)) {\n    offsetParents.push(pointer);\n    pointer = pointer.offsetParent;\n  }\n  const top = selected.offsetTop + offsetParents.reduce((prev, curr) => prev + curr.offsetTop, 0);\n  const bottom = top + selected.offsetHeight;\n  const viewRectTop = container.scrollTop;\n  const viewRectBottom = viewRectTop + container.clientHeight;\n  if (top < viewRectTop) {\n    container.scrollTop = top;\n  } else if (bottom > viewRectBottom) {\n    container.scrollTop = bottom - container.clientHeight;\n  }\n}\n\nexport { getScrollBarWidth, getScrollContainer, isScroll, scrollIntoView };\n//# sourceMappingURL=scroll.mjs.map\n","import '../types.mjs';\nimport { isFunction } from '@vue/shared';\n\nconst composeRefs = (...refs) => {\n  return (el) => {\n    refs.forEach((ref) => {\n      if (isFunction(ref)) {\n        ref(el);\n      } else {\n        ref.value = el;\n      }\n    });\n  };\n};\n\nexport { composeRefs };\n//# sourceMappingURL=refs.mjs.map\n","import '../../constants/index.mjs';\nimport { componentSizeMap } from '../../constants/size.mjs';\n\nconst getComponentSize = (size) => {\n  return componentSizeMap[size || \"default\"];\n};\n\nexport { getComponentSize };\n//# sourceMappingURL=size.mjs.map\n","import { isVNode, Fragment, Text, Comment, openBlock, createBlock, createCommentVNode } from 'vue';\nimport { hasOwn, camelize, isArray } from '@vue/shared';\nimport '../objects.mjs';\nimport { debugWarn } from '../error.mjs';\n\nconst SCOPE = \"utils/vue/vnode\";\nvar PatchFlags = /* @__PURE__ */ ((PatchFlags2) => {\n  PatchFlags2[PatchFlags2[\"TEXT\"] = 1] = \"TEXT\";\n  PatchFlags2[PatchFlags2[\"CLASS\"] = 2] = \"CLASS\";\n  PatchFlags2[PatchFlags2[\"STYLE\"] = 4] = \"STYLE\";\n  PatchFlags2[PatchFlags2[\"PROPS\"] = 8] = \"PROPS\";\n  PatchFlags2[PatchFlags2[\"FULL_PROPS\"] = 16] = \"FULL_PROPS\";\n  PatchFlags2[PatchFlags2[\"HYDRATE_EVENTS\"] = 32] = \"HYDRATE_EVENTS\";\n  PatchFlags2[PatchFlags2[\"STABLE_FRAGMENT\"] = 64] = \"STABLE_FRAGMENT\";\n  PatchFlags2[PatchFlags2[\"KEYED_FRAGMENT\"] = 128] = \"KEYED_FRAGMENT\";\n  PatchFlags2[PatchFlags2[\"UNKEYED_FRAGMENT\"] = 256] = \"UNKEYED_FRAGMENT\";\n  PatchFlags2[PatchFlags2[\"NEED_PATCH\"] = 512] = \"NEED_PATCH\";\n  PatchFlags2[PatchFlags2[\"DYNAMIC_SLOTS\"] = 1024] = \"DYNAMIC_SLOTS\";\n  PatchFlags2[PatchFlags2[\"HOISTED\"] = -1] = \"HOISTED\";\n  PatchFlags2[PatchFlags2[\"BAIL\"] = -2] = \"BAIL\";\n  return PatchFlags2;\n})(PatchFlags || {});\nfunction isFragment(node) {\n  return isVNode(node) && node.type === Fragment;\n}\nfunction isText(node) {\n  return isVNode(node) && node.type === Text;\n}\nfunction isComment(node) {\n  return isVNode(node) && node.type === Comment;\n}\nconst TEMPLATE = \"template\";\nfunction isTemplate(node) {\n  return isVNode(node) && node.type === TEMPLATE;\n}\nfunction isValidElementNode(node) {\n  return isVNode(node) && !isFragment(node) && !isComment(node);\n}\nfunction getChildren(node, depth) {\n  if (isComment(node))\n    return;\n  if (isFragment(node) || isTemplate(node)) {\n    return depth > 0 ? getFirstValidNode(node.children, depth - 1) : void 0;\n  }\n  return node;\n}\nconst getFirstValidNode = (nodes, maxDepth = 3) => {\n  if (Array.isArray(nodes)) {\n    return getChildren(nodes[0], maxDepth);\n  } else {\n    return getChildren(nodes, maxDepth);\n  }\n};\nfunction renderIf(condition, ...args) {\n  return condition ? renderBlock(...args) : createCommentVNode(\"v-if\", true);\n}\nfunction renderBlock(...args) {\n  return openBlock(), createBlock(...args);\n}\nconst getNormalizedProps = (node) => {\n  if (!isVNode(node)) {\n    debugWarn(SCOPE, \"[getNormalizedProps] must be a VNode\");\n    return {};\n  }\n  const raw = node.props || {};\n  const type = (isVNode(node.type) ? node.type.props : void 0) || {};\n  const props = {};\n  Object.keys(type).forEach((key) => {\n    if (hasOwn(type[key], \"default\")) {\n      props[key] = type[key].default;\n    }\n  });\n  Object.keys(raw).forEach((key) => {\n    props[camelize(key)] = raw[key];\n  });\n  return props;\n};\nconst ensureOnlyChild = (children) => {\n  if (!isArray(children) || children.length > 1) {\n    throw new Error(\"expect to receive a single Vue element child\");\n  }\n  return children[0];\n};\nconst flattedChildren = (children) => {\n  const vNodes = isArray(children) ? children : [children];\n  const result = [];\n  vNodes.forEach((child) => {\n    var _a;\n    if (isArray(child)) {\n      result.push(...flattedChildren(child));\n    } else if (isVNode(child) && isArray(child.children)) {\n      result.push(...flattedChildren(child.children));\n    } else {\n      result.push(child);\n      if (isVNode(child) && ((_a = child.component) == null ? void 0 : _a.subTree)) {\n        result.push(...flattedChildren(child.component.subTree));\n      }\n    }\n  });\n  return result;\n};\n\nexport { PatchFlags, ensureOnlyChild, flattedChildren, getFirstValidNode, getNormalizedProps, isComment, isFragment, isTemplate, isText, isValidElementNode, renderBlock, renderIf };\n//# sourceMappingURL=vnode.mjs.map\n","import { computed, getCurrentInstance } from 'vue';\nimport { fromPairs } from 'lodash-unified';\nimport '../../utils/index.mjs';\nimport { debugWarn } from '../../utils/error.mjs';\n\nconst DEFAULT_EXCLUDE_KEYS = [\"class\", \"style\"];\nconst LISTENER_PREFIX = /^on[A-Z]/;\nconst useAttrs = (params = {}) => {\n  const { excludeListeners = false, excludeKeys } = params;\n  const allExcludeKeys = computed(() => {\n    return ((excludeKeys == null ? void 0 : excludeKeys.value) || []).concat(DEFAULT_EXCLUDE_KEYS);\n  });\n  const instance = getCurrentInstance();\n  if (!instance) {\n    debugWarn(\"use-attrs\", \"getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function\");\n    return computed(() => ({}));\n  }\n  return computed(() => {\n    var _a;\n    return fromPairs(Object.entries((_a = instance.proxy) == null ? void 0 : _a.$attrs).filter(([key]) => !allExcludeKeys.value.includes(key) && !(excludeListeners && LISTENER_PREFIX.test(key))));\n  });\n};\n\nexport { useAttrs };\n//# sourceMappingURL=index.mjs.map\n","import { onMounted, watchEffect, onBeforeUnmount } from 'vue';\nimport '../../utils/index.mjs';\nimport { addUnit } from '../../utils/dom/style.mjs';\n\nconst useDraggable = (targetRef, dragRef, draggable) => {\n  let transform = {\n    offsetX: 0,\n    offsetY: 0\n  };\n  const onMousedown = (e) => {\n    const downX = e.clientX;\n    const downY = e.clientY;\n    const { offsetX, offsetY } = transform;\n    const targetRect = targetRef.value.getBoundingClientRect();\n    const targetLeft = targetRect.left;\n    const targetTop = targetRect.top;\n    const targetWidth = targetRect.width;\n    const targetHeight = targetRect.height;\n    const clientWidth = document.documentElement.clientWidth;\n    const clientHeight = document.documentElement.clientHeight;\n    const minLeft = -targetLeft + offsetX;\n    const minTop = -targetTop + offsetY;\n    const maxLeft = clientWidth - targetLeft - targetWidth + offsetX;\n    const maxTop = clientHeight - targetTop - targetHeight + offsetY;\n    const onMousemove = (e2) => {\n      const moveX = Math.min(Math.max(offsetX + e2.clientX - downX, minLeft), maxLeft);\n      const moveY = Math.min(Math.max(offsetY + e2.clientY - downY, minTop), maxTop);\n      transform = {\n        offsetX: moveX,\n        offsetY: moveY\n      };\n      targetRef.value.style.transform = `translate(${addUnit(moveX)}, ${addUnit(moveY)})`;\n    };\n    const onMouseup = () => {\n      document.removeEventListener(\"mousemove\", onMousemove);\n      document.removeEventListener(\"mouseup\", onMouseup);\n    };\n    document.addEventListener(\"mousemove\", onMousemove);\n    document.addEventListener(\"mouseup\", onMouseup);\n  };\n  const onDraggable = () => {\n    if (dragRef.value && targetRef.value) {\n      dragRef.value.addEventListener(\"mousedown\", onMousedown);\n    }\n  };\n  const offDraggable = () => {\n    if (dragRef.value && targetRef.value) {\n      dragRef.value.removeEventListener(\"mousedown\", onMousedown);\n    }\n  };\n  onMounted(() => {\n    watchEffect(() => {\n      if (draggable.value) {\n        onDraggable();\n      } else {\n        offDraggable();\n      }\n    });\n  });\n  onBeforeUnmount(() => {\n    offDraggable();\n  });\n};\n\nexport { useDraggable };\n//# sourceMappingURL=index.mjs.map\n","const useFocus = (el) => {\n  return {\n    focus: () => {\n      var _a, _b;\n      (_b = (_a = el.value) == null ? void 0 : _a.focus) == null ? void 0 : _b.call(_a);\n    }\n  };\n};\n\nexport { useFocus };\n//# sourceMappingURL=index.mjs.map\n","import { isRef, watch, onScopeDispose } from 'vue';\nimport { computed } from '@vue/reactivity';\nimport '../../utils/index.mjs';\nimport { useNamespace } from '../use-namespace/index.mjs';\nimport { throwError } from '../../utils/error.mjs';\nimport { isClient } from '@vueuse/core';\nimport { hasClass, removeClass, getStyle, addClass } from '../../utils/dom/style.mjs';\nimport { getScrollBarWidth } from '../../utils/dom/scroll.mjs';\n\nconst useLockscreen = (trigger, options = {}) => {\n  if (!isRef(trigger)) {\n    throwError(\"[useLockscreen]\", \"You need to pass a ref param to this function\");\n  }\n  const ns = options.ns || useNamespace(\"popup\");\n  const hiddenCls = computed(() => ns.bm(\"parent\", \"hidden\"));\n  if (!isClient || hasClass(document.body, hiddenCls.value)) {\n    return;\n  }\n  let scrollBarWidth = 0;\n  let withoutHiddenClass = false;\n  let bodyWidth = \"0\";\n  const cleanup = () => {\n    setTimeout(() => {\n      removeClass(document == null ? void 0 : document.body, hiddenCls.value);\n      if (withoutHiddenClass && document) {\n        document.body.style.width = bodyWidth;\n      }\n    }, 200);\n  };\n  watch(trigger, (val) => {\n    if (!val) {\n      cleanup();\n      return;\n    }\n    withoutHiddenClass = !hasClass(document.body, hiddenCls.value);\n    if (withoutHiddenClass) {\n      bodyWidth = document.body.style.width;\n    }\n    scrollBarWidth = getScrollBarWidth(ns.namespace.value);\n    const bodyHasOverflow = document.documentElement.clientHeight < document.body.scrollHeight;\n    const bodyOverflowY = getStyle(document.body, \"overflowY\");\n    if (scrollBarWidth > 0 && (bodyHasOverflow || bodyOverflowY === \"scroll\") && withoutHiddenClass) {\n      document.body.style.width = `calc(100% - ${scrollBarWidth}px)`;\n    }\n    addClass(document.body, hiddenCls.value);\n  });\n  onScopeDispose(() => cleanup());\n};\n\nexport { useLockscreen };\n//# sourceMappingURL=index.mjs.map\n","import { NOOP } from '@vue/shared';\n\nconst useSameTarget = (handleClick) => {\n  if (!handleClick) {\n    return { onClick: NOOP, onMousedown: NOOP, onMouseup: NOOP };\n  }\n  let mousedownTarget = false;\n  let mouseupTarget = false;\n  const onClick = (e) => {\n    if (mousedownTarget && mouseupTarget) {\n      handleClick(e);\n    }\n    mousedownTarget = mouseupTarget = false;\n  };\n  const onMousedown = (e) => {\n    mousedownTarget = e.target === e.currentTarget;\n  };\n  const onMouseup = (e) => {\n    mouseupTarget = e.target === e.currentTarget;\n  };\n  return { onClick, onMousedown, onMouseup };\n};\n\nexport { useSameTarget };\n//# sourceMappingURL=index.mjs.map\n","import { ref } from 'vue';\n\nfunction useCursor(input) {\n  const selectionRef = ref();\n  function recordCursor() {\n    if (input.value == void 0)\n      return;\n    const { selectionStart, selectionEnd, value } = input.value;\n    if (selectionStart == null || selectionEnd == null)\n      return;\n    const beforeTxt = value.slice(0, Math.max(0, selectionStart));\n    const afterTxt = value.slice(Math.max(0, selectionEnd));\n    selectionRef.value = {\n      selectionStart,\n      selectionEnd,\n      value,\n      beforeTxt,\n      afterTxt\n    };\n  }\n  function setCursor() {\n    if (input.value == void 0 || selectionRef.value == void 0)\n      return;\n    const { value } = input.value;\n    const { beforeTxt, afterTxt, selectionStart } = selectionRef.value;\n    if (beforeTxt == void 0 || afterTxt == void 0 || selectionStart == void 0)\n      return;\n    let startPos = value.length;\n    if (value.endsWith(afterTxt)) {\n      startPos = value.length - afterTxt.length;\n    } else if (value.startsWith(beforeTxt)) {\n      startPos = beforeTxt.length;\n    } else {\n      const beforeLastChar = beforeTxt[selectionStart - 1];\n      const newIndex = value.indexOf(beforeLastChar, selectionStart - 1);\n      if (newIndex !== -1) {\n        startPos = newIndex + 1;\n      }\n    }\n    input.value.setSelectionRange(startPos, startPos);\n  }\n  return [recordCursor, setCursor];\n}\n\nexport { useCursor };\n//# sourceMappingURL=index.mjs.map\n","import '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { useSizeProp } from '../../../hooks/use-size/index.mjs';\n\nconst configProviderProps = buildProps({\n  a11y: {\n    type: Boolean,\n    default: true\n  },\n  locale: {\n    type: definePropType(Object)\n  },\n  size: useSizeProp,\n  button: {\n    type: definePropType(Object)\n  },\n  experimentalFeatures: {\n    type: definePropType(Object)\n  },\n  keyboardNavigation: {\n    type: Boolean,\n    default: true\n  },\n  message: {\n    type: definePropType(Object)\n  },\n  zIndex: Number,\n  namespace: {\n    type: String,\n    default: \"el\"\n  }\n});\n\nexport { configProviderProps };\n//# sourceMappingURL=config-provider-props.mjs.map\n","import { defineComponent, watch, renderSlot } from 'vue';\nimport { provideGlobalConfig } from './hooks/use-global-config.mjs';\nimport { configProviderProps } from './config-provider-props.mjs';\n\nconst messageConfig = {};\nconst ConfigProvider = defineComponent({\n  name: \"ElConfigProvider\",\n  props: configProviderProps,\n  setup(props, { slots }) {\n    watch(() => props.message, (val) => {\n      Object.assign(messageConfig, val != null ? val : {});\n    }, { immediate: true, deep: true });\n    const config = provideGlobalConfig(props);\n    return () => renderSlot(slots, \"default\", { config: config == null ? void 0 : config.value });\n  }\n});\n\nexport { ConfigProvider as default, messageConfig };\n//# sourceMappingURL=config-provider.mjs.map\n","import '../../../utils/index.mjs';\nimport { isFirefox } from '../../../utils/browser.mjs';\nimport { isNumber } from '../../../utils/types.mjs';\n\nlet hiddenTextarea = void 0;\nconst HIDDEN_STYLE = `\n  height:0 !important;\n  visibility:hidden !important;\n  ${isFirefox() ? \"\" : \"overflow:hidden !important;\"}\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n`;\nconst CONTEXT_STYLE = [\n  \"letter-spacing\",\n  \"line-height\",\n  \"padding-top\",\n  \"padding-bottom\",\n  \"font-family\",\n  \"font-weight\",\n  \"font-size\",\n  \"text-rendering\",\n  \"text-transform\",\n  \"width\",\n  \"text-indent\",\n  \"padding-left\",\n  \"padding-right\",\n  \"border-width\",\n  \"box-sizing\"\n];\nfunction calculateNodeStyling(targetElement) {\n  const style = window.getComputedStyle(targetElement);\n  const boxSizing = style.getPropertyValue(\"box-sizing\");\n  const paddingSize = Number.parseFloat(style.getPropertyValue(\"padding-bottom\")) + Number.parseFloat(style.getPropertyValue(\"padding-top\"));\n  const borderSize = Number.parseFloat(style.getPropertyValue(\"border-bottom-width\")) + Number.parseFloat(style.getPropertyValue(\"border-top-width\"));\n  const contextStyle = CONTEXT_STYLE.map((name) => `${name}:${style.getPropertyValue(name)}`).join(\";\");\n  return { contextStyle, paddingSize, borderSize, boxSizing };\n}\nfunction calcTextareaHeight(targetElement, minRows = 1, maxRows) {\n  var _a;\n  if (!hiddenTextarea) {\n    hiddenTextarea = document.createElement(\"textarea\");\n    document.body.appendChild(hiddenTextarea);\n  }\n  const { paddingSize, borderSize, boxSizing, contextStyle } = calculateNodeStyling(targetElement);\n  hiddenTextarea.setAttribute(\"style\", `${contextStyle};${HIDDEN_STYLE}`);\n  hiddenTextarea.value = targetElement.value || targetElement.placeholder || \"\";\n  let height = hiddenTextarea.scrollHeight;\n  const result = {};\n  if (boxSizing === \"border-box\") {\n    height = height + borderSize;\n  } else if (boxSizing === \"content-box\") {\n    height = height - paddingSize;\n  }\n  hiddenTextarea.value = \"\";\n  const singleRowHeight = hiddenTextarea.scrollHeight - paddingSize;\n  if (isNumber(minRows)) {\n    let minHeight = singleRowHeight * minRows;\n    if (boxSizing === \"border-box\") {\n      minHeight = minHeight + paddingSize + borderSize;\n    }\n    height = Math.max(minHeight, height);\n    result.minHeight = `${minHeight}px`;\n  }\n  if (isNumber(maxRows)) {\n    let maxHeight = singleRowHeight * maxRows;\n    if (boxSizing === \"border-box\") {\n      maxHeight = maxHeight + paddingSize + borderSize;\n    }\n    height = Math.min(maxHeight, height);\n  }\n  result.height = `${height}px`;\n  (_a = hiddenTextarea.parentNode) == null ? void 0 : _a.removeChild(hiddenTextarea);\n  hiddenTextarea = void 0;\n  return result;\n}\n\nexport { calcTextareaHeight };\n//# sourceMappingURL=utils.mjs.map\n","import { isString } from '@vue/shared';\nimport '../../../utils/index.mjs';\nimport '../../../constants/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { useSizeProp } from '../../../hooks/use-size/index.mjs';\nimport { iconPropType } from '../../../utils/vue/icon.mjs';\nimport { mutable } from '../../../utils/typescript.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\n\nconst inputProps = buildProps({\n  id: {\n    type: String,\n    default: void 0\n  },\n  size: useSizeProp,\n  disabled: Boolean,\n  modelValue: {\n    type: definePropType([\n      String,\n      Number,\n      Object\n    ]),\n    default: \"\"\n  },\n  type: {\n    type: String,\n    default: \"text\"\n  },\n  resize: {\n    type: String,\n    values: [\"none\", \"both\", \"horizontal\", \"vertical\"]\n  },\n  autosize: {\n    type: definePropType([Boolean, Object]),\n    default: false\n  },\n  autocomplete: {\n    type: String,\n    default: \"off\"\n  },\n  formatter: {\n    type: Function\n  },\n  parser: {\n    type: Function\n  },\n  placeholder: {\n    type: String\n  },\n  form: {\n    type: String\n  },\n  readonly: {\n    type: Boolean,\n    default: false\n  },\n  clearable: {\n    type: Boolean,\n    default: false\n  },\n  showPassword: {\n    type: Boolean,\n    default: false\n  },\n  showWordLimit: {\n    type: Boolean,\n    default: false\n  },\n  suffixIcon: {\n    type: iconPropType\n  },\n  prefixIcon: {\n    type: iconPropType\n  },\n  containerRole: {\n    type: String,\n    default: void 0\n  },\n  label: {\n    type: String,\n    default: void 0\n  },\n  tabindex: {\n    type: [String, Number],\n    default: 0\n  },\n  validateEvent: {\n    type: Boolean,\n    default: true\n  },\n  inputStyle: {\n    type: definePropType([Object, Array, String]),\n    default: () => mutable({})\n  }\n});\nconst inputEmits = {\n  [UPDATE_MODEL_EVENT]: (value) => isString(value),\n  input: (value) => isString(value),\n  change: (value) => isString(value),\n  focus: (evt) => evt instanceof FocusEvent,\n  blur: (evt) => evt instanceof FocusEvent,\n  clear: () => true,\n  mouseleave: (evt) => evt instanceof MouseEvent,\n  mouseenter: (evt) => evt instanceof MouseEvent,\n  keydown: (evt) => evt instanceof Event,\n  compositionstart: (evt) => evt instanceof CompositionEvent,\n  compositionupdate: (evt) => evt instanceof CompositionEvent,\n  compositionend: (evt) => evt instanceof CompositionEvent\n};\n\nexport { inputEmits, inputProps };\n//# sourceMappingURL=input.mjs.map\n","import { defineComponent, useAttrs, useSlots, computed, shallowRef, ref, nextTick, watch, onMounted, toRef, withDirectives, openBlock, createElementBlock, mergeProps, unref, createCommentVNode, Fragment, normalizeClass, renderSlot, createElementVNode, createBlock, withCtx, resolveDynamicComponent, withModifiers, createVNode, toDisplayString, normalizeStyle, vShow } from 'vue';\nimport { useResizeObserver, isClient } from '@vueuse/core';\nimport { isNil } from 'lodash-unified';\nimport { ElIcon } from '../../icon/index.mjs';\nimport { View, Hide, CircleClose } from '@element-plus/icons-vue';\nimport '../../form/index.mjs';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../constants/index.mjs';\nimport { calcTextareaHeight } from './utils.mjs';\nimport { inputProps, inputEmits } from './input.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useAttrs as useAttrs$1 } from '../../../hooks/use-attrs/index.mjs';\nimport { useFormItem, useFormItemInputId } from '../../form/src/hooks/use-form-item.mjs';\nimport { useFormSize, useFormDisabled } from '../../form/src/hooks/use-form-common-props.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { ValidateComponentsMap } from '../../../utils/vue/icon.mjs';\nimport { useCursor } from '../../../hooks/use-cursor/index.mjs';\nimport { isObject, NOOP } from '@vue/shared';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { isKorean } from '../../../utils/i18n.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\n\nconst _hoisted_1 = [\"role\"];\nconst _hoisted_2 = [\"id\", \"type\", \"disabled\", \"formatter\", \"parser\", \"readonly\", \"autocomplete\", \"tabindex\", \"aria-label\", \"placeholder\", \"form\"];\nconst _hoisted_3 = [\"id\", \"tabindex\", \"disabled\", \"readonly\", \"autocomplete\", \"aria-label\", \"placeholder\", \"form\"];\nconst __default__ = defineComponent({\n  name: \"ElInput\",\n  inheritAttrs: false\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: inputProps,\n  emits: inputEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const rawAttrs = useAttrs();\n    const slots = useSlots();\n    const containerAttrs = computed(() => {\n      const comboBoxAttrs = {};\n      if (props.containerRole === \"combobox\") {\n        comboBoxAttrs[\"aria-haspopup\"] = rawAttrs[\"aria-haspopup\"];\n        comboBoxAttrs[\"aria-owns\"] = rawAttrs[\"aria-owns\"];\n        comboBoxAttrs[\"aria-expanded\"] = rawAttrs[\"aria-expanded\"];\n      }\n      return comboBoxAttrs;\n    });\n    const containerKls = computed(() => [\n      props.type === \"textarea\" ? nsTextarea.b() : nsInput.b(),\n      nsInput.m(inputSize.value),\n      nsInput.is(\"disabled\", inputDisabled.value),\n      nsInput.is(\"exceed\", inputExceed.value),\n      {\n        [nsInput.b(\"group\")]: slots.prepend || slots.append,\n        [nsInput.bm(\"group\", \"append\")]: slots.append,\n        [nsInput.bm(\"group\", \"prepend\")]: slots.prepend,\n        [nsInput.m(\"prefix\")]: slots.prefix || props.prefixIcon,\n        [nsInput.m(\"suffix\")]: slots.suffix || props.suffixIcon || props.clearable || props.showPassword,\n        [nsInput.bm(\"suffix\", \"password-clear\")]: showClear.value && showPwdVisible.value\n      },\n      rawAttrs.class\n    ]);\n    const wrapperKls = computed(() => [\n      nsInput.e(\"wrapper\"),\n      nsInput.is(\"focus\", focused.value)\n    ]);\n    const attrs = useAttrs$1({\n      excludeKeys: computed(() => {\n        return Object.keys(containerAttrs.value);\n      })\n    });\n    const { form, formItem } = useFormItem();\n    const { inputId } = useFormItemInputId(props, {\n      formItemContext: formItem\n    });\n    const inputSize = useFormSize();\n    const inputDisabled = useFormDisabled();\n    const nsInput = useNamespace(\"input\");\n    const nsTextarea = useNamespace(\"textarea\");\n    const input = shallowRef();\n    const textarea = shallowRef();\n    const focused = ref(false);\n    const hovering = ref(false);\n    const isComposing = ref(false);\n    const passwordVisible = ref(false);\n    const countStyle = ref();\n    const textareaCalcStyle = shallowRef(props.inputStyle);\n    const _ref = computed(() => input.value || textarea.value);\n    const needStatusIcon = computed(() => {\n      var _a;\n      return (_a = form == null ? void 0 : form.statusIcon) != null ? _a : false;\n    });\n    const validateState = computed(() => (formItem == null ? void 0 : formItem.validateState) || \"\");\n    const validateIcon = computed(() => validateState.value && ValidateComponentsMap[validateState.value]);\n    const passwordIcon = computed(() => passwordVisible.value ? View : Hide);\n    const containerStyle = computed(() => [\n      rawAttrs.style,\n      props.inputStyle\n    ]);\n    const textareaStyle = computed(() => [\n      props.inputStyle,\n      textareaCalcStyle.value,\n      { resize: props.resize }\n    ]);\n    const nativeInputValue = computed(() => isNil(props.modelValue) ? \"\" : String(props.modelValue));\n    const showClear = computed(() => props.clearable && !inputDisabled.value && !props.readonly && !!nativeInputValue.value && (focused.value || hovering.value));\n    const showPwdVisible = computed(() => props.showPassword && !inputDisabled.value && !props.readonly && !!nativeInputValue.value && (!!nativeInputValue.value || focused.value));\n    const isWordLimitVisible = computed(() => props.showWordLimit && !!attrs.value.maxlength && (props.type === \"text\" || props.type === \"textarea\") && !inputDisabled.value && !props.readonly && !props.showPassword);\n    const textLength = computed(() => nativeInputValue.value.length);\n    const inputExceed = computed(() => !!isWordLimitVisible.value && textLength.value > Number(attrs.value.maxlength));\n    const suffixVisible = computed(() => !!slots.suffix || !!props.suffixIcon || showClear.value || props.showPassword || isWordLimitVisible.value || !!validateState.value && needStatusIcon.value);\n    const [recordCursor, setCursor] = useCursor(input);\n    useResizeObserver(textarea, (entries) => {\n      onceInitSizeTextarea();\n      if (!isWordLimitVisible.value || props.resize !== \"both\")\n        return;\n      const entry = entries[0];\n      const { width } = entry.contentRect;\n      countStyle.value = {\n        right: `calc(100% - ${width + 15 + 6}px)`\n      };\n    });\n    const resizeTextarea = () => {\n      const { type, autosize } = props;\n      if (!isClient || type !== \"textarea\" || !textarea.value)\n        return;\n      if (autosize) {\n        const minRows = isObject(autosize) ? autosize.minRows : void 0;\n        const maxRows = isObject(autosize) ? autosize.maxRows : void 0;\n        const textareaStyle2 = calcTextareaHeight(textarea.value, minRows, maxRows);\n        textareaCalcStyle.value = {\n          overflowY: \"hidden\",\n          ...textareaStyle2\n        };\n        nextTick(() => {\n          textarea.value.offsetHeight;\n          textareaCalcStyle.value = textareaStyle2;\n        });\n      } else {\n        textareaCalcStyle.value = {\n          minHeight: calcTextareaHeight(textarea.value).minHeight\n        };\n      }\n    };\n    const createOnceInitResize = (resizeTextarea2) => {\n      let isInit = false;\n      return () => {\n        var _a;\n        if (isInit || !props.autosize)\n          return;\n        const isElHidden = ((_a = textarea.value) == null ? void 0 : _a.offsetParent) === null;\n        if (!isElHidden) {\n          resizeTextarea2();\n          isInit = true;\n        }\n      };\n    };\n    const onceInitSizeTextarea = createOnceInitResize(resizeTextarea);\n    const setNativeInputValue = () => {\n      const input2 = _ref.value;\n      if (!input2 || input2.value === nativeInputValue.value)\n        return;\n      input2.value = nativeInputValue.value;\n    };\n    const handleInput = async (event) => {\n      recordCursor();\n      let { value } = event.target;\n      if (props.formatter) {\n        value = props.parser ? props.parser(value) : value;\n        value = props.formatter(value);\n      }\n      if (isComposing.value)\n        return;\n      if (value === nativeInputValue.value) {\n        setNativeInputValue();\n        return;\n      }\n      emit(UPDATE_MODEL_EVENT, value);\n      emit(\"input\", value);\n      await nextTick();\n      setNativeInputValue();\n      setCursor();\n    };\n    const handleChange = (event) => {\n      emit(\"change\", event.target.value);\n    };\n    const handleCompositionStart = (event) => {\n      emit(\"compositionstart\", event);\n      isComposing.value = true;\n    };\n    const handleCompositionUpdate = (event) => {\n      var _a;\n      emit(\"compositionupdate\", event);\n      const text = (_a = event.target) == null ? void 0 : _a.value;\n      const lastCharacter = text[text.length - 1] || \"\";\n      isComposing.value = !isKorean(lastCharacter);\n    };\n    const handleCompositionEnd = (event) => {\n      emit(\"compositionend\", event);\n      if (isComposing.value) {\n        isComposing.value = false;\n        handleInput(event);\n      }\n    };\n    const handlePasswordVisible = () => {\n      passwordVisible.value = !passwordVisible.value;\n      focus();\n    };\n    const focus = async () => {\n      var _a;\n      await nextTick();\n      (_a = _ref.value) == null ? void 0 : _a.focus();\n    };\n    const blur = () => {\n      var _a;\n      return (_a = _ref.value) == null ? void 0 : _a.blur();\n    };\n    const handleFocus = (event) => {\n      focused.value = true;\n      emit(\"focus\", event);\n    };\n    const handleBlur = (event) => {\n      var _a;\n      focused.value = false;\n      emit(\"blur\", event);\n      if (props.validateEvent) {\n        (_a = formItem == null ? void 0 : formItem.validate) == null ? void 0 : _a.call(formItem, \"blur\").catch((err) => debugWarn(err));\n      }\n    };\n    const handleMouseLeave = (evt) => {\n      hovering.value = false;\n      emit(\"mouseleave\", evt);\n    };\n    const handleMouseEnter = (evt) => {\n      hovering.value = true;\n      emit(\"mouseenter\", evt);\n    };\n    const handleKeydown = (evt) => {\n      emit(\"keydown\", evt);\n    };\n    const select = () => {\n      var _a;\n      (_a = _ref.value) == null ? void 0 : _a.select();\n    };\n    const clear = () => {\n      emit(UPDATE_MODEL_EVENT, \"\");\n      emit(\"change\", \"\");\n      emit(\"clear\");\n      emit(\"input\", \"\");\n    };\n    watch(() => props.modelValue, () => {\n      var _a;\n      nextTick(() => resizeTextarea());\n      if (props.validateEvent) {\n        (_a = formItem == null ? void 0 : formItem.validate) == null ? void 0 : _a.call(formItem, \"change\").catch((err) => debugWarn(err));\n      }\n    });\n    watch(nativeInputValue, () => setNativeInputValue());\n    watch(() => props.type, async () => {\n      await nextTick();\n      setNativeInputValue();\n      resizeTextarea();\n    });\n    onMounted(() => {\n      if (!props.formatter && props.parser) {\n        debugWarn(\"ElInput\", \"If you set the parser, you also need to set the formatter.\");\n      }\n      setNativeInputValue();\n      nextTick(resizeTextarea);\n    });\n    expose({\n      input,\n      textarea,\n      ref: _ref,\n      textareaStyle,\n      autosize: toRef(props, \"autosize\"),\n      focus,\n      blur,\n      select,\n      clear,\n      resizeTextarea\n    });\n    return (_ctx, _cache) => {\n      return withDirectives((openBlock(), createElementBlock(\"div\", mergeProps(unref(containerAttrs), {\n        class: unref(containerKls),\n        style: unref(containerStyle),\n        role: _ctx.containerRole,\n        onMouseenter: handleMouseEnter,\n        onMouseleave: handleMouseLeave\n      }), [\n        createCommentVNode(\" input \"),\n        _ctx.type !== \"textarea\" ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          createCommentVNode(\" prepend slot \"),\n          _ctx.$slots.prepend ? (openBlock(), createElementBlock(\"div\", {\n            key: 0,\n            class: normalizeClass(unref(nsInput).be(\"group\", \"prepend\"))\n          }, [\n            renderSlot(_ctx.$slots, \"prepend\")\n          ], 2)) : createCommentVNode(\"v-if\", true),\n          createElementVNode(\"div\", {\n            class: normalizeClass(unref(wrapperKls))\n          }, [\n            createCommentVNode(\" prefix slot \"),\n            _ctx.$slots.prefix || _ctx.prefixIcon ? (openBlock(), createElementBlock(\"span\", {\n              key: 0,\n              class: normalizeClass(unref(nsInput).e(\"prefix\"))\n            }, [\n              createElementVNode(\"span\", {\n                class: normalizeClass(unref(nsInput).e(\"prefix-inner\")),\n                onClick: focus\n              }, [\n                renderSlot(_ctx.$slots, \"prefix\"),\n                _ctx.prefixIcon ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 0,\n                  class: normalizeClass(unref(nsInput).e(\"icon\"))\n                }, {\n                  default: withCtx(() => [\n                    (openBlock(), createBlock(resolveDynamicComponent(_ctx.prefixIcon)))\n                  ]),\n                  _: 1\n                }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n              ], 2)\n            ], 2)) : createCommentVNode(\"v-if\", true),\n            createElementVNode(\"input\", mergeProps({\n              id: unref(inputId),\n              ref_key: \"input\",\n              ref: input,\n              class: unref(nsInput).e(\"inner\")\n            }, unref(attrs), {\n              type: _ctx.showPassword ? passwordVisible.value ? \"text\" : \"password\" : _ctx.type,\n              disabled: unref(inputDisabled),\n              formatter: _ctx.formatter,\n              parser: _ctx.parser,\n              readonly: _ctx.readonly,\n              autocomplete: _ctx.autocomplete,\n              tabindex: _ctx.tabindex,\n              \"aria-label\": _ctx.label,\n              placeholder: _ctx.placeholder,\n              style: _ctx.inputStyle,\n              form: props.form,\n              onCompositionstart: handleCompositionStart,\n              onCompositionupdate: handleCompositionUpdate,\n              onCompositionend: handleCompositionEnd,\n              onInput: handleInput,\n              onFocus: handleFocus,\n              onBlur: handleBlur,\n              onChange: handleChange,\n              onKeydown: handleKeydown\n            }), null, 16, _hoisted_2),\n            createCommentVNode(\" suffix slot \"),\n            unref(suffixVisible) ? (openBlock(), createElementBlock(\"span\", {\n              key: 1,\n              class: normalizeClass(unref(nsInput).e(\"suffix\"))\n            }, [\n              createElementVNode(\"span\", {\n                class: normalizeClass(unref(nsInput).e(\"suffix-inner\")),\n                onClick: focus\n              }, [\n                !unref(showClear) || !unref(showPwdVisible) || !unref(isWordLimitVisible) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n                  renderSlot(_ctx.$slots, \"suffix\"),\n                  _ctx.suffixIcon ? (openBlock(), createBlock(unref(ElIcon), {\n                    key: 0,\n                    class: normalizeClass(unref(nsInput).e(\"icon\"))\n                  }, {\n                    default: withCtx(() => [\n                      (openBlock(), createBlock(resolveDynamicComponent(_ctx.suffixIcon)))\n                    ]),\n                    _: 1\n                  }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n                ], 64)) : createCommentVNode(\"v-if\", true),\n                unref(showClear) ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 1,\n                  class: normalizeClass([unref(nsInput).e(\"icon\"), unref(nsInput).e(\"clear\")]),\n                  onMousedown: withModifiers(unref(NOOP), [\"prevent\"]),\n                  onClick: clear\n                }, {\n                  default: withCtx(() => [\n                    createVNode(unref(CircleClose))\n                  ]),\n                  _: 1\n                }, 8, [\"class\", \"onMousedown\"])) : createCommentVNode(\"v-if\", true),\n                unref(showPwdVisible) ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 2,\n                  class: normalizeClass([unref(nsInput).e(\"icon\"), unref(nsInput).e(\"password\")]),\n                  onClick: handlePasswordVisible\n                }, {\n                  default: withCtx(() => [\n                    (openBlock(), createBlock(resolveDynamicComponent(unref(passwordIcon))))\n                  ]),\n                  _: 1\n                }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true),\n                unref(isWordLimitVisible) ? (openBlock(), createElementBlock(\"span\", {\n                  key: 3,\n                  class: normalizeClass(unref(nsInput).e(\"count\"))\n                }, [\n                  createElementVNode(\"span\", {\n                    class: normalizeClass(unref(nsInput).e(\"count-inner\"))\n                  }, toDisplayString(unref(textLength)) + \" / \" + toDisplayString(unref(attrs).maxlength), 3)\n                ], 2)) : createCommentVNode(\"v-if\", true),\n                unref(validateState) && unref(validateIcon) && unref(needStatusIcon) ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 4,\n                  class: normalizeClass([\n                    unref(nsInput).e(\"icon\"),\n                    unref(nsInput).e(\"validateIcon\"),\n                    unref(nsInput).is(\"loading\", unref(validateState) === \"validating\")\n                  ])\n                }, {\n                  default: withCtx(() => [\n                    (openBlock(), createBlock(resolveDynamicComponent(unref(validateIcon))))\n                  ]),\n                  _: 1\n                }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n              ], 2)\n            ], 2)) : createCommentVNode(\"v-if\", true)\n          ], 2),\n          createCommentVNode(\" append slot \"),\n          _ctx.$slots.append ? (openBlock(), createElementBlock(\"div\", {\n            key: 1,\n            class: normalizeClass(unref(nsInput).be(\"group\", \"append\"))\n          }, [\n            renderSlot(_ctx.$slots, \"append\")\n          ], 2)) : createCommentVNode(\"v-if\", true)\n        ], 64)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n          createCommentVNode(\" textarea \"),\n          createElementVNode(\"textarea\", mergeProps({\n            id: unref(inputId),\n            ref_key: \"textarea\",\n            ref: textarea,\n            class: unref(nsTextarea).e(\"inner\")\n          }, unref(attrs), {\n            tabindex: _ctx.tabindex,\n            disabled: unref(inputDisabled),\n            readonly: _ctx.readonly,\n            autocomplete: _ctx.autocomplete,\n            style: unref(textareaStyle),\n            \"aria-label\": _ctx.label,\n            placeholder: _ctx.placeholder,\n            form: props.form,\n            onCompositionstart: handleCompositionStart,\n            onCompositionupdate: handleCompositionUpdate,\n            onCompositionend: handleCompositionEnd,\n            onInput: handleInput,\n            onFocus: handleFocus,\n            onBlur: handleBlur,\n            onChange: handleChange,\n            onKeydown: handleKeydown\n          }), null, 16, _hoisted_3),\n          unref(isWordLimitVisible) ? (openBlock(), createElementBlock(\"span\", {\n            key: 0,\n            style: normalizeStyle(countStyle.value),\n            class: normalizeClass(unref(nsInput).e(\"count\"))\n          }, toDisplayString(unref(textLength)) + \" / \" + toDisplayString(unref(attrs).maxlength), 7)) : createCommentVNode(\"v-if\", true)\n        ], 64))\n      ], 16, _hoisted_1)), [\n        [vShow, _ctx.type !== \"hidden\"]\n      ]);\n    };\n  }\n});\nvar Input = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue\"]]);\n\nexport { Input as default };\n//# sourceMappingURL=input2.mjs.map\n","import '../../utils/index.mjs';\nimport Input from './src/input2.mjs';\nexport { inputEmits, inputProps } from './src/input.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElInput = withInstall(Input);\n\nexport { ElInput, ElInput as default };\n//# sourceMappingURL=index.mjs.map\n","const scrollbarContextKey = Symbol(\"scrollbarContextKey\");\n\nexport { scrollbarContextKey };\n//# sourceMappingURL=constants.mjs.map\n","import '../../../utils/index.mjs';\nimport { buildProps } from '../../../utils/vue/props/runtime.mjs';\n\nconst thumbProps = buildProps({\n  vertical: Boolean,\n  size: String,\n  move: Number,\n  ratio: {\n    type: Number,\n    required: true\n  },\n  always: Boolean\n});\n\nexport { thumbProps };\n//# sourceMappingURL=thumb.mjs.map\n","import { defineComponent, inject, ref, computed, onBeforeUnmount, toRef, openBlock, createBlock, Transition, unref, withCtx, withDirectives, createElementVNode, normalizeClass, normalizeStyle, vShow } from 'vue';\nimport { isClient, useEventListener } from '@vueuse/core';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { scrollbarContextKey } from './constants.mjs';\nimport { BAR_MAP, renderThumbStyle } from './util.mjs';\nimport { thumbProps } from './thumb.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { throwError } from '../../../utils/error.mjs';\n\nconst COMPONENT_NAME = \"Thumb\";\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"thumb\",\n  props: thumbProps,\n  setup(__props) {\n    const props = __props;\n    const scrollbar = inject(scrollbarContextKey);\n    const ns = useNamespace(\"scrollbar\");\n    if (!scrollbar)\n      throwError(COMPONENT_NAME, \"can not inject scrollbar context\");\n    const instance = ref();\n    const thumb = ref();\n    const thumbState = ref({});\n    const visible = ref(false);\n    let cursorDown = false;\n    let cursorLeave = false;\n    let originalOnSelectStart = isClient ? document.onselectstart : null;\n    const bar = computed(() => BAR_MAP[props.vertical ? \"vertical\" : \"horizontal\"]);\n    const thumbStyle = computed(() => renderThumbStyle({\n      size: props.size,\n      move: props.move,\n      bar: bar.value\n    }));\n    const offsetRatio = computed(() => instance.value[bar.value.offset] ** 2 / scrollbar.wrapElement[bar.value.scrollSize] / props.ratio / thumb.value[bar.value.offset]);\n    const clickThumbHandler = (e) => {\n      var _a;\n      e.stopPropagation();\n      if (e.ctrlKey || [1, 2].includes(e.button))\n        return;\n      (_a = window.getSelection()) == null ? void 0 : _a.removeAllRanges();\n      startDrag(e);\n      const el = e.currentTarget;\n      if (!el)\n        return;\n      thumbState.value[bar.value.axis] = el[bar.value.offset] - (e[bar.value.client] - el.getBoundingClientRect()[bar.value.direction]);\n    };\n    const clickTrackHandler = (e) => {\n      if (!thumb.value || !instance.value || !scrollbar.wrapElement)\n        return;\n      const offset = Math.abs(e.target.getBoundingClientRect()[bar.value.direction] - e[bar.value.client]);\n      const thumbHalf = thumb.value[bar.value.offset] / 2;\n      const thumbPositionPercentage = (offset - thumbHalf) * 100 * offsetRatio.value / instance.value[bar.value.offset];\n      scrollbar.wrapElement[bar.value.scroll] = thumbPositionPercentage * scrollbar.wrapElement[bar.value.scrollSize] / 100;\n    };\n    const startDrag = (e) => {\n      e.stopImmediatePropagation();\n      cursorDown = true;\n      document.addEventListener(\"mousemove\", mouseMoveDocumentHandler);\n      document.addEventListener(\"mouseup\", mouseUpDocumentHandler);\n      originalOnSelectStart = document.onselectstart;\n      document.onselectstart = () => false;\n    };\n    const mouseMoveDocumentHandler = (e) => {\n      if (!instance.value || !thumb.value)\n        return;\n      if (cursorDown === false)\n        return;\n      const prevPage = thumbState.value[bar.value.axis];\n      if (!prevPage)\n        return;\n      const offset = (instance.value.getBoundingClientRect()[bar.value.direction] - e[bar.value.client]) * -1;\n      const thumbClickPosition = thumb.value[bar.value.offset] - prevPage;\n      const thumbPositionPercentage = (offset - thumbClickPosition) * 100 * offsetRatio.value / instance.value[bar.value.offset];\n      scrollbar.wrapElement[bar.value.scroll] = thumbPositionPercentage * scrollbar.wrapElement[bar.value.scrollSize] / 100;\n    };\n    const mouseUpDocumentHandler = () => {\n      cursorDown = false;\n      thumbState.value[bar.value.axis] = 0;\n      document.removeEventListener(\"mousemove\", mouseMoveDocumentHandler);\n      document.removeEventListener(\"mouseup\", mouseUpDocumentHandler);\n      restoreOnselectstart();\n      if (cursorLeave)\n        visible.value = false;\n    };\n    const mouseMoveScrollbarHandler = () => {\n      cursorLeave = false;\n      visible.value = !!props.size;\n    };\n    const mouseLeaveScrollbarHandler = () => {\n      cursorLeave = true;\n      visible.value = cursorDown;\n    };\n    onBeforeUnmount(() => {\n      restoreOnselectstart();\n      document.removeEventListener(\"mouseup\", mouseUpDocumentHandler);\n    });\n    const restoreOnselectstart = () => {\n      if (document.onselectstart !== originalOnSelectStart)\n        document.onselectstart = originalOnSelectStart;\n    };\n    useEventListener(toRef(scrollbar, \"scrollbarElement\"), \"mousemove\", mouseMoveScrollbarHandler);\n    useEventListener(toRef(scrollbar, \"scrollbarElement\"), \"mouseleave\", mouseLeaveScrollbarHandler);\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(Transition, {\n        name: unref(ns).b(\"fade\"),\n        persisted: \"\"\n      }, {\n        default: withCtx(() => [\n          withDirectives(createElementVNode(\"div\", {\n            ref_key: \"instance\",\n            ref: instance,\n            class: normalizeClass([unref(ns).e(\"bar\"), unref(ns).is(unref(bar).key)]),\n            onMousedown: clickTrackHandler\n          }, [\n            createElementVNode(\"div\", {\n              ref_key: \"thumb\",\n              ref: thumb,\n              class: normalizeClass(unref(ns).e(\"thumb\")),\n              style: normalizeStyle(unref(thumbStyle)),\n              onMousedown: clickThumbHandler\n            }, null, 38)\n          ], 34), [\n            [vShow, _ctx.always || visible.value]\n          ])\n        ]),\n        _: 1\n      }, 8, [\"name\"]);\n    };\n  }\n});\nvar Thumb = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue\"]]);\n\nexport { Thumb as default };\n//# sourceMappingURL=thumb2.mjs.map\n","import '../../../utils/index.mjs';\nimport { buildProps } from '../../../utils/vue/props/runtime.mjs';\n\nconst barProps = buildProps({\n  always: {\n    type: Boolean,\n    default: true\n  },\n  width: String,\n  height: String,\n  ratioX: {\n    type: Number,\n    default: 1\n  },\n  ratioY: {\n    type: Number,\n    default: 1\n  }\n});\n\nexport { barProps };\n//# sourceMappingURL=bar.mjs.map\n","import { defineComponent, ref, openBlock, createElementBlock, Fragment, createVNode } from 'vue';\nimport { GAP } from './util.mjs';\nimport Thumb from './thumb2.mjs';\nimport { barProps } from './bar.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"bar\",\n  props: barProps,\n  setup(__props, { expose }) {\n    const props = __props;\n    const moveX = ref(0);\n    const moveY = ref(0);\n    const handleScroll = (wrap) => {\n      if (wrap) {\n        const offsetHeight = wrap.offsetHeight - GAP;\n        const offsetWidth = wrap.offsetWidth - GAP;\n        moveY.value = wrap.scrollTop * 100 / offsetHeight * props.ratioY;\n        moveX.value = wrap.scrollLeft * 100 / offsetWidth * props.ratioX;\n      }\n    };\n    expose({\n      handleScroll\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createVNode(Thumb, {\n          move: moveX.value,\n          ratio: _ctx.ratioX,\n          size: _ctx.width,\n          always: _ctx.always\n        }, null, 8, [\"move\", \"ratio\", \"size\", \"always\"]),\n        createVNode(Thumb, {\n          move: moveY.value,\n          ratio: _ctx.ratioY,\n          size: _ctx.height,\n          vertical: \"\",\n          always: _ctx.always\n        }, null, 8, [\"move\", \"ratio\", \"size\", \"always\"])\n      ], 64);\n    };\n  }\n});\nvar Bar = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue\"]]);\n\nexport { Bar as default };\n//# sourceMappingURL=bar2.mjs.map\n","import '../../../utils/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { isNumber } from '../../../utils/types.mjs';\n\nconst scrollbarProps = buildProps({\n  height: {\n    type: [String, Number],\n    default: \"\"\n  },\n  maxHeight: {\n    type: [String, Number],\n    default: \"\"\n  },\n  native: {\n    type: Boolean,\n    default: false\n  },\n  wrapStyle: {\n    type: definePropType([String, Object, Array]),\n    default: \"\"\n  },\n  wrapClass: {\n    type: [String, Array],\n    default: \"\"\n  },\n  viewClass: {\n    type: [String, Array],\n    default: \"\"\n  },\n  viewStyle: {\n    type: [String, Array, Object],\n    default: \"\"\n  },\n  noresize: Boolean,\n  tag: {\n    type: String,\n    default: \"div\"\n  },\n  always: Boolean,\n  minSize: {\n    type: Number,\n    default: 20\n  }\n});\nconst scrollbarEmits = {\n  scroll: ({\n    scrollTop,\n    scrollLeft\n  }) => [scrollTop, scrollLeft].every(isNumber)\n};\n\nexport { scrollbarEmits, scrollbarProps };\n//# sourceMappingURL=scrollbar.mjs.map\n","import { defineComponent, ref, computed, watch, nextTick, provide, reactive, onMounted, onUpdated, openBlock, createElementBlock, normalizeClass, unref, createElementVNode, normalizeStyle, createBlock, resolveDynamicComponent, withCtx, renderSlot, createCommentVNode } from 'vue';\nimport { useResizeObserver, useEventListener } from '@vueuse/core';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { GAP } from './util.mjs';\nimport Bar from './bar2.mjs';\nimport { scrollbarContextKey } from './constants.mjs';\nimport { scrollbarProps, scrollbarEmits } from './scrollbar.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { addUnit } from '../../../utils/dom/style.mjs';\nimport { isObject } from '@vue/shared';\nimport { isNumber } from '../../../utils/types.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\n\nconst COMPONENT_NAME = \"ElScrollbar\";\nconst __default__ = defineComponent({\n  name: COMPONENT_NAME\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: scrollbarProps,\n  emits: scrollbarEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const ns = useNamespace(\"scrollbar\");\n    let stopResizeObserver = void 0;\n    let stopResizeListener = void 0;\n    const scrollbarRef = ref();\n    const wrapRef = ref();\n    const resizeRef = ref();\n    const sizeWidth = ref(\"0\");\n    const sizeHeight = ref(\"0\");\n    const barRef = ref();\n    const ratioY = ref(1);\n    const ratioX = ref(1);\n    const style = computed(() => {\n      const style2 = {};\n      if (props.height)\n        style2.height = addUnit(props.height);\n      if (props.maxHeight)\n        style2.maxHeight = addUnit(props.maxHeight);\n      return [props.wrapStyle, style2];\n    });\n    const wrapKls = computed(() => {\n      return [\n        props.wrapClass,\n        ns.e(\"wrap\"),\n        { [ns.em(\"wrap\", \"hidden-default\")]: !props.native }\n      ];\n    });\n    const resizeKls = computed(() => {\n      return [ns.e(\"view\"), props.viewClass];\n    });\n    const handleScroll = () => {\n      var _a;\n      if (wrapRef.value) {\n        (_a = barRef.value) == null ? void 0 : _a.handleScroll(wrapRef.value);\n        emit(\"scroll\", {\n          scrollTop: wrapRef.value.scrollTop,\n          scrollLeft: wrapRef.value.scrollLeft\n        });\n      }\n    };\n    function scrollTo(arg1, arg2) {\n      if (isObject(arg1)) {\n        wrapRef.value.scrollTo(arg1);\n      } else if (isNumber(arg1) && isNumber(arg2)) {\n        wrapRef.value.scrollTo(arg1, arg2);\n      }\n    }\n    const setScrollTop = (value) => {\n      if (!isNumber(value)) {\n        debugWarn(COMPONENT_NAME, \"value must be a number\");\n        return;\n      }\n      wrapRef.value.scrollTop = value;\n    };\n    const setScrollLeft = (value) => {\n      if (!isNumber(value)) {\n        debugWarn(COMPONENT_NAME, \"value must be a number\");\n        return;\n      }\n      wrapRef.value.scrollLeft = value;\n    };\n    const update = () => {\n      if (!wrapRef.value)\n        return;\n      const offsetHeight = wrapRef.value.offsetHeight - GAP;\n      const offsetWidth = wrapRef.value.offsetWidth - GAP;\n      const originalHeight = offsetHeight ** 2 / wrapRef.value.scrollHeight;\n      const originalWidth = offsetWidth ** 2 / wrapRef.value.scrollWidth;\n      const height = Math.max(originalHeight, props.minSize);\n      const width = Math.max(originalWidth, props.minSize);\n      ratioY.value = originalHeight / (offsetHeight - originalHeight) / (height / (offsetHeight - height));\n      ratioX.value = originalWidth / (offsetWidth - originalWidth) / (width / (offsetWidth - width));\n      sizeHeight.value = height + GAP < offsetHeight ? `${height}px` : \"\";\n      sizeWidth.value = width + GAP < offsetWidth ? `${width}px` : \"\";\n    };\n    watch(() => props.noresize, (noresize) => {\n      if (noresize) {\n        stopResizeObserver == null ? void 0 : stopResizeObserver();\n        stopResizeListener == null ? void 0 : stopResizeListener();\n      } else {\n        ;\n        ({ stop: stopResizeObserver } = useResizeObserver(resizeRef, update));\n        stopResizeListener = useEventListener(\"resize\", update);\n      }\n    }, { immediate: true });\n    watch(() => [props.maxHeight, props.height], () => {\n      if (!props.native)\n        nextTick(() => {\n          var _a;\n          update();\n          if (wrapRef.value) {\n            (_a = barRef.value) == null ? void 0 : _a.handleScroll(wrapRef.value);\n          }\n        });\n    });\n    provide(scrollbarContextKey, reactive({\n      scrollbarElement: scrollbarRef,\n      wrapElement: wrapRef\n    }));\n    onMounted(() => {\n      if (!props.native)\n        nextTick(() => {\n          update();\n        });\n    });\n    onUpdated(() => update());\n    expose({\n      wrapRef,\n      update,\n      scrollTo,\n      setScrollTop,\n      setScrollLeft,\n      handleScroll\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"scrollbarRef\",\n        ref: scrollbarRef,\n        class: normalizeClass(unref(ns).b())\n      }, [\n        createElementVNode(\"div\", {\n          ref_key: \"wrapRef\",\n          ref: wrapRef,\n          class: normalizeClass(unref(wrapKls)),\n          style: normalizeStyle(unref(style)),\n          onScroll: handleScroll\n        }, [\n          (openBlock(), createBlock(resolveDynamicComponent(_ctx.tag), {\n            ref_key: \"resizeRef\",\n            ref: resizeRef,\n            class: normalizeClass(unref(resizeKls)),\n            style: normalizeStyle(_ctx.viewStyle)\n          }, {\n            default: withCtx(() => [\n              renderSlot(_ctx.$slots, \"default\")\n            ]),\n            _: 3\n          }, 8, [\"class\", \"style\"]))\n        ], 38),\n        !_ctx.native ? (openBlock(), createBlock(Bar, {\n          key: 0,\n          ref_key: \"barRef\",\n          ref: barRef,\n          height: sizeHeight.value,\n          width: sizeWidth.value,\n          always: _ctx.always,\n          \"ratio-x\": ratioX.value,\n          \"ratio-y\": ratioY.value\n        }, null, 8, [\"height\", \"width\", \"always\", \"ratio-x\", \"ratio-y\"])) : createCommentVNode(\"v-if\", true)\n      ], 2);\n    };\n  }\n});\nvar Scrollbar = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue\"]]);\n\nexport { Scrollbar as default };\n//# sourceMappingURL=scrollbar2.mjs.map\n","import '../../utils/index.mjs';\nimport Scrollbar from './src/scrollbar2.mjs';\nexport { BAR_MAP, GAP, renderThumbStyle } from './src/util.mjs';\nexport { scrollbarEmits, scrollbarProps } from './src/scrollbar.mjs';\nexport { thumbProps } from './src/thumb.mjs';\nexport { scrollbarContextKey } from './src/constants.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElScrollbar = withInstall(Scrollbar);\n\nexport { ElScrollbar, ElScrollbar as default };\n//# sourceMappingURL=index.mjs.map\n","import '../../../utils/index.mjs';\nimport { buildProps } from '../../../utils/vue/props/runtime.mjs';\n\nconst badgeProps = buildProps({\n  value: {\n    type: [String, Number],\n    default: \"\"\n  },\n  max: {\n    type: Number,\n    default: 99\n  },\n  isDot: Boolean,\n  hidden: Boolean,\n  type: {\n    type: String,\n    values: [\"primary\", \"success\", \"warning\", \"info\", \"danger\"],\n    default: \"danger\"\n  }\n});\n\nexport { badgeProps };\n//# sourceMappingURL=badge.mjs.map\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, unref, renderSlot, createVNode, Transition, withCtx, withDirectives, createElementVNode, toDisplayString, vShow } from 'vue';\nimport '../../../hooks/index.mjs';\nimport '../../../utils/index.mjs';\nimport { badgeProps } from './badge.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { isNumber } from '../../../utils/types.mjs';\n\nconst _hoisted_1 = [\"textContent\"];\nconst __default__ = defineComponent({\n  name: \"ElBadge\"\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: badgeProps,\n  setup(__props, { expose }) {\n    const props = __props;\n    const ns = useNamespace(\"badge\");\n    const content = computed(() => {\n      if (props.isDot)\n        return \"\";\n      if (isNumber(props.value) && isNumber(props.max)) {\n        return props.max < props.value ? `${props.max}+` : `${props.value}`;\n      }\n      return `${props.value}`;\n    });\n    expose({\n      content\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass(unref(ns).b())\n      }, [\n        renderSlot(_ctx.$slots, \"default\"),\n        createVNode(Transition, {\n          name: `${unref(ns).namespace.value}-zoom-in-center`,\n          persisted: \"\"\n        }, {\n          default: withCtx(() => [\n            withDirectives(createElementVNode(\"sup\", {\n              class: normalizeClass([\n                unref(ns).e(\"content\"),\n                unref(ns).em(\"content\", _ctx.type),\n                unref(ns).is(\"fixed\", !!_ctx.$slots.default),\n                unref(ns).is(\"dot\", _ctx.isDot)\n              ]),\n              textContent: toDisplayString(unref(content))\n            }, null, 10, _hoisted_1), [\n              [vShow, !_ctx.hidden && (unref(content) || _ctx.isDot)]\n            ])\n          ]),\n          _: 1\n        }, 8, [\"name\"])\n      ], 2);\n    };\n  }\n});\nvar Badge = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue\"]]);\n\nexport { Badge as default };\n//# sourceMappingURL=badge2.mjs.map\n","import '../../utils/index.mjs';\nimport Badge from './src/badge2.mjs';\nexport { badgeProps } from './src/badge.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElBadge = withInstall(Badge);\n\nexport { ElBadge, ElBadge as default };\n//# sourceMappingURL=index.mjs.map\n","import '../../../../utils/index.mjs';\nimport { buildProps, definePropType } from '../../../../utils/vue/props/runtime.mjs';\n\nconst alphaSliderProps = buildProps({\n  color: {\n    type: definePropType(Object),\n    required: true\n  },\n  vertical: {\n    type: Boolean,\n    default: false\n  }\n});\n\nexport { alphaSliderProps };\n//# sourceMappingURL=alpha-slider.mjs.map\n","import '../../../../utils/index.mjs';\nimport { isClient } from '@vueuse/core';\n\nlet isDragging = false;\nfunction draggable(element, options) {\n  if (!isClient)\n    return;\n  const moveFn = function(event) {\n    var _a;\n    (_a = options.drag) == null ? void 0 : _a.call(options, event);\n  };\n  const upFn = function(event) {\n    var _a;\n    document.removeEventListener(\"mousemove\", moveFn);\n    document.removeEventListener(\"mouseup\", upFn);\n    document.removeEventListener(\"touchmove\", moveFn);\n    document.removeEventListener(\"touchend\", upFn);\n    document.onselectstart = null;\n    document.ondragstart = null;\n    isDragging = false;\n    (_a = options.end) == null ? void 0 : _a.call(options, event);\n  };\n  const downFn = function(event) {\n    var _a;\n    if (isDragging)\n      return;\n    event.preventDefault();\n    document.onselectstart = () => false;\n    document.ondragstart = () => false;\n    document.addEventListener(\"mousemove\", moveFn);\n    document.addEventListener(\"mouseup\", upFn);\n    document.addEventListener(\"touchmove\", moveFn);\n    document.addEventListener(\"touchend\", upFn);\n    isDragging = true;\n    (_a = options.start) == null ? void 0 : _a.call(options, event);\n  };\n  element.addEventListener(\"mousedown\", downFn);\n  element.addEventListener(\"touchstart\", downFn);\n}\n\nexport { draggable };\n//# sourceMappingURL=draggable.mjs.map\n","import { getCurrentInstance, shallowRef, ref, onMounted, watch, computed } from 'vue';\nimport '../../../../utils/index.mjs';\nimport '../../../../hooks/index.mjs';\nimport { draggable } from '../utils/draggable.mjs';\nimport { getClientXY } from '../../../../utils/dom/position.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nimport { addUnit } from '../../../../utils/dom/style.mjs';\n\nconst useAlphaSlider = (props) => {\n  const instance = getCurrentInstance();\n  const thumb = shallowRef();\n  const bar = shallowRef();\n  function handleClick(event) {\n    const target = event.target;\n    if (target !== thumb.value) {\n      handleDrag(event);\n    }\n  }\n  function handleDrag(event) {\n    if (!bar.value || !thumb.value)\n      return;\n    const el = instance.vnode.el;\n    const rect = el.getBoundingClientRect();\n    const { clientX, clientY } = getClientXY(event);\n    if (!props.vertical) {\n      let left = clientX - rect.left;\n      left = Math.max(thumb.value.offsetWidth / 2, left);\n      left = Math.min(left, rect.width - thumb.value.offsetWidth / 2);\n      props.color.set(\"alpha\", Math.round((left - thumb.value.offsetWidth / 2) / (rect.width - thumb.value.offsetWidth) * 100));\n    } else {\n      let top = clientY - rect.top;\n      top = Math.max(thumb.value.offsetHeight / 2, top);\n      top = Math.min(top, rect.height - thumb.value.offsetHeight / 2);\n      props.color.set(\"alpha\", Math.round((top - thumb.value.offsetHeight / 2) / (rect.height - thumb.value.offsetHeight) * 100));\n    }\n  }\n  return {\n    thumb,\n    bar,\n    handleDrag,\n    handleClick\n  };\n};\nconst useAlphaSliderDOM = (props, {\n  bar,\n  thumb,\n  handleDrag\n}) => {\n  const instance = getCurrentInstance();\n  const ns = useNamespace(\"color-alpha-slider\");\n  const thumbLeft = ref(0);\n  const thumbTop = ref(0);\n  const background = ref();\n  function getThumbLeft() {\n    if (!thumb.value)\n      return 0;\n    if (props.vertical)\n      return 0;\n    const el = instance.vnode.el;\n    const alpha = props.color.get(\"alpha\");\n    if (!el)\n      return 0;\n    return Math.round(alpha * (el.offsetWidth - thumb.value.offsetWidth / 2) / 100);\n  }\n  function getThumbTop() {\n    if (!thumb.value)\n      return 0;\n    const el = instance.vnode.el;\n    if (!props.vertical)\n      return 0;\n    const alpha = props.color.get(\"alpha\");\n    if (!el)\n      return 0;\n    return Math.round(alpha * (el.offsetHeight - thumb.value.offsetHeight / 2) / 100);\n  }\n  function getBackground() {\n    if (props.color && props.color.value) {\n      const { r, g, b } = props.color.toRgb();\n      return `linear-gradient(to right, rgba(${r}, ${g}, ${b}, 0) 0%, rgba(${r}, ${g}, ${b}, 1) 100%)`;\n    }\n    return \"\";\n  }\n  function update() {\n    thumbLeft.value = getThumbLeft();\n    thumbTop.value = getThumbTop();\n    background.value = getBackground();\n  }\n  onMounted(() => {\n    if (!bar.value || !thumb.value)\n      return;\n    const dragConfig = {\n      drag: (event) => {\n        handleDrag(event);\n      },\n      end: (event) => {\n        handleDrag(event);\n      }\n    };\n    draggable(bar.value, dragConfig);\n    draggable(thumb.value, dragConfig);\n    update();\n  });\n  watch(() => props.color.get(\"alpha\"), () => update());\n  watch(() => props.color.value, () => update());\n  const rootKls = computed(() => [ns.b(), ns.is(\"vertical\", props.vertical)]);\n  const barKls = computed(() => ns.e(\"bar\"));\n  const thumbKls = computed(() => ns.e(\"thumb\"));\n  const barStyle = computed(() => ({ background: background.value }));\n  const thumbStyle = computed(() => ({\n    left: addUnit(thumbLeft.value),\n    top: addUnit(thumbTop.value)\n  }));\n  return { rootKls, barKls, barStyle, thumbKls, thumbStyle, update };\n};\n\nexport { useAlphaSlider, useAlphaSliderDOM };\n//# sourceMappingURL=use-alpha-slider.mjs.map\n","import { defineComponent, openBlock, createElementBlock, normalizeClass, unref, createElementVNode, normalizeStyle } from 'vue';\nimport { alphaSliderProps } from '../props/alpha-slider.mjs';\nimport { useAlphaSlider, useAlphaSliderDOM } from '../composables/use-alpha-slider.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\n\nconst COMPONENT_NAME = \"ElColorAlphaSlider\";\nconst __default__ = defineComponent({\n  name: COMPONENT_NAME\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: alphaSliderProps,\n  setup(__props, { expose }) {\n    const props = __props;\n    const { bar, thumb, handleDrag, handleClick } = useAlphaSlider(props);\n    const { rootKls, barKls, barStyle, thumbKls, thumbStyle, update } = useAlphaSliderDOM(props, {\n      bar,\n      thumb,\n      handleDrag\n    });\n    expose({\n      update,\n      bar,\n      thumb\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass(unref(rootKls))\n      }, [\n        createElementVNode(\"div\", {\n          ref_key: \"bar\",\n          ref: bar,\n          class: normalizeClass(unref(barKls)),\n          style: normalizeStyle(unref(barStyle)),\n          onClick: _cache[0] || (_cache[0] = (...args) => unref(handleClick) && unref(handleClick)(...args))\n        }, null, 6),\n        createElementVNode(\"div\", {\n          ref_key: \"thumb\",\n          ref: thumb,\n          class: normalizeClass(unref(thumbKls)),\n          style: normalizeStyle(unref(thumbStyle))\n        }, null, 6)\n      ], 2);\n    };\n  }\n});\nvar AlphaSlider = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue\"]]);\n\nexport { AlphaSlider as default };\n//# sourceMappingURL=alpha-slider.mjs.map\n","import { defineComponent, getCurrentInstance, ref, computed, watch, onMounted, openBlock, createElementBlock, normalizeClass, createElementVNode, normalizeStyle } from 'vue';\nimport '../../../../utils/index.mjs';\nimport '../../../../hooks/index.mjs';\nimport { draggable } from '../utils/draggable.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nimport { getClientXY } from '../../../../utils/dom/position.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElColorHueSlider\",\n  props: {\n    color: {\n      type: Object,\n      required: true\n    },\n    vertical: Boolean\n  },\n  setup(props) {\n    const ns = useNamespace(\"color-hue-slider\");\n    const instance = getCurrentInstance();\n    const thumb = ref();\n    const bar = ref();\n    const thumbLeft = ref(0);\n    const thumbTop = ref(0);\n    const hueValue = computed(() => {\n      return props.color.get(\"hue\");\n    });\n    watch(() => hueValue.value, () => {\n      update();\n    });\n    function handleClick(event) {\n      const target = event.target;\n      if (target !== thumb.value) {\n        handleDrag(event);\n      }\n    }\n    function handleDrag(event) {\n      if (!bar.value || !thumb.value)\n        return;\n      const el = instance.vnode.el;\n      const rect = el.getBoundingClientRect();\n      const { clientX, clientY } = getClientXY(event);\n      let hue;\n      if (!props.vertical) {\n        let left = clientX - rect.left;\n        left = Math.min(left, rect.width - thumb.value.offsetWidth / 2);\n        left = Math.max(thumb.value.offsetWidth / 2, left);\n        hue = Math.round((left - thumb.value.offsetWidth / 2) / (rect.width - thumb.value.offsetWidth) * 360);\n      } else {\n        let top = clientY - rect.top;\n        top = Math.min(top, rect.height - thumb.value.offsetHeight / 2);\n        top = Math.max(thumb.value.offsetHeight / 2, top);\n        hue = Math.round((top - thumb.value.offsetHeight / 2) / (rect.height - thumb.value.offsetHeight) * 360);\n      }\n      props.color.set(\"hue\", hue);\n    }\n    function getThumbLeft() {\n      if (!thumb.value)\n        return 0;\n      const el = instance.vnode.el;\n      if (props.vertical)\n        return 0;\n      const hue = props.color.get(\"hue\");\n      if (!el)\n        return 0;\n      return Math.round(hue * (el.offsetWidth - thumb.value.offsetWidth / 2) / 360);\n    }\n    function getThumbTop() {\n      if (!thumb.value)\n        return 0;\n      const el = instance.vnode.el;\n      if (!props.vertical)\n        return 0;\n      const hue = props.color.get(\"hue\");\n      if (!el)\n        return 0;\n      return Math.round(hue * (el.offsetHeight - thumb.value.offsetHeight / 2) / 360);\n    }\n    function update() {\n      thumbLeft.value = getThumbLeft();\n      thumbTop.value = getThumbTop();\n    }\n    onMounted(() => {\n      if (!bar.value || !thumb.value)\n        return;\n      const dragConfig = {\n        drag: (event) => {\n          handleDrag(event);\n        },\n        end: (event) => {\n          handleDrag(event);\n        }\n      };\n      draggable(bar.value, dragConfig);\n      draggable(thumb.value, dragConfig);\n      update();\n    });\n    return {\n      bar,\n      thumb,\n      thumbLeft,\n      thumbTop,\n      hueValue,\n      handleClick,\n      update,\n      ns\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([_ctx.ns.b(), _ctx.ns.is(\"vertical\", _ctx.vertical)])\n  }, [\n    createElementVNode(\"div\", {\n      ref: \"bar\",\n      class: normalizeClass(_ctx.ns.e(\"bar\")),\n      onClick: _cache[0] || (_cache[0] = (...args) => _ctx.handleClick && _ctx.handleClick(...args))\n    }, null, 2),\n    createElementVNode(\"div\", {\n      ref: \"thumb\",\n      class: normalizeClass(_ctx.ns.e(\"thumb\")),\n      style: normalizeStyle({\n        left: _ctx.thumbLeft + \"px\",\n        top: _ctx.thumbTop + \"px\"\n      })\n    }, null, 6)\n  ], 2);\n}\nvar HueSlider = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue\"]]);\n\nexport { HueSlider as default };\n//# sourceMappingURL=hue-slider.mjs.map\n","import { isNil } from 'lodash-unified';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../constants/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { useSizeProp } from '../../../hooks/use-size/index.mjs';\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT } from '../../../constants/event.mjs';\nimport { isString } from '@vue/shared';\n\nconst colorPickerProps = buildProps({\n  modelValue: String,\n  id: String,\n  showAlpha: Boolean,\n  colorFormat: String,\n  disabled: Boolean,\n  size: useSizeProp,\n  popperClass: {\n    type: String,\n    default: \"\"\n  },\n  label: {\n    type: String,\n    default: void 0\n  },\n  tabindex: {\n    type: [String, Number],\n    default: 0\n  },\n  predefine: {\n    type: definePropType(Array)\n  },\n  validateEvent: {\n    type: Boolean,\n    default: true\n  }\n});\nconst colorPickerEmits = {\n  [UPDATE_MODEL_EVENT]: (val) => isString(val) || isNil(val),\n  [CHANGE_EVENT]: (val) => isString(val) || isNil(val),\n  activeChange: (val) => isString(val) || isNil(val)\n};\nconst colorPickerContextKey = Symbol(\"colorPickerContextKey\");\n\nexport { colorPickerContextKey, colorPickerEmits, colorPickerProps };\n//# sourceMappingURL=color-picker.mjs.map\n","import '../../../../utils/index.mjs';\nimport { hasOwn } from '@vue/shared';\n\nconst hsv2hsl = function(hue, sat, val) {\n  return [\n    hue,\n    sat * val / ((hue = (2 - sat) * val) < 1 ? hue : 2 - hue) || 0,\n    hue / 2\n  ];\n};\nconst isOnePointZero = function(n) {\n  return typeof n === \"string\" && n.includes(\".\") && Number.parseFloat(n) === 1;\n};\nconst isPercentage = function(n) {\n  return typeof n === \"string\" && n.includes(\"%\");\n};\nconst bound01 = function(value, max) {\n  if (isOnePointZero(value))\n    value = \"100%\";\n  const processPercent = isPercentage(value);\n  value = Math.min(max, Math.max(0, Number.parseFloat(`${value}`)));\n  if (processPercent) {\n    value = Number.parseInt(`${value * max}`, 10) / 100;\n  }\n  if (Math.abs(value - max) < 1e-6) {\n    return 1;\n  }\n  return value % max / Number.parseFloat(max);\n};\nconst INT_HEX_MAP = {\n  10: \"A\",\n  11: \"B\",\n  12: \"C\",\n  13: \"D\",\n  14: \"E\",\n  15: \"F\"\n};\nconst hexOne = (value) => {\n  value = Math.min(Math.round(value), 255);\n  const high = Math.floor(value / 16);\n  const low = value % 16;\n  return `${INT_HEX_MAP[high] || high}${INT_HEX_MAP[low] || low}`;\n};\nconst toHex = function({ r, g, b }) {\n  if (Number.isNaN(+r) || Number.isNaN(+g) || Number.isNaN(+b))\n    return \"\";\n  return `#${hexOne(r)}${hexOne(g)}${hexOne(b)}`;\n};\nconst HEX_INT_MAP = {\n  A: 10,\n  B: 11,\n  C: 12,\n  D: 13,\n  E: 14,\n  F: 15\n};\nconst parseHexChannel = function(hex) {\n  if (hex.length === 2) {\n    return (HEX_INT_MAP[hex[0].toUpperCase()] || +hex[0]) * 16 + (HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1]);\n  }\n  return HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1];\n};\nconst hsl2hsv = function(hue, sat, light) {\n  sat = sat / 100;\n  light = light / 100;\n  let smin = sat;\n  const lmin = Math.max(light, 0.01);\n  light *= 2;\n  sat *= light <= 1 ? light : 2 - light;\n  smin *= lmin <= 1 ? lmin : 2 - lmin;\n  const v = (light + sat) / 2;\n  const sv = light === 0 ? 2 * smin / (lmin + smin) : 2 * sat / (light + sat);\n  return {\n    h: hue,\n    s: sv * 100,\n    v: v * 100\n  };\n};\nconst rgb2hsv = (r, g, b) => {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  let h;\n  const v = max;\n  const d = max - min;\n  const s = max === 0 ? 0 : d / max;\n  if (max === min) {\n    h = 0;\n  } else {\n    switch (max) {\n      case r: {\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      }\n      case g: {\n        h = (b - r) / d + 2;\n        break;\n      }\n      case b: {\n        h = (r - g) / d + 4;\n        break;\n      }\n    }\n    h /= 6;\n  }\n  return { h: h * 360, s: s * 100, v: v * 100 };\n};\nconst hsv2rgb = function(h, s, v) {\n  h = bound01(h, 360) * 6;\n  s = bound01(s, 100);\n  v = bound01(v, 100);\n  const i = Math.floor(h);\n  const f = h - i;\n  const p = v * (1 - s);\n  const q = v * (1 - f * s);\n  const t = v * (1 - (1 - f) * s);\n  const mod = i % 6;\n  const r = [v, q, p, p, t, v][mod];\n  const g = [t, v, v, q, p, p][mod];\n  const b = [p, p, t, v, v, q][mod];\n  return {\n    r: Math.round(r * 255),\n    g: Math.round(g * 255),\n    b: Math.round(b * 255)\n  };\n};\nclass Color {\n  constructor(options = {}) {\n    this._hue = 0;\n    this._saturation = 100;\n    this._value = 100;\n    this._alpha = 100;\n    this.enableAlpha = false;\n    this.format = \"hex\";\n    this.value = \"\";\n    for (const option in options) {\n      if (hasOwn(options, option)) {\n        this[option] = options[option];\n      }\n    }\n    if (options.value) {\n      this.fromString(options.value);\n    } else {\n      this.doOnChange();\n    }\n  }\n  set(prop, value) {\n    if (arguments.length === 1 && typeof prop === \"object\") {\n      for (const p in prop) {\n        if (hasOwn(prop, p)) {\n          this.set(p, prop[p]);\n        }\n      }\n      return;\n    }\n    ;\n    this[`_${prop}`] = value;\n    this.doOnChange();\n  }\n  get(prop) {\n    if (prop === \"alpha\") {\n      return Math.floor(this[`_${prop}`]);\n    }\n    return this[`_${prop}`];\n  }\n  toRgb() {\n    return hsv2rgb(this._hue, this._saturation, this._value);\n  }\n  fromString(value) {\n    if (!value) {\n      this._hue = 0;\n      this._saturation = 100;\n      this._value = 100;\n      this.doOnChange();\n      return;\n    }\n    const fromHSV = (h, s, v) => {\n      this._hue = Math.max(0, Math.min(360, h));\n      this._saturation = Math.max(0, Math.min(100, s));\n      this._value = Math.max(0, Math.min(100, v));\n      this.doOnChange();\n    };\n    if (value.includes(\"hsl\")) {\n      const parts = value.replace(/hsla|hsl|\\(|\\)/gm, \"\").split(/\\s|,/g).filter((val) => val !== \"\").map((val, index) => index > 2 ? Number.parseFloat(val) : Number.parseInt(val, 10));\n      if (parts.length === 4) {\n        this._alpha = Number.parseFloat(parts[3]) * 100;\n      } else if (parts.length === 3) {\n        this._alpha = 100;\n      }\n      if (parts.length >= 3) {\n        const { h, s, v } = hsl2hsv(parts[0], parts[1], parts[2]);\n        fromHSV(h, s, v);\n      }\n    } else if (value.includes(\"hsv\")) {\n      const parts = value.replace(/hsva|hsv|\\(|\\)/gm, \"\").split(/\\s|,/g).filter((val) => val !== \"\").map((val, index) => index > 2 ? Number.parseFloat(val) : Number.parseInt(val, 10));\n      if (parts.length === 4) {\n        this._alpha = Number.parseFloat(parts[3]) * 100;\n      } else if (parts.length === 3) {\n        this._alpha = 100;\n      }\n      if (parts.length >= 3) {\n        fromHSV(parts[0], parts[1], parts[2]);\n      }\n    } else if (value.includes(\"rgb\")) {\n      const parts = value.replace(/rgba|rgb|\\(|\\)/gm, \"\").split(/\\s|,/g).filter((val) => val !== \"\").map((val, index) => index > 2 ? Number.parseFloat(val) : Number.parseInt(val, 10));\n      if (parts.length === 4) {\n        this._alpha = Number.parseFloat(parts[3]) * 100;\n      } else if (parts.length === 3) {\n        this._alpha = 100;\n      }\n      if (parts.length >= 3) {\n        const { h, s, v } = rgb2hsv(parts[0], parts[1], parts[2]);\n        fromHSV(h, s, v);\n      }\n    } else if (value.includes(\"#\")) {\n      const hex = value.replace(\"#\", \"\").trim();\n      if (!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(hex))\n        return;\n      let r, g, b;\n      if (hex.length === 3) {\n        r = parseHexChannel(hex[0] + hex[0]);\n        g = parseHexChannel(hex[1] + hex[1]);\n        b = parseHexChannel(hex[2] + hex[2]);\n      } else if (hex.length === 6 || hex.length === 8) {\n        r = parseHexChannel(hex.slice(0, 2));\n        g = parseHexChannel(hex.slice(2, 4));\n        b = parseHexChannel(hex.slice(4, 6));\n      }\n      if (hex.length === 8) {\n        this._alpha = parseHexChannel(hex.slice(6)) / 255 * 100;\n      } else if (hex.length === 3 || hex.length === 6) {\n        this._alpha = 100;\n      }\n      const { h, s, v } = rgb2hsv(r, g, b);\n      fromHSV(h, s, v);\n    }\n  }\n  compare(color) {\n    return Math.abs(color._hue - this._hue) < 2 && Math.abs(color._saturation - this._saturation) < 1 && Math.abs(color._value - this._value) < 1 && Math.abs(color._alpha - this._alpha) < 1;\n  }\n  doOnChange() {\n    const { _hue, _saturation, _value, _alpha, format } = this;\n    if (this.enableAlpha) {\n      switch (format) {\n        case \"hsl\": {\n          const hsl = hsv2hsl(_hue, _saturation / 100, _value / 100);\n          this.value = `hsla(${_hue}, ${Math.round(hsl[1] * 100)}%, ${Math.round(hsl[2] * 100)}%, ${this.get(\"alpha\") / 100})`;\n          break;\n        }\n        case \"hsv\": {\n          this.value = `hsva(${_hue}, ${Math.round(_saturation)}%, ${Math.round(_value)}%, ${this.get(\"alpha\") / 100})`;\n          break;\n        }\n        case \"hex\": {\n          this.value = `${toHex(hsv2rgb(_hue, _saturation, _value))}${hexOne(_alpha * 255 / 100)}`;\n          break;\n        }\n        default: {\n          const { r, g, b } = hsv2rgb(_hue, _saturation, _value);\n          this.value = `rgba(${r}, ${g}, ${b}, ${this.get(\"alpha\") / 100})`;\n        }\n      }\n    } else {\n      switch (format) {\n        case \"hsl\": {\n          const hsl = hsv2hsl(_hue, _saturation / 100, _value / 100);\n          this.value = `hsl(${_hue}, ${Math.round(hsl[1] * 100)}%, ${Math.round(hsl[2] * 100)}%)`;\n          break;\n        }\n        case \"hsv\": {\n          this.value = `hsv(${_hue}, ${Math.round(_saturation)}%, ${Math.round(_value)}%)`;\n          break;\n        }\n        case \"rgb\": {\n          const { r, g, b } = hsv2rgb(_hue, _saturation, _value);\n          this.value = `rgb(${r}, ${g}, ${b})`;\n          break;\n        }\n        default: {\n          this.value = toHex(hsv2rgb(_hue, _saturation, _value));\n        }\n      }\n    }\n  }\n}\n\nexport { Color as default };\n//# sourceMappingURL=color.mjs.map\n","import { defineComponent, inject, ref, watch, watchEffect, openBlock, createElementBlock, normalizeClass, createElementVNode, Fragment, renderList, normalizeStyle } from 'vue';\nimport '../../../../hooks/index.mjs';\nimport { colorPickerContextKey } from '../color-picker.mjs';\nimport Color from '../utils/color.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\n\nconst _sfc_main = defineComponent({\n  props: {\n    colors: {\n      type: Array,\n      required: true\n    },\n    color: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const ns = useNamespace(\"color-predefine\");\n    const { currentColor } = inject(colorPickerContextKey);\n    const rgbaColors = ref(parseColors(props.colors, props.color));\n    watch(() => currentColor.value, (val) => {\n      const color = new Color();\n      color.fromString(val);\n      rgbaColors.value.forEach((item) => {\n        item.selected = color.compare(item);\n      });\n    });\n    watchEffect(() => {\n      rgbaColors.value = parseColors(props.colors, props.color);\n    });\n    function handleSelect(index) {\n      props.color.fromString(props.colors[index]);\n    }\n    function parseColors(colors, color) {\n      return colors.map((value) => {\n        const c = new Color();\n        c.enableAlpha = true;\n        c.format = \"rgba\";\n        c.fromString(value);\n        c.selected = c.value === color.value;\n        return c;\n      });\n    }\n    return {\n      rgbaColors,\n      handleSelect,\n      ns\n    };\n  }\n});\nconst _hoisted_1 = [\"onClick\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass(_ctx.ns.b())\n  }, [\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.ns.e(\"colors\"))\n    }, [\n      (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.rgbaColors, (item, index) => {\n        return openBlock(), createElementBlock(\"div\", {\n          key: _ctx.colors[index],\n          class: normalizeClass([\n            _ctx.ns.e(\"color-selector\"),\n            _ctx.ns.is(\"alpha\", item._alpha < 100),\n            { selected: item.selected }\n          ]),\n          onClick: ($event) => _ctx.handleSelect(index)\n        }, [\n          createElementVNode(\"div\", {\n            style: normalizeStyle({ backgroundColor: item.value })\n          }, null, 4)\n        ], 10, _hoisted_1);\n      }), 128))\n    ], 2)\n  ], 2);\n}\nvar Predefine = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue\"]]);\n\nexport { Predefine as default };\n//# sourceMappingURL=predefine.mjs.map\n","import { defineComponent, getCurrentInstance, ref, computed, watch, onMounted, createElementVNode, openBlock, createElementBlock, normalizeClass, normalizeStyle } from 'vue';\nimport '../../../../utils/index.mjs';\nimport '../../../../hooks/index.mjs';\nimport { draggable } from '../utils/draggable.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nimport { getClientXY } from '../../../../utils/dom/position.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElSlPanel\",\n  props: {\n    color: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const ns = useNamespace(\"color-svpanel\");\n    const instance = getCurrentInstance();\n    const cursorTop = ref(0);\n    const cursorLeft = ref(0);\n    const background = ref(\"hsl(0, 100%, 50%)\");\n    const colorValue = computed(() => {\n      const hue = props.color.get(\"hue\");\n      const value = props.color.get(\"value\");\n      return { hue, value };\n    });\n    function update() {\n      const saturation = props.color.get(\"saturation\");\n      const value = props.color.get(\"value\");\n      const el = instance.vnode.el;\n      const { clientWidth: width, clientHeight: height } = el;\n      cursorLeft.value = saturation * width / 100;\n      cursorTop.value = (100 - value) * height / 100;\n      background.value = `hsl(${props.color.get(\"hue\")}, 100%, 50%)`;\n    }\n    function handleDrag(event) {\n      const el = instance.vnode.el;\n      const rect = el.getBoundingClientRect();\n      const { clientX, clientY } = getClientXY(event);\n      let left = clientX - rect.left;\n      let top = clientY - rect.top;\n      left = Math.max(0, left);\n      left = Math.min(left, rect.width);\n      top = Math.max(0, top);\n      top = Math.min(top, rect.height);\n      cursorLeft.value = left;\n      cursorTop.value = top;\n      props.color.set({\n        saturation: left / rect.width * 100,\n        value: 100 - top / rect.height * 100\n      });\n    }\n    watch(() => colorValue.value, () => {\n      update();\n    });\n    onMounted(() => {\n      draggable(instance.vnode.el, {\n        drag: (event) => {\n          handleDrag(event);\n        },\n        end: (event) => {\n          handleDrag(event);\n        }\n      });\n      update();\n    });\n    return {\n      cursorTop,\n      cursorLeft,\n      background,\n      colorValue,\n      handleDrag,\n      update,\n      ns\n    };\n  }\n});\nconst _hoisted_1 = /* @__PURE__ */ createElementVNode(\"div\", null, null, -1);\nconst _hoisted_2 = [\n  _hoisted_1\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass(_ctx.ns.b()),\n    style: normalizeStyle({\n      backgroundColor: _ctx.background\n    })\n  }, [\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.ns.e(\"white\"))\n    }, null, 2),\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.ns.e(\"black\"))\n    }, null, 2),\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.ns.e(\"cursor\")),\n      style: normalizeStyle({\n        top: _ctx.cursorTop + \"px\",\n        left: _ctx.cursorLeft + \"px\"\n      })\n    }, _hoisted_2, 6)\n  ], 6);\n}\nvar SvPanel = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue\"]]);\n\nexport { SvPanel as default };\n//# sourceMappingURL=sv-panel.mjs.map\n","import { defineComponent, ref, reactive, computed, nextTick, onMounted, watch, provide, openBlock, createBlock, unref, withCtx, withDirectives, createElementBlock, createElementVNode, normalizeClass, createVNode, createCommentVNode, withKeys, createTextVNode, toDisplayString, normalizeStyle, vShow } from 'vue';\nimport { debounce } from 'lodash-unified';\nimport { ElButton } from '../../button/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport '../../../directives/index.mjs';\nimport { ElTooltip } from '../../tooltip/index.mjs';\nimport { ElInput } from '../../input/index.mjs';\nimport '../../form/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../constants/index.mjs';\nimport '../../../utils/index.mjs';\nimport { ArrowDown, Close } from '@element-plus/icons-vue';\nimport AlphaSlider from './components/alpha-slider.mjs';\nimport HueSlider from './components/hue-slider.mjs';\nimport Predefine from './components/predefine.mjs';\nimport SvPanel from './components/sv-panel.mjs';\nimport Color from './utils/color.mjs';\nimport { colorPickerProps, colorPickerEmits, colorPickerContextKey } from './color-picker.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useFormItem, useFormItemInputId } from '../../form/src/hooks/use-form-item.mjs';\nimport { useFormSize, useFormDisabled } from '../../form/src/hooks/use-form-common-props.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\nimport ClickOutside from '../../../directives/click-outside/index.mjs';\n\nconst _hoisted_1 = [\"id\", \"aria-label\", \"aria-labelledby\", \"aria-description\", \"tabindex\", \"onKeydown\"];\nconst __default__ = defineComponent({\n  name: \"ElColorPicker\"\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: colorPickerProps,\n  emits: colorPickerEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const { t } = useLocale();\n    const ns = useNamespace(\"color\");\n    const { formItem } = useFormItem();\n    const colorSize = useFormSize();\n    const colorDisabled = useFormDisabled();\n    const { inputId: buttonId, isLabeledByFormItem } = useFormItemInputId(props, {\n      formItemContext: formItem\n    });\n    const hue = ref();\n    const sv = ref();\n    const alpha = ref();\n    const popper = ref();\n    let shouldActiveChange = true;\n    const color = reactive(new Color({\n      enableAlpha: props.showAlpha,\n      format: props.colorFormat || \"\",\n      value: props.modelValue\n    }));\n    const showPicker = ref(false);\n    const showPanelColor = ref(false);\n    const customInput = ref(\"\");\n    const displayedColor = computed(() => {\n      if (!props.modelValue && !showPanelColor.value) {\n        return \"transparent\";\n      }\n      return displayedRgb(color, props.showAlpha);\n    });\n    const currentColor = computed(() => {\n      return !props.modelValue && !showPanelColor.value ? \"\" : color.value;\n    });\n    const buttonAriaLabel = computed(() => {\n      return !isLabeledByFormItem.value ? props.label || t(\"el.colorpicker.defaultLabel\") : void 0;\n    });\n    const buttonAriaLabelledby = computed(() => {\n      return isLabeledByFormItem.value ? formItem == null ? void 0 : formItem.labelId : void 0;\n    });\n    const btnKls = computed(() => {\n      return [\n        ns.b(\"picker\"),\n        ns.is(\"disabled\", colorDisabled.value),\n        ns.bm(\"picker\", colorSize.value)\n      ];\n    });\n    function displayedRgb(color2, showAlpha) {\n      if (!(color2 instanceof Color)) {\n        throw new TypeError(\"color should be instance of _color Class\");\n      }\n      const { r, g, b } = color2.toRgb();\n      return showAlpha ? `rgba(${r}, ${g}, ${b}, ${color2.get(\"alpha\") / 100})` : `rgb(${r}, ${g}, ${b})`;\n    }\n    function setShowPicker(value) {\n      showPicker.value = value;\n    }\n    const debounceSetShowPicker = debounce(setShowPicker, 100);\n    function show() {\n      if (colorDisabled.value)\n        return;\n      setShowPicker(true);\n    }\n    function hide() {\n      debounceSetShowPicker(false);\n      resetColor();\n    }\n    function resetColor() {\n      nextTick(() => {\n        if (props.modelValue) {\n          color.fromString(props.modelValue);\n        } else {\n          color.value = \"\";\n          nextTick(() => {\n            showPanelColor.value = false;\n          });\n        }\n      });\n    }\n    function handleTrigger() {\n      if (colorDisabled.value)\n        return;\n      debounceSetShowPicker(!showPicker.value);\n    }\n    function handleConfirm() {\n      color.fromString(customInput.value);\n    }\n    function confirmValue() {\n      const value = color.value;\n      emit(UPDATE_MODEL_EVENT, value);\n      emit(\"change\", value);\n      if (props.validateEvent) {\n        formItem == null ? void 0 : formItem.validate(\"change\").catch((err) => debugWarn(err));\n      }\n      debounceSetShowPicker(false);\n      nextTick(() => {\n        const newColor = new Color({\n          enableAlpha: props.showAlpha,\n          format: props.colorFormat || \"\",\n          value: props.modelValue\n        });\n        if (!color.compare(newColor)) {\n          resetColor();\n        }\n      });\n    }\n    function clear() {\n      debounceSetShowPicker(false);\n      emit(UPDATE_MODEL_EVENT, null);\n      emit(\"change\", null);\n      if (props.modelValue !== null && props.validateEvent) {\n        formItem == null ? void 0 : formItem.validate(\"change\").catch((err) => debugWarn(err));\n      }\n      resetColor();\n    }\n    onMounted(() => {\n      if (props.modelValue) {\n        customInput.value = currentColor.value;\n      }\n    });\n    watch(() => props.modelValue, (newVal) => {\n      if (!newVal) {\n        showPanelColor.value = false;\n      } else if (newVal && newVal !== color.value) {\n        shouldActiveChange = false;\n        color.fromString(newVal);\n      }\n    });\n    watch(() => currentColor.value, (val) => {\n      customInput.value = val;\n      shouldActiveChange && emit(\"activeChange\", val);\n      shouldActiveChange = true;\n    });\n    watch(() => color.value, () => {\n      if (!props.modelValue && !showPanelColor.value) {\n        showPanelColor.value = true;\n      }\n    });\n    watch(() => showPicker.value, () => {\n      nextTick(() => {\n        var _a, _b, _c;\n        (_a = hue.value) == null ? void 0 : _a.update();\n        (_b = sv.value) == null ? void 0 : _b.update();\n        (_c = alpha.value) == null ? void 0 : _c.update();\n      });\n    });\n    provide(colorPickerContextKey, {\n      currentColor\n    });\n    expose({\n      color,\n      show,\n      hide\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(ElTooltip), {\n        ref_key: \"popper\",\n        ref: popper,\n        visible: showPicker.value,\n        \"show-arrow\": false,\n        \"fallback-placements\": [\"bottom\", \"top\", \"right\", \"left\"],\n        offset: 0,\n        \"gpu-acceleration\": false,\n        \"popper-class\": [unref(ns).be(\"picker\", \"panel\"), unref(ns).b(\"dropdown\"), _ctx.popperClass],\n        \"stop-popper-mouse-event\": false,\n        effect: \"light\",\n        trigger: \"click\",\n        transition: `${unref(ns).namespace.value}-zoom-in-top`,\n        persistent: \"\"\n      }, {\n        content: withCtx(() => [\n          withDirectives((openBlock(), createElementBlock(\"div\", null, [\n            createElementVNode(\"div\", {\n              class: normalizeClass(unref(ns).be(\"dropdown\", \"main-wrapper\"))\n            }, [\n              createVNode(HueSlider, {\n                ref_key: \"hue\",\n                ref: hue,\n                class: \"hue-slider\",\n                color: unref(color),\n                vertical: \"\"\n              }, null, 8, [\"color\"]),\n              createVNode(SvPanel, {\n                ref: \"svPanel\",\n                color: unref(color)\n              }, null, 8, [\"color\"])\n            ], 2),\n            _ctx.showAlpha ? (openBlock(), createBlock(AlphaSlider, {\n              key: 0,\n              ref_key: \"alpha\",\n              ref: alpha,\n              color: unref(color)\n            }, null, 8, [\"color\"])) : createCommentVNode(\"v-if\", true),\n            _ctx.predefine ? (openBlock(), createBlock(Predefine, {\n              key: 1,\n              ref: \"predefine\",\n              color: unref(color),\n              colors: _ctx.predefine\n            }, null, 8, [\"color\", \"colors\"])) : createCommentVNode(\"v-if\", true),\n            createElementVNode(\"div\", {\n              class: normalizeClass(unref(ns).be(\"dropdown\", \"btns\"))\n            }, [\n              createElementVNode(\"span\", {\n                class: normalizeClass(unref(ns).be(\"dropdown\", \"value\"))\n              }, [\n                createVNode(unref(ElInput), {\n                  modelValue: customInput.value,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => customInput.value = $event),\n                  \"validate-event\": false,\n                  size: \"small\",\n                  onKeyup: withKeys(handleConfirm, [\"enter\"]),\n                  onBlur: handleConfirm\n                }, null, 8, [\"modelValue\", \"onKeyup\"])\n              ], 2),\n              createVNode(unref(ElButton), {\n                class: normalizeClass(unref(ns).be(\"dropdown\", \"link-btn\")),\n                text: \"\",\n                size: \"small\",\n                onClick: clear\n              }, {\n                default: withCtx(() => [\n                  createTextVNode(toDisplayString(unref(t)(\"el.colorpicker.clear\")), 1)\n                ]),\n                _: 1\n              }, 8, [\"class\"]),\n              createVNode(unref(ElButton), {\n                plain: \"\",\n                size: \"small\",\n                class: normalizeClass(unref(ns).be(\"dropdown\", \"btn\")),\n                onClick: confirmValue\n              }, {\n                default: withCtx(() => [\n                  createTextVNode(toDisplayString(unref(t)(\"el.colorpicker.confirm\")), 1)\n                ]),\n                _: 1\n              }, 8, [\"class\"])\n            ], 2)\n          ])), [\n            [unref(ClickOutside), hide]\n          ])\n        ]),\n        default: withCtx(() => [\n          createElementVNode(\"div\", {\n            id: unref(buttonId),\n            class: normalizeClass(unref(btnKls)),\n            role: \"button\",\n            \"aria-label\": unref(buttonAriaLabel),\n            \"aria-labelledby\": unref(buttonAriaLabelledby),\n            \"aria-description\": unref(t)(\"el.colorpicker.description\", { color: _ctx.modelValue || \"\" }),\n            tabindex: _ctx.tabindex,\n            onKeydown: withKeys(handleTrigger, [\"enter\"])\n          }, [\n            unref(colorDisabled) ? (openBlock(), createElementBlock(\"div\", {\n              key: 0,\n              class: normalizeClass(unref(ns).be(\"picker\", \"mask\"))\n            }, null, 2)) : createCommentVNode(\"v-if\", true),\n            createElementVNode(\"div\", {\n              class: normalizeClass(unref(ns).be(\"picker\", \"trigger\")),\n              onClick: handleTrigger\n            }, [\n              createElementVNode(\"span\", {\n                class: normalizeClass([unref(ns).be(\"picker\", \"color\"), unref(ns).is(\"alpha\", _ctx.showAlpha)])\n              }, [\n                createElementVNode(\"span\", {\n                  class: normalizeClass(unref(ns).be(\"picker\", \"color-inner\")),\n                  style: normalizeStyle({\n                    backgroundColor: unref(displayedColor)\n                  })\n                }, [\n                  withDirectives(createVNode(unref(ElIcon), {\n                    class: normalizeClass([unref(ns).be(\"picker\", \"icon\"), unref(ns).is(\"icon-arrow-down\")])\n                  }, {\n                    default: withCtx(() => [\n                      createVNode(unref(ArrowDown))\n                    ]),\n                    _: 1\n                  }, 8, [\"class\"]), [\n                    [vShow, _ctx.modelValue || showPanelColor.value]\n                  ]),\n                  !_ctx.modelValue && !showPanelColor.value ? (openBlock(), createBlock(unref(ElIcon), {\n                    key: 0,\n                    class: normalizeClass([unref(ns).be(\"picker\", \"empty\"), unref(ns).is(\"icon-close\")])\n                  }, {\n                    default: withCtx(() => [\n                      createVNode(unref(Close))\n                    ]),\n                    _: 1\n                  }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n                ], 6)\n              ], 2)\n            ], 2)\n          ], 42, _hoisted_1)\n        ]),\n        _: 1\n      }, 8, [\"visible\", \"popper-class\", \"transition\"]);\n    };\n  }\n});\nvar ColorPicker = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue\"]]);\n\nexport { ColorPicker as default };\n//# sourceMappingURL=color-picker2.mjs.map\n","import '../../utils/index.mjs';\nimport ColorPicker from './src/color-picker2.mjs';\nexport { colorPickerContextKey, colorPickerEmits, colorPickerProps } from './src/color-picker.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElColorPicker = withInstall(ColorPicker);\n\nexport { ElColorPicker, ElColorPicker as default };\n//# sourceMappingURL=index.mjs.map\n","import { defineComponent, createVNode, renderSlot, h } from 'vue';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useSameTarget } from '../../../hooks/use-same-target/index.mjs';\nimport { PatchFlags } from '../../../utils/vue/vnode.mjs';\n\nconst overlayProps = buildProps({\n  mask: {\n    type: Boolean,\n    default: true\n  },\n  customMaskEvent: {\n    type: Boolean,\n    default: false\n  },\n  overlayClass: {\n    type: definePropType([\n      String,\n      Array,\n      Object\n    ])\n  },\n  zIndex: {\n    type: definePropType([String, Number])\n  }\n});\nconst overlayEmits = {\n  click: (evt) => evt instanceof MouseEvent\n};\nconst BLOCK = \"overlay\";\nvar Overlay = defineComponent({\n  name: \"ElOverlay\",\n  props: overlayProps,\n  emits: overlayEmits,\n  setup(props, { slots, emit }) {\n    const ns = useNamespace(BLOCK);\n    const onMaskClick = (e) => {\n      emit(\"click\", e);\n    };\n    const { onClick, onMousedown, onMouseup } = useSameTarget(props.customMaskEvent ? void 0 : onMaskClick);\n    return () => {\n      return props.mask ? createVNode(\"div\", {\n        class: [ns.b(), props.overlayClass],\n        style: {\n          zIndex: props.zIndex\n        },\n        onClick,\n        onMousedown,\n        onMouseup\n      }, [renderSlot(slots, \"default\")], PatchFlags.STYLE | PatchFlags.CLASS | PatchFlags.PROPS, [\"onClick\", \"onMouseup\", \"onMousedown\"]) : h(\"div\", {\n        class: props.overlayClass,\n        style: {\n          zIndex: props.zIndex,\n          position: \"fixed\",\n          top: \"0px\",\n          right: \"0px\",\n          bottom: \"0px\",\n          left: \"0px\"\n        }\n      }, [renderSlot(slots, \"default\")]);\n    };\n  }\n});\n\nexport { Overlay as default, overlayEmits, overlayProps };\n//# sourceMappingURL=overlay.mjs.map\n","import Overlay from './src/overlay.mjs';\nexport { overlayEmits, overlayProps } from './src/overlay.mjs';\n\nconst ElOverlay = Overlay;\n\nexport { ElOverlay, ElOverlay as default };\n//# sourceMappingURL=index.mjs.map\n","const dialogInjectionKey = Symbol(\"dialogInjectionKey\");\n\nexport { dialogInjectionKey };\n//# sourceMappingURL=constants.mjs.map\n","import '../../../utils/index.mjs';\nimport { buildProps } from '../../../utils/vue/props/runtime.mjs';\nimport { iconPropType } from '../../../utils/vue/icon.mjs';\n\nconst dialogContentProps = buildProps({\n  center: {\n    type: Boolean,\n    default: false\n  },\n  alignCenter: {\n    type: Boolean,\n    default: false\n  },\n  closeIcon: {\n    type: iconPropType\n  },\n  customClass: {\n    type: String,\n    default: \"\"\n  },\n  draggable: {\n    type: Boolean,\n    default: false\n  },\n  fullscreen: {\n    type: Boolean,\n    default: false\n  },\n  showClose: {\n    type: Boolean,\n    default: true\n  },\n  title: {\n    type: String,\n    default: \"\"\n  }\n});\nconst dialogContentEmits = {\n  close: () => true\n};\n\nexport { dialogContentEmits, dialogContentProps };\n//# sourceMappingURL=dialog-content.mjs.map\n","import { defineComponent, inject, computed, openBlock, createElementBlock, unref, normalizeClass, normalizeStyle, createElementVNode, renderSlot, toDisplayString, createVNode, withCtx, createBlock, resolveDynamicComponent, createCommentVNode } from 'vue';\nimport { ElIcon } from '../../icon/index.mjs';\nimport '../../focus-trap/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../utils/index.mjs';\nimport { dialogInjectionKey } from './constants.mjs';\nimport { dialogContentProps, dialogContentEmits } from './dialog-content.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { CloseComponents } from '../../../utils/vue/icon.mjs';\nimport { FOCUS_TRAP_INJECTION_KEY } from '../../focus-trap/src/tokens.mjs';\nimport { composeRefs } from '../../../utils/vue/refs.mjs';\nimport { useDraggable } from '../../../hooks/use-draggable/index.mjs';\n\nconst _hoisted_1 = [\"aria-label\"];\nconst _hoisted_2 = [\"id\"];\nconst __default__ = defineComponent({ name: \"ElDialogContent\" });\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: dialogContentProps,\n  emits: dialogContentEmits,\n  setup(__props) {\n    const props = __props;\n    const { t } = useLocale();\n    const { Close } = CloseComponents;\n    const { dialogRef, headerRef, bodyId, ns, style } = inject(dialogInjectionKey);\n    const { focusTrapRef } = inject(FOCUS_TRAP_INJECTION_KEY);\n    const composedDialogRef = composeRefs(focusTrapRef, dialogRef);\n    const draggable = computed(() => props.draggable);\n    useDraggable(dialogRef, headerRef, draggable);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref: unref(composedDialogRef),\n        class: normalizeClass([\n          unref(ns).b(),\n          unref(ns).is(\"fullscreen\", _ctx.fullscreen),\n          unref(ns).is(\"draggable\", unref(draggable)),\n          unref(ns).is(\"align-center\", _ctx.alignCenter),\n          { [unref(ns).m(\"center\")]: _ctx.center },\n          _ctx.customClass\n        ]),\n        style: normalizeStyle(unref(style)),\n        tabindex: \"-1\"\n      }, [\n        createElementVNode(\"header\", {\n          ref_key: \"headerRef\",\n          ref: headerRef,\n          class: normalizeClass(unref(ns).e(\"header\"))\n        }, [\n          renderSlot(_ctx.$slots, \"header\", {}, () => [\n            createElementVNode(\"span\", {\n              role: \"heading\",\n              class: normalizeClass(unref(ns).e(\"title\"))\n            }, toDisplayString(_ctx.title), 3)\n          ]),\n          _ctx.showClose ? (openBlock(), createElementBlock(\"button\", {\n            key: 0,\n            \"aria-label\": unref(t)(\"el.dialog.close\"),\n            class: normalizeClass(unref(ns).e(\"headerbtn\")),\n            type: \"button\",\n            onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"close\"))\n          }, [\n            createVNode(unref(ElIcon), {\n              class: normalizeClass(unref(ns).e(\"close\"))\n            }, {\n              default: withCtx(() => [\n                (openBlock(), createBlock(resolveDynamicComponent(_ctx.closeIcon || unref(Close))))\n              ]),\n              _: 1\n            }, 8, [\"class\"])\n          ], 10, _hoisted_1)) : createCommentVNode(\"v-if\", true)\n        ], 2),\n        createElementVNode(\"div\", {\n          id: unref(bodyId),\n          class: normalizeClass(unref(ns).e(\"body\"))\n        }, [\n          renderSlot(_ctx.$slots, \"default\")\n        ], 10, _hoisted_2),\n        _ctx.$slots.footer ? (openBlock(), createElementBlock(\"footer\", {\n          key: 0,\n          class: normalizeClass(unref(ns).e(\"footer\"))\n        }, [\n          renderSlot(_ctx.$slots, \"footer\")\n        ], 2)) : createCommentVNode(\"v-if\", true)\n      ], 6);\n    };\n  }\n});\nvar ElDialogContent = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue\"]]);\n\nexport { ElDialogContent as default };\n//# sourceMappingURL=dialog-content2.mjs.map\n","import '../../../utils/index.mjs';\nimport '../../../constants/index.mjs';\nimport { dialogContentProps } from './dialog-content.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { isBoolean } from '../../../utils/types.mjs';\n\nconst dialogProps = buildProps({\n  ...dialogContentProps,\n  appendToBody: {\n    type: Boolean,\n    default: false\n  },\n  beforeClose: {\n    type: definePropType(Function)\n  },\n  destroyOnClose: {\n    type: Boolean,\n    default: false\n  },\n  closeOnClickModal: {\n    type: Boolean,\n    default: true\n  },\n  closeOnPressEscape: {\n    type: Boolean,\n    default: true\n  },\n  lockScroll: {\n    type: Boolean,\n    default: true\n  },\n  modal: {\n    type: Boolean,\n    default: true\n  },\n  openDelay: {\n    type: Number,\n    default: 0\n  },\n  closeDelay: {\n    type: Number,\n    default: 0\n  },\n  top: {\n    type: String\n  },\n  modelValue: {\n    type: Boolean,\n    default: false\n  },\n  modalClass: String,\n  width: {\n    type: [String, Number]\n  },\n  zIndex: {\n    type: Number\n  },\n  trapFocus: {\n    type: Boolean,\n    default: false\n  }\n});\nconst dialogEmits = {\n  open: () => true,\n  opened: () => true,\n  close: () => true,\n  closed: () => true,\n  [UPDATE_MODEL_EVENT]: (value) => isBoolean(value),\n  openAutoFocus: () => true,\n  closeAutoFocus: () => true\n};\n\nexport { dialogEmits, dialogProps };\n//# sourceMappingURL=dialog.mjs.map\n","import { getCurrentInstance, ref, computed, watch, nextTick, onMounted } from 'vue';\nimport { useTimeoutFn, isClient } from '@vueuse/core';\nimport '../../../hooks/index.mjs';\nimport '../../../constants/index.mjs';\nimport '../../../utils/index.mjs';\nimport '../../config-provider/index.mjs';\nimport { useZIndex } from '../../../hooks/use-z-index/index.mjs';\nimport { useId } from '../../../hooks/use-id/index.mjs';\nimport { useGlobalConfig } from '../../config-provider/src/hooks/use-global-config.mjs';\nimport { defaultNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { addUnit } from '../../../utils/dom/style.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { useLockscreen } from '../../../hooks/use-lockscreen/index.mjs';\n\nconst useDialog = (props, targetRef) => {\n  const instance = getCurrentInstance();\n  const emit = instance.emit;\n  const { nextZIndex } = useZIndex();\n  let lastPosition = \"\";\n  const titleId = useId();\n  const bodyId = useId();\n  const visible = ref(false);\n  const closed = ref(false);\n  const rendered = ref(false);\n  const zIndex = ref(props.zIndex || nextZIndex());\n  let openTimer = void 0;\n  let closeTimer = void 0;\n  const namespace = useGlobalConfig(\"namespace\", defaultNamespace);\n  const style = computed(() => {\n    const style2 = {};\n    const varPrefix = `--${namespace.value}-dialog`;\n    if (!props.fullscreen) {\n      if (props.top) {\n        style2[`${varPrefix}-margin-top`] = props.top;\n      }\n      if (props.width) {\n        style2[`${varPrefix}-width`] = addUnit(props.width);\n      }\n    }\n    return style2;\n  });\n  const overlayDialogStyle = computed(() => {\n    if (props.alignCenter) {\n      return { display: \"flex\" };\n    }\n    return {};\n  });\n  function afterEnter() {\n    emit(\"opened\");\n  }\n  function afterLeave() {\n    emit(\"closed\");\n    emit(UPDATE_MODEL_EVENT, false);\n    if (props.destroyOnClose) {\n      rendered.value = false;\n    }\n  }\n  function beforeLeave() {\n    emit(\"close\");\n  }\n  function open() {\n    closeTimer == null ? void 0 : closeTimer();\n    openTimer == null ? void 0 : openTimer();\n    if (props.openDelay && props.openDelay > 0) {\n      ;\n      ({ stop: openTimer } = useTimeoutFn(() => doOpen(), props.openDelay));\n    } else {\n      doOpen();\n    }\n  }\n  function close() {\n    openTimer == null ? void 0 : openTimer();\n    closeTimer == null ? void 0 : closeTimer();\n    if (props.closeDelay && props.closeDelay > 0) {\n      ;\n      ({ stop: closeTimer } = useTimeoutFn(() => doClose(), props.closeDelay));\n    } else {\n      doClose();\n    }\n  }\n  function handleClose() {\n    function hide(shouldCancel) {\n      if (shouldCancel)\n        return;\n      closed.value = true;\n      visible.value = false;\n    }\n    if (props.beforeClose) {\n      props.beforeClose(hide);\n    } else {\n      close();\n    }\n  }\n  function onModalClick() {\n    if (props.closeOnClickModal) {\n      handleClose();\n    }\n  }\n  function doOpen() {\n    if (!isClient)\n      return;\n    visible.value = true;\n  }\n  function doClose() {\n    visible.value = false;\n  }\n  function onOpenAutoFocus() {\n    emit(\"openAutoFocus\");\n  }\n  function onCloseAutoFocus() {\n    emit(\"closeAutoFocus\");\n  }\n  function onFocusoutPrevented(event) {\n    var _a;\n    if (((_a = event.detail) == null ? void 0 : _a.focusReason) === \"pointer\") {\n      event.preventDefault();\n    }\n  }\n  if (props.lockScroll) {\n    useLockscreen(visible);\n  }\n  function onCloseRequested() {\n    if (props.closeOnPressEscape) {\n      handleClose();\n    }\n  }\n  watch(() => props.modelValue, (val) => {\n    if (val) {\n      closed.value = false;\n      open();\n      rendered.value = true;\n      zIndex.value = props.zIndex ? zIndex.value++ : nextZIndex();\n      nextTick(() => {\n        emit(\"open\");\n        if (targetRef.value) {\n          targetRef.value.scrollTop = 0;\n        }\n      });\n    } else {\n      if (visible.value) {\n        close();\n      }\n    }\n  });\n  watch(() => props.fullscreen, (val) => {\n    if (!targetRef.value)\n      return;\n    if (val) {\n      lastPosition = targetRef.value.style.transform;\n      targetRef.value.style.transform = \"\";\n    } else {\n      targetRef.value.style.transform = lastPosition;\n    }\n  });\n  onMounted(() => {\n    if (props.modelValue) {\n      visible.value = true;\n      rendered.value = true;\n      open();\n    }\n  });\n  return {\n    afterEnter,\n    afterLeave,\n    beforeLeave,\n    handleClose,\n    onModalClick,\n    close,\n    doClose,\n    onOpenAutoFocus,\n    onCloseAutoFocus,\n    onCloseRequested,\n    onFocusoutPrevented,\n    titleId,\n    bodyId,\n    closed,\n    style,\n    overlayDialogStyle,\n    rendered,\n    visible,\n    zIndex\n  };\n};\n\nexport { useDialog };\n//# sourceMappingURL=use-dialog.mjs.map\n","import { defineComponent, useSlots, computed, ref, provide, openBlock, createBlock, Teleport, createVNode, Transition, unref, withCtx, withDirectives, createElementVNode, normalizeClass, normalizeStyle, mergeProps, createSlots, renderSlot, createCommentVNode, vShow } from 'vue';\nimport { ElOverlay } from '../../overlay/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../focus-trap/index.mjs';\nimport ElDialogContent from './dialog-content2.mjs';\nimport { dialogInjectionKey } from './constants.mjs';\nimport { dialogProps, dialogEmits } from './dialog.mjs';\nimport { useDialog } from './use-dialog.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useDeprecated } from '../../../hooks/use-deprecated/index.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useSameTarget } from '../../../hooks/use-same-target/index.mjs';\nimport ElFocusTrap from '../../focus-trap/src/focus-trap.mjs';\n\nconst _hoisted_1 = [\"aria-label\", \"aria-labelledby\", \"aria-describedby\"];\nconst __default__ = defineComponent({\n  name: \"ElDialog\",\n  inheritAttrs: false\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: dialogProps,\n  emits: dialogEmits,\n  setup(__props, { expose }) {\n    const props = __props;\n    const slots = useSlots();\n    useDeprecated({\n      scope: \"el-dialog\",\n      from: \"the title slot\",\n      replacement: \"the header slot\",\n      version: \"3.0.0\",\n      ref: \"https://element-plus.org/en-US/component/dialog.html#slots\"\n    }, computed(() => !!slots.title));\n    useDeprecated({\n      scope: \"el-dialog\",\n      from: \"custom-class\",\n      replacement: \"class\",\n      version: \"2.3.0\",\n      ref: \"https://element-plus.org/en-US/component/dialog.html#attributes\",\n      type: \"Attribute\"\n    }, computed(() => !!props.customClass));\n    const ns = useNamespace(\"dialog\");\n    const dialogRef = ref();\n    const headerRef = ref();\n    const dialogContentRef = ref();\n    const {\n      visible,\n      titleId,\n      bodyId,\n      style,\n      overlayDialogStyle,\n      rendered,\n      zIndex,\n      afterEnter,\n      afterLeave,\n      beforeLeave,\n      handleClose,\n      onModalClick,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      onCloseRequested,\n      onFocusoutPrevented\n    } = useDialog(props, dialogRef);\n    provide(dialogInjectionKey, {\n      dialogRef,\n      headerRef,\n      bodyId,\n      ns,\n      rendered,\n      style\n    });\n    const overlayEvent = useSameTarget(onModalClick);\n    const draggable = computed(() => props.draggable && !props.fullscreen);\n    expose({\n      visible,\n      dialogContentRef\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(Teleport, {\n        to: \"body\",\n        disabled: !_ctx.appendToBody\n      }, [\n        createVNode(Transition, {\n          name: \"dialog-fade\",\n          onAfterEnter: unref(afterEnter),\n          onAfterLeave: unref(afterLeave),\n          onBeforeLeave: unref(beforeLeave),\n          persisted: \"\"\n        }, {\n          default: withCtx(() => [\n            withDirectives(createVNode(unref(ElOverlay), {\n              \"custom-mask-event\": \"\",\n              mask: _ctx.modal,\n              \"overlay-class\": _ctx.modalClass,\n              \"z-index\": unref(zIndex)\n            }, {\n              default: withCtx(() => [\n                createElementVNode(\"div\", {\n                  role: \"dialog\",\n                  \"aria-modal\": \"true\",\n                  \"aria-label\": _ctx.title || void 0,\n                  \"aria-labelledby\": !_ctx.title ? unref(titleId) : void 0,\n                  \"aria-describedby\": unref(bodyId),\n                  class: normalizeClass(`${unref(ns).namespace.value}-overlay-dialog`),\n                  style: normalizeStyle(unref(overlayDialogStyle)),\n                  onClick: _cache[0] || (_cache[0] = (...args) => unref(overlayEvent).onClick && unref(overlayEvent).onClick(...args)),\n                  onMousedown: _cache[1] || (_cache[1] = (...args) => unref(overlayEvent).onMousedown && unref(overlayEvent).onMousedown(...args)),\n                  onMouseup: _cache[2] || (_cache[2] = (...args) => unref(overlayEvent).onMouseup && unref(overlayEvent).onMouseup(...args))\n                }, [\n                  createVNode(unref(ElFocusTrap), {\n                    loop: \"\",\n                    trapped: unref(visible),\n                    \"focus-start-el\": \"container\",\n                    onFocusAfterTrapped: unref(onOpenAutoFocus),\n                    onFocusAfterReleased: unref(onCloseAutoFocus),\n                    onFocusoutPrevented: unref(onFocusoutPrevented),\n                    onReleaseRequested: unref(onCloseRequested)\n                  }, {\n                    default: withCtx(() => [\n                      unref(rendered) ? (openBlock(), createBlock(ElDialogContent, mergeProps({\n                        key: 0,\n                        ref_key: \"dialogContentRef\",\n                        ref: dialogContentRef\n                      }, _ctx.$attrs, {\n                        \"custom-class\": _ctx.customClass,\n                        center: _ctx.center,\n                        \"align-center\": _ctx.alignCenter,\n                        \"close-icon\": _ctx.closeIcon,\n                        draggable: unref(draggable),\n                        fullscreen: _ctx.fullscreen,\n                        \"show-close\": _ctx.showClose,\n                        title: _ctx.title,\n                        onClose: unref(handleClose)\n                      }), createSlots({\n                        header: withCtx(() => [\n                          !_ctx.$slots.title ? renderSlot(_ctx.$slots, \"header\", {\n                            key: 0,\n                            close: unref(handleClose),\n                            titleId: unref(titleId),\n                            titleClass: unref(ns).e(\"title\")\n                          }) : renderSlot(_ctx.$slots, \"title\", { key: 1 })\n                        ]),\n                        default: withCtx(() => [\n                          renderSlot(_ctx.$slots, \"default\")\n                        ]),\n                        _: 2\n                      }, [\n                        _ctx.$slots.footer ? {\n                          name: \"footer\",\n                          fn: withCtx(() => [\n                            renderSlot(_ctx.$slots, \"footer\")\n                          ])\n                        } : void 0\n                      ]), 1040, [\"custom-class\", \"center\", \"align-center\", \"close-icon\", \"draggable\", \"fullscreen\", \"show-close\", \"title\", \"onClose\"])) : createCommentVNode(\"v-if\", true)\n                    ]),\n                    _: 3\n                  }, 8, [\"trapped\", \"onFocusAfterTrapped\", \"onFocusAfterReleased\", \"onFocusoutPrevented\", \"onReleaseRequested\"])\n                ], 46, _hoisted_1)\n              ]),\n              _: 3\n            }, 8, [\"mask\", \"overlay-class\", \"z-index\"]), [\n              [vShow, unref(visible)]\n            ])\n          ]),\n          _: 3\n        }, 8, [\"onAfterEnter\", \"onAfterLeave\", \"onBeforeLeave\"])\n      ], 8, [\"disabled\"]);\n    };\n  }\n});\nvar Dialog = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue\"]]);\n\nexport { Dialog as default };\n//# sourceMappingURL=dialog2.mjs.map\n","import '../../utils/index.mjs';\nimport Dialog from './src/dialog2.mjs';\nexport { useDialog } from './src/use-dialog.mjs';\nexport { dialogEmits, dialogProps } from './src/dialog.mjs';\nexport { dialogInjectionKey } from './src/constants.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElDialog = withInstall(Dialog);\n\nexport { ElDialog, ElDialog as default };\n//# sourceMappingURL=index.mjs.map\n","import '../../../utils/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\n\nconst dividerProps = buildProps({\n  direction: {\n    type: String,\n    values: [\"horizontal\", \"vertical\"],\n    default: \"horizontal\"\n  },\n  contentPosition: {\n    type: String,\n    values: [\"left\", \"center\", \"right\"],\n    default: \"center\"\n  },\n  borderStyle: {\n    type: definePropType(String),\n    default: \"solid\"\n  }\n});\n\nexport { dividerProps };\n//# sourceMappingURL=divider.mjs.map\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, unref, normalizeStyle, renderSlot, createCommentVNode } from 'vue';\nimport '../../../hooks/index.mjs';\nimport { dividerProps } from './divider.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst __default__ = defineComponent({\n  name: \"ElDivider\"\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: dividerProps,\n  setup(__props) {\n    const props = __props;\n    const ns = useNamespace(\"divider\");\n    const dividerStyle = computed(() => {\n      return ns.cssVar({\n        \"border-style\": props.borderStyle\n      });\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([unref(ns).b(), unref(ns).m(_ctx.direction)]),\n        style: normalizeStyle(unref(dividerStyle)),\n        role: \"separator\"\n      }, [\n        _ctx.$slots.default && _ctx.direction !== \"vertical\" ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          class: normalizeClass([unref(ns).e(\"text\"), unref(ns).is(_ctx.contentPosition)])\n        }, [\n          renderSlot(_ctx.$slots, \"default\")\n        ], 2)) : createCommentVNode(\"v-if\", true)\n      ], 6);\n    };\n  }\n});\nvar Divider = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue\"]]);\n\nexport { Divider as default };\n//# sourceMappingURL=divider2.mjs.map\n","import '../../utils/index.mjs';\nimport Divider from './src/divider2.mjs';\nexport { dividerProps } from './src/divider.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElDivider = withInstall(Divider);\n\nexport { ElDivider, ElDivider as default };\n//# sourceMappingURL=index.mjs.map\n","const selectGroupKey = Symbol(\"ElSelectGroup\");\nconst selectKey = Symbol(\"ElSelect\");\n\nexport { selectGroupKey, selectKey };\n//# sourceMappingURL=token.mjs.map\n","import { inject, computed, getCurrentInstance, toRaw, watch, unref } from 'vue';\nimport { get } from 'lodash-unified';\nimport '../../../utils/index.mjs';\nimport { selectKey, selectGroupKey } from './token.mjs';\nimport { escapeStringRegexp } from '../../../utils/strings.mjs';\n\nfunction useOption(props, states) {\n  const select = inject(selectKey);\n  const selectGroup = inject(selectGroupKey, { disabled: false });\n  const isObject = computed(() => {\n    return Object.prototype.toString.call(props.value).toLowerCase() === \"[object object]\";\n  });\n  const itemSelected = computed(() => {\n    if (!select.props.multiple) {\n      return isEqual(props.value, select.props.modelValue);\n    } else {\n      return contains(select.props.modelValue, props.value);\n    }\n  });\n  const limitReached = computed(() => {\n    if (select.props.multiple) {\n      const modelValue = select.props.modelValue || [];\n      return !itemSelected.value && modelValue.length >= select.props.multipleLimit && select.props.multipleLimit > 0;\n    } else {\n      return false;\n    }\n  });\n  const currentLabel = computed(() => {\n    return props.label || (isObject.value ? \"\" : props.value);\n  });\n  const currentValue = computed(() => {\n    return props.value || props.label || \"\";\n  });\n  const isDisabled = computed(() => {\n    return props.disabled || states.groupDisabled || limitReached.value;\n  });\n  const instance = getCurrentInstance();\n  const contains = (arr = [], target) => {\n    if (!isObject.value) {\n      return arr && arr.includes(target);\n    } else {\n      const valueKey = select.props.valueKey;\n      return arr && arr.some((item) => {\n        return toRaw(get(item, valueKey)) === get(target, valueKey);\n      });\n    }\n  };\n  const isEqual = (a, b) => {\n    if (!isObject.value) {\n      return a === b;\n    } else {\n      const { valueKey } = select.props;\n      return get(a, valueKey) === get(b, valueKey);\n    }\n  };\n  const hoverItem = () => {\n    if (!props.disabled && !selectGroup.disabled) {\n      select.hoverIndex = select.optionsArray.indexOf(instance.proxy);\n    }\n  };\n  watch(() => currentLabel.value, () => {\n    if (!props.created && !select.props.remote)\n      select.setSelected();\n  });\n  watch(() => props.value, (val, oldVal) => {\n    const { remote, valueKey } = select.props;\n    if (!Object.is(val, oldVal)) {\n      select.onOptionDestroy(oldVal, instance.proxy);\n      select.onOptionCreate(instance.proxy);\n    }\n    if (!props.created && !remote) {\n      if (valueKey && typeof val === \"object\" && typeof oldVal === \"object\" && val[valueKey] === oldVal[valueKey]) {\n        return;\n      }\n      select.setSelected();\n    }\n  });\n  watch(() => selectGroup.disabled, () => {\n    states.groupDisabled = selectGroup.disabled;\n  }, { immediate: true });\n  const { queryChange } = toRaw(select);\n  watch(queryChange, (changes) => {\n    const { query } = unref(changes);\n    const regexp = new RegExp(escapeStringRegexp(query), \"i\");\n    states.visible = regexp.test(currentLabel.value) || props.created;\n    if (!states.visible) {\n      select.filteredOptionsCount--;\n    }\n  }, { immediate: true });\n  return {\n    select,\n    currentLabel,\n    currentValue,\n    itemSelected,\n    isDisabled,\n    hoverItem\n  };\n}\n\nexport { useOption };\n//# sourceMappingURL=useOption.mjs.map\n","import { defineComponent, reactive, toRefs, getCurrentInstance, onBeforeUnmount, nextTick, withDirectives, openBlock, createElementBlock, normalizeClass, withModifiers, renderSlot, createElementVNode, toDisplayString, vShow } from 'vue';\nimport '../../../hooks/index.mjs';\nimport { useOption } from './useOption.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElOption\",\n  componentName: \"ElOption\",\n  props: {\n    value: {\n      required: true,\n      type: [String, Number, Boolean, Object]\n    },\n    label: [String, Number],\n    created: Boolean,\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    const ns = useNamespace(\"select\");\n    const states = reactive({\n      index: -1,\n      groupDisabled: false,\n      visible: true,\n      hitState: false,\n      hover: false\n    });\n    const { currentLabel, itemSelected, isDisabled, select, hoverItem } = useOption(props, states);\n    const { visible, hover } = toRefs(states);\n    const vm = getCurrentInstance().proxy;\n    select.onOptionCreate(vm);\n    onBeforeUnmount(() => {\n      const key = vm.value;\n      const { selected } = select;\n      const selectedOptions = select.props.multiple ? selected : [selected];\n      const doesSelected = selectedOptions.some((item) => {\n        return item.value === vm.value;\n      });\n      nextTick(() => {\n        if (select.cachedOptions.get(key) === vm && !doesSelected) {\n          select.cachedOptions.delete(key);\n        }\n      });\n      select.onOptionDestroy(key, vm);\n    });\n    function selectOptionClick() {\n      if (props.disabled !== true && states.groupDisabled !== true) {\n        select.handleOptionSelect(vm, true);\n      }\n    }\n    return {\n      ns,\n      currentLabel,\n      itemSelected,\n      isDisabled,\n      select,\n      hoverItem,\n      visible,\n      hover,\n      selectOptionClick,\n      states\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return withDirectives((openBlock(), createElementBlock(\"li\", {\n    class: normalizeClass([\n      _ctx.ns.be(\"dropdown\", \"item\"),\n      _ctx.ns.is(\"disabled\", _ctx.isDisabled),\n      {\n        selected: _ctx.itemSelected,\n        hover: _ctx.hover\n      }\n    ]),\n    onMouseenter: _cache[0] || (_cache[0] = (...args) => _ctx.hoverItem && _ctx.hoverItem(...args)),\n    onClick: _cache[1] || (_cache[1] = withModifiers((...args) => _ctx.selectOptionClick && _ctx.selectOptionClick(...args), [\"stop\"]))\n  }, [\n    renderSlot(_ctx.$slots, \"default\", {}, () => [\n      createElementVNode(\"span\", null, toDisplayString(_ctx.currentLabel), 1)\n    ])\n  ], 34)), [\n    [vShow, _ctx.visible]\n  ]);\n}\nvar Option = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue\"]]);\n\nexport { Option as default };\n//# sourceMappingURL=option.mjs.map\n","import { defineComponent, inject, computed, ref, onMounted, openBlock, createElementBlock, normalizeClass, normalizeStyle, renderSlot } from 'vue';\nimport { useResizeObserver } from '@vueuse/core';\nimport '../../../hooks/index.mjs';\nimport { selectKey } from './token.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElSelectDropdown\",\n  componentName: \"ElSelectDropdown\",\n  setup() {\n    const select = inject(selectKey);\n    const ns = useNamespace(\"select\");\n    const popperClass = computed(() => select.props.popperClass);\n    const isMultiple = computed(() => select.props.multiple);\n    const isFitInputWidth = computed(() => select.props.fitInputWidth);\n    const minWidth = ref(\"\");\n    function updateMinWidth() {\n      var _a;\n      minWidth.value = `${(_a = select.selectWrapper) == null ? void 0 : _a.offsetWidth}px`;\n    }\n    onMounted(() => {\n      updateMinWidth();\n      useResizeObserver(select.selectWrapper, updateMinWidth);\n    });\n    return {\n      ns,\n      minWidth,\n      popperClass,\n      isMultiple,\n      isFitInputWidth\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([_ctx.ns.b(\"dropdown\"), _ctx.ns.is(\"multiple\", _ctx.isMultiple), _ctx.popperClass]),\n    style: normalizeStyle({ [_ctx.isFitInputWidth ? \"width\" : \"minWidth\"]: _ctx.minWidth })\n  }, [\n    renderSlot(_ctx.$slots, \"default\")\n  ], 6);\n}\nvar ElSelectMenu = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue\"]]);\n\nexport { ElSelectMenu as default };\n//# sourceMappingURL=select-dropdown.mjs.map\n","import { reactive, computed, ref, shallowRef, watch, nextTick, triggerRef, toRaw } from 'vue';\nimport { isFunction, toRawType, isString, isObject } from '@vue/shared';\nimport { isEqual, get, debounce } from 'lodash-unified';\nimport '../../../constants/index.mjs';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../form/index.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useDeprecated } from '../../../hooks/use-deprecated/index.mjs';\nimport { useFormItem } from '../../form/src/hooks/use-form-item.mjs';\nimport { useFormSize } from '../../form/src/hooks/use-form-common-props.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\nimport { isClient } from '@vueuse/core';\nimport { isNumber } from '../../../utils/types.mjs';\nimport { getComponentSize } from '../../../utils/vue/size.mjs';\nimport { CHANGE_EVENT, UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { EVENT_CODE } from '../../../constants/aria.mjs';\nimport { scrollIntoView } from '../../../utils/dom/scroll.mjs';\nimport { isKorean } from '../../../utils/i18n.mjs';\n\nfunction useSelectStates(props) {\n  const { t } = useLocale();\n  return reactive({\n    options: /* @__PURE__ */ new Map(),\n    cachedOptions: /* @__PURE__ */ new Map(),\n    createdLabel: null,\n    createdSelected: false,\n    selected: props.multiple ? [] : {},\n    inputLength: 20,\n    inputWidth: 0,\n    optionsCount: 0,\n    filteredOptionsCount: 0,\n    visible: false,\n    softFocus: false,\n    selectedLabel: \"\",\n    hoverIndex: -1,\n    query: \"\",\n    previousQuery: null,\n    inputHovering: false,\n    cachedPlaceHolder: \"\",\n    currentPlaceholder: t(\"el.select.placeholder\"),\n    menuVisibleOnFocus: false,\n    isOnComposition: false,\n    isSilentBlur: false,\n    prefixWidth: 11,\n    tagInMultiLine: false,\n    mouseEnter: false\n  });\n}\nconst useSelect = (props, states, ctx) => {\n  const { t } = useLocale();\n  const ns = useNamespace(\"select\");\n  useDeprecated({\n    from: \"suffixTransition\",\n    replacement: \"override style scheme\",\n    version: \"2.3.0\",\n    scope: \"props\",\n    ref: \"https://element-plus.org/en-US/component/select.html#select-attributes\"\n  }, computed(() => props.suffixTransition === false));\n  const reference = ref(null);\n  const input = ref(null);\n  const iOSInput = ref(null);\n  const tooltipRef = ref(null);\n  const tags = ref(null);\n  const selectWrapper = ref(null);\n  const scrollbar = ref(null);\n  const hoverOption = ref(-1);\n  const queryChange = shallowRef({ query: \"\" });\n  const groupQueryChange = shallowRef(\"\");\n  const optionList = ref([]);\n  let originClientHeight = 0;\n  const { form, formItem } = useFormItem();\n  const readonly = computed(() => !props.filterable || props.multiple || !states.visible);\n  const selectDisabled = computed(() => props.disabled || (form == null ? void 0 : form.disabled));\n  const showClose = computed(() => {\n    const hasValue = props.multiple ? Array.isArray(props.modelValue) && props.modelValue.length > 0 : props.modelValue !== void 0 && props.modelValue !== null && props.modelValue !== \"\";\n    const criteria = props.clearable && !selectDisabled.value && states.inputHovering && hasValue;\n    return criteria;\n  });\n  const iconComponent = computed(() => props.remote && props.filterable && !props.remoteShowSuffix ? \"\" : props.suffixIcon);\n  const iconReverse = computed(() => ns.is(\"reverse\", iconComponent.value && states.visible && props.suffixTransition));\n  const debounce$1 = computed(() => props.remote ? 300 : 0);\n  const emptyText = computed(() => {\n    if (props.loading) {\n      return props.loadingText || t(\"el.select.loading\");\n    } else {\n      if (props.remote && states.query === \"\" && states.options.size === 0)\n        return false;\n      if (props.filterable && states.query && states.options.size > 0 && states.filteredOptionsCount === 0) {\n        return props.noMatchText || t(\"el.select.noMatch\");\n      }\n      if (states.options.size === 0) {\n        return props.noDataText || t(\"el.select.noData\");\n      }\n    }\n    return null;\n  });\n  const optionsArray = computed(() => {\n    const list = Array.from(states.options.values());\n    const newList = [];\n    optionList.value.forEach((item) => {\n      const index = list.findIndex((i) => i.currentLabel === item);\n      if (index > -1) {\n        newList.push(list[index]);\n      }\n    });\n    return newList.length ? newList : list;\n  });\n  const cachedOptionsArray = computed(() => Array.from(states.cachedOptions.values()));\n  const showNewOption = computed(() => {\n    const hasExistingOption = optionsArray.value.filter((option) => {\n      return !option.created;\n    }).some((option) => {\n      return option.currentLabel === states.query;\n    });\n    return props.filterable && props.allowCreate && states.query !== \"\" && !hasExistingOption;\n  });\n  const selectSize = useFormSize();\n  const collapseTagSize = computed(() => [\"small\"].includes(selectSize.value) ? \"small\" : \"default\");\n  const dropMenuVisible = computed({\n    get() {\n      return states.visible && emptyText.value !== false;\n    },\n    set(val) {\n      states.visible = val;\n    }\n  });\n  watch([() => selectDisabled.value, () => selectSize.value, () => form == null ? void 0 : form.size], () => {\n    nextTick(() => {\n      resetInputHeight();\n    });\n  });\n  watch(() => props.placeholder, (val) => {\n    states.cachedPlaceHolder = states.currentPlaceholder = val;\n  });\n  watch(() => props.modelValue, (val, oldVal) => {\n    if (props.multiple) {\n      resetInputHeight();\n      if (val && val.length > 0 || input.value && states.query !== \"\") {\n        states.currentPlaceholder = \"\";\n      } else {\n        states.currentPlaceholder = states.cachedPlaceHolder;\n      }\n      if (props.filterable && !props.reserveKeyword) {\n        states.query = \"\";\n        handleQueryChange(states.query);\n      }\n    }\n    setSelected();\n    if (props.filterable && !props.multiple) {\n      states.inputLength = 20;\n    }\n    if (!isEqual(val, oldVal) && props.validateEvent) {\n      formItem == null ? void 0 : formItem.validate(\"change\").catch((err) => debugWarn(err));\n    }\n  }, {\n    flush: \"post\",\n    deep: true\n  });\n  watch(() => states.visible, (val) => {\n    var _a, _b, _c, _d, _e;\n    if (!val) {\n      if (props.filterable) {\n        if (isFunction(props.filterMethod)) {\n          props.filterMethod(\"\");\n        }\n        if (isFunction(props.remoteMethod)) {\n          props.remoteMethod(\"\");\n        }\n      }\n      input.value && input.value.blur();\n      states.query = \"\";\n      states.previousQuery = null;\n      states.selectedLabel = \"\";\n      states.inputLength = 20;\n      states.menuVisibleOnFocus = false;\n      resetHoverIndex();\n      nextTick(() => {\n        if (input.value && input.value.value === \"\" && states.selected.length === 0) {\n          states.currentPlaceholder = states.cachedPlaceHolder;\n        }\n      });\n      if (!props.multiple) {\n        if (states.selected) {\n          if (props.filterable && props.allowCreate && states.createdSelected && states.createdLabel) {\n            states.selectedLabel = states.createdLabel;\n          } else {\n            states.selectedLabel = states.selected.currentLabel;\n          }\n          if (props.filterable)\n            states.query = states.selectedLabel;\n        }\n        if (props.filterable) {\n          states.currentPlaceholder = states.cachedPlaceHolder;\n        }\n      }\n    } else {\n      (_b = (_a = tooltipRef.value) == null ? void 0 : _a.updatePopper) == null ? void 0 : _b.call(_a);\n      if (props.filterable) {\n        states.filteredOptionsCount = states.optionsCount;\n        states.query = props.remote ? \"\" : states.selectedLabel;\n        (_d = (_c = iOSInput.value) == null ? void 0 : _c.focus) == null ? void 0 : _d.call(_c);\n        if (props.multiple) {\n          (_e = input.value) == null ? void 0 : _e.focus();\n        } else {\n          if (states.selectedLabel) {\n            states.currentPlaceholder = `${states.selectedLabel}`;\n            states.selectedLabel = \"\";\n          }\n        }\n        handleQueryChange(states.query);\n        if (!props.multiple && !props.remote) {\n          queryChange.value.query = \"\";\n          triggerRef(queryChange);\n          triggerRef(groupQueryChange);\n        }\n      }\n    }\n    ctx.emit(\"visible-change\", val);\n  });\n  watch(() => states.options.entries(), () => {\n    var _a, _b, _c;\n    if (!isClient)\n      return;\n    (_b = (_a = tooltipRef.value) == null ? void 0 : _a.updatePopper) == null ? void 0 : _b.call(_a);\n    if (props.multiple) {\n      resetInputHeight();\n    }\n    const inputs = ((_c = selectWrapper.value) == null ? void 0 : _c.querySelectorAll(\"input\")) || [];\n    if (!Array.from(inputs).includes(document.activeElement)) {\n      setSelected();\n    }\n    if (props.defaultFirstOption && (props.filterable || props.remote) && states.filteredOptionsCount) {\n      checkDefaultFirstOption();\n    }\n  }, {\n    flush: \"post\"\n  });\n  watch(() => states.hoverIndex, (val) => {\n    if (isNumber(val) && val > -1) {\n      hoverOption.value = optionsArray.value[val] || {};\n    } else {\n      hoverOption.value = {};\n    }\n    optionsArray.value.forEach((option) => {\n      option.hover = hoverOption.value === option;\n    });\n  });\n  const resetInputHeight = () => {\n    nextTick(() => {\n      var _a, _b;\n      if (!reference.value)\n        return;\n      const input2 = reference.value.$el.querySelector(\"input\");\n      originClientHeight = originClientHeight || (input2.clientHeight > 0 ? input2.clientHeight + 2 : 0);\n      const _tags = tags.value;\n      const gotSize = getComponentSize(selectSize.value || (form == null ? void 0 : form.size));\n      const sizeInMap = selectSize.value || gotSize === originClientHeight || originClientHeight <= 0 ? gotSize : originClientHeight;\n      const isElHidden = input2.offsetParent === null;\n      !isElHidden && (input2.style.height = `${(states.selected.length === 0 ? sizeInMap : Math.max(_tags ? _tags.clientHeight + (_tags.clientHeight > sizeInMap ? 6 : 0) : 0, sizeInMap)) - 2}px`);\n      states.tagInMultiLine = Number.parseFloat(input2.style.height) >= sizeInMap;\n      if (states.visible && emptyText.value !== false) {\n        (_b = (_a = tooltipRef.value) == null ? void 0 : _a.updatePopper) == null ? void 0 : _b.call(_a);\n      }\n    });\n  };\n  const handleQueryChange = async (val) => {\n    if (states.previousQuery === val || states.isOnComposition)\n      return;\n    if (states.previousQuery === null && (isFunction(props.filterMethod) || isFunction(props.remoteMethod))) {\n      states.previousQuery = val;\n      return;\n    }\n    states.previousQuery = val;\n    nextTick(() => {\n      var _a, _b;\n      if (states.visible)\n        (_b = (_a = tooltipRef.value) == null ? void 0 : _a.updatePopper) == null ? void 0 : _b.call(_a);\n    });\n    states.hoverIndex = -1;\n    if (props.multiple && props.filterable) {\n      nextTick(() => {\n        const length = input.value.value.length * 15 + 20;\n        states.inputLength = props.collapseTags ? Math.min(50, length) : length;\n        managePlaceholder();\n        resetInputHeight();\n      });\n    }\n    if (props.remote && isFunction(props.remoteMethod)) {\n      states.hoverIndex = -1;\n      props.remoteMethod(val);\n    } else if (isFunction(props.filterMethod)) {\n      props.filterMethod(val);\n      triggerRef(groupQueryChange);\n    } else {\n      states.filteredOptionsCount = states.optionsCount;\n      queryChange.value.query = val;\n      triggerRef(queryChange);\n      triggerRef(groupQueryChange);\n    }\n    if (props.defaultFirstOption && (props.filterable || props.remote) && states.filteredOptionsCount) {\n      await nextTick();\n      checkDefaultFirstOption();\n    }\n  };\n  const managePlaceholder = () => {\n    if (states.currentPlaceholder !== \"\") {\n      states.currentPlaceholder = input.value.value ? \"\" : states.cachedPlaceHolder;\n    }\n  };\n  const checkDefaultFirstOption = () => {\n    const optionsInDropdown = optionsArray.value.filter((n) => n.visible && !n.disabled && !n.states.groupDisabled);\n    const userCreatedOption = optionsInDropdown.find((n) => n.created);\n    const firstOriginOption = optionsInDropdown[0];\n    states.hoverIndex = getValueIndex(optionsArray.value, userCreatedOption || firstOriginOption);\n  };\n  const setSelected = () => {\n    var _a;\n    if (!props.multiple) {\n      const option = getOption(props.modelValue);\n      if ((_a = option.props) == null ? void 0 : _a.created) {\n        states.createdLabel = option.props.value;\n        states.createdSelected = true;\n      } else {\n        states.createdSelected = false;\n      }\n      states.selectedLabel = option.currentLabel;\n      states.selected = option;\n      if (props.filterable)\n        states.query = states.selectedLabel;\n      return;\n    } else {\n      states.selectedLabel = \"\";\n    }\n    const result = [];\n    if (Array.isArray(props.modelValue)) {\n      props.modelValue.forEach((value) => {\n        result.push(getOption(value));\n      });\n    }\n    states.selected = result;\n    nextTick(() => {\n      resetInputHeight();\n    });\n  };\n  const getOption = (value) => {\n    let option;\n    const isObjectValue = toRawType(value).toLowerCase() === \"object\";\n    const isNull = toRawType(value).toLowerCase() === \"null\";\n    const isUndefined = toRawType(value).toLowerCase() === \"undefined\";\n    for (let i = states.cachedOptions.size - 1; i >= 0; i--) {\n      const cachedOption = cachedOptionsArray.value[i];\n      const isEqualValue = isObjectValue ? get(cachedOption.value, props.valueKey) === get(value, props.valueKey) : cachedOption.value === value;\n      if (isEqualValue) {\n        option = {\n          value,\n          currentLabel: cachedOption.currentLabel,\n          isDisabled: cachedOption.isDisabled\n        };\n        break;\n      }\n    }\n    if (option)\n      return option;\n    const label = isObjectValue ? value.label : !isNull && !isUndefined ? value : \"\";\n    const newOption = {\n      value,\n      currentLabel: label\n    };\n    if (props.multiple) {\n      ;\n      newOption.hitState = false;\n    }\n    return newOption;\n  };\n  const resetHoverIndex = () => {\n    setTimeout(() => {\n      const valueKey = props.valueKey;\n      if (!props.multiple) {\n        states.hoverIndex = optionsArray.value.findIndex((item) => {\n          return getValueKey(item) === getValueKey(states.selected);\n        });\n      } else {\n        if (states.selected.length > 0) {\n          states.hoverIndex = Math.min.apply(null, states.selected.map((selected) => {\n            return optionsArray.value.findIndex((item) => {\n              return get(item, valueKey) === get(selected, valueKey);\n            });\n          }));\n        } else {\n          states.hoverIndex = -1;\n        }\n      }\n    }, 300);\n  };\n  const handleResize = () => {\n    var _a, _b;\n    resetInputWidth();\n    (_b = (_a = tooltipRef.value) == null ? void 0 : _a.updatePopper) == null ? void 0 : _b.call(_a);\n    if (props.multiple)\n      resetInputHeight();\n  };\n  const resetInputWidth = () => {\n    var _a;\n    states.inputWidth = (_a = reference.value) == null ? void 0 : _a.$el.offsetWidth;\n  };\n  const onInputChange = () => {\n    if (props.filterable && states.query !== states.selectedLabel) {\n      states.query = states.selectedLabel;\n      handleQueryChange(states.query);\n    }\n  };\n  const debouncedOnInputChange = debounce(() => {\n    onInputChange();\n  }, debounce$1.value);\n  const debouncedQueryChange = debounce((e) => {\n    handleQueryChange(e.target.value);\n  }, debounce$1.value);\n  const emitChange = (val) => {\n    if (!isEqual(props.modelValue, val)) {\n      ctx.emit(CHANGE_EVENT, val);\n    }\n  };\n  const deletePrevTag = (e) => {\n    if (e.code === EVENT_CODE.delete)\n      return;\n    if (e.target.value.length <= 0 && !toggleLastOptionHitState()) {\n      const value = props.modelValue.slice();\n      value.pop();\n      ctx.emit(UPDATE_MODEL_EVENT, value);\n      emitChange(value);\n    }\n    if (e.target.value.length === 1 && props.modelValue.length === 0) {\n      states.currentPlaceholder = states.cachedPlaceHolder;\n    }\n  };\n  const deleteTag = (event, tag) => {\n    const index = states.selected.indexOf(tag);\n    if (index > -1 && !selectDisabled.value) {\n      const value = props.modelValue.slice();\n      value.splice(index, 1);\n      ctx.emit(UPDATE_MODEL_EVENT, value);\n      emitChange(value);\n      ctx.emit(\"remove-tag\", tag.value);\n    }\n    event.stopPropagation();\n  };\n  const deleteSelected = (event) => {\n    event.stopPropagation();\n    const value = props.multiple ? [] : \"\";\n    if (!isString(value)) {\n      for (const item of states.selected) {\n        if (item.isDisabled)\n          value.push(item.value);\n      }\n    }\n    ctx.emit(UPDATE_MODEL_EVENT, value);\n    emitChange(value);\n    states.hoverIndex = -1;\n    states.visible = false;\n    ctx.emit(\"clear\");\n  };\n  const handleOptionSelect = (option, byClick) => {\n    var _a;\n    if (props.multiple) {\n      const value = (props.modelValue || []).slice();\n      const optionIndex = getValueIndex(value, option.value);\n      if (optionIndex > -1) {\n        value.splice(optionIndex, 1);\n      } else if (props.multipleLimit <= 0 || value.length < props.multipleLimit) {\n        value.push(option.value);\n      }\n      ctx.emit(UPDATE_MODEL_EVENT, value);\n      emitChange(value);\n      if (option.created) {\n        states.query = \"\";\n        handleQueryChange(\"\");\n        states.inputLength = 20;\n      }\n      if (props.filterable)\n        (_a = input.value) == null ? void 0 : _a.focus();\n    } else {\n      ctx.emit(UPDATE_MODEL_EVENT, option.value);\n      emitChange(option.value);\n      states.visible = false;\n    }\n    states.isSilentBlur = byClick;\n    setSoftFocus();\n    if (states.visible)\n      return;\n    nextTick(() => {\n      scrollToOption(option);\n    });\n  };\n  const getValueIndex = (arr = [], value) => {\n    if (!isObject(value))\n      return arr.indexOf(value);\n    const valueKey = props.valueKey;\n    let index = -1;\n    arr.some((item, i) => {\n      if (toRaw(get(item, valueKey)) === get(value, valueKey)) {\n        index = i;\n        return true;\n      }\n      return false;\n    });\n    return index;\n  };\n  const setSoftFocus = () => {\n    states.softFocus = true;\n    const _input = input.value || reference.value;\n    if (_input) {\n      _input == null ? void 0 : _input.focus();\n    }\n  };\n  const scrollToOption = (option) => {\n    var _a, _b, _c, _d, _e;\n    const targetOption = Array.isArray(option) ? option[0] : option;\n    let target = null;\n    if (targetOption == null ? void 0 : targetOption.value) {\n      const options = optionsArray.value.filter((item) => item.value === targetOption.value);\n      if (options.length > 0) {\n        target = options[0].$el;\n      }\n    }\n    if (tooltipRef.value && target) {\n      const menu = (_d = (_c = (_b = (_a = tooltipRef.value) == null ? void 0 : _a.popperRef) == null ? void 0 : _b.contentRef) == null ? void 0 : _c.querySelector) == null ? void 0 : _d.call(_c, `.${ns.be(\"dropdown\", \"wrap\")}`);\n      if (menu) {\n        scrollIntoView(menu, target);\n      }\n    }\n    (_e = scrollbar.value) == null ? void 0 : _e.handleScroll();\n  };\n  const onOptionCreate = (vm) => {\n    states.optionsCount++;\n    states.filteredOptionsCount++;\n    states.options.set(vm.value, vm);\n    states.cachedOptions.set(vm.value, vm);\n  };\n  const onOptionDestroy = (key, vm) => {\n    if (states.options.get(key) === vm) {\n      states.optionsCount--;\n      states.filteredOptionsCount--;\n      states.options.delete(key);\n    }\n  };\n  const resetInputState = (e) => {\n    if (e.code !== EVENT_CODE.backspace)\n      toggleLastOptionHitState(false);\n    states.inputLength = input.value.value.length * 15 + 20;\n    resetInputHeight();\n  };\n  const toggleLastOptionHitState = (hit) => {\n    if (!Array.isArray(states.selected))\n      return;\n    const option = states.selected[states.selected.length - 1];\n    if (!option)\n      return;\n    if (hit === true || hit === false) {\n      option.hitState = hit;\n      return hit;\n    }\n    option.hitState = !option.hitState;\n    return option.hitState;\n  };\n  const handleComposition = (event) => {\n    const text = event.target.value;\n    if (event.type === \"compositionend\") {\n      states.isOnComposition = false;\n      nextTick(() => handleQueryChange(text));\n    } else {\n      const lastCharacter = text[text.length - 1] || \"\";\n      states.isOnComposition = !isKorean(lastCharacter);\n    }\n  };\n  const handleMenuEnter = () => {\n    nextTick(() => scrollToOption(states.selected));\n  };\n  const handleFocus = (event) => {\n    if (!states.softFocus) {\n      if (props.automaticDropdown || props.filterable) {\n        if (props.filterable && !states.visible) {\n          states.menuVisibleOnFocus = true;\n        }\n        states.visible = true;\n      }\n      ctx.emit(\"focus\", event);\n    } else {\n      states.softFocus = false;\n    }\n  };\n  const blur = () => {\n    var _a, _b, _c;\n    states.visible = false;\n    (_a = reference.value) == null ? void 0 : _a.blur();\n    (_c = (_b = iOSInput.value) == null ? void 0 : _b.blur) == null ? void 0 : _c.call(_b);\n  };\n  const handleBlur = (event) => {\n    nextTick(() => {\n      if (states.isSilentBlur) {\n        states.isSilentBlur = false;\n      } else {\n        ctx.emit(\"blur\", event);\n      }\n    });\n    states.softFocus = false;\n  };\n  const handleClearClick = (event) => {\n    deleteSelected(event);\n  };\n  const handleClose = () => {\n    states.visible = false;\n  };\n  const handleKeydownEscape = (event) => {\n    if (states.visible) {\n      event.preventDefault();\n      event.stopPropagation();\n      states.visible = false;\n    }\n  };\n  const toggleMenu = (e) => {\n    var _a;\n    if (e && !states.mouseEnter) {\n      return;\n    }\n    if (!selectDisabled.value) {\n      if (states.menuVisibleOnFocus) {\n        states.menuVisibleOnFocus = false;\n      } else {\n        if (!tooltipRef.value || !tooltipRef.value.isFocusInsideContent()) {\n          states.visible = !states.visible;\n        }\n      }\n      if (states.visible) {\n        ;\n        (_a = input.value || reference.value) == null ? void 0 : _a.focus();\n      }\n    }\n  };\n  const selectOption = () => {\n    if (!states.visible) {\n      toggleMenu();\n    } else {\n      if (optionsArray.value[states.hoverIndex]) {\n        handleOptionSelect(optionsArray.value[states.hoverIndex], void 0);\n      }\n    }\n  };\n  const getValueKey = (item) => {\n    return isObject(item.value) ? get(item.value, props.valueKey) : item.value;\n  };\n  const optionsAllDisabled = computed(() => optionsArray.value.filter((option) => option.visible).every((option) => option.disabled));\n  const showTagList = computed(() => states.selected.slice(0, props.maxCollapseTags));\n  const collapseTagList = computed(() => states.selected.slice(props.maxCollapseTags));\n  const navigateOptions = (direction) => {\n    if (!states.visible) {\n      states.visible = true;\n      return;\n    }\n    if (states.options.size === 0 || states.filteredOptionsCount === 0)\n      return;\n    if (states.isOnComposition)\n      return;\n    if (!optionsAllDisabled.value) {\n      if (direction === \"next\") {\n        states.hoverIndex++;\n        if (states.hoverIndex === states.options.size) {\n          states.hoverIndex = 0;\n        }\n      } else if (direction === \"prev\") {\n        states.hoverIndex--;\n        if (states.hoverIndex < 0) {\n          states.hoverIndex = states.options.size - 1;\n        }\n      }\n      const option = optionsArray.value[states.hoverIndex];\n      if (option.disabled === true || option.states.groupDisabled === true || !option.visible) {\n        navigateOptions(direction);\n      }\n      nextTick(() => scrollToOption(hoverOption.value));\n    }\n  };\n  const handleMouseEnter = () => {\n    states.mouseEnter = true;\n  };\n  const handleMouseLeave = () => {\n    states.mouseEnter = false;\n  };\n  return {\n    optionList,\n    optionsArray,\n    selectSize,\n    handleResize,\n    debouncedOnInputChange,\n    debouncedQueryChange,\n    deletePrevTag,\n    deleteTag,\n    deleteSelected,\n    handleOptionSelect,\n    scrollToOption,\n    readonly,\n    resetInputHeight,\n    showClose,\n    iconComponent,\n    iconReverse,\n    showNewOption,\n    collapseTagSize,\n    setSelected,\n    managePlaceholder,\n    selectDisabled,\n    emptyText,\n    toggleLastOptionHitState,\n    resetInputState,\n    handleComposition,\n    onOptionCreate,\n    onOptionDestroy,\n    handleMenuEnter,\n    handleFocus,\n    blur,\n    handleBlur,\n    handleClearClick,\n    handleClose,\n    handleKeydownEscape,\n    toggleMenu,\n    selectOption,\n    getValueKey,\n    navigateOptions,\n    dropMenuVisible,\n    queryChange,\n    groupQueryChange,\n    showTagList,\n    collapseTagList,\n    reference,\n    input,\n    iOSInput,\n    tooltipRef,\n    tags,\n    selectWrapper,\n    scrollbar,\n    handleMouseEnter,\n    handleMouseLeave\n  };\n};\n\nexport { useSelect, useSelectStates };\n//# sourceMappingURL=useSelect.mjs.map\n","import { defineComponent } from 'vue';\nimport '../../../utils/index.mjs';\nimport { isString, isFunction } from '@vue/shared';\n\nvar ElOptions = defineComponent({\n  name: \"ElOptions\",\n  emits: [\"update-options\"],\n  setup(_, { slots, emit }) {\n    let cachedOptions = [];\n    function isSameOptions(a, b) {\n      if (a.length !== b.length)\n        return false;\n      for (const [index] of a.entries()) {\n        if (a[index] != b[index]) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return () => {\n      var _a, _b;\n      const children = (_a = slots.default) == null ? void 0 : _a.call(slots);\n      const filteredOptions = [];\n      function filterOptions(children2) {\n        if (!Array.isArray(children2))\n          return;\n        children2.forEach((item) => {\n          var _a2, _b2, _c, _d;\n          const name = (_a2 = (item == null ? void 0 : item.type) || {}) == null ? void 0 : _a2.name;\n          if (name === \"ElOptionGroup\") {\n            filterOptions(!isString(item.children) && !Array.isArray(item.children) && isFunction((_b2 = item.children) == null ? void 0 : _b2.default) ? (_c = item.children) == null ? void 0 : _c.default() : item.children);\n          } else if (name === \"ElOption\") {\n            filteredOptions.push((_d = item.props) == null ? void 0 : _d.label);\n          } else if (Array.isArray(item.children)) {\n            filterOptions(item.children);\n          }\n        });\n      }\n      if (children.length) {\n        filterOptions((_b = children[0]) == null ? void 0 : _b.children);\n      }\n      if (!isSameOptions(filteredOptions, cachedOptions)) {\n        cachedOptions = filteredOptions;\n        emit(\"update-options\", filteredOptions);\n      }\n      return children;\n    };\n  }\n});\n\nexport { ElOptions as default };\n//# sourceMappingURL=options.mjs.map\n","import { defineComponent, toRefs, computed, unref, provide, reactive, onMounted, nextTick, resolveComponent, resolveDirective, withDirectives, openBlock, createElementBlock, normalizeClass, withModifiers, createVNode, withCtx, createElementVNode, normalizeStyle, createBlock, Transition, Fragment, renderList, toDisplayString, createCommentVNode, withKeys, vModelText, createSlots, resolveDynamicComponent, renderSlot, vShow } from 'vue';\nimport { useResizeObserver, isIOS } from '@vueuse/core';\nimport { placements } from '@popperjs/core';\nimport '../../../directives/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { ElInput } from '../../input/index.mjs';\nimport { ElTooltip } from '../../tooltip/index.mjs';\nimport { ElScrollbar } from '../../scrollbar/index.mjs';\nimport { ElTag } from '../../tag/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport '../../../constants/index.mjs';\nimport '../../../utils/index.mjs';\nimport { CircleClose, ArrowDown } from '@element-plus/icons-vue';\nimport Option from './option.mjs';\nimport ElSelectMenu from './select-dropdown.mjs';\nimport { useSelectStates, useSelect } from './useSelect.mjs';\nimport { selectKey } from './token.mjs';\nimport ElOptions from './options.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport ClickOutside from '../../../directives/click-outside/index.mjs';\nimport { isValidComponentSize } from '../../../utils/vue/validator.mjs';\nimport { useTooltipContentProps } from '../../tooltip/src/content.mjs';\nimport { iconPropType } from '../../../utils/vue/icon.mjs';\nimport { tagProps } from '../../tag/src/tag.mjs';\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT } from '../../../constants/event.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { useFocus } from '../../../hooks/use-focus/index.mjs';\n\nconst COMPONENT_NAME = \"ElSelect\";\nconst _sfc_main = defineComponent({\n  name: COMPONENT_NAME,\n  componentName: COMPONENT_NAME,\n  components: {\n    ElInput,\n    ElSelectMenu,\n    ElOption: Option,\n    ElOptions,\n    ElTag,\n    ElScrollbar,\n    ElTooltip,\n    ElIcon\n  },\n  directives: { ClickOutside },\n  props: {\n    name: String,\n    id: String,\n    modelValue: {\n      type: [Array, String, Number, Boolean, Object],\n      default: void 0\n    },\n    autocomplete: {\n      type: String,\n      default: \"off\"\n    },\n    automaticDropdown: Boolean,\n    size: {\n      type: String,\n      validator: isValidComponentSize\n    },\n    effect: {\n      type: String,\n      default: \"light\"\n    },\n    disabled: Boolean,\n    clearable: Boolean,\n    filterable: Boolean,\n    allowCreate: Boolean,\n    loading: Boolean,\n    popperClass: {\n      type: String,\n      default: \"\"\n    },\n    popperOptions: {\n      type: Object,\n      default: () => ({})\n    },\n    remote: Boolean,\n    loadingText: String,\n    noMatchText: String,\n    noDataText: String,\n    remoteMethod: Function,\n    filterMethod: Function,\n    multiple: Boolean,\n    multipleLimit: {\n      type: Number,\n      default: 0\n    },\n    placeholder: {\n      type: String\n    },\n    defaultFirstOption: Boolean,\n    reserveKeyword: {\n      type: Boolean,\n      default: true\n    },\n    valueKey: {\n      type: String,\n      default: \"value\"\n    },\n    collapseTags: Boolean,\n    collapseTagsTooltip: {\n      type: Boolean,\n      default: false\n    },\n    maxCollapseTags: {\n      type: Number,\n      default: 1\n    },\n    teleported: useTooltipContentProps.teleported,\n    persistent: {\n      type: Boolean,\n      default: true\n    },\n    clearIcon: {\n      type: iconPropType,\n      default: CircleClose\n    },\n    fitInputWidth: {\n      type: Boolean,\n      default: false\n    },\n    suffixIcon: {\n      type: iconPropType,\n      default: ArrowDown\n    },\n    tagType: { ...tagProps.type, default: \"info\" },\n    validateEvent: {\n      type: Boolean,\n      default: true\n    },\n    remoteShowSuffix: {\n      type: Boolean,\n      default: false\n    },\n    suffixTransition: {\n      type: Boolean,\n      default: true\n    },\n    placement: {\n      type: String,\n      values: placements,\n      default: \"bottom-start\"\n    }\n  },\n  emits: [\n    UPDATE_MODEL_EVENT,\n    CHANGE_EVENT,\n    \"remove-tag\",\n    \"clear\",\n    \"visible-change\",\n    \"focus\",\n    \"blur\"\n  ],\n  setup(props, ctx) {\n    const nsSelect = useNamespace(\"select\");\n    const nsInput = useNamespace(\"input\");\n    const { t } = useLocale();\n    const states = useSelectStates(props);\n    const {\n      optionList,\n      optionsArray,\n      selectSize,\n      readonly,\n      handleResize,\n      collapseTagSize,\n      debouncedOnInputChange,\n      debouncedQueryChange,\n      deletePrevTag,\n      deleteTag,\n      deleteSelected,\n      handleOptionSelect,\n      scrollToOption,\n      setSelected,\n      resetInputHeight,\n      managePlaceholder,\n      showClose,\n      selectDisabled,\n      iconComponent,\n      iconReverse,\n      showNewOption,\n      emptyText,\n      toggleLastOptionHitState,\n      resetInputState,\n      handleComposition,\n      onOptionCreate,\n      onOptionDestroy,\n      handleMenuEnter,\n      handleFocus,\n      blur,\n      handleBlur,\n      handleClearClick,\n      handleClose,\n      handleKeydownEscape,\n      toggleMenu,\n      selectOption,\n      getValueKey,\n      navigateOptions,\n      dropMenuVisible,\n      reference,\n      input,\n      iOSInput,\n      tooltipRef,\n      tags,\n      selectWrapper,\n      scrollbar,\n      queryChange,\n      groupQueryChange,\n      handleMouseEnter,\n      handleMouseLeave,\n      showTagList,\n      collapseTagList\n    } = useSelect(props, states, ctx);\n    const { focus } = useFocus(reference);\n    const {\n      inputWidth,\n      selected,\n      inputLength,\n      filteredOptionsCount,\n      visible,\n      softFocus,\n      selectedLabel,\n      hoverIndex,\n      query,\n      inputHovering,\n      currentPlaceholder,\n      menuVisibleOnFocus,\n      isOnComposition,\n      isSilentBlur,\n      options,\n      cachedOptions,\n      optionsCount,\n      prefixWidth,\n      tagInMultiLine\n    } = toRefs(states);\n    const wrapperKls = computed(() => {\n      const classList = [nsSelect.b()];\n      const _selectSize = unref(selectSize);\n      if (_selectSize) {\n        classList.push(nsSelect.m(_selectSize));\n      }\n      if (props.disabled) {\n        classList.push(nsSelect.m(\"disabled\"));\n      }\n      return classList;\n    });\n    const selectTagsStyle = computed(() => ({\n      maxWidth: `${unref(inputWidth) - 32}px`,\n      width: \"100%\"\n    }));\n    const tagTextStyle = computed(() => {\n      const maxWidth = unref(inputWidth) > 123 ? unref(inputWidth) - 123 : unref(inputWidth) - 75;\n      return { maxWidth: `${maxWidth}px` };\n    });\n    provide(selectKey, reactive({\n      props,\n      options,\n      optionsArray,\n      cachedOptions,\n      optionsCount,\n      filteredOptionsCount,\n      hoverIndex,\n      handleOptionSelect,\n      onOptionCreate,\n      onOptionDestroy,\n      selectWrapper,\n      selected,\n      setSelected,\n      queryChange,\n      groupQueryChange\n    }));\n    onMounted(() => {\n      states.cachedPlaceHolder = currentPlaceholder.value = props.placeholder || (() => t(\"el.select.placeholder\"));\n      if (props.multiple && Array.isArray(props.modelValue) && props.modelValue.length > 0) {\n        currentPlaceholder.value = \"\";\n      }\n      useResizeObserver(selectWrapper, handleResize);\n      if (props.remote && props.multiple) {\n        resetInputHeight();\n      }\n      nextTick(() => {\n        const refEl = reference.value && reference.value.$el;\n        if (!refEl)\n          return;\n        inputWidth.value = refEl.getBoundingClientRect().width;\n        if (ctx.slots.prefix) {\n          const prefix = refEl.querySelector(`.${nsInput.e(\"prefix\")}`);\n          prefixWidth.value = Math.max(prefix.getBoundingClientRect().width + 5, 30);\n        }\n      });\n      setSelected();\n    });\n    if (props.multiple && !Array.isArray(props.modelValue)) {\n      ctx.emit(UPDATE_MODEL_EVENT, []);\n    }\n    if (!props.multiple && Array.isArray(props.modelValue)) {\n      ctx.emit(UPDATE_MODEL_EVENT, \"\");\n    }\n    const popperPaneRef = computed(() => {\n      var _a, _b;\n      return (_b = (_a = tooltipRef.value) == null ? void 0 : _a.popperRef) == null ? void 0 : _b.contentRef;\n    });\n    const onOptionsRendered = (v) => {\n      optionList.value = v;\n    };\n    return {\n      isIOS,\n      onOptionsRendered,\n      tagInMultiLine,\n      prefixWidth,\n      selectSize,\n      readonly,\n      handleResize,\n      collapseTagSize,\n      debouncedOnInputChange,\n      debouncedQueryChange,\n      deletePrevTag,\n      deleteTag,\n      deleteSelected,\n      handleOptionSelect,\n      scrollToOption,\n      inputWidth,\n      selected,\n      inputLength,\n      filteredOptionsCount,\n      visible,\n      softFocus,\n      selectedLabel,\n      hoverIndex,\n      query,\n      inputHovering,\n      currentPlaceholder,\n      menuVisibleOnFocus,\n      isOnComposition,\n      isSilentBlur,\n      options,\n      resetInputHeight,\n      managePlaceholder,\n      showClose,\n      selectDisabled,\n      iconComponent,\n      iconReverse,\n      showNewOption,\n      emptyText,\n      toggleLastOptionHitState,\n      resetInputState,\n      handleComposition,\n      handleMenuEnter,\n      handleFocus,\n      blur,\n      handleBlur,\n      handleClearClick,\n      handleClose,\n      handleKeydownEscape,\n      toggleMenu,\n      selectOption,\n      getValueKey,\n      navigateOptions,\n      dropMenuVisible,\n      focus,\n      reference,\n      input,\n      iOSInput,\n      tooltipRef,\n      popperPaneRef,\n      tags,\n      selectWrapper,\n      scrollbar,\n      wrapperKls,\n      selectTagsStyle,\n      nsSelect,\n      tagTextStyle,\n      handleMouseEnter,\n      handleMouseLeave,\n      showTagList,\n      collapseTagList\n    };\n  }\n});\nconst _hoisted_1 = [\"disabled\", \"autocomplete\"];\nconst _hoisted_2 = [\"disabled\"];\nconst _hoisted_3 = { style: { \"height\": \"100%\", \"display\": \"flex\", \"justify-content\": \"center\", \"align-items\": \"center\" } };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tag = resolveComponent(\"el-tag\");\n  const _component_el_tooltip = resolveComponent(\"el-tooltip\");\n  const _component_el_icon = resolveComponent(\"el-icon\");\n  const _component_el_input = resolveComponent(\"el-input\");\n  const _component_el_option = resolveComponent(\"el-option\");\n  const _component_el_options = resolveComponent(\"el-options\");\n  const _component_el_scrollbar = resolveComponent(\"el-scrollbar\");\n  const _component_el_select_menu = resolveComponent(\"el-select-menu\");\n  const _directive_click_outside = resolveDirective(\"click-outside\");\n  return withDirectives((openBlock(), createElementBlock(\"div\", {\n    ref: \"selectWrapper\",\n    class: normalizeClass(_ctx.wrapperKls),\n    onMouseenter: _cache[21] || (_cache[21] = (...args) => _ctx.handleMouseEnter && _ctx.handleMouseEnter(...args)),\n    onMouseleave: _cache[22] || (_cache[22] = (...args) => _ctx.handleMouseLeave && _ctx.handleMouseLeave(...args)),\n    onClick: _cache[23] || (_cache[23] = withModifiers((...args) => _ctx.toggleMenu && _ctx.toggleMenu(...args), [\"stop\"]))\n  }, [\n    createVNode(_component_el_tooltip, {\n      ref: \"tooltipRef\",\n      visible: _ctx.dropMenuVisible,\n      placement: _ctx.placement,\n      teleported: _ctx.teleported,\n      \"popper-class\": [_ctx.nsSelect.e(\"popper\"), _ctx.popperClass],\n      \"popper-options\": _ctx.popperOptions,\n      \"fallback-placements\": [\"bottom-start\", \"top-start\", \"right\", \"left\"],\n      effect: _ctx.effect,\n      pure: \"\",\n      trigger: \"click\",\n      transition: `${_ctx.nsSelect.namespace.value}-zoom-in-top`,\n      \"stop-popper-mouse-event\": false,\n      \"gpu-acceleration\": false,\n      persistent: _ctx.persistent,\n      onShow: _ctx.handleMenuEnter\n    }, {\n      default: withCtx(() => [\n        createElementVNode(\"div\", {\n          class: \"select-trigger\",\n          onMouseenter: _cache[19] || (_cache[19] = ($event) => _ctx.inputHovering = true),\n          onMouseleave: _cache[20] || (_cache[20] = ($event) => _ctx.inputHovering = false)\n        }, [\n          _ctx.multiple ? (openBlock(), createElementBlock(\"div\", {\n            key: 0,\n            ref: \"tags\",\n            class: normalizeClass([\n              _ctx.nsSelect.e(\"tags\"),\n              _ctx.nsSelect.is(\"disabled\", _ctx.selectDisabled)\n            ]),\n            style: normalizeStyle(_ctx.selectTagsStyle)\n          }, [\n            _ctx.collapseTags && _ctx.selected.length ? (openBlock(), createBlock(Transition, {\n              key: 0,\n              onAfterLeave: _ctx.resetInputHeight\n            }, {\n              default: withCtx(() => [\n                createElementVNode(\"span\", {\n                  class: normalizeClass([\n                    _ctx.nsSelect.b(\"tags-wrapper\"),\n                    { \"has-prefix\": _ctx.prefixWidth && _ctx.selected.length }\n                  ])\n                }, [\n                  (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.showTagList, (item) => {\n                    return openBlock(), createBlock(_component_el_tag, {\n                      key: _ctx.getValueKey(item),\n                      closable: !_ctx.selectDisabled && !item.isDisabled,\n                      size: _ctx.collapseTagSize,\n                      hit: item.hitState,\n                      type: _ctx.tagType,\n                      \"disable-transitions\": \"\",\n                      onClose: ($event) => _ctx.deleteTag($event, item)\n                    }, {\n                      default: withCtx(() => [\n                        createElementVNode(\"span\", {\n                          class: normalizeClass(_ctx.nsSelect.e(\"tags-text\")),\n                          style: normalizeStyle(_ctx.tagTextStyle)\n                        }, toDisplayString(item.currentLabel), 7)\n                      ]),\n                      _: 2\n                    }, 1032, [\"closable\", \"size\", \"hit\", \"type\", \"onClose\"]);\n                  }), 128)),\n                  _ctx.selected.length > _ctx.maxCollapseTags ? (openBlock(), createBlock(_component_el_tag, {\n                    key: 0,\n                    closable: false,\n                    size: _ctx.collapseTagSize,\n                    type: _ctx.tagType,\n                    \"disable-transitions\": \"\"\n                  }, {\n                    default: withCtx(() => [\n                      _ctx.collapseTagsTooltip ? (openBlock(), createBlock(_component_el_tooltip, {\n                        key: 0,\n                        disabled: _ctx.dropMenuVisible,\n                        \"fallback-placements\": [\"bottom\", \"top\", \"right\", \"left\"],\n                        effect: _ctx.effect,\n                        placement: \"bottom\",\n                        teleported: _ctx.teleported\n                      }, {\n                        default: withCtx(() => [\n                          createElementVNode(\"span\", {\n                            class: normalizeClass(_ctx.nsSelect.e(\"tags-text\"))\n                          }, \"+ \" + toDisplayString(_ctx.selected.length - _ctx.maxCollapseTags), 3)\n                        ]),\n                        content: withCtx(() => [\n                          createElementVNode(\"div\", {\n                            class: normalizeClass(_ctx.nsSelect.e(\"collapse-tags\"))\n                          }, [\n                            (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.collapseTagList, (item) => {\n                              return openBlock(), createElementBlock(\"div\", {\n                                key: _ctx.getValueKey(item),\n                                class: normalizeClass(_ctx.nsSelect.e(\"collapse-tag\"))\n                              }, [\n                                createVNode(_component_el_tag, {\n                                  class: \"in-tooltip\",\n                                  closable: !_ctx.selectDisabled && !item.isDisabled,\n                                  size: _ctx.collapseTagSize,\n                                  hit: item.hitState,\n                                  type: _ctx.tagType,\n                                  \"disable-transitions\": \"\",\n                                  style: { margin: \"2px\" },\n                                  onClose: ($event) => _ctx.deleteTag($event, item)\n                                }, {\n                                  default: withCtx(() => [\n                                    createElementVNode(\"span\", {\n                                      class: normalizeClass(_ctx.nsSelect.e(\"tags-text\")),\n                                      style: normalizeStyle({\n                                        maxWidth: _ctx.inputWidth - 75 + \"px\"\n                                      })\n                                    }, toDisplayString(item.currentLabel), 7)\n                                  ]),\n                                  _: 2\n                                }, 1032, [\"closable\", \"size\", \"hit\", \"type\", \"onClose\"])\n                              ], 2);\n                            }), 128))\n                          ], 2)\n                        ]),\n                        _: 1\n                      }, 8, [\"disabled\", \"effect\", \"teleported\"])) : (openBlock(), createElementBlock(\"span\", {\n                        key: 1,\n                        class: normalizeClass(_ctx.nsSelect.e(\"tags-text\"))\n                      }, \"+ \" + toDisplayString(_ctx.selected.length - _ctx.maxCollapseTags), 3))\n                    ]),\n                    _: 1\n                  }, 8, [\"size\", \"type\"])) : createCommentVNode(\"v-if\", true)\n                ], 2)\n              ]),\n              _: 1\n            }, 8, [\"onAfterLeave\"])) : createCommentVNode(\"v-if\", true),\n            !_ctx.collapseTags ? (openBlock(), createBlock(Transition, {\n              key: 1,\n              onAfterLeave: _ctx.resetInputHeight\n            }, {\n              default: withCtx(() => [\n                createElementVNode(\"span\", {\n                  class: normalizeClass([\n                    _ctx.nsSelect.b(\"tags-wrapper\"),\n                    { \"has-prefix\": _ctx.prefixWidth && _ctx.selected.length }\n                  ])\n                }, [\n                  (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.selected, (item) => {\n                    return openBlock(), createBlock(_component_el_tag, {\n                      key: _ctx.getValueKey(item),\n                      closable: !_ctx.selectDisabled && !item.isDisabled,\n                      size: _ctx.collapseTagSize,\n                      hit: item.hitState,\n                      type: _ctx.tagType,\n                      \"disable-transitions\": \"\",\n                      onClose: ($event) => _ctx.deleteTag($event, item)\n                    }, {\n                      default: withCtx(() => [\n                        createElementVNode(\"span\", {\n                          class: normalizeClass(_ctx.nsSelect.e(\"tags-text\")),\n                          style: normalizeStyle({ maxWidth: _ctx.inputWidth - 75 + \"px\" })\n                        }, toDisplayString(item.currentLabel), 7)\n                      ]),\n                      _: 2\n                    }, 1032, [\"closable\", \"size\", \"hit\", \"type\", \"onClose\"]);\n                  }), 128))\n                ], 2)\n              ]),\n              _: 1\n            }, 8, [\"onAfterLeave\"])) : createCommentVNode(\"v-if\", true),\n            _ctx.filterable ? withDirectives((openBlock(), createElementBlock(\"input\", {\n              key: 2,\n              ref: \"input\",\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => _ctx.query = $event),\n              type: \"text\",\n              class: normalizeClass([\n                _ctx.nsSelect.e(\"input\"),\n                _ctx.nsSelect.is(_ctx.selectSize),\n                _ctx.nsSelect.is(\"disabled\", _ctx.selectDisabled)\n              ]),\n              disabled: _ctx.selectDisabled,\n              autocomplete: _ctx.autocomplete,\n              style: normalizeStyle({\n                marginLeft: _ctx.prefixWidth && !_ctx.selected.length || _ctx.tagInMultiLine ? `${_ctx.prefixWidth}px` : \"\",\n                flexGrow: 1,\n                width: `${_ctx.inputLength / (_ctx.inputWidth - 32)}%`,\n                maxWidth: `${_ctx.inputWidth - 42}px`\n              }),\n              onFocus: _cache[1] || (_cache[1] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args)),\n              onBlur: _cache[2] || (_cache[2] = (...args) => _ctx.handleBlur && _ctx.handleBlur(...args)),\n              onKeyup: _cache[3] || (_cache[3] = (...args) => _ctx.managePlaceholder && _ctx.managePlaceholder(...args)),\n              onKeydown: [\n                _cache[4] || (_cache[4] = (...args) => _ctx.resetInputState && _ctx.resetInputState(...args)),\n                _cache[5] || (_cache[5] = withKeys(withModifiers(($event) => _ctx.navigateOptions(\"next\"), [\"prevent\"]), [\"down\"])),\n                _cache[6] || (_cache[6] = withKeys(withModifiers(($event) => _ctx.navigateOptions(\"prev\"), [\"prevent\"]), [\"up\"])),\n                _cache[7] || (_cache[7] = withKeys((...args) => _ctx.handleKeydownEscape && _ctx.handleKeydownEscape(...args), [\"esc\"])),\n                _cache[8] || (_cache[8] = withKeys(withModifiers((...args) => _ctx.selectOption && _ctx.selectOption(...args), [\"stop\", \"prevent\"]), [\"enter\"])),\n                _cache[9] || (_cache[9] = withKeys((...args) => _ctx.deletePrevTag && _ctx.deletePrevTag(...args), [\"delete\"])),\n                _cache[10] || (_cache[10] = withKeys(($event) => _ctx.visible = false, [\"tab\"]))\n              ],\n              onCompositionstart: _cache[11] || (_cache[11] = (...args) => _ctx.handleComposition && _ctx.handleComposition(...args)),\n              onCompositionupdate: _cache[12] || (_cache[12] = (...args) => _ctx.handleComposition && _ctx.handleComposition(...args)),\n              onCompositionend: _cache[13] || (_cache[13] = (...args) => _ctx.handleComposition && _ctx.handleComposition(...args)),\n              onInput: _cache[14] || (_cache[14] = (...args) => _ctx.debouncedQueryChange && _ctx.debouncedQueryChange(...args))\n            }, null, 46, _hoisted_1)), [\n              [vModelText, _ctx.query]\n            ]) : createCommentVNode(\"v-if\", true)\n          ], 6)) : createCommentVNode(\"v-if\", true),\n          createCommentVNode(\" fix: https://github.com/element-plus/element-plus/issues/11415 \"),\n          _ctx.isIOS && !_ctx.multiple && _ctx.filterable && _ctx.readonly ? (openBlock(), createElementBlock(\"input\", {\n            key: 1,\n            ref: \"iOSInput\",\n            class: normalizeClass([\n              _ctx.nsSelect.e(\"input\"),\n              _ctx.nsSelect.is(_ctx.selectSize),\n              _ctx.nsSelect.em(\"input\", \"iOS\")\n            ]),\n            disabled: _ctx.selectDisabled,\n            type: \"text\"\n          }, null, 10, _hoisted_2)) : createCommentVNode(\"v-if\", true),\n          createVNode(_component_el_input, {\n            id: _ctx.id,\n            ref: \"reference\",\n            modelValue: _ctx.selectedLabel,\n            \"onUpdate:modelValue\": _cache[15] || (_cache[15] = ($event) => _ctx.selectedLabel = $event),\n            type: \"text\",\n            placeholder: typeof _ctx.currentPlaceholder === \"function\" ? _ctx.currentPlaceholder() : _ctx.currentPlaceholder,\n            name: _ctx.name,\n            autocomplete: _ctx.autocomplete,\n            size: _ctx.selectSize,\n            disabled: _ctx.selectDisabled,\n            readonly: _ctx.readonly,\n            \"validate-event\": false,\n            class: normalizeClass([_ctx.nsSelect.is(\"focus\", _ctx.visible)]),\n            tabindex: _ctx.multiple && _ctx.filterable ? -1 : void 0,\n            onFocus: _ctx.handleFocus,\n            onBlur: _ctx.handleBlur,\n            onInput: _ctx.debouncedOnInputChange,\n            onPaste: _ctx.debouncedOnInputChange,\n            onCompositionstart: _ctx.handleComposition,\n            onCompositionupdate: _ctx.handleComposition,\n            onCompositionend: _ctx.handleComposition,\n            onKeydown: [\n              _cache[16] || (_cache[16] = withKeys(withModifiers(($event) => _ctx.navigateOptions(\"next\"), [\"stop\", \"prevent\"]), [\"down\"])),\n              _cache[17] || (_cache[17] = withKeys(withModifiers(($event) => _ctx.navigateOptions(\"prev\"), [\"stop\", \"prevent\"]), [\"up\"])),\n              withKeys(withModifiers(_ctx.selectOption, [\"stop\", \"prevent\"]), [\"enter\"]),\n              withKeys(_ctx.handleKeydownEscape, [\"esc\"]),\n              _cache[18] || (_cache[18] = withKeys(($event) => _ctx.visible = false, [\"tab\"]))\n            ]\n          }, createSlots({\n            suffix: withCtx(() => [\n              _ctx.iconComponent && !_ctx.showClose ? (openBlock(), createBlock(_component_el_icon, {\n                key: 0,\n                class: normalizeClass([_ctx.nsSelect.e(\"caret\"), _ctx.nsSelect.e(\"icon\"), _ctx.iconReverse])\n              }, {\n                default: withCtx(() => [\n                  (openBlock(), createBlock(resolveDynamicComponent(_ctx.iconComponent)))\n                ]),\n                _: 1\n              }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true),\n              _ctx.showClose && _ctx.clearIcon ? (openBlock(), createBlock(_component_el_icon, {\n                key: 1,\n                class: normalizeClass([_ctx.nsSelect.e(\"caret\"), _ctx.nsSelect.e(\"icon\")]),\n                onClick: _ctx.handleClearClick\n              }, {\n                default: withCtx(() => [\n                  (openBlock(), createBlock(resolveDynamicComponent(_ctx.clearIcon)))\n                ]),\n                _: 1\n              }, 8, [\"class\", \"onClick\"])) : createCommentVNode(\"v-if\", true)\n            ]),\n            _: 2\n          }, [\n            _ctx.$slots.prefix ? {\n              name: \"prefix\",\n              fn: withCtx(() => [\n                createElementVNode(\"div\", _hoisted_3, [\n                  renderSlot(_ctx.$slots, \"prefix\")\n                ])\n              ])\n            } : void 0\n          ]), 1032, [\"id\", \"modelValue\", \"placeholder\", \"name\", \"autocomplete\", \"size\", \"disabled\", \"readonly\", \"class\", \"tabindex\", \"onFocus\", \"onBlur\", \"onInput\", \"onPaste\", \"onCompositionstart\", \"onCompositionupdate\", \"onCompositionend\", \"onKeydown\"])\n        ], 32)\n      ]),\n      content: withCtx(() => [\n        createVNode(_component_el_select_menu, null, {\n          default: withCtx(() => [\n            withDirectives(createVNode(_component_el_scrollbar, {\n              ref: \"scrollbar\",\n              tag: \"ul\",\n              \"wrap-class\": _ctx.nsSelect.be(\"dropdown\", \"wrap\"),\n              \"view-class\": _ctx.nsSelect.be(\"dropdown\", \"list\"),\n              class: normalizeClass([\n                _ctx.nsSelect.is(\"empty\", !_ctx.allowCreate && Boolean(_ctx.query) && _ctx.filteredOptionsCount === 0)\n              ])\n            }, {\n              default: withCtx(() => [\n                _ctx.showNewOption ? (openBlock(), createBlock(_component_el_option, {\n                  key: 0,\n                  value: _ctx.query,\n                  created: true\n                }, null, 8, [\"value\"])) : createCommentVNode(\"v-if\", true),\n                createVNode(_component_el_options, { onUpdateOptions: _ctx.onOptionsRendered }, {\n                  default: withCtx(() => [\n                    renderSlot(_ctx.$slots, \"default\")\n                  ]),\n                  _: 3\n                }, 8, [\"onUpdateOptions\"])\n              ]),\n              _: 3\n            }, 8, [\"wrap-class\", \"view-class\", \"class\"]), [\n              [vShow, _ctx.options.size > 0 && !_ctx.loading]\n            ]),\n            _ctx.emptyText && (!_ctx.allowCreate || _ctx.loading || _ctx.allowCreate && _ctx.options.size === 0) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n              _ctx.$slots.empty ? renderSlot(_ctx.$slots, \"empty\", { key: 0 }) : (openBlock(), createElementBlock(\"p\", {\n                key: 1,\n                class: normalizeClass(_ctx.nsSelect.be(\"dropdown\", \"empty\"))\n              }, toDisplayString(_ctx.emptyText), 3))\n            ], 64)) : createCommentVNode(\"v-if\", true)\n          ]),\n          _: 3\n        })\n      ]),\n      _: 3\n    }, 8, [\"visible\", \"placement\", \"teleported\", \"popper-class\", \"popper-options\", \"effect\", \"transition\", \"persistent\", \"onShow\"])\n  ], 34)), [\n    [_directive_click_outside, _ctx.handleClose, _ctx.popperPaneRef]\n  ]);\n}\nvar Select = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue\"]]);\n\nexport { Select as default };\n//# sourceMappingURL=select.mjs.map\n","import { defineComponent, ref, getCurrentInstance, provide, reactive, toRefs, inject, onMounted, toRaw, watch, withDirectives, openBlock, createElementBlock, normalizeClass, createElementVNode, toDisplayString, renderSlot, vShow } from 'vue';\nimport '../../../hooks/index.mjs';\nimport { selectGroupKey, selectKey } from './token.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElOptionGroup\",\n  componentName: \"ElOptionGroup\",\n  props: {\n    label: String,\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    const ns = useNamespace(\"select\");\n    const visible = ref(true);\n    const instance = getCurrentInstance();\n    const children = ref([]);\n    provide(selectGroupKey, reactive({\n      ...toRefs(props)\n    }));\n    const select = inject(selectKey);\n    onMounted(() => {\n      children.value = flattedChildren(instance.subTree);\n    });\n    const flattedChildren = (node) => {\n      const children2 = [];\n      if (Array.isArray(node.children)) {\n        node.children.forEach((child) => {\n          var _a;\n          if (child.type && child.type.name === \"ElOption\" && child.component && child.component.proxy) {\n            children2.push(child.component.proxy);\n          } else if ((_a = child.children) == null ? void 0 : _a.length) {\n            children2.push(...flattedChildren(child));\n          }\n        });\n      }\n      return children2;\n    };\n    const { groupQueryChange } = toRaw(select);\n    watch(groupQueryChange, () => {\n      visible.value = children.value.some((option) => option.visible === true);\n    }, { flush: \"post\" });\n    return {\n      visible,\n      ns\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return withDirectives((openBlock(), createElementBlock(\"ul\", {\n    class: normalizeClass(_ctx.ns.be(\"group\", \"wrap\"))\n  }, [\n    createElementVNode(\"li\", {\n      class: normalizeClass(_ctx.ns.be(\"group\", \"title\"))\n    }, toDisplayString(_ctx.label), 3),\n    createElementVNode(\"li\", null, [\n      createElementVNode(\"ul\", {\n        class: normalizeClass(_ctx.ns.b(\"group\"))\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 2)\n    ])\n  ], 2)), [\n    [vShow, _ctx.visible]\n  ]);\n}\nvar OptionGroup = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue\"]]);\n\nexport { OptionGroup as default };\n//# sourceMappingURL=option-group.mjs.map\n","import '../../utils/index.mjs';\nimport Select from './src/select.mjs';\nimport Option from './src/option.mjs';\nimport OptionGroup from './src/option-group.mjs';\nexport { selectGroupKey, selectKey } from './src/token.mjs';\nimport { withInstall, withNoopInstall } from '../../utils/vue/install.mjs';\n\nconst ElSelect = withInstall(Select, {\n  Option,\n  OptionGroup\n});\nconst ElOption = withNoopInstall(Option);\nconst ElOptionGroup = withNoopInstall(OptionGroup);\n\nexport { ElOption, ElOptionGroup, ElSelect, ElSelect as default };\n//# sourceMappingURL=index.mjs.map\n","import '../../../utils/index.mjs';\nimport { mutable } from '../../../utils/typescript.mjs';\nimport { isClient } from '@vueuse/core';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { iconPropType } from '../../../utils/vue/icon.mjs';\n\nconst messageTypes = [\"success\", \"info\", \"warning\", \"error\"];\nconst messageDefaults = mutable({\n  customClass: \"\",\n  center: false,\n  dangerouslyUseHTMLString: false,\n  duration: 3e3,\n  icon: void 0,\n  id: \"\",\n  message: \"\",\n  onClose: void 0,\n  showClose: false,\n  type: \"info\",\n  offset: 16,\n  zIndex: 0,\n  grouping: false,\n  repeatNum: 1,\n  appendTo: isClient ? document.body : void 0\n});\nconst messageProps = buildProps({\n  customClass: {\n    type: String,\n    default: messageDefaults.customClass\n  },\n  center: {\n    type: Boolean,\n    default: messageDefaults.center\n  },\n  dangerouslyUseHTMLString: {\n    type: Boolean,\n    default: messageDefaults.dangerouslyUseHTMLString\n  },\n  duration: {\n    type: Number,\n    default: messageDefaults.duration\n  },\n  icon: {\n    type: iconPropType,\n    default: messageDefaults.icon\n  },\n  id: {\n    type: String,\n    default: messageDefaults.id\n  },\n  message: {\n    type: definePropType([\n      String,\n      Object,\n      Function\n    ]),\n    default: messageDefaults.message\n  },\n  onClose: {\n    type: definePropType(Function),\n    required: false\n  },\n  showClose: {\n    type: Boolean,\n    default: messageDefaults.showClose\n  },\n  type: {\n    type: String,\n    values: messageTypes,\n    default: messageDefaults.type\n  },\n  offset: {\n    type: Number,\n    default: messageDefaults.offset\n  },\n  zIndex: {\n    type: Number,\n    default: messageDefaults.zIndex\n  },\n  grouping: {\n    type: Boolean,\n    default: messageDefaults.grouping\n  },\n  repeatNum: {\n    type: Number,\n    default: messageDefaults.repeatNum\n  }\n});\nconst messageEmits = {\n  destroy: () => true\n};\n\nexport { messageDefaults, messageEmits, messageProps, messageTypes };\n//# sourceMappingURL=message.mjs.map\n","import { shallowReactive } from 'vue';\n\nconst instances = shallowReactive([]);\nconst getInstance = (id) => {\n  const idx = instances.findIndex((instance) => instance.id === id);\n  const current = instances[idx];\n  let prev;\n  if (idx > 0) {\n    prev = instances[idx - 1];\n  }\n  return { current, prev };\n};\nconst getLastOffset = (id) => {\n  const { prev } = getInstance(id);\n  if (!prev)\n    return 0;\n  return prev.vm.exposed.bottom.value;\n};\nconst getOffsetOrSpace = (id, offset) => {\n  const idx = instances.findIndex((instance) => instance.id === id);\n  return idx > 0 ? 20 : offset;\n};\n\nexport { getInstance, getLastOffset, getOffsetOrSpace, instances };\n//# sourceMappingURL=instance.mjs.map\n","import { defineComponent, ref, computed, onMounted, watch, openBlock, createBlock, Transition, unref, withCtx, withDirectives, createElementVNode, normalizeClass, normalizeStyle, createCommentVNode, resolveDynamicComponent, renderSlot, createElementBlock, toDisplayString, Fragment, withModifiers, createVNode, vShow } from 'vue';\nimport { useTimeoutFn, useEventListener, useResizeObserver } from '@vueuse/core';\nimport '../../../utils/index.mjs';\nimport '../../../constants/index.mjs';\nimport { ElBadge } from '../../badge/index.mjs';\nimport '../../config-provider/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport { messageProps, messageEmits } from './message.mjs';\nimport { getLastOffset, getOffsetOrSpace } from './instance.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { TypeComponents, TypeComponentsMap } from '../../../utils/vue/icon.mjs';\nimport { useGlobalComponentSettings } from '../../config-provider/src/hooks/use-global-config.mjs';\nimport { EVENT_CODE } from '../../../constants/aria.mjs';\n\nconst _hoisted_1 = [\"id\"];\nconst _hoisted_2 = [\"innerHTML\"];\nconst __default__ = defineComponent({\n  name: \"ElMessage\"\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: messageProps,\n  emits: messageEmits,\n  setup(__props, { expose }) {\n    const props = __props;\n    const { Close } = TypeComponents;\n    const { ns, zIndex } = useGlobalComponentSettings(\"message\");\n    const { currentZIndex, nextZIndex } = zIndex;\n    const messageRef = ref();\n    const visible = ref(false);\n    const height = ref(0);\n    let stopTimer = void 0;\n    const badgeType = computed(() => props.type ? props.type === \"error\" ? \"danger\" : props.type : \"info\");\n    const typeClass = computed(() => {\n      const type = props.type;\n      return { [ns.bm(\"icon\", type)]: type && TypeComponentsMap[type] };\n    });\n    const iconComponent = computed(() => props.icon || TypeComponentsMap[props.type] || \"\");\n    const lastOffset = computed(() => getLastOffset(props.id));\n    const offset = computed(() => getOffsetOrSpace(props.id, props.offset) + lastOffset.value);\n    const bottom = computed(() => height.value + offset.value);\n    const customStyle = computed(() => ({\n      top: `${offset.value}px`,\n      zIndex: currentZIndex.value\n    }));\n    function startTimer() {\n      if (props.duration === 0)\n        return;\n      ({ stop: stopTimer } = useTimeoutFn(() => {\n        close();\n      }, props.duration));\n    }\n    function clearTimer() {\n      stopTimer == null ? void 0 : stopTimer();\n    }\n    function close() {\n      visible.value = false;\n    }\n    function keydown({ code }) {\n      if (code === EVENT_CODE.esc) {\n        close();\n      }\n    }\n    onMounted(() => {\n      startTimer();\n      nextZIndex();\n      visible.value = true;\n    });\n    watch(() => props.repeatNum, () => {\n      clearTimer();\n      startTimer();\n    });\n    useEventListener(document, \"keydown\", keydown);\n    useResizeObserver(messageRef, () => {\n      height.value = messageRef.value.getBoundingClientRect().height;\n    });\n    expose({\n      visible,\n      bottom,\n      close\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(Transition, {\n        name: unref(ns).b(\"fade\"),\n        onBeforeLeave: _ctx.onClose,\n        onAfterLeave: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"destroy\")),\n        persisted: \"\"\n      }, {\n        default: withCtx(() => [\n          withDirectives(createElementVNode(\"div\", {\n            id: _ctx.id,\n            ref_key: \"messageRef\",\n            ref: messageRef,\n            class: normalizeClass([\n              unref(ns).b(),\n              { [unref(ns).m(_ctx.type)]: _ctx.type && !_ctx.icon },\n              unref(ns).is(\"center\", _ctx.center),\n              unref(ns).is(\"closable\", _ctx.showClose),\n              _ctx.customClass\n            ]),\n            style: normalizeStyle(unref(customStyle)),\n            role: \"alert\",\n            onMouseenter: clearTimer,\n            onMouseleave: startTimer\n          }, [\n            _ctx.repeatNum > 1 ? (openBlock(), createBlock(unref(ElBadge), {\n              key: 0,\n              value: _ctx.repeatNum,\n              type: unref(badgeType),\n              class: normalizeClass(unref(ns).e(\"badge\"))\n            }, null, 8, [\"value\", \"type\", \"class\"])) : createCommentVNode(\"v-if\", true),\n            unref(iconComponent) ? (openBlock(), createBlock(unref(ElIcon), {\n              key: 1,\n              class: normalizeClass([unref(ns).e(\"icon\"), unref(typeClass)])\n            }, {\n              default: withCtx(() => [\n                (openBlock(), createBlock(resolveDynamicComponent(unref(iconComponent))))\n              ]),\n              _: 1\n            }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true),\n            renderSlot(_ctx.$slots, \"default\", {}, () => [\n              !_ctx.dangerouslyUseHTMLString ? (openBlock(), createElementBlock(\"p\", {\n                key: 0,\n                class: normalizeClass(unref(ns).e(\"content\"))\n              }, toDisplayString(_ctx.message), 3)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n                createCommentVNode(\" Caution here, message could've been compromised, never use user's input as message \"),\n                createElementVNode(\"p\", {\n                  class: normalizeClass(unref(ns).e(\"content\")),\n                  innerHTML: _ctx.message\n                }, null, 10, _hoisted_2)\n              ], 2112))\n            ]),\n            _ctx.showClose ? (openBlock(), createBlock(unref(ElIcon), {\n              key: 2,\n              class: normalizeClass(unref(ns).e(\"closeBtn\")),\n              onClick: withModifiers(close, [\"stop\"])\n            }, {\n              default: withCtx(() => [\n                createVNode(unref(Close))\n              ]),\n              _: 1\n            }, 8, [\"class\", \"onClick\"])) : createCommentVNode(\"v-if\", true)\n          ], 46, _hoisted_1), [\n            [vShow, visible.value]\n          ])\n        ]),\n        _: 3\n      }, 8, [\"name\", \"onBeforeLeave\"]);\n    };\n  }\n});\nvar MessageConstructor = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue\"]]);\n\nexport { MessageConstructor as default };\n//# sourceMappingURL=message2.mjs.map\n","import { isVNode, render, createVNode } from 'vue';\nimport '../../../utils/index.mjs';\nimport '../../config-provider/index.mjs';\nimport MessageConstructor from './message2.mjs';\nimport { messageDefaults, messageTypes } from './message.mjs';\nimport { instances } from './instance.mjs';\nimport { isString, isFunction } from '@vue/shared';\nimport { isElement, isNumber } from '../../../utils/types.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\nimport { isClient } from '@vueuse/core';\nimport { messageConfig } from '../../config-provider/src/config-provider.mjs';\n\nlet seed = 1;\nconst normalizeOptions = (params) => {\n  const options = !params || isString(params) || isVNode(params) || isFunction(params) ? { message: params } : params;\n  const normalized = {\n    ...messageDefaults,\n    ...options\n  };\n  if (!normalized.appendTo) {\n    normalized.appendTo = document.body;\n  } else if (isString(normalized.appendTo)) {\n    let appendTo = document.querySelector(normalized.appendTo);\n    if (!isElement(appendTo)) {\n      debugWarn(\"ElMessage\", \"the appendTo option is not an HTMLElement. Falling back to document.body.\");\n      appendTo = document.body;\n    }\n    normalized.appendTo = appendTo;\n  }\n  return normalized;\n};\nconst closeMessage = (instance) => {\n  const idx = instances.indexOf(instance);\n  if (idx === -1)\n    return;\n  instances.splice(idx, 1);\n  const { handler } = instance;\n  handler.close();\n};\nconst createMessage = ({ appendTo, ...options }, context) => {\n  const id = `message_${seed++}`;\n  const userOnClose = options.onClose;\n  const container = document.createElement(\"div\");\n  const props = {\n    ...options,\n    id,\n    onClose: () => {\n      userOnClose == null ? void 0 : userOnClose();\n      closeMessage(instance);\n    },\n    onDestroy: () => {\n      render(null, container);\n    }\n  };\n  const vnode = createVNode(MessageConstructor, props, isFunction(props.message) || isVNode(props.message) ? {\n    default: isFunction(props.message) ? props.message : () => props.message\n  } : null);\n  vnode.appContext = context || message._context;\n  render(vnode, container);\n  appendTo.appendChild(container.firstElementChild);\n  const vm = vnode.component;\n  const handler = {\n    close: () => {\n      vm.exposed.visible.value = false;\n    }\n  };\n  const instance = {\n    id,\n    vnode,\n    vm,\n    handler,\n    props: vnode.component.props\n  };\n  return instance;\n};\nconst message = (options = {}, context) => {\n  if (!isClient)\n    return { close: () => void 0 };\n  if (isNumber(messageConfig.max) && instances.length >= messageConfig.max) {\n    return { close: () => void 0 };\n  }\n  const normalized = normalizeOptions(options);\n  if (normalized.grouping && instances.length) {\n    const instance2 = instances.find(({ vnode: vm }) => {\n      var _a;\n      return ((_a = vm.props) == null ? void 0 : _a.message) === normalized.message;\n    });\n    if (instance2) {\n      instance2.props.repeatNum += 1;\n      instance2.props.type = normalized.type;\n      return instance2.handler;\n    }\n  }\n  const instance = createMessage(normalized, context);\n  instances.push(instance);\n  return instance.handler;\n};\nmessageTypes.forEach((type) => {\n  message[type] = (options = {}, appContext) => {\n    const normalized = normalizeOptions(options);\n    return message({ ...normalized, type }, appContext);\n  };\n});\nfunction closeAll(type) {\n  for (const instance of instances) {\n    if (!type || type === instance.props.type) {\n      instance.handler.close();\n    }\n  }\n}\nmessage.closeAll = closeAll;\nmessage._context = null;\n\nexport { closeAll, message as default };\n//# sourceMappingURL=method.mjs.map\n","import '../../utils/index.mjs';\nimport message from './src/method.mjs';\nexport { messageDefaults, messageEmits, messageProps, messageTypes } from './src/message.mjs';\nimport { withInstallFunction } from '../../utils/vue/install.mjs';\n\nconst ElMessage = withInstallFunction(message, \"$message\");\n\nexport { ElMessage, ElMessage as default };\n//# sourceMappingURL=index.mjs.map\n","const prefix = 'L'\nfunction S4(): string {\n  return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n}\n\nexport function uuid(): string {\n  return `${prefix}${S4()}${S4()}-${S4()}-${S4()}-${S4()}-${S4()}${S4()}${S4()}`\n}\n\nexport function uuname(prefix: string, force = false): string {\n  if (force) return prefix\n  return `${prefix}-${S4()}${S4()}`\n}\n","import {FabricObject} from '../../shared/fabric'\n\ninterface Options {\n  x: number\n  y: number\n  w?: number\n  h?: number\n  fillStyle?: string\n  strokeStyle?: string\n  tiggerFunc?: () => void\n}\n\nexport class LockIcon extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  private x = 0\n  private y = 0\n  private w = 20\n  private h = 14\n  private fillStyle = '#eeb174'\n  private strokeStyle = '#333'\n  private tiggerFunc: () => void\n\n  constructor(ctx: CanvasRenderingContext2D, options: Options) {\n    super()\n    this.ctx = ctx\n    this.analysisOptions(options)\n  }\n\n  private analysisOptions(options) {\n    if (options.x) this.x = options.x\n    if (options.y) this.y = options.y\n    if (options.w) this.w = options.w\n    if (options.h) this.h = options.h\n    if (options.fillStyle) this.fillStyle = options.fillStyle\n    if (options.strokeStyle) this.strokeStyle = options.strokeStyle\n    if (options.tiggerFunc) this.tiggerFunc = options.tiggerFunc\n  }\n\n  public draw() {\n    const {ctx, x, y, w, h, fillStyle, strokeStyle} = this\n    ctx.save()\n    ctx.fillStyle = fillStyle\n    ctx.strokeStyle = strokeStyle\n    ctx.lineWidth = 3\n    ctx.beginPath()\n    ctx.arc(x + w / 2, y - 3, w / 3, 0, Math.PI, true)\n    ctx.stroke()\n    ctx.drawRoundedRect(x, y, w, h, 2, 2, 2, 2, true, true, false, false)\n    ctx.restore()\n  }\n\n  public containsPoint(e: MouseEvent, trigger = false) {\n    const {x, y, w, h} = this\n    const {x: ex, y: ey} = e\n    const lines = this.getImageLines({\n      tl: {x: x, y: y},\n      tr: {x: x + w, y: y},\n      bl: {x: x, y: y + h},\n      br: {x: x + w, y: y + h},\n    })\n\n    const xpoints = this.findCrossPoints(ex, ey, lines)\n    const isContains = Boolean(xpoints % 2)\n\n    if (isContains && trigger) this.tiggerFunc?.()\n\n    const targetPointInfo = {\n      type: null,\n      id: null,\n    }\n    if (isContains) targetPointInfo.type = 'icon'\n    return targetPointInfo\n  }\n}\n","/**\n * hex色值转换为rgb颜色\n * @param {String} hex    hex色值\n *\n * @return {String} rgb() 转换后的RGB色值\n */\nexport const hexToRgb = function (hex) {\n  //把诸如#fff转为#ffffff\n  hex.length === 4 &&\n    (hex =\n      hex.slice(0, 2) +\n      hex.slice(1, 2) +\n      hex.slice(2, 3) +\n      hex.slice(2, 3) +\n      hex.slice(3, 4) +\n      hex.slice(3, 4))\n\n  return (\n    'rgb(' +\n    parseInt('0x' + hex.slice(1, 3)) +\n    ',' +\n    parseInt('0x' + hex.slice(3, 5)) +\n    ',' +\n    parseInt('0x' + hex.slice(5, 7)) +\n    ')'\n  )\n}\n\n/**\n * 判断是否是浅色系\n * @param {String} color 要判断的颜色（接受hex/rgb颜色\n *\n * @return {Boolean}     true -> 是浅色系；false -> 是深色系；\n */\nexport const isLightColor = function (color) {\n  const rgbStr = color.includes('rgb') ? color : hexToRgb(color)\n  const rgbArr = rgbStr.replace(/rgb\\(|rgba\\(|\\)/g, '').split(',')\n\n  return 0.213 * rgbArr[0] + 0.715 * rgbArr[1] + 0.072 * rgbArr[2] > 255 / 2\n}\n","import {FabricObject} from '../../shared/fabric'\nimport {Table, Attribute, CanvasEv, Id} from '../../../types'\nimport {\n  DataTypeDate,\n  DataTypeNumber,\n  DataTypeString,\n  DataTypeBoolean,\n  DataTypeBinary,\n} from '../../../types/enum'\nimport {imageMap} from '../../shared/image'\nimport {isBoolean, isNumber} from '../../utils/verify'\nimport {isLightColor} from '../../utils/color'\nimport {uuid} from '../../utils/uuid'\nimport isString from 'lodash-es/isString'\n\n/**\n * 待优化：\n * 1.属性超出画布无需渲染\n */\ninterface NodeInput extends Table {\n  x?: number\n  y?: number\n  width?: number\n  height?: number\n  bgC?: string\n  bdC?: string\n  quotePrimaryKey?: boolean\n  physicalTables?: boolean\n  manualChange?: boolean\n  ifLogic?: boolean\n  ifOnlyLogic?: boolean\n  ifOnlyPhy?: boolean\n}\nexport class NodeErwin extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public width = 100\n  public height = 100\n  public titleHeight = 24\n  public fontSize = 12\n  private padding = 10\n\n  public attrHeight = 14\n\n  public ifSubEntity = false\n\n  private ifLogic = false\n  public ifOnlyLogic = false\n  public ifOnlyPhy = false\n\n  public x = 0\n  public y = 0\n  public id: Id\n  public enName: string\n  public cnName: string\n  public type: string\n  public attributes: Attribute[] = []\n  public attributesPrimary: Attribute[] = []\n  public attributesPrimaryNon: Attribute[] = []\n  private expandAttrs = []\n\n  public bdC = '#000000'\n  public color = '#000000'\n  public bgC = '#FFFFFF'\n\n  private quotePrimaryKey = false\n  private physicalTables = false\n  private manualChange = false\n\n  constructor(ctx: CanvasRenderingContext2D, input: NodeInput) {\n    super()\n    this.ctx = ctx\n    this.updateOptions(input)\n  }\n\n  private analysisOptions(input: NodeInput) {\n    if (!input) return\n\n    const {\n      x,\n      y,\n      width,\n      height,\n      id,\n      enName,\n      cnName,\n      type,\n      attributes,\n      bgC,\n      bdC,\n      quotePrimaryKey,\n      physicalTables,\n      manualChange,\n      ifLogic,\n      ifOnlyLogic,\n      ifOnlyPhy,\n    } = input\n\n    if (isBoolean(ifLogic)) this.ifLogic = ifLogic\n    if (isBoolean(ifOnlyPhy) || ifOnlyPhy) this.ifOnlyPhy = Boolean(+ifOnlyPhy)\n    if (isBoolean(ifOnlyLogic) || ifOnlyLogic)\n      this.ifOnlyLogic = Boolean(+ifOnlyLogic)\n    if (isNumber(x)) this.x = x\n    if (isNumber(y)) this.y = y\n    if (id) this.id = id\n    if (isString(enName)) this.enName = enName\n    if (isString(cnName)) this.cnName = cnName\n    if (isNumber(width)) this.width = width\n    if (isNumber(height)) this.height = height\n    if (type) {\n      this.type = type\n      this.ifSubEntity = ['exclusive', 'inclusive'].includes(type)\n    }\n    if (attributes) {\n      this.attributes = attributes\n      this.attributesPartition()\n    }\n    if (bgC) this.bgC = bgC\n    if (bdC) this.bdC = bdC\n    if (isBoolean(quotePrimaryKey)) this.quotePrimaryKey = quotePrimaryKey\n    if (isBoolean(physicalTables)) this.physicalTables = physicalTables\n    if (isBoolean(manualChange)) this.manualChange = manualChange\n  }\n\n  public updateOptions(input: NodeInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public containsPoint(e: CanvasEv) {\n    const {x: ex, y: ey} = e\n    const {x, y, width: w, height: h, attrHeight, titleHeight, padding} = this\n    const targetPointInfo = {\n      type: null,\n      id: null,\n    }\n\n    // 是否节点触发\n    const linesForNode = this.getImageLines({\n      tl: {x, y: y},\n      tr: {x: x + w, y: y},\n      bl: {x, y: y + h},\n      br: {x: x + w, y: y + h},\n    })\n    const xpointsNode = this.findCrossPoints(ex, ey, linesForNode)\n    const isContainsNode = Boolean(xpointsNode % 2)\n    if (!isContainsNode) return targetPointInfo\n\n    // return true\n    const ifTitle = ey - y < titleHeight\n    if (ifTitle) {\n      targetPointInfo.type = 'title'\n      return targetPointInfo\n    }\n\n    // 属性触发\n    const attributes = [\n      ...this.attributesPrimary,\n      {id: 'PrimaryKey'}, // for attr move\n      ...this.attributesPrimaryNon,\n      {id: 'NonPrimaryKey'}, // for attr move\n    ]\n    const relativeH =\n      ey -\n      y -\n      titleHeight -\n      padding -\n      (this.attributesPrimary.length ? 0 : attrHeight)\n    const attrIndex = Math.min(\n      Math.floor(relativeH / attrHeight),\n      attributes.length - 1,\n    )\n    const attrId = attributes[attrIndex]?.id\n    if (attrId) {\n      targetPointInfo.type = 'attribute'\n      targetPointInfo.id = attrId\n    } else {\n      targetPointInfo.type = 'entity'\n      targetPointInfo.id = this.id\n    }\n    return targetPointInfo\n  }\n\n  public draw(input?: NodeInput) {\n    this.updateOptions(input)\n\n    this.drawContainer()\n    this.drawTitle()\n    this.drawBody()\n  }\n\n  private drawContainer() {\n    const {\n      ctx,\n      x,\n      y: startY,\n      width: w,\n      height,\n      titleHeight,\n      type,\n      bgC,\n      bdC,\n      quotePrimaryKey,\n      physicalTables,\n      ifSubEntity,\n    } = this\n    const y = ifSubEntity ? startY : startY + titleHeight\n    const h = ifSubEntity ? height : height - titleHeight\n\n    ctx.save()\n    ctx.strokeStyle = bdC\n    ctx.fillStyle = bgC\n    //分支节点\n    if (ifSubEntity) {\n      ctx.beginPath()\n      ctx.arc(x + w / 2, y + w / 2, w / 2, 0, Math.PI, true)\n      ctx.closePath()\n      ctx.fill()\n      ctx.stroke()\n\n      if (type === 'exclusive') {\n        ctx.moveTo(x + 12, y + 6)\n        ctx.lineTo(x + w - 12, y + h - 3)\n        ctx.moveTo(x + w - 12, y + 6)\n        ctx.lineTo(x + 12, y + h - 3)\n        ctx.stroke()\n      }\n    }\n    //圆角矩形\n    else {\n      const roundedDeg = quotePrimaryKey ? 4 : 0\n      ctx.drawRoundedRect(\n        x,\n        y,\n        w,\n        h,\n        roundedDeg,\n        roundedDeg,\n        roundedDeg,\n        roundedDeg,\n        true,\n        true,\n        physicalTables,\n        true,\n      )\n    }\n\n    // //绘制表体文字\n    // attributes && this._drawBody(item)\n\n    //绘制聚焦节点标识\n    // if (this.focusTarget.includes(item) && !['exclusive', 'inclusive'].includes(item.type)) this._drawFocus(x, y, w, h)\n\n    ctx.restore()\n  }\n\n  private drawDataType(\n    datatype:\n      | DataTypeDate\n      | DataTypeNumber\n      | DataTypeString\n      | DataTypeBoolean\n      | DataTypeBinary,\n    x: number,\n    y: number,\n  ) {\n    const datatypeUpper = datatype\n      ?.replace(/[^A-Za-z0-9]/g, '')\n      ?.toLocaleUpperCase()\n    let img\n    if (datatypeUpper in DataTypeDate) {\n      img = imageMap.get('date')\n    } else if (datatypeUpper in DataTypeNumber) {\n      img = imageMap.get('number')\n    } else if (datatypeUpper in DataTypeString) {\n      img = imageMap.get('string')\n    } else if (datatypeUpper in DataTypeBoolean) {\n      img = imageMap.get('boolean')\n    } else if (datatypeUpper in DataTypeBinary) {\n      img = imageMap.get('binary')\n    }\n\n    const {ctx} = this\n    if (!img) {\n      ctx.save()\n      ctx.fillStyle = '#808080'\n      ctx.fillText('?', x, y, this.fontSize)\n      ctx.restore()\n      return false\n    }\n    ctx.drawImage(img, x, y, this.fontSize, this.fontSize)\n  }\n\n  private drawTitle() {\n    const {\n      ctx,\n      color,\n      enName,\n      cnName,\n      ifLogic,\n      width,\n      x,\n      y,\n      titleHeight,\n      fontSize,\n      ifSubEntity,\n    } = this\n\n    ctx.save()\n    // 设置字体\n    ctx.font = `${fontSize}px Arial`\n    // 设置颜色\n    ctx.fillStyle = color\n    // 设置水平对齐方式\n    ctx.textAlign = 'left'\n    // 设置垂直对齐方式\n    ctx.textBaseline = 'top'\n    const name = (ifLogic ? cnName : enName) ?? ''\n    const fillText = ifSubEntity ? name : ctx.fittingString(name, width - 14)\n    const fillX = ifSubEntity ? x + 50 : x\n    const fillY = ifSubEntity ? y + 2 : y + 4\n    ctx.fillText(fillText, fillX, fillY)\n    ctx.restore()\n  }\n\n  private drawBody() {\n    const {\n      ctx,\n      x,\n      y,\n      titleHeight,\n      bgC: bgC,\n      fontSize,\n      padding,\n      attrHeight,\n      attributesPrimary,\n      attributesPrimaryNon,\n    } = this\n\n    ctx.save()\n    // 设置字体\n    ctx.font = `${fontSize}px Arial`\n    // 设置字体颜色\n    ctx.fillStyle = isLightColor(bgC) ? '#000' : '#fff'\n    // 设置水平对齐方式\n    ctx.textAlign = 'left'\n    // 设置垂直对齐方式\n    ctx.textBaseline = 'top'\n\n    const curX = padding + x\n    let curY = y + padding - attrHeight + titleHeight\n\n    //绘制主键\n    for (let i = 0; i < attributesPrimary.length; i++) {\n      const item = attributesPrimary[i]\n      curY = this.drawAttrRow(item, curX, curY)\n    }\n\n    //绘制主键/非主键分割线\n    curY = this.drawSplitLine(curY)\n\n    //绘制非主键\n    for (let i = 0; i < attributesPrimaryNon.length; i++) {\n      const item = attributesPrimaryNon[i]\n      curY = this.drawAttrRow(item, curX, curY)\n    }\n\n    ctx.restore()\n  }\n\n  private drawAttrRow(attrItem, curX, curY) {\n    const {\n      ctx,\n      attrHeight,\n      padding,\n      fontSize,\n      x,\n      y,\n      width: w,\n      height: h,\n      ifLogic,\n      // attrFocusStyle,\n    } = this\n\n    curY += attrHeight\n\n    // 判断是否超出实体框\n    if (curY + 16 > h + y) return\n\n    // 判断是否超出可视范围\n    // if (!this.canvas.isVisible([[curX, curY], [curX + w, curY + fontSize]])) return\n\n    this.drawDataType(attrItem.type, curX, curY)\n\n    // 绘制FK标识\n    const addText = Number(attrItem.ifFk) ? '(FK)' : ''\n    const attrName = ifLogic ? attrItem.cnName : attrItem.enName\n    const finalText = ctx.fittingString(\n      attrName + addText,\n      w - (curX - x) - padding - fontSize - 4,\n    )\n    // 开始绘制主键\n    ctx.fillText(finalText, curX + fontSize + 4, curY)\n\n    // this.drawFocusAttr({\n    //   attrItem,\n    //   finalText,\n    //   curX,\n    //   curY,\n    //   fullWidth: w - (curX - x),\n    //   nodePadding: padding,\n    // })\n\n    // 绘制尾部icon\n    const textWidth = curX + ctx.measureText(finalText).width + fontSize + 4\n    this.drawIcons(attrItem.icons, textWidth, curY)\n\n    if (attrItem.children?.length) {\n      // 是否是展开状态\n      const isExpand = this.expandAttrs.includes(attrItem)\n\n      // 绘制树结构箭头\n      this.drawTreeExpandArrow.call(this, {\n        x: curX,\n        y: curY,\n        size: fontSize,\n        expand: isExpand,\n      })\n\n      // 绘制子节点\n      isExpand &&\n        attrItem.children.forEach((attrItem) => {\n          curY = this.drawAttrRow(attrItem, curX + 10, curY)\n        })\n    }\n\n    return curY\n  }\n\n  private drawIcons(icons = [], startX: number, startY: number) {\n    const {fontSize, x, width, padding} = this\n    for (let i = 0; i < icons.length; i++) {\n      const icon = icons[i]\n      const iconX = startX + fontSize * 0.7 + i * (fontSize * 1.2)\n\n      if (iconX + (fontSize / 2) * 3 > x + width + padding) return\n      this.drawIcon(icon, iconX, startY)\n    }\n  }\n\n  private drawIcon(icon, startX: number, startY: number) {\n    const {ctx, attrHeight, fontSize} = this\n\n    ctx.save()\n    /**\n     * 开始绘制背景圆圈\n     */\n    ctx.beginPath()\n    ctx.strokeStyle = icon.bdC || '#0C64EB'\n    ctx.fillStyle = icon.bgC || '#ECF5FF'\n    ctx.arc(\n      startX,\n      startY + Math.floor(attrHeight / 2) - 1,\n      fontSize / 2,\n      0,\n      2 * Math.PI,\n    )\n    ctx.fill()\n    ctx.stroke()\n\n    /**\n     * 开始绘制文字\n     */\n    ctx.fillStyle = icon.color || '#0C64EB'\n    ctx.font = `${Math.ceil(fontSize / 1.2)}px Arial`\n    // 设置水平对齐方式\n    ctx.textAlign = 'center'\n    ctx.fillText(icon.text, startX, startY + (attrHeight - fontSize) / 2 + 1)\n    ctx.restore()\n  }\n\n  private drawSplitLine(curY) {\n    const {ctx, attributesPrimary, attrHeight, x, y, width: w, height: h} = this\n    curY += (attributesPrimary.length ? 1 : 2) * attrHeight\n\n    ctx.save()\n    const lineY = curY + attrHeight / 3\n    if (lineY < h + y) {\n      ctx.beginPath()\n      ctx.strokeStyle = '#000'\n      ctx.moveTo(x, lineY)\n      ctx.lineTo(x + w, lineY)\n      ctx.stroke()\n    }\n    ctx.restore()\n    return curY\n  }\n\n  private drawTreeExpandArrow({x, y, size, expand}) {\n    const {ctx} = this\n\n    ctx.save()\n    ctx.beginPath()\n    ctx.translate(x - 4, y + size / 2)\n    expand && ctx.rotate((90 * Math.PI) / 180)\n    ctx.moveTo(-2, -4)\n    ctx.lineTo(-2, 4)\n    ctx.lineTo(2, 0)\n    ctx.fill()\n    ctx.restore()\n  }\n\n  // 分裂主键非主键\n  private attributesPartition() {\n    this.attributesPrimary = []\n    this.attributesPrimaryNon = []\n\n    const {ifLogic, attributes, attributesPrimary, attributesPrimaryNon} = this\n\n    for (let i = 0; i < attributes.length; i++) {\n      const item = attributes[i]\n      const ifNotRender =\n        (ifLogic && +item.ifPhy) || (!ifLogic && +item.ifLogic)\n      if (ifNotRender) continue\n\n      Number(item.ifPk)\n        ? attributesPrimary.push(item)\n        : attributesPrimaryNon.push(item)\n      // 补属性id\n      if (!item.id) item.id = uuid()\n    }\n  }\n\n  public getAttributeInfo(attributeId: Id) {\n    const {\n      attributesPrimary,\n      attributesPrimaryNon,\n      x,\n      y,\n      width,\n      titleHeight,\n      height,\n      padding,\n      attrHeight,\n    } = this\n    const attributesOrder = [\n      ...attributesPrimary,\n      {\n        id: 'PrimaryKey',\n        ifPk: true,\n        enName: '',\n        cnName: '',\n        type: null,\n        ifFk: false,\n        icons: [],\n      },\n      ...attributesPrimaryNon,\n      {\n        id: 'NonPrimaryKey',\n        ifPk: false,\n        enName: '',\n        cnName: '',\n        type: null,\n        ifFk: false,\n        icons: [],\n      },\n    ]\n    const attrIndex =\n      attributesOrder.findIndex((i) => i.id === attributeId) ??\n      attributesOrder.length - 1\n\n    const info = {\n      x: x + padding,\n      y:\n        y +\n        padding +\n        titleHeight +\n        (attributesPrimary.length ? attrIndex : attrIndex + 1) * attrHeight,\n      width: width - 2 * padding,\n      height: attrHeight,\n      info: attributesOrder[attrIndex],\n      padding: padding,\n    }\n    // console.log(this,'-------------------')\n    return info\n  }\n\n  private calcBoundingBox() {\n    const {x, y, width, height} = this\n\n    this.boundingBox = [\n      [x, y],\n      [x + width, y],\n      [x, y + height],\n      [x + width, y + height],\n    ]\n  }\n}\n","import {FabricObject} from '../../shared/fabric'\nimport {Table, Attribute, CanvasEv, Id} from '../../../types'\nimport {isBoolean, isNumber} from '../../utils/verify'\n\n/**\n * 待优化：\n * 1.属性超出画布无需渲染\n */\ninterface NodeInput extends Table {\n  x?: number\n  y?: number\n  width?: number\n  height?: number\n  bgC?: string\n  bdC?: string\n  quotePrimaryKey?: boolean\n  physicalTables?: boolean\n  manualChange?: boolean\n}\nexport class NodeRect extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public width = 100\n  public height = 50\n\n  private borderWidth = 2\n\n  public x = 0\n  public y = 0\n  public id: Id\n\n  private bdC = '#000000'\n  private bgC: string\n\n  constructor(ctx: CanvasRenderingContext2D, input: NodeInput) {\n    super()\n    this.ctx = ctx\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  private analysisOptions(input: NodeInput) {\n    if (!input) return\n\n    const {x, y, width, height, id, bgC, bdC} = input\n\n    if (isNumber(x)) this.x = x\n    if (isNumber(y)) this.y = y\n    if (id) this.id = id\n    if (isNumber(width)) this.width = width\n    if (isNumber(height)) this.height = height\n    if (bgC) this.bgC = bgC\n    if (bdC) this.bdC = bdC\n  }\n\n  public updateOptions(input: NodeInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public containsPoint(e: CanvasEv) {\n    const {x: ex, y: ey} = e\n    const {x, y, width: w, height: h} = this\n    const targetPointInfo = {\n      type: null,\n      id: this.id,\n    }\n\n    // 是否节点触发\n    const linesForNode = this.getImageLines({\n      tl: {x, y: y},\n      tr: {x: x + w, y: y},\n      bl: {x, y: y + h},\n      br: {x: x + w, y: y + h},\n    })\n    const xpointsNode = this.findCrossPoints(ex, ey, linesForNode)\n    const isContainsNode = Boolean(xpointsNode % 2)\n    if (!isContainsNode) return targetPointInfo\n\n    targetPointInfo.type = 'node-rect'\n    return targetPointInfo\n  }\n\n  public draw(input?: NodeInput) {\n    this.analysisOptions(input)\n    this.drawRect()\n  }\n\n  private drawRect() {\n    const {ctx, x, y, width: w, height: h, bgC, bdC, borderWidth} = this\n    // console.log(bgC,\"bgC\")\n    ctx.save()\n    ctx.lineWidth = borderWidth\n    ctx.strokeStyle = bdC || '#000000'\n    ctx.fillStyle = bgC || '#ffffff'\n    ctx.strokeRect(x, y, w, h)\n    ctx.restore()\n\n    //记录最大宽高\n    // if(x+w > this.maxWidth) this.maxWidth = x+w\n    // if(y+h > this.maxHeight) this.maxHeight = y+h\n\n    // if(this.focusTarget.has(markInfo)) this._drawFocus(x, y, w, h)\n  }\n\n  private calcBoundingBox() {\n    const {x, y, width, height} = this\n\n    this.boundingBox = [\n      [x, y],\n      [x + width, y],\n      [x, y + height],\n      [x + width, y + height],\n    ]\n  }\n}\n","import {FabricObject} from '../../shared/fabric'\nimport {Id, CanvasEv} from '../../../types'\nimport {isNumber} from '../../utils/verify'\n\ninterface TextBaseInput {\n  id?: Id\n  content?: string\n  x?: number\n  y?: number\n  bdC?: string\n  textColor?: string\n  bgC?: string\n  borderWidth?: number\n}\n\nexport class TextBase extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public x = 0\n  public y = 0\n  public width = 0\n  public height = 0\n  public bdC = '#0C64EB'\n  public textColor = '#0C64EB'\n  public bgC = '#D0E2FF'\n  public borderWidth = 1\n\n  public id: Id\n  public content: string\n\n  constructor(ctx: CanvasRenderingContext2D, input: TextBaseInput) {\n    super()\n    this.ctx = ctx\n    this.updateOptions(input)\n  }\n\n  private analysisOptions(input: TextBaseInput) {\n    if (!input) return\n\n    const {\n      x,\n      y,\n      id,\n      // width,\n      // height,\n      bdC,\n      textColor,\n      bgC,\n      borderWidth,\n      content,\n    } = input\n\n    if (isNumber(x)) this.x = x\n    if (isNumber(y)) this.y = y\n    // if (isNumber(width)) this.width = width\n    // if (isNumber(height)) this.height = height\n    if (id) this.id = id\n    if (bdC) this.bdC = bdC\n    if (textColor) this.textColor = textColor\n    if (bgC) this.bgC = bgC\n    if (isNumber(borderWidth)) this.borderWidth = borderWidth\n    if (content) this.content = content\n  }\n\n  public updateOptions(input: TextBaseInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public containsPoint(e: CanvasEv) {\n    const {x: ex, y: ey} = e\n    const {x, y, width, height} = this\n    const targetPointInfo = {\n      type: null,\n      id: this.id,\n    }\n    const ifContain = ex >= x && ex <= x + width && ey >= y && ey <= y + height\n    if (ifContain) targetPointInfo.type = 'text-base'\n    return targetPointInfo\n  }\n\n  public draw(input?: TextBaseInput) {\n    this.updateOptions(input)\n\n    const {ctx, content, x, y, textColor} = this\n    ctx.save()\n    ctx.textBaseline = 'top'\n    ctx.fillStyle = textColor\n    ctx.fillText(content, x, y)\n    ctx.restore()\n  }\n\n  private calcBoundingBox() {\n    const {x, y, ctx, content} = this\n    const textMetrics = ctx.measureText(content)\n    const width = (this.width = textMetrics.width)\n    const height = (this.height =\n      textMetrics.actualBoundingBoxAscent +\n      textMetrics.actualBoundingBoxDescent)\n    this.boundingBox = [\n      [x, y],\n      [x + width, y],\n      [x, y + height],\n      [x + width, y + height],\n    ]\n  }\n}\n","interface Point {\n  x: number\n  y: number\n}\n\ninterface Square extends Point {\n  width: number\n  height: number\n}\n\n/**\n * 检测点是否在线段上\n * @param point 检测点\n * @param segments 端点集合\n * @param tolerance 容差\n * @returns\n */\nexport const isPointOnLineSegments = (\n  point: Point,\n  segments: Point[],\n  tolerance = 0,\n): boolean | number => {\n  const {x, y} = point\n  const xTolerance = tolerance || 0\n  const yTolerance = tolerance || 0\n  for (let i = 0; i < segments.length - 1; i++) {\n    const p1 = segments[i]\n    const p2 = segments[i + 1]\n    const a = p1.y - p2.y\n    const b = p2.x - p1.x\n    const c = p1.x * p2.y - p2.x * p1.y\n    const distance = Math.abs(a * x + b * y + c) / Math.sqrt(a * a + b * b)\n    if (\n      distance <= xTolerance &&\n      x >= Math.min(p1.x, p2.x) - xTolerance &&\n      x <= Math.max(p1.x, p2.x) + xTolerance &&\n      y >= Math.min(p1.y, p2.y) - yTolerance &&\n      y <= Math.max(p1.y, p2.y) + yTolerance\n    ) {\n      return i\n    }\n  }\n  return false\n}\n\n/**\n * 找到矩形临近边\n * @param square1 矩形1\n * @param square2 矩形2\n * @param tolerance 容差\n * @returns 匹配到的临近边\n */\nexport const getAdjacentSides = (\n  square1: Square,\n  square2: Square,\n  tolerance = 0,\n): string[][] => {\n  const result = []\n  if (square1 === square2) return result\n\n  const leftDistance = Math.abs(square1.x - (square2.x + square2.width))\n  if (leftDistance <= tolerance) {\n    result.push(['left', 'right'])\n  }\n\n  const rightDistance = Math.abs(square2.x - (square1.x + square1.width))\n  if (rightDistance <= tolerance) {\n    result.push(['right', 'left'])\n  }\n\n  const topDistance = Math.abs(square1.y - (square2.y + square2.height))\n  if (topDistance <= tolerance) {\n    result.push(['top', 'bottom'])\n  }\n\n  const bottomDistance = Math.abs(square2.y - (square1.y + square1.height))\n  if (bottomDistance <= tolerance) {\n    result.push(['bottom', 'top'])\n  }\n\n  // Check if any of the edges are collinear\n  if (Math.abs(square1.x - square2.x) <= tolerance) {\n    result.push(['left', 'left'])\n  }\n  if (Math.abs(square1.y - square2.y) <= tolerance) {\n    result.push(['top', 'top'])\n  }\n  if (\n    Math.abs(square1.x + square1.width - square2.x - square2.width) <= tolerance\n  ) {\n    result.push(['right', 'right'])\n  }\n  if (\n    Math.abs(square1.y + square1.height - square2.y - square2.height) <=\n    tolerance\n  ) {\n    result.push(['bottom', 'bottom'])\n  }\n\n  return result\n}\n","import {CanvasEv, Id} from '../../../types'\nimport {FabricObject} from '../../shared/fabric'\nimport {isPointOnLineSegments} from '../../utils/fx'\nimport {isNumber, isUndefined, isBoolean} from '../../utils/verify'\n\nexport enum LineType {\n  IDENTIFYING = 'IDENTIFYING',\n  NON_IDENTIFYING = 'NON_IDENTIFYING',\n}\nexport enum Relationship {\n  // 0或1对多\n  ZEROONE_MORE = 'ZEROONE_MORE',\n  // 0或1对1\n  ZEROONE_ONE = 'ZEROONE_ONE',\n  // 1对多\n  ONE_MORE = 'ONE_MORE',\n  // 1对1\n  ONE_ONE = 'ONE_ONE',\n}\n\ninterface point {\n  x: number\n  y: number\n}\nexport type Points = point[]\n\ninterface LineInput {\n  id: Id\n  pos: Points\n  from: Id\n  to: Id\n  type?: LineType\n  numLineType?: Relationship\n  lineWidth?: number\n  remark?: string\n  bdC?: string\n  ifPure?: boolean\n}\n\nexport class LineErwin extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public id: Id\n  public from: Id\n  public to: Id\n  public type: LineType\n  public numLineType: Relationship\n  public pos: Points = []\n  public remark: string\n  public lineWidth = 1\n  public ifPure = false\n  private bdC = '#000000'\n\n  constructor(ctx: CanvasRenderingContext2D, input: LineInput) {\n    super()\n    this.ctx = ctx\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  private analysisOptions(input) {\n    if (!input) return\n\n    const {\n      pos,\n      type,\n      from,\n      to,\n      id,\n      lineWidth,\n      numLineType,\n      bdC,\n      remark,\n      ifPure,\n    } = input\n\n    if (id) this.id = id\n    if (from) this.from = from\n    if (to) this.to = to\n    if (pos) this.pos = pos\n    if (type) this.type = type\n    if (numLineType) this.numLineType = numLineType\n    if (lineWidth) this.lineWidth = lineWidth\n    if (bdC) this.bdC = bdC\n    if (isBoolean(ifPure)) this.ifPure = ifPure\n    if (!isUndefined(remark)) this.remark = remark\n  }\n\n  public updateOptions(input: LineInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public draw(input?: LineInput) {\n    this.analysisOptions(input)\n\n    this.drawLine()\n    this.drawEnds()\n    this.drawNote()\n  }\n\n  public containsPoint(e: CanvasEv) {\n    const {pos, id} = this\n\n    const isOnline = isNumber(isPointOnLineSegments(e, pos, 5))\n\n    const targetPointInfo = {\n      type: null,\n      id: null,\n    }\n    if (isOnline) {\n      targetPointInfo.type = 'line'\n      targetPointInfo.id = id\n    }\n    return targetPointInfo\n  }\n\n  public getIndexInPos(e) {\n    return isPointOnLineSegments(e, this.pos, 5)\n  }\n\n  private drawLine() {\n    const {ctx, bdC, lineWidth, type, pos} = this\n\n    ctx.save()\n\n    ctx.strokeStyle = bdC\n    ctx.lineWidth = lineWidth\n\n    // 根据是否是外键判断是否需要绘制虚线\n    if (type === LineType.NON_IDENTIFYING) ctx.setLineDash([8, 5])\n\n    pos.forEach((pointItem, pointIdx) => {\n      if (pointIdx === 0) {\n        ctx.beginPath()\n        ctx.moveTo(pointItem.x, pointItem.y)\n      } else {\n        ctx.lineTo(pointItem.x, pointItem.y)\n      }\n    })\n\n    ctx.stroke()\n    ctx.restore()\n  }\n\n  private drawEnds() {\n    if (this.ifPure) return false\n\n    const {ctx, pos, bdC, lineWidth, numLineType} = this\n    const w = 15,\n      posLen = pos.length || 0\n\n    if (posLen < 2) return\n\n    ctx.save()\n    ctx.beginPath()\n    ctx.setLineDash([0, 0])\n    ctx.strokeStyle = bdC\n    ctx.lineWidth = lineWidth\n\n    // 绘制起点标志\n    // 竖线\n    if (pos[0].x === pos[1].x) {\n      const dis = pos[1].y - pos[0].y\n      const y =\n        Math.abs(dis) < 10\n          ? dis < 0\n            ? pos[0].y - 1\n            : pos[0].y + 1\n          : dis < 0\n          ? pos[0].y - 10\n          : pos[0].y + 10\n      ctx.moveTo(pos[0].x - w / 2, y)\n      ctx.lineTo(pos[0].x + w / 2, y)\n    }\n    // 横线\n    else {\n      const dis = pos[1].x - pos[0].x\n      const x =\n        Math.abs(dis) < 10\n          ? dis < 0\n            ? pos[0].x - 1\n            : pos[0].x + 1\n          : dis < 0\n          ? pos[0].x - 10\n          : pos[0].x + 10\n      ctx.moveTo(x, pos[0].y - w / 2)\n      ctx.lineTo(x, pos[0].y + w / 2)\n    }\n\n    // 绘制终点标志\n    // 竖线\n    if (pos[posLen - 2].x === pos[posLen - 1].x) {\n      const dis = pos[posLen - 1].y - pos[posLen - 2].y\n      const y =\n        Math.abs(dis) < 10\n          ? dis < 0\n            ? pos[posLen - 1].y + 1\n            : pos[posLen - 1].y - 1\n          : dis < 0\n          ? pos[posLen - 1].y + 10\n          : pos[posLen - 1].y - 10\n      ctx.moveTo(pos[posLen - 1].x - w / 2, y)\n      ctx.lineTo(pos[posLen - 1].x + w / 2, y)\n      ctx.stroke()\n      // 绘制分叉\n      if (\n        [Relationship.ONE_MORE, Relationship.ZEROONE_MORE].includes(numLineType)\n      ) {\n        ctx.moveTo(pos[posLen - 1].x - w / 2, pos[posLen - 1].y)\n        ctx.lineTo(pos[posLen - 1].x, y)\n        ctx.lineTo(pos[posLen - 1].x, pos[posLen - 1].y)\n        ctx.moveTo(pos[posLen - 1].x, y)\n        ctx.lineTo(pos[posLen - 1].x + w / 2, pos[posLen - 1].y)\n        ctx.stroke()\n      }\n      // 绘制圆圈\n      if (\n        [Relationship.ZEROONE_MORE, Relationship.ZEROONE_ONE].includes(\n          numLineType,\n        )\n      ) {\n        ctx.beginPath()\n        const arcX = pos[posLen - 1].x\n        const arcY = dis < 0 ? y + w / 2 : y - w / 2\n        ctx.arc(arcX, arcY, (w - 2) / 2, 0, 360, false)\n        ctx.fillStyle = '#fff'\n        ctx.fill()\n        ctx.stroke()\n      }\n    }\n    // 横线\n    else {\n      const dis = pos[posLen - 1].x - pos[posLen - 2].x\n      const x =\n        Math.abs(dis) < 10\n          ? dis < 0\n            ? pos[posLen - 1].x + 1\n            : pos[posLen - 1].x - 1\n          : dis < 0\n          ? pos[posLen - 1].x + 10\n          : pos[posLen - 1].x - 10\n      ctx.moveTo(x, pos[posLen - 1].y - w / 2)\n      ctx.lineTo(x, pos[posLen - 1].y + w / 2)\n      ctx.stroke()\n      // 绘制分叉\n      if (\n        [Relationship.ONE_MORE, Relationship.ZEROONE_MORE].includes(numLineType)\n      ) {\n        ctx.moveTo(pos[posLen - 1].x, pos[posLen - 1].y - w / 2)\n        ctx.lineTo(x, pos[posLen - 1].y)\n        ctx.lineTo(pos[posLen - 1].x, pos[posLen - 1].y)\n        ctx.moveTo(x, pos[posLen - 1].y)\n        ctx.lineTo(pos[posLen - 1].x, pos[posLen - 1].y + w / 2)\n        ctx.stroke()\n      }\n      // 绘制圆圈\n      if (\n        [Relationship.ZEROONE_MORE, Relationship.ZEROONE_ONE].includes(\n          numLineType,\n        )\n      ) {\n        ctx.beginPath()\n        const arcX = dis < 0 ? x + w / 2 : x - w / 2\n        const arcY = pos[posLen - 1].y\n        ctx.arc(arcX, arcY, (w - 2) / 2, 0, 360, false)\n        ctx.fillStyle = '#fff'\n        ctx.fill()\n        ctx.stroke()\n      }\n    }\n\n    ctx.restore()\n  }\n\n  private drawNote() {\n    const {ctx, pos, remark} = this\n\n    if (!remark) return\n\n    const middleIndex = Math.floor(pos.length / 2) - 1\n\n    let x, y, vertical\n    // 中间线是横线\n    if (pos[middleIndex].y === pos[middleIndex + 1].y) {\n      vertical = false\n      x =\n        Math.abs(pos[middleIndex + 1].x - pos[middleIndex].x) / 2 +\n        Math.min(pos[middleIndex + 1].x, pos[middleIndex].x)\n      y = pos[middleIndex].y - 10\n    }\n    // 中间线是竖线\n    else {\n      vertical = true\n      x = pos[middleIndex].x + 10\n      y =\n        Math.abs(pos[middleIndex + 1].y - pos[middleIndex].y) / 2 +\n        Math.min(pos[middleIndex + 1].y, pos[middleIndex].y)\n    }\n\n    ctx.save()\n    // 绘制文字\n    ctx.textAlign = 'center'\n    // ctx.textBaseline = 'center'\n    if (vertical) {\n      // ctx.fillRowText(remark, x, y, 16, 16)\n      ctx.translate(x, y)\n      const angleInRadians = (90 * Math.PI) / 180\n      ctx.rotate(angleInRadians)\n      ctx.fillText(remark, 0, 0)\n    } else {\n      ctx.fillText(remark, x, y)\n    }\n    ctx.restore()\n  }\n\n  private calcBoundingBox() {\n    const {pos} = this\n    const xPoints = [],\n      yPoints = []\n    for (let i = 0; i < pos.length; i++) {\n      const it = pos[i]\n      xPoints.push(it.x)\n      yPoints.push(it.y)\n    }\n\n    this.boundingBox = [\n      [Math.min(...xPoints), Math.min(...yPoints)],\n      [Math.max(...xPoints), Math.max(...yPoints)],\n    ]\n  }\n}\n","// 区间值\nexport const mathRange = (value: number, min = -Infinity, max = Infinity) =>\n  Math.max(Math.min(value, max), min)\n","const MAIN_NAME = 'Renderer2d'\n\nexport const log = (...args) => console.log(`[${MAIN_NAME}]: `, ...args)\nexport const warn = (...args) => console.warn(`[${MAIN_NAME}]: `, ...args)\nexport const error = (...args) => console.error(`[${MAIN_NAME}]: `, ...args)\n","import type {Erg} from '..'\nimport {uuid, uuname} from '../../core/utils/uuid'\nimport {Id} from '../../types'\nimport {\n  NodeEvent,\n  LineEvent,\n  MarkEvent,\n  NoteEvent,\n  NodeAttrEvent,\n  GraphEvent,\n  EditorEvent,\n} from '../../types/event'\nimport type {\n  NodeData,\n  LineData,\n  MarkData,\n  NoteData,\n  ErgData,\n} from '../types/graph'\nimport {warn} from '../../core/utils/log'\nimport type {NodeErwin as Node} from '../../core/materials/node'\nimport type {NodeRect} from '../../core/materials/node'\nimport type {LineErwin} from '../../core/materials/line/line-erwin'\nimport type {TextBase} from '../../core/materials/text'\n\nexport interface RelatedLineItem {\n  from: Set<LineErwin>\n  to: Set<LineErwin>\n}\ninterface DataHandlerOptions {\n  context?: Erg\n  data: ErgData\n}\n\n/**\n * 可插拔的数据更新系统\n *  - 调用此类的mountAutoUpdate -> 渲染器直接修改原始数据\n *  - 不调用此类mountAutoUpdate -> 渲染器不修改原始数据，如需正确渲染，需要用户外部手动挂载监听修改数据\n */\nexport class DataHandler {\n  private context: Erg\n  public originData: ErgData = {\n    nodeDataArray: [],\n    linkDataArray: [],\n    markDataArray: [],\n    noteDataArray: [],\n  }\n  public originDataMap: Map<Id, NodeData | LineData | MarkData | NoteData> =\n    new Map()\n\n  public nodeMap: Map<Id, Node> = new Map()\n  public lineMap: Map<Id, LineErwin> = new Map()\n  public noteMap: Map<Id, TextBase> = new Map()\n  public markMap: Map<Id, NodeRect> = new Map()\n  public nodeRelatedLineMap: Map<Node['id'], RelatedLineItem> = new Map()\n\n  constructor(options: DataHandlerOptions) {\n    this.update(options)\n    this.mountAutoUpdate()\n  }\n\n  public update(options: DataHandlerOptions) {\n    this.analysisOptions(options)\n  }\n\n  private analysisOptions(options: DataHandlerOptions) {\n    const {data, context} = options\n    if (data) this.originData = data\n    if (context) this.context = context\n    this.clearMap()\n    this.initMap()\n  }\n\n  private clearMap() {\n    this.originDataMap?.clear()\n    this.lineMap?.clear()\n    this.markMap?.clear()\n    this.noteMap?.clear()\n    this.nodeMap?.clear()\n    this.nodeRelatedLineMap?.clear()\n  }\n\n  private initMap() {\n    const {\n      originData: {\n        nodeDataArray = [],\n        linkDataArray = [],\n        markDataArray = [],\n        noteDataArray = [],\n      },\n      originDataMap,\n    } = this\n\n    originDataMap.clear()\n    const elements = [\n      ...nodeDataArray,\n      ...linkDataArray,\n      ...markDataArray,\n      ...noteDataArray,\n    ]\n    for (let i = 0; i < elements.length; i++) {\n      const el = elements[i]\n      originDataMap.set(el.id, el)\n    }\n  }\n\n  private mountAutoUpdate() {\n    this.mountGraphEvent()\n    this.mountNodeEvent()\n    this.mountNodeAttrEvent()\n    this.mountLineEvent()\n    this.mountMarkEvent()\n    this.mountNoteEvent()\n    this.mountEditorEvent()\n  }\n\n  private mountGraphEvent() {\n    const {context} = this\n    context.on(GraphEvent.Paste, (materials: any[]) => {\n      materials.map((it) => {\n        context.emit(NodeEvent.New, it)\n      })\n    })\n  }\n\n  private mountNodeEvent() {\n    const {originDataMap, context} = this\n    context.on(NodeEvent.Move, (node) => context.emit(NodeEvent.Change, node))\n    context.on(NodeEvent.Resize, (node) => context.emit(NodeEvent.Change, node))\n    context.on(NodeEvent.Change, (node) => {\n      const it = originDataMap.get(node.id) as NodeData\n      it.enName = node.enName\n      it.cnName = node.cnName\n      it.x = node.x\n      it.y = node.y\n      it.width = node.width\n      it.height = node.height\n      // it.color = node.color\n      it.bdC = node.bdC\n      it.bgC = node.bgC\n    })\n    context.on(\n      NodeEvent.Delete,\n      function (node) {\n        const idx = this.originData.nodeDataArray.findIndex(\n          (it) => it.id === node.id,\n        )\n        if (idx === -1) return\n\n        this.originData.nodeDataArray.splice(idx, 1)\n        originDataMap.delete(node.id)\n      }.bind(this),\n    )\n    context.on(NodeEvent.New, (info) => {\n      if (!info.id) info.id = uuid()\n      if (!info.enName) info.enName = uuname('Entity')\n      if (!info.cnName) info.cnName = uuname('实体')\n      this.originData.nodeDataArray.push(info)\n      this.originDataMap.set(info.id, info)\n    })\n  }\n\n  private mountNodeAttrEvent() {\n    const {originDataMap, context} = this\n    context.on(NodeAttrEvent.Drop, (ev, options) => {\n      const {\n        sourceNodeId,\n        sourceAttrIds,\n        targetNodeId,\n        beforeAttrId,\n        afterAttrId,\n        ifPk,\n      } = options\n      const sourceNode = originDataMap.get(sourceNodeId) as NodeData\n      const targetNode = originDataMap.get(targetNodeId) as NodeData\n\n      const removeData = []\n      for (let i = 0; i < sourceAttrIds.length; i++) {\n        const sourceAttrId = sourceAttrIds[i]\n        const sourceAttrIndex = sourceNode.attributes.findIndex(\n          (it) => it.id === sourceAttrId,\n        )\n        const removeAttr = sourceNode.attributes.splice(sourceAttrIndex, 1)[0]\n        removeAttr.ifPk = ifPk\n        removeData.push(removeAttr)\n      }\n\n      // console.log(removeData)\n      if (afterAttrId) {\n        const afterAttrIndex = targetNode.attributes.findIndex(\n          (it) => it.id === afterAttrId,\n        )\n        targetNode.attributes.splice(afterAttrIndex, 0, ...removeData)\n      } else {\n        targetNode.attributes.push(...removeData)\n      }\n    })\n\n    context.on(NodeAttrEvent.Change, (entityId, attrId, key, value) => {\n      const node = originDataMap.get(entityId) as NodeData\n      const attr = node.attributes.find((it) => it.id === attrId)\n      attr[key] = value\n    })\n  }\n\n  private mountLineEvent() {\n    const {originDataMap, nodeRelatedLineMap, lineMap, context} = this\n    context.on(LineEvent.Move, (line) => context.emit(LineEvent.Change, line))\n    context.on(LineEvent.Change, (line) => {\n      const it = originDataMap.get(line.id) as LineData\n      it.pos = line.pos\n    })\n    context.on(\n      LineEvent.Delete,\n      function (line) {\n        const idx = this.originData.linkDataArray.findIndex(\n          (it) => it.id === line.id,\n        )\n        if (idx === -1) return\n\n        const [lineInfo] = this.originData.linkDataArray.splice(idx, 1)\n        nodeRelatedLineMap.get(lineInfo.from).from.delete(lineMap.get(line.id))\n        nodeRelatedLineMap.get(lineInfo.to).to.delete(lineMap.get(line.id))\n        lineMap.delete(line.id)\n        originDataMap.delete(line.id)\n      }.bind(this),\n    )\n\n    context.on(LineEvent.New, (info) => {\n      if (!info.id) info.id = uuid()\n      this.originData.linkDataArray.push(info)\n      this.originDataMap.set(info.id, info)\n    })\n  }\n\n  private mountMarkEvent() {\n    const {originDataMap, context} = this\n    context.on(MarkEvent.Move, (node) => context.emit(MarkEvent.Change, node))\n    context.on(MarkEvent.Resize, (node) => context.emit(MarkEvent.Change, node))\n    context.on(MarkEvent.Change, (node) => {\n      const it = originDataMap.get(node.id) as MarkData\n      it.x = node.x\n      it.y = node.y\n      it.width = node.width\n      it.height = node.height\n      // it.color = node.color\n      it.bdC = node.bdC\n      it.bgC = node.bgC\n    })\n    context.on(\n      MarkEvent.Delete,\n      function (mark) {\n        const idx = this.originData.markDataArray.findIndex(\n          (it) => it.id === mark.id,\n        )\n        if (idx === -1) return\n\n        this.originData.markDataArray.splice(idx, 1)\n        originDataMap.delete(mark.id)\n      }.bind(this),\n    )\n    context.on(MarkEvent.New, (info) => {\n      Object.assign(info, {\n        id: uuid(),\n      })\n      this.originData.markDataArray.push(info)\n      this.originDataMap.set(info.id, info)\n    })\n  }\n\n  private mountNoteEvent() {\n    const {originDataMap, context} = this\n    context.on(NoteEvent.Move, (note) => context.emit(NoteEvent.Change, note))\n    context.on(NoteEvent.Change, (note) => {\n      const it = originDataMap.get(note.id) as NoteData\n      it.x = note.x\n      it.y = note.y\n      it.width = note.width\n      it.height = note.height\n      it.color = note.color\n      it.bdC = note.bdC\n      it.bgC = note.bgC\n    })\n    context.on(\n      NoteEvent.Delete,\n      function (note) {\n        const idx = this.originData.noteDataArray.findIndex(\n          (it) => it.id === note.id,\n        )\n        if (idx === -1) return\n\n        this.originData.noteDataArray.splice(idx, 1)\n        originDataMap.delete(note.id)\n      }.bind(this),\n    )\n    context.on(NoteEvent.New, (info) => {\n      Object.assign(info, {\n        id: uuid(),\n        text: 'remark...',\n      })\n      this.originData.noteDataArray.push(info)\n      this.originDataMap.set(info.id, info)\n    })\n  }\n\n  private mountEditorEvent() {\n    const {nodeMap, context} = this\n    const handleChangeNodeName = (options, value) => {\n      const {entityId, key} = options\n      const node = nodeMap.get(entityId) as Node\n\n      const oldValue = node[key]\n      const sameValue = oldValue === value\n      if (sameValue) return\n\n      const beforeChangeResults = context.emit(\n        NodeEvent.BeforeChange,\n        node,\n        key,\n        value,\n      )\n      Promise.all(beforeChangeResults)\n        .then(() => {\n          node.updateOptions({[key]: value})\n          context.emit(NodeEvent.Change, node)\n        })\n        .catch(() => warn('Change abort in [BeforeChange] hooks.', node))\n    }\n    const handleChangeAttrName = (options, value) => {\n      const {entityId, attrId, key, originData} = options\n      // const node = nodeMap.get(entityId) as Node\n\n      const oldValue = originData[key]\n      const sameValue = oldValue === value\n      if (sameValue) return\n\n      const beforeChangeResults = context.emit(\n        NodeAttrEvent.BeforeChange,\n        entityId,\n        attrId,\n        key,\n        value,\n        originData,\n      )\n      Promise.all(beforeChangeResults)\n        .then(() => {\n          // node.updateOptions({[key]: value})\n          context.emit(\n            NodeAttrEvent.Change,\n            entityId,\n            attrId,\n            key,\n            value,\n            originData,\n          )\n        })\n        .catch(() => warn('Change abort in [BeforeChange] hooks.', originData))\n    }\n    context.on(EditorEvent.Blur, (options, value) => {\n      const {type} = options\n      switch (type) {\n        case 'node-name':\n          handleChangeNodeName(options, value)\n          break\n        case 'node-attr':\n          handleChangeAttrName(options, value)\n          break\n\n        default:\n          break\n      }\n    })\n  }\n\n  private unmountAutoUpdate() {\n    const {context} = this\n    context.off()\n  }\n\n  private freeVariable() {\n    this.originData = null\n    this.originDataMap = null\n  }\n\n  public destroy() {\n    this.unmountAutoUpdate()\n    this.freeVariable()\n  }\n}\n","import {FabricObject} from '../../shared/fabric'\n\n/**\n * 待优化：\n * 1.属性超出画布无需渲染\n */\ninterface NodeInput {\n  x?: number\n  y?: number\n  width?: number\n  height?: number\n  bdC?: string\n  targetWidth?: number\n  targetBgColor?: string\n  targetBdColor?: string\n  lineWidth?: number\n}\nexport class FrameResize extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public width = 100\n  public height = 50\n  public x = 0\n  public y = 0\n  private lineWidth = 1\n  private bdC = 'blue'\n\n  private targetWidth = 6\n  private targetBgColor = '#FFFFFF'\n  private targetBdColor = '#B4B4B4'\n\n  constructor(ctx: CanvasRenderingContext2D, input: NodeInput) {\n    super()\n    this.ctx = ctx\n    this.updateOptions(input)\n  }\n\n  private analysisOptions(input: NodeInput) {\n    if (!input) return\n\n    const {\n      x = 0,\n      y = 0,\n      width,\n      height,\n      targetBgColor,\n      targetBdColor,\n      bdC,\n      lineWidth,\n    } = input\n\n    if (x) this.x = x\n    if (y) this.y = y\n    if (width) this.width = width\n    if (height) this.height = height\n    if (targetBgColor) this.targetBgColor = targetBgColor\n    if (targetBdColor) this.targetBdColor = targetBdColor\n    if (bdC) this.bdC = bdC\n    if (lineWidth) this.lineWidth = lineWidth\n  }\n\n  public updateOptions(input: NodeInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public containsPoint() {\n    const targetPointInfo = {\n      type: null,\n      id: null,\n    }\n    return targetPointInfo\n  }\n\n  public draw(input?: NodeInput) {\n    this.updateOptions(input)\n\n    this.drawBorder()\n    this.drawTargets()\n  }\n\n  private drawBorder() {\n    const {ctx, bdC, lineWidth, x, y, width, height} = this\n\n    ctx.save()\n    ctx.lineWidth = lineWidth\n    ctx.strokeStyle = bdC\n    ctx.strokeRect(x, y, width, height)\n    ctx.restore()\n  }\n\n  private drawTargets() {\n    const {\n      ctx,\n      targetBdColor,\n      targetBgColor,\n      targetWidth,\n      x,\n      y,\n      width,\n      height,\n    } = this\n\n    const halfTargetWidth = targetWidth / 2\n    const fixX = x - halfTargetWidth\n    const fixY = y - halfTargetWidth\n\n    ctx.save()\n    ctx.strokeStyle = targetBdColor\n    ctx.fillStyle = targetBgColor\n\n    ctx.fillRect(fixX, fixY, targetWidth, targetWidth)\n    ctx.fillRect(fixX, fixY + height / 2, targetWidth, targetWidth)\n    ctx.fillRect(fixX, fixY + height, targetWidth, targetWidth)\n    ctx.fillRect(fixX + width / 2, fixY, targetWidth, targetWidth)\n    ctx.fillRect(fixX + width / 2, fixY + height, targetWidth, targetWidth)\n    ctx.fillRect(fixX + width, fixY, targetWidth, targetWidth)\n    ctx.fillRect(fixX + width, fixY + height / 2, targetWidth, targetWidth)\n    ctx.fillRect(fixX + width, fixY + height, targetWidth, targetWidth)\n\n    ctx.strokeRect(fixX, fixY, targetWidth, targetWidth)\n    ctx.strokeRect(fixX, fixY + height / 2, targetWidth, targetWidth)\n    ctx.strokeRect(fixX, fixY + height, targetWidth, targetWidth)\n    ctx.strokeRect(fixX + width / 2, fixY, targetWidth, targetWidth)\n    ctx.strokeRect(fixX + width / 2, fixY + height, targetWidth, targetWidth)\n    ctx.strokeRect(fixX + width, fixY, targetWidth, targetWidth)\n    ctx.strokeRect(fixX + width, fixY + height / 2, targetWidth, targetWidth)\n    ctx.strokeRect(fixX + width, fixY + height, targetWidth, targetWidth)\n\n    ctx.restore()\n  }\n\n  private calcBoundingBox() {\n    const {x, y, width, height} = this\n\n    this.boundingBox = [\n      [x, y],\n      [x + width, y],\n      [x, y + height],\n      [x + width, y + height],\n    ]\n  }\n}\n","import {FabricObject} from '../../shared/fabric'\n\n/**\n * 待优化：\n * 1.属性超出画布无需渲染\n */\ninterface NodeInput {\n  x?: number\n  y?: number\n  width?: number\n  height?: number\n  bdC?: string\n  lineWidth?: number\n}\nexport class FrameHover extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public width = 100\n  public height = 50\n  public x = 0\n  public y = 0\n  private lineWidth = 2\n  private bdC = 'blue'\n\n  constructor(ctx: CanvasRenderingContext2D, input: NodeInput) {\n    super()\n    this.ctx = ctx\n    this.updateOptions(input)\n  }\n\n  private analysisOptions(input: NodeInput) {\n    if (!input) return\n\n    const {x = 0, y = 0, width, height, bdC, lineWidth} = input\n\n    if (x) this.x = x\n    if (y) this.y = y\n    if (width) this.width = width\n    if (height) this.height = height\n    if (bdC) this.bdC = bdC\n    if (bdC) this.lineWidth = lineWidth\n  }\n\n  public updateOptions(input: NodeInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public containsPoint() {\n    const targetPointInfo = {\n      type: null,\n      id: null,\n    }\n    return targetPointInfo\n  }\n\n  public draw(input?: NodeInput) {\n    this.updateOptions(input)\n\n    this.drawBorder()\n  }\n\n  private drawBorder() {\n    const {ctx, bdC, lineWidth, x, y, width, height} = this\n\n    ctx.save()\n    ctx.lineWidth = lineWidth\n    // ctx.setLineDash([8, 5])\n    ctx.strokeStyle = bdC\n    ctx.strokeRect(x, y, width, height)\n    ctx.restore()\n  }\n\n  private calcBoundingBox() {\n    const {x, y, width, height} = this\n\n    this.boundingBox = [\n      [x, y],\n      [x + width, y],\n      [x, y + height],\n      [x + width, y + height],\n    ]\n  }\n}\n","import {NodeErwin} from '../../core/materials/node'\nimport {getAdjacentSides} from '../../core/utils/fx'\nimport {Erg} from '../index'\n\nconst TOLERANCE = 5\nconst COLOR = '#00BFFF'\nexport const useGuides = function (this: Erg) {\n  const {\n    renderElements,\n    canvas: {eventCtx: ctx},\n    event: {target},\n  } = this\n\n  const findAdjacentElements = () => {\n    const target = this.event.target\n    const adjacentElements = []\n    if (!(target instanceof NodeErwin)) return adjacentElements\n\n    for (let i = 0; i < renderElements.length; i++) {\n      const it = renderElements[i]\n      if (!(it instanceof NodeErwin)) continue\n\n      const adjacentSides = getAdjacentSides(target, it, TOLERANCE)\n      for (let j = 0; j < adjacentSides.length; j++) {\n        const side = adjacentSides[j]\n        adjacentElements.push({\n          target: it,\n          adjacentSides: side,\n        })\n      }\n    }\n    return adjacentElements\n  }\n\n  const draw = () => {\n    const adjacentElements = findAdjacentElements()\n\n    for (let i = 0; i < adjacentElements.length; i++) {\n      const {target: it, adjacentSides} = adjacentElements[i]\n      const side = adjacentSides[1]\n\n      const startX =\n        side === 'left' ? it.x : side === 'right' ? it.x + it.width : target.x\n      const startY =\n        side === 'top' ? it.y : side === 'bottom' ? it.y + it.height : target.y\n      const endX =\n        side === 'left' ? it.x : side === 'right' ? it.x + it.width : it.x\n      const endY =\n        side === 'top' ? it.y : side === 'bottom' ? it.y + it.height : it.y\n\n      ctx.save()\n      ctx.beginPath()\n      ctx.setLineDash([4, 4])\n      ctx.strokeStyle = COLOR\n      ctx.moveTo(startX, startY)\n      ctx.lineTo(endX, endY)\n      ctx.stroke()\n      ctx.restore()\n    }\n  }\n\n  return {\n    draw,\n  }\n}\n","import {GraphActionStatus, Cursor, TargetDirection} from '../shared/enum'\nimport {NodeErwin} from '../../core/materials/node'\nimport {NodeRect} from '../../core/materials/node'\nimport {LineErwin} from '../../core/materials/line'\nimport {TextBase} from '../../core/materials/text'\nimport type {Erg} from '../index'\nimport {cloneDeep} from 'lodash-es'\nimport {\n  NodeEvent,\n  MarkEvent,\n  NoteEvent,\n  GraphEvent,\n  LineEvent,\n  NodeAttrEvent,\n} from '../../types/event'\nimport {uuid} from '../../core/utils/uuid'\nimport {NodeData} from '../types/graph'\nimport {warn} from '../../core/utils/log'\nimport {orderRun} from '../../core/utils/fn'\n\n/**\n * 是否到达八点框\n */\nconst ifAnchor = (target: unknown, canvasEv) => {\n  const ifLegalMaterials =\n    target instanceof NodeErwin || target instanceof NodeRect\n  if (!ifLegalMaterials) return false\n\n  // 是否八点框触发\n  const {x, width} = target\n  let {y, height} = target\n  if (target instanceof NodeErwin && !target.ifSubEntity) {\n    y += target.titleHeight\n    height -= target.titleHeight\n  }\n  const middleX = x + width / 2\n  const middleY = y + height / 2\n  const fullX = x + width\n  const fullY = y + height\n  const tolerance = 5\n  let targetDirection = TargetDirection.NONE\n\n  if (\n    Math.abs(x - canvasEv.x) <= tolerance &&\n    Math.abs(y - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.LT\n  else if (\n    Math.abs(middleX - canvasEv.x) <= tolerance &&\n    Math.abs(y - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.TM\n  else if (\n    Math.abs(fullX - canvasEv.x) <= tolerance &&\n    Math.abs(y - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.RT\n  else if (\n    Math.abs(x - canvasEv.x) <= tolerance &&\n    Math.abs(middleY - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.LM\n  else if (\n    Math.abs(fullX - canvasEv.x) <= tolerance &&\n    Math.abs(middleY - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.RM\n  else if (\n    Math.abs(x - canvasEv.x) <= tolerance &&\n    Math.abs(fullY - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.LB\n  else if (\n    Math.abs(middleX - canvasEv.x) <= tolerance &&\n    Math.abs(fullY - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.BM\n  else if (\n    Math.abs(fullX - canvasEv.x) <= tolerance &&\n    Math.abs(fullY - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.RB\n\n  return targetDirection\n}\n\nexport const getTargetAttributeInfo = ({\n  sourceNodeId,\n  sourceAttrIds,\n  targetNode,\n  canvasEv,\n}) => {\n  const targetPointInfo = targetNode?.containsPoint(canvasEv)\n  const ifHoverNode = targetNode instanceof NodeErwin\n  const ifLegalAttr = targetPointInfo?.type === 'attribute'\n  if (!ifHoverNode || !ifLegalAttr) return\n  const attrId = targetPointInfo.id\n\n  const ifPk = !!+targetNode.getAttributeInfo(attrId).info.ifPk\n\n  const ifVirtualAttr = ['PrimaryKey', 'NonPrimaryKey'].includes(\n    attrId as string,\n  )\n  const targetAttrs = ifPk\n    ? targetNode.attributesPrimary\n    : targetNode.attributesPrimaryNon\n  const beforeAttrIdx = ifVirtualAttr\n    ? targetAttrs.length - 1\n    : targetAttrs.findIndex((it) => it.id === attrId) - 1\n  const beforeAttrId = targetAttrs[beforeAttrIdx]?.id ?? null\n  const options = {\n    sourceNodeId,\n    sourceAttrIds,\n    targetNodeId: targetNode.id,\n    afterAttrId: ifVirtualAttr ? null : attrId,\n    beforeAttrId,\n    ifPk,\n  }\n\n  return options\n}\n\nexport const getTargetEvent = (hoverTarget) =>\n  hoverTarget instanceof NodeErwin\n    ? NodeEvent\n    : hoverTarget instanceof LineErwin\n    ? LineEvent\n    : hoverTarget instanceof NodeRect\n    ? MarkEvent\n    : hoverTarget instanceof TextBase\n    ? NoteEvent\n    : null\n\nexport const useMouseMove = function (this: Erg, e: MouseEvent, canvasEv) {\n  /**\n   * 移动备注框\n   */\n  const moveMarkRect = () => {\n    const {event} = this\n    const offsetOfMove = {\n      x: canvasEv.x - event.targetOffsetX - event.target.x,\n      y: canvasEv.y - event.targetOffsetY - event.target.y,\n    }\n    const newLoc = {\n      x: event.target.x + offsetOfMove.x,\n      y: event.target.y + offsetOfMove.y,\n    }\n\n    this.dataHandler.markMap.get(event.target.id).updateOptions(newLoc)\n    this.emit(MarkEvent.Move, this.dataHandler.markMap.get(event.target.id))\n    this.update()\n  }\n\n  /**\n   * 移动备注文字\n   */\n  const moveMarkText = () => {\n    const {event} = this\n\n    const offsetOfMove = {\n      x: canvasEv.x - event.targetOffsetX - event.target.x,\n      y: canvasEv.y - event.targetOffsetY - event.target.y,\n    }\n\n    const newLoc = {\n      x: event.target.x + offsetOfMove.x,\n      y: event.target.y + offsetOfMove.y,\n    }\n    this.dataHandler.noteMap.get(event.target.id).updateOptions(newLoc)\n\n    this.emit(NoteEvent.Move, event.target)\n    this.update()\n  }\n\n  /**\n   * 修改实体尺寸\n   */\n  const resizeNode = () => {\n    const {event} = this\n    // event.target.manualChange = true\n    const {x, y} = canvasEv\n    if (event.target.type === 'mark') {\n      this.resizeNode(x, y, event, null)\n    } else {\n      this.resizeNode(x, y, event)\n    }\n\n    this.update()\n  }\n\n  /**\n   * 移动实体\n   */\n  const moveNode = () => {\n    const {\n      focusTarget,\n      event,\n      dataHandler: {nodeRelatedLineMap},\n    } = this\n\n    const offsetOfMove = {\n      x: canvasEv.x - event.targetOffsetX - event.target.x,\n      y: canvasEv.y - event.targetOffsetY - event.target.y,\n    }\n\n    focusTarget.forEach((focusItem) => {\n      if (!(focusItem instanceof NodeErwin)) return\n\n      const nodeNewLoc = {\n        x: focusItem.x + offsetOfMove.x,\n        y: focusItem.y + offsetOfMove.y,\n      }\n\n      // 节点相关线段移动\n      if (nodeRelatedLineMap.has(focusItem.id)) {\n        const involveLines = [\n          ...nodeRelatedLineMap.get(focusItem.id).from,\n          ...nodeRelatedLineMap.get(focusItem.id).to,\n        ]\n        involveLines.forEach((line) => {\n          line.from === line.to\n            ? this.moveLineForSameNode(line, {target: focusItem})\n            : this.moveLineForNode(line, {target: focusItem}, nodeNewLoc)\n        })\n      }\n\n      this.dataHandler.nodeMap.get(focusItem.id).updateOptions(nodeNewLoc)\n      this.emit(NodeEvent.Move, focusItem)\n    })\n\n    this.update()\n  }\n\n  /**\n   * 移动属性\n   */\n  const moveAttr = () => {\n    const {event, focusAttrs, hoverTarget} = this\n    changeMouseCursor()\n    const options = getTargetAttributeInfo({\n      sourceNodeId: event.target.id,\n      sourceAttrIds: [...focusAttrs],\n      targetNode: hoverTarget,\n      canvasEv,\n    })\n    options && this.emit(NodeAttrEvent.Drag, e, options)\n  }\n\n  /**\n   * 移动连线\n   */\n  const moveLine = () => {\n    const {event} = this\n\n    const idx = event.target.getIndexInPos(event.lastEvLoc)\n    event.targetLineStartPointIdx = idx\n    event.lastEvLoc = canvasEv\n    if (idx === false) return\n    this.moveLineForLine(event, canvasEv)\n    this.update()\n  }\n\n  /**\n   * 移动画布\n   */\n  const moveCanvas = () => {\n    this.canvas.setTranslate(e)\n    this.canvas.clearEventCanvas()\n    const graphTranslate = this.canvas.getTranslate()\n    this.emit(GraphEvent.Move, graphTranslate)\n    this.update()\n  }\n\n  /**\n   * 改变指针样式\n   */\n  const changeMouseCursor = () => {\n    const {status, renderElements} = this\n\n    const cursorMap = {\n      [GraphActionStatus.AddNode]: Cursor.cell,\n      [GraphActionStatus.AddPrimaryKey]: Cursor.crosshair,\n      [GraphActionStatus.AddForeignKey]: Cursor.crosshair,\n      [GraphActionStatus.AddFiltered]: Cursor.crosshair,\n      [GraphActionStatus.AddMark]: Cursor.cell,\n      [GraphActionStatus.AddNote]: Cursor.cell,\n      [GraphActionStatus.Copy]: Cursor.copy,\n    }\n\n    const cursorState = cursorMap[status]\n    // 有指定操作：\n    // if (cursorState)\n    //   return (this.canvas.eventEl.style.cursor = cursorState || Cursor.default)\n\n    let hoverTarget = null,\n      cursor = Cursor.grab\n\n    // 无指定操作：到达热点位置变换鼠标状态\n    for (let i = renderElements.length - 1; i >= 0; i--) {\n      const el = renderElements[i]\n      const isTarget = ifAnchor(el, canvasEv) || el.containsPoint(canvasEv).type\n      if (isTarget) {\n        hoverTarget = el\n\n        cursor =\n          isTarget === TargetDirection.LT\n            ? Cursor.nwseResize\n            : isTarget === TargetDirection.TM\n            ? Cursor.nsResize\n            : isTarget === TargetDirection.RT\n            ? Cursor.neswResize\n            : isTarget === TargetDirection.LM\n            ? Cursor.ewResize\n            : isTarget === TargetDirection.RM\n            ? Cursor.ewResize\n            : isTarget === TargetDirection.LB\n            ? Cursor.neswResize\n            : isTarget === TargetDirection.BM\n            ? Cursor.nsResize\n            : isTarget === TargetDirection.RB\n            ? Cursor.nwseResize\n            : Cursor.move\n        break\n      }\n    }\n\n    // 触发通知\n    if (this.hoverTarget !== hoverTarget) {\n      const OldTargetEvent =\n        this.hoverTarget instanceof NodeErwin\n          ? NodeEvent\n          : this.hoverTarget instanceof LineErwin\n          ? LineEvent\n          : this.hoverTarget instanceof NodeRect\n          ? MarkEvent\n          : this.hoverTarget instanceof TextBase\n          ? NoteEvent\n          : null\n      const NewTargetEvent =\n        hoverTarget instanceof NodeErwin\n          ? NodeEvent\n          : hoverTarget instanceof LineErwin\n          ? LineEvent\n          : hoverTarget instanceof NodeRect\n          ? MarkEvent\n          : hoverTarget instanceof TextBase\n          ? NoteEvent\n          : null\n      OldTargetEvent && this.emit(OldTargetEvent.Leave, this.hoverTarget)\n      NewTargetEvent && this.emit(NewTargetEvent.Enter, hoverTarget)\n    }\n\n    // 无指定操作：未到达热点位置\n    this.hoverTarget = hoverTarget\n    this.canvas.eventEl.style.cursor = cursorState ?? cursor\n    this.updateEventCanvas()\n  }\n\n  /**\n   * 移动元素\n   */\n  const moveElement = () => {\n    const {event, focusAttrs} = this\n\n    const isAttrMove = event.target && !!focusAttrs.size\n    const isNodeResize = !!event.targetDirection\n    const isNodeMove = event.target instanceof NodeErwin\n    const isLineMove = event.target instanceof LineErwin\n    const isMarkMove = event.target instanceof NodeRect\n    const isNoteMove = event.target instanceof TextBase\n\n    if (isAttrMove) return moveAttr()\n    if (isNodeResize) return resizeNode()\n    if (isNodeMove) return moveNode()\n    if (isLineMove) return moveLine()\n    if (isMarkMove) return moveMarkRect()\n    if (isNoteMove) return moveMarkText()\n  }\n\n  return {\n    changeMouseCursor,\n    moveCanvas,\n    moveElement,\n  }\n}\n\nlet _clickTimer\nexport const useMouseDown = function (this: Erg, e, canvasEv) {\n  const {x: evX, y: evY} = canvasEv\n\n  const clearFocusTarget = (keepFocus?) => {\n    this.focusTarget.forEach((it) => {\n      if (it === keepFocus) return\n      this.emit(getTargetEvent(it).Blur, it)\n      this.focusTarget.delete(it)\n    })\n    return this\n  }\n\n  const execTask = () => {\n    const {status, defaultWidth, defaultHeight} = this\n    if (!status) return false\n    switch (status) {\n      case GraphActionStatus.Copy: {\n        const focusNodes = cloneDeep(\n          [...this.focusTarget].filter((it) => !(it instanceof LineErwin)),\n        ) as NodeErwin[]\n        if (!focusNodes.length) break\n\n        const distance = {\n          x: evX - focusNodes[0].x,\n          y: evY - focusNodes[0].y,\n        }\n\n        const fixNodes = focusNodes.map((node) => {\n          node.x = node.x + distance.x\n          node.y = node.y + distance.y\n          delete node.id\n          return node\n        })\n        this.emit(GraphEvent.Paste, fixNodes)\n        this.status = GraphActionStatus.None\n        this.canvas.eventEl.style.cursor = Cursor.default\n        this.update()\n        break\n      }\n      case GraphActionStatus.AddNode: {\n        const newNode = {\n          x: evX - defaultWidth / 2,\n          y: evY - defaultHeight / 2,\n          width: defaultWidth,\n          height: defaultHeight,\n        }\n\n        /**\n         * 为了满足服务端初始化数据的情况，如果beforeCreateResults为：\n         *  - []: 直接触发创建操作\n         *  - 包含promise：等待promise执行完成\n         *    - 包含reject：终止渲染器的后续创建操作（需要服务端数据可通过此处reject，由此自接管后续创建操作）\n         *    - 全部resolve：渲染器执行后续创建操作\n         */\n        const beforeCreateResults = this.emit(NodeEvent.BeforeCreate, newNode)\n        Promise.all(beforeCreateResults)\n          .then(() => {\n            this.emit(NodeEvent.New, newNode)\n            this.update()\n          })\n          .catch(() => warn('CreateNode abort in [BeforeCreate] hooks.'))\n\n        this.status = GraphActionStatus.None\n        this.canvas.eventEl.style.cursor = Cursor.default\n        break\n      }\n      case GraphActionStatus.AddMark: {\n        const newMark = {\n          id: uuid(),\n          x: evX,\n          y: evY,\n          width: defaultWidth,\n          height: defaultHeight,\n          type: 'mark',\n        }\n\n        this.emit(MarkEvent.New, newMark)\n        this.status = GraphActionStatus.None\n        this.canvas.eventEl.style.cursor = Cursor.default\n        this.update()\n        break\n      }\n      case GraphActionStatus.AddNote: {\n        const newNote = {\n          id: uuid(),\n          x: evX,\n          y: evY,\n          text: '',\n          type: 'note',\n        }\n\n        this.emit(NoteEvent.New, newNote)\n        this.status = GraphActionStatus.None\n        this.canvas.eventEl.style.cursor = Cursor.default\n        this.update()\n        break\n      }\n      // case GraphActionStatus.AddPrimaryKey:\n      //   break\n      // case GraphActionStatus.AddForeignKey:\n      //   break\n      // case GraphActionStatus.AddFiltered:\n      //   break\n\n      // AddPrimaryKey | AddForeignKey | AddFiltered\n      default:\n        if (this.hoverTarget instanceof NodeErwin) {\n          this.chooseTargets.push(\n            this.dataHandler.originDataMap.get(this.hoverTarget.id) as NodeData,\n          )\n        }\n        if (this.chooseTargets.length > 1) {\n          this.status === GraphActionStatus.AddFiltered\n            ? this.createBranchLine()\n            : this.createLine(this.status)\n          this.status = GraphActionStatus.None\n          this.chooseTargets = []\n        }\n        break\n    }\n  }\n\n  const execEntityRename = async () => {\n    const {canvas, hoverTarget, focusTarget} = this\n    const ifFocusEntity =\n      hoverTarget instanceof NodeErwin && focusTarget.has(hoverTarget)\n    if (!ifFocusEntity) return false\n\n    const {x, y} = this.canvas.transMousePositionForCanvas(e)\n    const ifTitle = hoverTarget?.containsPoint({x, y}).type === 'title'\n    if (!ifTitle) return false\n\n    const nameKey = this.ifLogic ? 'cnName' : 'enName'\n    const options = {\n      type: 'node-name',\n      key: nameKey,\n      value: (hoverTarget as NodeErwin)[nameKey],\n      entityId: hoverTarget.id,\n      getLocation() {\n        const {x, y} = canvas.transCanvasPositionToOrigin({\n          x: (hoverTarget as NodeErwin).x,\n          y: (hoverTarget as NodeErwin).y + 4,\n        })\n        return {\n          width: (hoverTarget as NodeErwin).width,\n          height: (hoverTarget as NodeErwin).attrHeight,\n          x,\n          y,\n        }\n      },\n    }\n\n    if (_clickTimer) {\n      clearTimeout(_clickTimer)\n      _clickTimer = null\n      warn('dblClick')\n    } else {\n      _clickTimer = setTimeout(() => {\n        _clickTimer = null\n        this.emit(NodeEvent.Rename, options)\n      }, 250)\n    }\n    // waiting cursor change\n    // await sleep(250)\n    return true\n  }\n\n  const execAttrRename = async () => {\n    const {canvas, hoverTarget, focusAttrs} = this\n    const targetPointInfo = hoverTarget.containsPoint(canvasEv)\n    const ifAttrRename = focusAttrs.has(targetPointInfo.id)\n    if (!ifAttrRename) return false\n\n    const focusAttrId = targetPointInfo.id\n    const attrInfo = (hoverTarget as NodeErwin).getAttributeInfo(focusAttrId)\n    const nameKey = this.ifLogic ? 'cnName' : 'enName'\n    const options = {\n      type: 'node-attr',\n      key: nameKey,\n      value: attrInfo.info[nameKey],\n      entityId: hoverTarget.id,\n      attrId: attrInfo.info.id,\n      originData: attrInfo.info,\n      getLocation() {\n        const attrInfo = (hoverTarget as NodeErwin).getAttributeInfo(\n          focusAttrId,\n        )\n        const {x, y} = canvas.transCanvasPositionToOrigin({\n          x: attrInfo.x,\n          y: attrInfo.y - 1,\n        })\n        return {\n          width: (hoverTarget as NodeErwin).width - attrInfo.padding * 2,\n          height: (hoverTarget as NodeErwin).attrHeight,\n          x,\n          y,\n        }\n      },\n    }\n\n    if (_clickTimer) {\n      clearTimeout(_clickTimer)\n      _clickTimer = null\n      warn('dblClick')\n    } else {\n      _clickTimer = setTimeout(() => {\n        _clickTimer = null\n        this.emit(NodeAttrEvent.Rename, options)\n      }, 250)\n    }\n    // await sleep(250)\n    return true\n  }\n\n  const execAttrFocus = () => {\n    const {hoverTarget, focusAttrs, focusTarget} = this\n    const ifMultiSelect = e.metaKey || e.ctrlKey\n    const ifFocusTarget = focusTarget.has(hoverTarget)\n\n    // 处理实体属性聚焦：只有已聚焦的实体才会触发内部的属性聚焦\n    const targetDirection = ifAnchor(hoverTarget, canvasEv)\n    const targetPointInfo = hoverTarget.containsPoint(canvasEv)\n    const ifAttr = targetPointInfo?.type === 'attribute'\n    const ifVirtualAttr =\n      ifAttr &&\n      ['PrimaryKey', 'NonPrimaryKey'].includes(targetPointInfo?.id as string)\n    const ifAttrFocus =\n      ifAttr &&\n      hoverTarget instanceof NodeErwin &&\n      ifFocusTarget &&\n      !targetDirection &&\n      !ifVirtualAttr\n\n    if (!ifMultiSelect) focusAttrs.clear()\n    if (ifAttrFocus) {\n      focusAttrs.add(targetPointInfo.id)\n      return true\n    }\n  }\n\n  const execMaterialsFocus = () => {\n    const {hoverTarget, event, focusTarget} = this\n    const ifMultiSelect = e.metaKey || e.ctrlKey\n    const ifFocusTarget = focusTarget.has(hoverTarget)\n    const TargetEvent = getTargetEvent(hoverTarget)\n    const targetDirection = ifAnchor(hoverTarget, canvasEv)\n\n    // 未多选 | 连线 -> 清空聚焦\n    const ifContext = ifFocusTarget && e.button === 2\n    const ifLine = TargetEvent === LineEvent\n    const ifClearFocusTarget = !(ifMultiSelect || ifContext) || ifLine\n    if (ifClearFocusTarget) clearFocusTarget(hoverTarget)\n\n    // 处理物料聚焦\n    if (hoverTarget instanceof LineErwin) {\n      event.lastEvLoc = canvasEv\n    } else if (\n      hoverTarget instanceof NodeErwin ||\n      hoverTarget instanceof TextBase ||\n      hoverTarget instanceof NodeRect\n    ) {\n      event.targetOffsetX = canvasEv.x - hoverTarget.x\n      event.targetOffsetY = canvasEv.y - hoverTarget.y\n      event.targetDirection = targetDirection || null\n    }\n\n    // 只有新增的hover对象才推送广播\n    if (!focusTarget.has(hoverTarget)) {\n      this.emit(TargetEvent.Focus, hoverTarget)\n      focusTarget.add(hoverTarget)\n\n      this.updateEventCanvas()\n      return true\n    }\n  }\n\n  const setEventTarget = () => {\n    const {hoverTarget, event} = this\n\n    event.target = hoverTarget\n    this.canvas.eventEl.style.cursor = Cursor.grabbing\n\n    // 无hover对象\n    const ifCanvasTarget = !hoverTarget\n    if (ifCanvasTarget) return clearFocusTarget().updateEventCanvas()\n\n    // 触发外部事件\n    const TargetEvent = getTargetEvent(hoverTarget)\n    this.emit(TargetEvent.MouseDown, hoverTarget)\n\n    orderRun([\n      execEntityRename,\n      execAttrRename,\n      execAttrFocus,\n      execMaterialsFocus,\n    ])\n  }\n\n  return {\n    execTask,\n    setEventTarget,\n  }\n}\n\nexport const useMouseUp = function (this: Erg, e: MouseEvent, canvasEv) {\n  const {event, focusAttrs, hoverTarget} = this\n\n  const resetMouseState = () => {\n    const {hoverTarget} = this\n    // 触发外部事件\n    const TargetEvent =\n      hoverTarget instanceof NodeErwin\n        ? NodeEvent\n        : hoverTarget instanceof LineErwin\n        ? LineEvent\n        : hoverTarget instanceof NodeRect\n        ? MarkEvent\n        : hoverTarget instanceof TextBase\n        ? NoteEvent\n        : null\n    TargetEvent && this.emit(TargetEvent.MouseUp, hoverTarget)\n\n    this.canvas.eventEl.style.cursor = Cursor.default\n    Object.assign(this.event, {\n      target: null,\n      targetDirection: TargetDirection.NONE,\n      targetOffsetX: 0,\n      targetOffsetY: 0,\n      targetLineStartPointIdx: 0,\n      lastEvLoc: {x: 0, y: 0},\n    })\n    this.update()\n  }\n  const drop = () => {\n    const {x: curX, y: curY} = this.canvas.transMousePositionForCanvas(e)\n    const ifNotMove = curX === event.canvasEv.x && curY === event.canvasEv.y\n    const ifMouseDown = !!event.target\n    const ifFocusAttr = !!focusAttrs.size\n    const ifMultiSelection = e.metaKey || e.ctrlKey\n    const ifContext = e.button === 2\n    const notDropAttr =\n      ifNotMove || !ifMouseDown || !ifFocusAttr || ifMultiSelection || ifContext\n    if (notDropAttr) return false\n\n    // drop attrs\n    const options = getTargetAttributeInfo({\n      sourceNodeId: event.target.id,\n      sourceAttrIds: [...focusAttrs],\n      targetNode: hoverTarget,\n      canvasEv,\n    })\n    const ifSelfEmit =\n      focusAttrs.size === 1 && focusAttrs.has(options.afterAttrId)\n    if (ifSelfEmit) return false\n\n    const beforeDropResults = this.emit(NodeAttrEvent.BeforeDrop, e, options)\n    Promise.all(beforeDropResults)\n      .then(() => {\n        this.emit(NodeAttrEvent.Drop, e, options)\n        focusAttrs.clear()\n        this.update()\n      })\n      .catch((err) => warn('AttrDrop abort in BeforeDrop.', err))\n  }\n  return {\n    resetMouseState,\n    drop,\n  }\n}\n","export interface TreeNode {\n  id: number | string\n  children?: TreeNode[]\n}\n\nexport function generateTree(\n  nodeParents: Map<string | number, Set<string | number>>,\n  rootId: number,\n): TreeNode {\n  const rootNode: TreeNode = {id: rootId}\n  const queue: TreeNode[] = [rootNode]\n\n  while (queue.length > 0) {\n    const currentNode = queue.shift()!\n    const children: TreeNode[] = []\n    for (const [itId, itParents] of nodeParents) {\n      const ifWaiting = nodeParents.has(itId)\n      const ifChildren = itParents.has(currentNode.id)\n      if (ifWaiting && ifChildren) {\n        const node = {id: itId}\n        children.push(node)\n        queue.push(node)\n        nodeParents.delete(itId)\n      }\n    }\n\n    currentNode.children = children\n  }\n  return rootNode\n}\n","export const HORIZONTAL_SPACE = 100\nexport const VERTICAL_SPACE = 100\nexport const FONT_SIZE = 12\nexport const FONT_FAMILY = 'sans-serif'\nexport const LINE_HEIGHT = 14\nexport const PADDING = 10\nexport const DEFAULT_WIDTH = 100\nexport const DEFAULT_HEIGHT = 100\nexport const DEFAULT_TITLE_HEIGHT = 24\nexport const DEFAULT_SUB_WIDTH = 40\nexport const DEFAULT_SUB_HEIGHT = 20\nexport const ANIMATION_DURATION = 1000\n","export function getTextWidth(\n  text: string,\n  fontSize: number,\n  fontFamily = 'sans-serif',\n) {\n  const canvas = document.createElement('canvas')\n  const context = canvas.getContext('2d')!\n  context.font = `${fontSize}px ${fontFamily}`\n  return context.measureText(text).width\n}\n","import {getTextWidth} from '../../../../core/utils/string'\nimport {\n  PADDING,\n  FONT_SIZE,\n  FONT_FAMILY,\n  LINE_HEIGHT,\n  DEFAULT_HEIGHT,\n  DEFAULT_WIDTH,\n  DEFAULT_SUB_WIDTH,\n  DEFAULT_SUB_HEIGHT,\n  DEFAULT_TITLE_HEIGHT,\n} from './conf'\n\nexport const getAutoSizeValue = (node) => {\n  let width, height\n  if (['inclusive', 'exclusive'].includes(node.type)) {\n    width = DEFAULT_SUB_WIDTH\n    height = DEFAULT_SUB_HEIGHT\n  } else {\n    width = Math.max(\n      Math.floor(\n        Math.max(\n          ...(node.attributes || []).map((it) =>\n            Math.max(\n              getTextWidth(it.cnName, FONT_SIZE, FONT_FAMILY),\n              getTextWidth(it.enName, FONT_SIZE, FONT_FAMILY),\n            ),\n          ),\n        ) +\n          PADDING * 2 +\n          FONT_SIZE * 2,\n      ),\n      DEFAULT_WIDTH,\n    )\n    const includePrimary =\n      (node.attributes || []).findIndex((it) => Boolean(+it.ifPk)) !== -1\n    // 属性占位行个数：主键非主键分割线、无主键空位\n    const placeholderNumber = includePrimary ? 1 : 2\n    height = Math.floor(\n      Math.max(\n        ((node.attributes || []).length + placeholderNumber) * LINE_HEIGHT +\n          PADDING * 2,\n        DEFAULT_HEIGHT,\n      ) + DEFAULT_TITLE_HEIGHT,\n    )\n  }\n  return {\n    width,\n    height,\n  }\n}\n","import {Id} from '../../../types'\nimport {generateTree, TreeNode} from './utils/tree'\nimport {\n  HORIZONTAL_SPACE,\n  VERTICAL_SPACE,\n  DEFAULT_WIDTH,\n  DEFAULT_HEIGHT,\n  ANIMATION_DURATION,\n} from './utils/conf'\nimport {getAutoSizeValue} from './utils/auto-size'\nimport type {\n  NodeData,\n  LineData,\n  MarkData,\n  NoteData,\n} from '@ej/erg-renderer/src/erg/types/graph'\n\nimport TWEEN from '@tweenjs/tween.js'\n\nexport const hierarchicalLayout = async (\n  data: {\n    nodeDataArray: NodeData[]\n    linkDataArray: LineData[]\n    markDataArray?: MarkData[]\n    noteDataArray?: NoteData[]\n  },\n  updateFunc?: () => void,\n) => {\n  const {nodeDataArray, linkDataArray, markDataArray, noteDataArray} = data\n\n  // 从多到少排序的图形分组\n  const layers = createLayers(nodeDataArray, linkDataArray).sort(\n    (a, b) => b.children.length - a.children.length,\n  )\n\n  // 布局实体（x, y, w, h）\n  layoutNodes(nodeDataArray, layers).then((maxX) => {\n    // 布局备注框\n    const maxY = layoutMarks(markDataArray, maxX, -DEFAULT_HEIGHT)\n\n    // 布局备注文本\n    layoutNotes(noteDataArray, maxX, maxY)\n  })\n\n  return new Promise((resolve, reject) => {\n    function animate() {\n      const tweens = TWEEN.getAll()\n      if (!tweens.length) return resolve(data)\n      requestAnimationFrame(animate)\n      TWEEN.update()\n      updateFunc?.()\n    }\n    animate()\n  })\n}\n\n/**\n * 生成layer矩阵\n */\nconst createLayers = (nodes: NodeData[], lines: LineData[]) => {\n  /**\n   * 计算每个节点的深度和父节点\n   */\n  const nodeParents = new Map<Id, Set<Id>>()\n\n  for (const node of nodes) {\n    nodeParents.set(node.id, new Set())\n  }\n\n  for (const line of lines) {\n    const parents = nodeParents.get(line.to)\n\n    // 关系中包含不存在的实体不计入\n    const existToNode = !!parents\n    const existFromNode = !!nodeParents.get(line.from)\n    if (!existFromNode || !existToNode) continue\n\n    parents.add(line.from)\n  }\n\n  /**\n   * 生成layer矩阵\n   */\n  const layers: TreeNode[] = []\n\n  let allDone = false\n  while (!allDone) {\n    if (!nodeParents.size) {\n      allDone = false\n      break\n    }\n\n    let minParentsId = null\n    // 每循环一次为一组，对应第一层[]\n    for (const [toId, fromIds] of nodeParents) {\n      // 找到父级最少的节点作为顶级节点\n      const ifEmpty = minParentsId === null\n      const ifLess = fromIds.size < nodeParents.get(minParentsId)?.size\n      const ifMin = minParentsId === 0\n      if (ifEmpty || ifLess) minParentsId = toId\n      if (ifMin) break\n    }\n\n    nodeParents.delete(minParentsId)\n\n    const groupData = generateTree(nodeParents, minParentsId)\n    layers.push(groupData)\n  }\n\n  return layers\n}\n\n/**\n * 根据矩阵，重新设定各个实体的x,y,w,h\n */\nconst layoutNodes = async (nodes: NodeData[], layers: TreeNode[]) => {\n  const nodeMap = new Map<Id, NodeData>()\n  nodes.map((node) => nodeMap.set(node.id, node))\n\n  await Promise.all(autoSize(nodes))\n\n  return Promise.resolve(\n    layers.reduce(\n      (x, group) => (x = recursionGroup(nodeMap, [group], x, VERTICAL_SPACE)),\n      HORIZONTAL_SPACE,\n    ),\n  )\n}\n\n/**\n * 自适应实体大小: w, h\n */\nexport const autoSize = (nodes: NodeData[]) => {\n  return nodes.map((node) => {\n    // if (['inclusive', 'exclusive'].includes(node.type)) return\n    const autoSizeValue = getAutoSizeValue(node)\n\n    return new Promise<void>((resolve) => {\n      new TWEEN.Tween(node)\n        .to(\n          {width: autoSizeValue.width, height: autoSizeValue.height},\n          ANIMATION_DURATION / 2,\n        )\n        .easing(TWEEN.Easing.Quadratic.InOut)\n        .start()\n        .onComplete(() => resolve())\n      // node.width = autoSizeValue.width\n      // node.height = autoSizeValue.height\n    })\n  })\n}\n\n/**\n * 布局实体: x, y\n */\nconst recursionGroup = (nodeMap, rows, x, y) => {\n  const curRowMaxHeight = Math.max(\n    ...rows.map((it) => nodeMap.get(it.id).height || DEFAULT_HEIGHT),\n  )\n  const nextBeginY = y + curRowMaxHeight + VERTICAL_SPACE\n  let maxX = x\n  for (let i = 0; i < rows.length; i++) {\n    const row = nodeMap.get(rows[i].id)\n    new TWEEN.Tween(row)\n      .to({x: maxX, y: y}, ANIMATION_DURATION)\n      .easing(TWEEN.Easing.Quadratic.InOut)\n      .start()\n    const curX = maxX\n    // row.x = maxX\n    // row.y = y\n    maxX += row.width + HORIZONTAL_SPACE\n    if (rows[i].children?.length)\n      maxX = Math.max(\n        recursionGroup(nodeMap, rows[i].children, curX, nextBeginY),\n        maxX,\n      )\n  }\n  return maxX\n}\n\n/**\n * 布局备注框\n */\nconst layoutMarks = (markDataArray, startX, startY) => {\n  let y = startY\n  markDataArray?.map((it) => {\n    y += VERTICAL_SPACE + DEFAULT_HEIGHT\n\n    new TWEEN.Tween(it)\n      .to(\n        {x: startX, y, width: DEFAULT_WIDTH, height: DEFAULT_HEIGHT},\n        ANIMATION_DURATION,\n      )\n      .easing(TWEEN.Easing.Quadratic.InOut)\n      .start()\n    // it.x = maxX\n    // it.y = y += VERTICAL_SPACE + DEFAULT_HEIGHT\n    // it.width = DEFAULT_WIDTH\n    // it.height = DEFAULT_HEIGHT\n  })\n\n  return y\n}\n\n/**\n * 布局备注文本\n */\nconst layoutNotes = (noteDataArray, startX, startY) => {\n  let y = startY\n  noteDataArray?.map((it) => {\n    y += VERTICAL_SPACE + DEFAULT_HEIGHT\n\n    new TWEEN.Tween(it)\n      .to(\n        {x: startX, y, width: DEFAULT_WIDTH, height: DEFAULT_HEIGHT},\n        ANIMATION_DURATION,\n      )\n      .easing(TWEEN.Easing.Quadratic.InOut)\n      .start()\n    // it.x = maxX\n    // it.y = y += VERTICAL_SPACE + DEFAULT_HEIGHT\n    // it.width = DEFAULT_WIDTH\n    // it.height = DEFAULT_HEIGHT\n  })\n\n  return y\n}\n","import {EventCenter} from '../core/shared/event'\nimport {LockIcon} from '../core/materials/icon/index'\nimport {Canvas, BackgroundType} from '../core/shared/canvas'\nimport {mathRange} from '../core/utils/math'\nimport {nextTick} from '../core/utils/dom'\n\nimport {DataHandler} from './hooks/data-handler'\nimport {NodeErwin as Node} from '../core/materials/node'\nimport {NodeRect} from '../core/materials/node'\nimport {LineErwin} from '../core/materials/line/line-erwin'\nimport {TextBase} from '../core/materials/text'\nimport {FrameResize, FrameHover} from '../core/materials/frame'\nimport {useGuides} from './hooks/guides'\n\nimport {\n  useMouseMove,\n  useMouseDown,\n  useMouseUp,\n  getTargetEvent,\n  getTargetAttributeInfo,\n} from './hooks/event'\n\nimport {GraphActionStatus, TargetDirection} from './shared/enum'\nimport {Plugins, PluginsEnum} from '../plugins'\n\nimport {cloneDeep, pick, isBoolean} from 'lodash-es'\nimport {\n  ColorCategory,\n  Editable,\n  DataTypeDate,\n  DataTypeNumber,\n  DataTypeString,\n  DataTypeBoolean,\n  DataTypeBinary,\n} from '../types/enum'\n\nimport {preloadLineageImages, imageMap} from '../core/shared/image'\n\nimport {hierarchicalLayout, autoSize} from './hooks/layout'\nimport {\n  Event,\n  CanvasEvent,\n  GraphEvent,\n  NodeEvent,\n  NodeAttrEvent,\n  LineEvent,\n  MarkEvent,\n  ContextmenuEvent,\n  NoteEvent,\n  ThumbnailEvent,\n  EditorEvent,\n} from '../types/event'\nimport {LineData} from './types/graph'\n\nimport type {CanvasEv, Id} from '../types/index'\nimport type {ErgData, NodeData} from './types/graph'\nimport {error, log, warn} from '../core/utils/log'\n\nimport TWEEN from '@tweenjs/tween.js'\n\nenum Color {\n  primary = 'blue',\n  border = '#000000',\n}\n\ninterface ErgOptions {\n  el?: HTMLElement\n  data?: ErgData\n  editable?: Editable\n  fontFamily?: string\n  status?: GraphActionStatus\n  rightMenu?: any[]\n  useRightMenu?: boolean\n  useEditor?: boolean\n  useThumbnail?: boolean\n  useHistory?: boolean\n  useCheatSheet?: boolean\n  ifLogic?: boolean\n}\nexport class Erg extends EventCenter {\n  private el: HTMLElement\n  public canvas: Canvas\n  private cacheCtx: CanvasRenderingContext2D\n\n  public dataHandler: DataHandler\n\n  // 优化：缓存页面渲染元素，避免在交互时循环全部数据\n  public renderElements: Array<Node | LineErwin | TextBase | NodeRect>\n\n  public status: GraphActionStatus\n\n  // 缓存事件对象\n  public event = {\n    target: null,\n    canvasEv: {x: 0, y: 0},\n    // 节点\n    targetDirection: TargetDirection.NONE,\n    targetOffsetX: 0,\n    targetOffsetY: 0,\n    // 连线\n    targetLineStartPointIdx: 0,\n    lastEvLoc: {x: 0, y: 0},\n  }\n\n  private plugins: Plugins = new Plugins()\n  private useHistory = true\n  private useThumbnail = true\n  private useEditor = true\n  private useCheatSheet = true\n  private useRightMenu = true\n  private rightMenuConfig = []\n\n  public ifLogic = false\n  private fontFamily: string\n  private editable = Editable.Edit\n\n  // 节点默认配置\n  public defaultWidth = 100\n  public defaultHeight = 100\n\n  public focusTarget = new Set<Node | LineErwin | NodeRect | TextBase>()\n  public focusAttrs = new Set<Id>()\n  public hoverTarget: Node | LineErwin | NodeRect | TextBase\n  public chooseTargets: NodeData[] = []\n\n  private _bindEventMousedown: () => void\n  private _bindEventMousemove: () => void\n  private _bindEventMouseup: () => void\n  private _bindEventResize: () => void\n  private _bindEventWheel: () => void\n  private _bindEventContextmenu: () => void\n  private _bindEventUndo: () => void\n  private _bindEventRedo: () => void\n  private _bindEventKeydown: () => void\n  private _bindEventDblclick: () => void\n  private _bindEventClick: () => void\n\n  constructor(options: ErgOptions) {\n    super()\n    this.debounceUpdate()\n    this.updateConfig(options)\n    this.mountDataHandler(options)\n    this.mountCanvas()\n    this.mountCanvasEvents()\n    this.mountPlugins()\n    preloadLineageImages().then(() => this.update())\n  }\n\n  //初始化数据方法\n  public async updateConfig(options: ErgOptions) {\n    const {\n      el,\n      editable,\n      fontFamily,\n      status,\n      rightMenu,\n      useRightMenu,\n      useThumbnail,\n      useHistory,\n      useEditor,\n      ifLogic,\n    } = options\n    if (el) this.el = el\n    if (isBoolean(ifLogic)) this.ifLogic = ifLogic\n    if (editable) this.editable = editable\n    if (fontFamily) this.fontFamily = fontFamily\n    if (rightMenu) this.rightMenuConfig = rightMenu\n\n    // 禁用模式不可切换状态\n    if (status)\n      this.status =\n        this.editable === Editable.Disabled ? GraphActionStatus.None : status\n    // 是否使用右键菜单\n    if (isBoolean(useRightMenu)) this.useRightMenu = useRightMenu\n    if (isBoolean(useThumbnail)) this.useThumbnail = useThumbnail\n    if (isBoolean(useHistory)) this.useHistory = useHistory\n    if (isBoolean(useEditor)) this.useEditor = useEditor\n\n    this.mountPlugins()\n    await nextTick()\n    this.update()\n  }\n\n  private mountDataHandler(options) {\n    this.dataHandler = new DataHandler({\n      context: this,\n      data: options.data,\n    })\n  }\n\n  public destroy() {\n    this.unmountPlugins()\n    this.unmountCanvasEvents()\n    this.canvas.destroy()\n    this.dataHandler.destroy()\n  }\n\n  private mountCanvas() {\n    this.canvas = new Canvas({\n      mountEl: this.el,\n      backgroundType: BackgroundType.Checker,\n    })\n    this.cacheCtx = this.canvas.cacheCtx\n  }\n\n  private mountPlugins() {\n    // 初始化历史队列\n    if (this.useHistory) {\n      this.plugins.use(PluginsEnum.History)\n    } else {\n      this.plugins.off(PluginsEnum.History)\n    }\n\n    // 初始化编辑器\n    if (this.useEditor && this.canvas) {\n      const editor = this.plugins\n        .use(PluginsEnum.Editor, {\n          containerElement: this.canvas.boxEl,\n        })\n        .off()\n        .on(EditorEvent.Blur, (...args) => this.emit(EditorEvent.Blur, ...args))\n        .on(EditorEvent.Input, (...args) =>\n          this.emit(EditorEvent.Input, ...args),\n        )\n      this.on(NodeAttrEvent.Rename, (options) => editor.show(options))\n      this.on(NodeEvent.Rename, (options) => editor.show(options))\n      this.on(NodeAttrEvent.Change, () => this.update())\n      this.on(NodeEvent.Change, () => this.update())\n      this.on(GraphEvent.Move, () => editor.update())\n      this.on(NodeEvent.Move, () => editor.update())\n      this.on(NodeEvent.Resize, () => editor.update())\n      this.on(GraphEvent.Zoom, (zoom) => editor.update({zoom}))\n    } else {\n      this.plugins.off(PluginsEnum.Editor)\n    }\n\n    // 初始化全景缩略图\n    if (this.useThumbnail && this.canvas) {\n      this.plugins\n        .use(PluginsEnum.Thumbnail, {\n          mountEl: this.canvas.boxEl,\n          mainCanvas: this.canvas,\n        })\n        .on(ThumbnailEvent.MouseDown, (e, canvasEv, isMove) => {\n          if (isMove) {\n            this.update()\n          }\n          this.emit(ThumbnailEvent.MouseDown, e, canvasEv)\n        })\n        .on(ThumbnailEvent.Move, (e, canvasEv, isMove) => {\n          if (isMove) {\n            this.update()\n          }\n          this.emit(ThumbnailEvent.Move, e, canvasEv)\n        })\n        .on(ThumbnailEvent.MouseUp, (e, canvasEv) => {\n          this.emit(ThumbnailEvent.MouseUp, e, canvasEv)\n        })\n    } else {\n      this.plugins.off(PluginsEnum.Thumbnail)\n    }\n\n    // 初始化右键菜单\n    if (this.useRightMenu && this.canvas) {\n      this.plugins\n        .use(PluginsEnum.RightMenu, this.canvas.boxEl, this.rightMenuConfig)\n        .off(ContextmenuEvent.Click)\n        .on(ContextmenuEvent.Click, (value) => {\n          this.emit(ContextmenuEvent.Click, {\n            value: value,\n            target: this.hoverTarget,\n          })\n        })\n    } else {\n      this.plugins.off(PluginsEnum.RightMenu)\n    }\n\n    // 初始化快捷键提示\n    // if (this.useCheatSheet && this.canvas) {\n    //   this.plugins.use(PluginsEnum.CheatSheet, this.canvas.boxEl, [\n    //     {\n    //       name: '编辑',\n    //       children: [\n    //         {\n    //           name: '复制',\n    //           value: '⌘ C',\n    //         },\n    //         {\n    //           name: '粘贴',\n    //           value: '⌘ V',\n    //         },\n    //         {\n    //           name: '撤销',\n    //           value: '⌘ Z',\n    //         },\n    //         {\n    //           name: '回退',\n    //           value: '⇧ ⌘ Z',\n    //         },\n    //         {\n    //           name: '删除',\n    //           value: '⌫ / ⌦',\n    //         },\n    //         {\n    //           name: '重置',\n    //           value: 'Esc',\n    //         },\n    //       ],\n    //     },\n    //     {\n    //       name: '视图',\n    //       children: [\n    //         {\n    //           name: '切换锁',\n    //           value: '⇧ ⌘ Z',\n    //         },\n    //         {\n    //           name: '自动布局',\n    //           value: '⇧ ⌘ Z',\n    //         },\n    //         {\n    //           name: '放大',\n    //           value: '⇧ ⌘ Z',\n    //         },\n    //         {\n    //           name: '缩小',\n    //           value: '⇧ ⌘ Z',\n    //         },\n    //       ],\n    //     },\n    //     {\n    //       name: '实体',\n    //       children: [\n    //         {\n    //           name: '新建实体',\n    //           value: '⌘ C',\n    //         },\n    //         {\n    //           name: '复制属性',\n    //           value: '⌘ C',\n    //         },\n    //         {\n    //           name: '仅逻辑',\n    //           value: '⇧ ⌘ Z',\n    //         },\n    //         {\n    //           name: '仅物理',\n    //           value: '⇧ ⌘ Z',\n    //         },\n    //       ],\n    //     },\n    //     {\n    //       name: '关系',\n    //       children: [\n    //         {\n    //           name: '新建主键',\n    //           value: '⌘ V',\n    //         },\n    //         {\n    //           name: '新建外键',\n    //           value: '⌘ Z',\n    //         },\n    //         {\n    //           name: '新建过滤器',\n    //           value: '⇧ ⌘ Z',\n    //         },\n    //         {\n    //           name: '切换外键关系',\n    //           value: '⇧ ⌘ Z',\n    //         },\n    //         {\n    //           name: '切换基数类型',\n    //           value: '⇧ ⌘ Z',\n    //         },\n    //         {\n    //           name: '仅逻辑',\n    //           value: '⇧ ⌘ Z',\n    //         },\n    //         {\n    //           name: '仅物理',\n    //           value: '⇧ ⌘ Z',\n    //         },\n    //       ],\n    //     },\n    //     {\n    //       name: '线框',\n    //       children: [\n    //         {\n    //           name: '新建线框',\n    //           value: '⌘ V',\n    //         },\n    //       ],\n    //     },\n    //     {\n    //       name: '备注',\n    //       children: [\n    //         {\n    //           name: '新建备注',\n    //           value: '⌘ V',\n    //         },\n    //       ],\n    //     },\n    //   ])\n    // } else {\n    //   this.plugins.off(PluginsEnum.CheatSheet)\n    // }\n  }\n\n  private unmountPlugins() {\n    this.plugins.destroy()\n  }\n\n  private mountCanvasEvents() {\n    this._bindEventMousedown = this.onMouseDown.bind(this)\n    this._bindEventMousemove = this.onMouseMove.bind(this)\n    this._bindEventMouseup = this.onMouseUp.bind(this)\n    this._bindEventResize = this.onResize.bind(this)\n    this._bindEventWheel = this.onWheel.bind(this)\n    this._bindEventContextmenu = this.onContextmenu.bind(this)\n    this._bindEventUndo = this.onUndo.bind(this)\n    this._bindEventRedo = this.onRedo.bind(this)\n    this._bindEventKeydown = this.onKeyDown.bind(this)\n    this._bindEventDblclick = this.onDblClick.bind(this)\n    this._bindEventClick = this.onClick.bind(this)\n\n    this.canvas.on(CanvasEvent.Resize, this._bindEventResize)\n    this.canvas.on(CanvasEvent.Wheel, this._bindEventWheel)\n    this.canvas.on(CanvasEvent.Mouseup, this._bindEventMouseup)\n    this.canvas.on(CanvasEvent.Mousedown, this._bindEventMousedown)\n    this.canvas.on(CanvasEvent.Mousemove, this._bindEventMousemove)\n    this.canvas.on(CanvasEvent.Contextmenu, this._bindEventContextmenu)\n    this.canvas.on(CanvasEvent.Undo, this._bindEventUndo)\n    this.canvas.on(CanvasEvent.Redo, this._bindEventRedo)\n    this.canvas.on(CanvasEvent.Keydown, this._bindEventKeydown)\n    this.canvas.on(CanvasEvent.DblClick, this._bindEventDblclick)\n    this.canvas.on(CanvasEvent.Click, this._bindEventClick)\n  }\n\n  private unmountCanvasEvents() {\n    this.canvas.off(CanvasEvent.Resize, this._bindEventResize)\n    this.canvas.off(CanvasEvent.Wheel, this._bindEventWheel)\n    this.canvas.off(CanvasEvent.Mouseup, this._bindEventMouseup)\n    this.canvas.off(CanvasEvent.Mousedown, this._bindEventMousedown)\n    this.canvas.off(CanvasEvent.Mousemove, this._bindEventMousemove)\n    this.canvas.off(CanvasEvent.Contextmenu, this._bindEventContextmenu)\n    this.canvas.off(CanvasEvent.Undo, this._bindEventUndo)\n    this.canvas.off(CanvasEvent.Redo, this._bindEventRedo)\n    this.canvas.off(CanvasEvent.Keydown, this._bindEventKeydown)\n    this.canvas.off(CanvasEvent.DblClick, this._bindEventDblclick)\n    this.canvas.off(CanvasEvent.Click, this._bindEventClick)\n  }\n\n  private onKeyDown(e) {\n    // 禁用状态不可操作\n    if (this.editable === Editable.Disabled) return false\n\n    const {keyCode} = e\n    const ifDelete = keyCode === 8 || keyCode === 46\n    const ifEsc = keyCode === 27\n\n    if (ifEsc) {\n      this.updateConfig({\n        status: GraphActionStatus.None,\n      })\n    }\n\n    if (ifDelete) {\n      this.focusTarget.forEach((it) => {\n        // 实体先删除相关关系线\n        if (it instanceof Node) {\n          const relatedLines = this.dataHandler.nodeRelatedLineMap.get(it.id)\n          ;[...relatedLines.from, ...relatedLines.to].map((it) => {\n            // 被动触发标志\n            const ifReactive = true\n            const deleteResults = this.emit(\n              LineEvent.BeforeDelete,\n              it,\n              ifReactive,\n            )\n            Promise.all(deleteResults)\n              .then(() => {\n                this.emit(LineEvent.Delete, it, ifReactive)\n              })\n              .catch(() => warn('Delete abort in [BeforeDelete] hooks.', it))\n          })\n        }\n\n        const eventName =\n          it instanceof Node\n            ? NodeEvent\n            : it instanceof LineErwin\n            ? LineEvent\n            : it instanceof NodeRect\n            ? MarkEvent\n            : it instanceof TextBase\n            ? NoteEvent\n            : null\n\n        const deleteResults = this.emit(eventName.BeforeDelete, it)\n        Promise.all(deleteResults)\n          .then(() => {\n            this.emit(eventName.Delete, it)\n          })\n          .catch(() => warn('Delete abort in [BeforeDelete] hooks.', it))\n      })\n\n      this.focusTarget.clear()\n      this.hoverTarget = null\n      this.update()\n    }\n\n    this.emit(GraphEvent.Keydown, e)\n  }\n\n  private onUndo() {\n    const action = this.plugins.get(PluginsEnum.History).undo()\n    action?.reverse()\n    if (!action) warn('撤无可撤')\n  }\n\n  private onRedo() {\n    const action = this.plugins.get(PluginsEnum.History).redo()\n    action?.reverse()\n    if (!action) warn('恢无可恢')\n  }\n\n  private onClick(e: MouseEvent) {\n    // if (this._clickTimer) {\n    //   clearTimeout(this._clickTimer)\n    //   this._clickTimer = null\n    //   log('dblClick')\n    // } else {\n    //   this._clickTimer = setTimeout(() => {\n    //     this._clickTimer = null\n    //     this.triggerEditor(e)\n    //   }, 250)\n    // }\n  }\n\n  private onDblClick(e: MouseEvent) {\n    const target = this.hoverTarget\n    const targetEvent = getTargetEvent(target) ?? GraphEvent\n    this.emit(targetEvent.DblClick, target)\n  }\n\n  private onMouseUp(e: MouseEvent, canvasEv: CanvasEv) {\n    const {resetMouseState, drop} = useMouseUp.call(this, e, canvasEv)\n    drop()\n    resetMouseState()\n  }\n\n  private onMouseDown(e: MouseEvent, canvasEv: CanvasEv) {\n    const {status} = this\n    const {execTask, setEventTarget} = useMouseDown.call(this, e, canvasEv)\n    // 有指定的操作任务：执行任务（添加节点/添加连线/....）\n    if (status) return execTask()\n\n    // 无指定的操作任务：查找事件触发对象\n    setEventTarget(e)\n  }\n\n  private onMouseMove(e: MouseEvent, canvasEv: CanvasEv) {\n    const {canvas, event, editable} = this\n    const {changeMouseCursor, moveCanvas, moveElement} = useMouseMove.call(\n      this,\n      e,\n      canvasEv,\n    )\n    event.canvasEv = canvasEv\n    const isJustMove = !canvas.isMouseDown\n    const isMoveCanvas = canvas.isMouseDown && !event.target\n    const isMoveElement =\n      canvas.isMouseDown && event.target && editable === Editable.Edit\n\n    if (isJustMove) return changeMouseCursor()\n    if (isMoveCanvas) return moveCanvas()\n    if (isMoveElement) {\n      if (this.useHistory) {\n        // 加入历史堆栈\n        const copyFocusTarget = [...this.focusTarget] as any\n\n        for (let i = 0; i < copyFocusTarget.length; i++) {\n          const it = copyFocusTarget[i]\n          const originObject = {\n            target: it,\n            originValue: {},\n          }\n          if (it instanceof Node) {\n            const attrs = pick(it, 'x', 'y', 'width', 'height')\n            originObject.originValue = cloneDeep(attrs)\n\n            const relatedLines = this.dataHandler.nodeRelatedLineMap.get(it.id)\n            copyFocusTarget.push(...relatedLines.from, ...relatedLines.to)\n          }\n          if (it instanceof LineErwin) {\n            const attrs = pick(it, 'pos')\n            originObject.originValue = cloneDeep(attrs)\n          }\n\n          copyFocusTarget[i] = originObject\n        }\n        this.plugins.get(PluginsEnum.History).push(() => {\n          // 逆向操作数据\n          for (let i = 0; i < copyFocusTarget.length; i++) {\n            const {target, originValue} = copyFocusTarget[i]\n            target.updateOptions(originValue)\n            if (target instanceof Node) this.emit(NodeEvent.Resize, target)\n            if (target instanceof LineErwin) this.emit(LineEvent.Move, target)\n          }\n          this.update()\n        })\n      }\n\n      return moveElement()\n    }\n  }\n\n  private onContextmenu(e: MouseEvent) {\n    if (!this.useRightMenu) return\n    const {offsetX, offsetY} = e\n    const {offsetWidth, offsetHeight} = e.target as HTMLElement\n    this.emit(ContextmenuEvent.Show, {\n      target: this.hoverTarget,\n    })\n\n    this.plugins.get(PluginsEnum.RightMenu).show({\n      top: offsetY,\n      left: offsetX,\n      innerWidth: offsetWidth,\n      innerHeight: offsetHeight,\n      menuConfig: this.rightMenuConfig,\n    })\n  }\n\n  private onWheel(e: WheelEvent) {\n    const {deltaY, deltaX, ctrlKey} = e\n    const wheelConfirm = Math.abs(deltaY) > 2 || Math.abs(deltaX) > 2\n\n    if (!wheelConfirm || this.event.target) return\n\n    // 缩放\n    if (ctrlKey) {\n      const zoomRate = this.canvas.zoomRate\n      const fineness = 10\n      const calcRatio = Math.floor(\n        mathRange(zoomRate * 100 - deltaY / fineness, 10, 200),\n      )\n      this.zoom(calcRatio)\n    }\n    // 平移\n    else {\n      const translate = this.canvas.getTranslate()\n      const ev = {\n        x: translate.x - deltaX,\n        y: translate.y - deltaY,\n      } as MouseEvent\n      this.canvas.setTranslate(ev)\n      this.emit(GraphEvent.Move, ev)\n      this.update()\n    }\n  }\n\n  private onResize() {\n    this.update()\n  }\n\n  /**\n   * 实例化节点信息\n   * @description 该方法调用后：nodeMap/attrMap可访问\n   * @returns\n   */\n  private initNodes() {\n    const {\n      dataHandler: {\n        originData: {nodeDataArray: nodes},\n        nodeMap,\n      },\n      dataHandler: {nodeRelatedLineMap},\n      ifLogic,\n    } = this\n    if (!nodes?.length) return\n    for (let i = 0; i < nodes.length; i++) {\n      const it = nodes[i]\n      let node = nodeMap.get(it.id)\n      if (!node) {\n        node = new Node(this.canvas.cacheCtx, {\n          id: it.id,\n          enName: it.enName,\n          cnName: it.cnName,\n          type: it.type,\n          x: it.x,\n          y: it.y,\n          width: it.width,\n          height: it.height,\n          attributes: it.attributes,\n          bdC: it.bdC,\n          bgC: it.bgC,\n          quotePrimaryKey: it.quotePrimaryKey,\n          physicalTables: it.physicalTables,\n          ifLogic,\n        })\n        nodeMap.set(it.id, node)\n        if (!nodeRelatedLineMap.has(it.id))\n          nodeRelatedLineMap.set(it.id, {from: new Set(), to: new Set()})\n\n        // for (let j = 0; j < node.attributes.length; j++) {\n        //   const attr = node.attributes[j]\n        //   this.attrMap.set(attr.id, node)\n        // }\n      }\n    }\n  }\n\n  private renderNodes() {\n    const {\n      dataHandler: {originData, nodeMap},\n      renderElements,\n      ifLogic,\n    } = this\n    const nodes = originData.nodeDataArray\n    for (let i = 0; i < nodes.length; i++) {\n      const it = nodes[i]\n      const node = nodeMap.get(it.id)\n      node.updateOptions({\n        ...it,\n        ifLogic,\n      })\n\n      // 处理不渲染的实体\n      if (ifLogic) {\n        const ifOnlyPhy = +it.ifOnlyPhy\n        if (ifOnlyPhy) continue\n      } else {\n        const ifSubCategory = ['inclusive', 'exclusive'].includes(it.type)\n        const ifOnlyLogic = +it.ifOnlyLogic\n        if (ifSubCategory || ifOnlyLogic) continue\n      }\n\n      const isVisible = this.canvas.isVisible(node.boundingBox)\n      if (isVisible) {\n        renderElements.push(node)\n        node.draw()\n      }\n    }\n  }\n\n  private renderLines() {\n    const {\n      renderElements,\n      ifLogic,\n      dataHandler: {\n        originData,\n        lineMap,\n        nodeMap,\n        originDataMap,\n        nodeRelatedLineMap,\n      },\n    } = this\n    const lines = originData.linkDataArray\n    for (let i = 0; i < lines.length; i++) {\n      const it = lines[i]\n      let line = lineMap.get(it.id)\n\n      this.checkLinePos(it)\n\n      if (!line) {\n        line = new LineErwin(this.canvas.cacheCtx, {\n          pos: it.pos,\n          type: it.type,\n          from: it.from,\n          to: it.to,\n          id: it.id,\n          numLineType: it.numLineType,\n          remark: it.remark,\n          ifPure: it.ifPure,\n        })\n        lineMap.set(it.id, line)\n      } else {\n        line.updateOptions(it)\n      }\n      // 缓存节点与连线的关系map\n      if (!nodeRelatedLineMap.has(line.from))\n        nodeRelatedLineMap.set(line.from, {from: new Set(), to: new Set()})\n      if (!nodeRelatedLineMap.has(line.to))\n        nodeRelatedLineMap.set(line.to, {from: new Set(), to: new Set()})\n      nodeRelatedLineMap.get(line.from).from.add(line)\n      nodeRelatedLineMap.get(line.to).to.add(line)\n\n      if (ifLogic) {\n        const ifOnlyPhy = +it.ifOnlyPhy\n        const ifFromEntityOnlyPhy = nodeMap.get(line.from)?.ifOnlyPhy\n        const ifToEntityOnlyPhy = nodeMap.get(line.to)?.ifOnlyPhy\n        if (ifOnlyPhy || ifFromEntityOnlyPhy || ifToEntityOnlyPhy) continue\n      } else {\n        const ifSubCategoryLine =\n          ['inclusive', 'exclusive'].includes(nodeMap.get(line.from)?.type) ||\n          ['inclusive', 'exclusive'].includes(nodeMap.get(line.to)?.type)\n        const ifOnlyLogic = +it.ifOnlyLogic\n        const ifFromEntityOnlyLogic = nodeMap.get(line.from)?.ifOnlyLogic\n        const ifToEntityOnlyLogic = nodeMap.get(line.to)?.ifOnlyLogic\n        if (\n          ifSubCategoryLine ||\n          ifOnlyLogic ||\n          ifFromEntityOnlyLogic ||\n          ifToEntityOnlyLogic\n        )\n          continue\n      }\n\n      const isVisible = this.canvas.isVisible(line.boundingBox)\n      if (isVisible) {\n        renderElements.push(line)\n        line.draw()\n      }\n    }\n  }\n\n  private renderNote() {\n    const {\n      dataHandler: {\n        originData: {noteDataArray},\n        noteMap,\n      },\n      renderElements,\n    } = this\n\n    for (let i = 0; i < noteDataArray.length; i++) {\n      const it = noteDataArray[i]\n      let note = noteMap.get(it.id)\n\n      if (!note) {\n        note = new TextBase(this.canvas.cacheCtx, {\n          id: it.id,\n          content: it.text,\n          textColor: it.color,\n          x: it.x,\n          y: it.y,\n        })\n        noteMap.set(it.id, note)\n      } else {\n        note.updateOptions(it)\n      }\n\n      const isVisible = this.canvas.isVisible(note.boundingBox)\n      if (isVisible) {\n        renderElements.push(note)\n        note.draw()\n      }\n    }\n  }\n\n  // 自动布局\n  public updateLayout() {\n    const originData = this.dataHandler.originData\n    const updateFunc = this.update.bind(this)\n    hierarchicalLayout(originData, updateFunc).then((data) => {\n      const {\n        dataHandler: {nodeMap, lineMap, noteMap, markMap},\n      } = this\n\n      nodeMap.forEach((it) => this.emit(NodeEvent.Resize, it))\n      markMap.forEach((it) => this.emit(MarkEvent.Resize, it))\n      lineMap.forEach((it) => this.emit(LineEvent.Move, it))\n      noteMap.forEach((it) => this.emit(NoteEvent.Move, it))\n    })\n  }\n\n  // 自动尺寸\n  public autoSize(ids: Id[]) {\n    ids = ids?.length ? ids : [...this.focusTarget].map((it) => it.id)\n    const nodeIds = ids.filter((id) => !!this.dataHandler.nodeMap.get(id))\n    if (!nodeIds.length) return\n\n    const targetNodes = nodeIds.map(\n      (id) => this.dataHandler.originDataMap.get(id) as NodeData,\n    )\n\n    autoSize(targetNodes)\n\n    const updateFunc = this.update.bind(this)\n    return new Promise((resolve) => {\n      function animate() {\n        const tweens = TWEEN.getAll()\n        if (!tweens.length) return resolve(true)\n        requestAnimationFrame(animate)\n        TWEEN.update()\n        updateFunc?.()\n      }\n      animate()\n    }).then(() => {\n      targetNodes.map((it) => {\n        const node = this.dataHandler.nodeMap.get(it.id)\n        this.emit(NodeEvent.Resize, node)\n      })\n    })\n  }\n\n  /**\n   * 为什么不用lodash的debounce？\n   *  update函数里对于可选入参newData做了特殊处理。如果因此传参调用是必须执行的。\n   *  这个自封装的函数即是：有入参时不可去抖，而是直接触发一次\n   */\n  private debounceUpdate() {\n    let timer = null\n    const func = this.update\n    this.update = (...args) => {\n      clearTimeout(timer)\n\n      // 如果参数有变化需要立刻更新\n      if (args.length) return func.apply(this, args)\n\n      timer = setTimeout(() => {\n        // eslint-disable-next-line prefer-spread\n        func.apply(this, args)\n      })\n    }\n  }\n\n  /**\n   * 根据数据更新视图\n   *\n   * TODO:\n   * - 移动元素时无需更新全量视图：主视图不绘制这个元素（事件对象/聚焦对象），在事件层绘制\n   *  - 线、文字、框：只关注自身\n   *  - 实体：关注自身及相关连线\n   */\n  public update(newData?: ErgData) {\n    log('update')\n\n    this.renderElements = []\n\n    // 并且清空聚焦节点\n    if (newData) {\n      this.dataHandler.update({\n        data: newData,\n      })\n      this.focusTarget.clear()\n    }\n\n    this.updateMainCanvas()\n    this.updateEventCanvas()\n    this.updateThumbnail()\n  }\n\n  private updateMainCanvas() {\n    this.updateCacheCanvas()\n    this.canvas.update()\n  }\n\n  private updateCacheCanvas() {\n    this.canvas.clearCacheCanvas()\n    const cacheCtx = this.cacheCtx\n    cacheCtx.font = '15px ' + this.fontFamily\n\n    // 开始缓存canvas绘制\n    cacheCtx.save()\n\n    // 绘制矩形框\n    this.renderMarks()\n    // 绘制连线\n    this.renderLines()\n    // 绘制实体\n    this.initNodes()\n    this.renderNodes()\n    // 绘制文本备注信息\n    this.renderNote()\n\n    cacheCtx.restore()\n  }\n\n  public async updateThumbnail() {\n    const {\n      dataHandler: {\n        originData: {nodeDataArray},\n      },\n    } = this\n\n    const thumbnail = this.plugins.get(PluginsEnum.Thumbnail)\n    if (!thumbnail) return false\n\n    await nextTick()\n\n    const {width: viewW, height: viewH} = this.canvas.getRenderSize()\n    let minX = 0,\n      minY = 0,\n      maxX = viewW,\n      maxY = viewH\n    for (let i = 0; i < nodeDataArray.length; i++) {\n      const node = nodeDataArray[i]\n      const {x, y, width, height} = node\n\n      if (x < minX) minX = x\n      if (y < minY) minY = y\n      if (x + width > maxX) maxX = x + width\n      if (y + height > maxY) maxY = y + height\n    }\n\n    thumbnail.draw(minX, minY, maxX, maxY, (ctx) => {\n      for (let i = 0; i < nodeDataArray.length; i++) {\n        const node = nodeDataArray[i]\n        const {x, y, width, height, bgC, bdC} = node\n        ctx.save()\n\n        ctx.fillStyle = bgC || '#fff'\n        ctx.fillRect(x, y, width, height)\n        ctx.strokeStyle = bdC || '#000'\n        ctx.strokeRect(x, y, width, height)\n        ctx.restore()\n      }\n    })\n  }\n\n  public updateEventCanvas() {\n    this.canvas.clearEventCanvas()\n    this.emit(GraphEvent.BeforeUpdate, this.canvas.eventCtx)\n    this.drawFocusElement()\n    this.drawFocusAttribute()\n    this.drawHoverElement()\n    this.drawGuides()\n    this.drawLockIcon()\n    this.emit(GraphEvent.AfterUpdate, this.canvas.eventCtx)\n  }\n\n  private drawGuides() {\n    if (!this.event.target) return\n    useGuides.call(this).draw()\n  }\n\n  private drawFocusElement() {\n    const {\n      canvas,\n      focusTarget,\n      dataHandler: {originDataMap},\n    } = this\n    focusTarget.forEach((el) => {\n      if (!originDataMap.get(el.id)) return\n      if (el instanceof LineErwin) {\n        new LineErwin(canvas.eventCtx, {\n          ...el,\n          lineWidth: 3,\n          bdC: Color.primary,\n          remark: '',\n        }).draw()\n      } else if (el instanceof Node) {\n        new FrameResize(canvas.eventCtx, {\n          x: el.x,\n          y: el.y + (el.ifSubEntity ? 0 : el.titleHeight),\n          width: el.width,\n          height: el.height - (el.ifSubEntity ? 0 : el.titleHeight),\n        }).draw()\n      } else {\n        new FrameResize(canvas.eventCtx, {\n          x: el.x,\n          y: el.y,\n          width: el.width,\n          height: el.height,\n        }).draw()\n      }\n    })\n  }\n\n  private drawFocusAttribute() {\n    const {\n      canvas: {eventCtx: ctx},\n      event: {canvasEv, target},\n      focusTarget,\n      hoverTarget,\n      focusAttrs,\n      ifLogic,\n    } = this\n\n    if (!focusAttrs.size) return\n    // draw focus attr\n    focusTarget.forEach((target) => {\n      const ifNode = target instanceof Node\n      if (!ifNode) return\n      focusAttrs.forEach((attrId) => {\n        const attrInfo = (target as Node).getAttributeInfo(attrId)\n\n        const ifVirtualAttr = ['PrimaryKey', 'NonPrimaryKey'].includes(\n          attrId as string,\n        )\n\n        const ifIllegalInfo = !attrInfo.info\n        if (ifVirtualAttr || ifIllegalInfo) return\n\n        ctx.save()\n\n        // 背景\n        ctx.fillStyle = '#3498db'\n        ctx.fillRect(\n          attrInfo.x,\n          attrInfo.y - 1,\n          attrInfo.width,\n          attrInfo.height,\n        )\n\n        // 绘制属性名\n        ctx.font = `${target.fontSize}px Arial`\n        ctx.fillStyle = '#fff'\n        ctx.textAlign = 'left'\n        ctx.textBaseline = 'top'\n\n        this.drawDataType(\n          attrInfo.info?.type,\n          attrInfo.x,\n          attrInfo.y,\n          ctx,\n          target.fontSize,\n        )\n\n        // 绘制FK标识\n        const addText = Number(attrInfo.info?.ifFk) ? '(FK)' : ''\n        const attrName = ifLogic ? attrInfo.info.cnName : attrInfo.info.enName\n        const finalText = ctx.fittingString(\n          attrName + addText,\n          target.width -\n            (attrInfo.x - target.x) -\n            attrInfo.padding -\n            target.fontSize,\n        )\n        // 开始绘制主键\n        ctx.fillText(finalText, attrInfo.x + target.fontSize + 4, attrInfo.y)\n\n        // 绘制尾部icon\n        if (attrInfo.info?.icons?.length) {\n          const textWidth =\n            attrInfo.x + ctx.measureText(finalText).width + target.fontSize + 4\n          this.drawIcons(\n            attrInfo.info?.icons,\n            textWidth,\n            attrInfo.y,\n            target,\n            ctx,\n          )\n        }\n\n        ctx.restore()\n      })\n    })\n\n    // draw hover attr\n    const ifTargetNode = hoverTarget instanceof Node\n    const targetPointInfo = hoverTarget?.containsPoint(canvasEv)\n    const ifAttr = targetPointInfo?.type === 'attribute'\n    const ifMouseDown = !!target\n    if (ifTargetNode && ifAttr && ifMouseDown) {\n      const attrId = targetPointInfo.id\n      const hotAttrInfo = hoverTarget.getAttributeInfo(attrId)\n      ctx.fillStyle = 'rgba(0, 0, 255, 0.3)'\n      ctx.drawRoundedRect(\n        hotAttrInfo.x,\n        hotAttrInfo.y - 3,\n        hotAttrInfo.width,\n        2,\n        1,\n        1,\n        1,\n        1,\n        true,\n        false,\n        false,\n        false,\n      )\n    }\n  }\n\n  private drawDataType(\n    datatype:\n      | DataTypeDate\n      | DataTypeNumber\n      | DataTypeString\n      | DataTypeBoolean\n      | DataTypeBinary,\n    x: number,\n    y: number,\n    ctx: any,\n    fontSize: any,\n  ) {\n    const datatypeUpper = datatype\n      ?.replace(/[^A-Za-z0-9]/g, '')\n      ?.toLocaleUpperCase()\n    let img\n    if (datatypeUpper in DataTypeDate) {\n      img = imageMap.get('dateActive')\n    } else if (datatypeUpper in DataTypeNumber) {\n      img = imageMap.get('numberActive')\n    } else if (datatypeUpper in DataTypeString) {\n      img = imageMap.get('stringActive')\n    } else if (datatypeUpper in DataTypeBoolean) {\n      img = imageMap.get('booleanActive')\n    } else if (datatypeUpper in DataTypeBinary) {\n      img = imageMap.get('binaryActive')\n    }\n\n    // const {ctx} = this\n    if (!img) {\n      ctx.save()\n      ctx.fillStyle = '#fff'\n      ctx.fillText('?', x, y, fontSize)\n      ctx.restore()\n      return false\n    }\n    // console.log([img],\"img-------\")\n    // img.childNodes().map((v)=> (v.style.fill = '#fff'))\n    // img.style.stroke = '#fff'\n    // img.style.fill = '#fff'\n    ctx.drawImage(img, x, y - 1, fontSize, fontSize)\n  }\n\n  private drawIcons(\n    icons = [],\n    startX: number,\n    startY: number,\n    target: any,\n    ctx: any,\n  ) {\n    const {fontSize, x, width, padding} = target\n    for (let i = 0; i < icons.length; i++) {\n      const icon = icons[i]\n      const iconX = startX + fontSize * 0.7 + i * (fontSize * 1.2)\n\n      if (iconX + (fontSize / 2) * 3 > x + width + padding) return\n      this.drawIcon(icon, iconX, startY, target, ctx)\n    }\n  }\n\n  private drawIcon(\n    icon,\n    startX: number,\n    startY: number,\n    target: any,\n    ctx: any,\n  ) {\n    const {attrHeight, fontSize} = target\n    ctx.save()\n    /**\n     * 开始绘制背景圆圈\n     */\n    ctx.beginPath()\n    ctx.strokeStyle = icon.bdC || '#0C64EB'\n    ctx.fillStyle = icon.bgC || '#ECF5FF'\n    ctx.arc(\n      startX,\n      startY + Math.floor(attrHeight / 2) - 1,\n      fontSize / 2,\n      0,\n      2 * Math.PI,\n    )\n    ctx.fill()\n    ctx.stroke()\n\n    /**\n     * 开始绘制文字\n     */\n    ctx.fillStyle = icon.color || '#0C64EB'\n    ctx.font = `${Math.ceil(fontSize / 1.2)}px Arial`\n    // 设置水平对齐方式\n    ctx.textAlign = 'center'\n    ctx.fillText(icon.text, startX, startY + (attrHeight - fontSize) / 2 + 1)\n    ctx.restore()\n  }\n\n  private drawHoverElement() {\n    const {canvas, hoverTarget, focusTarget} = this\n\n    const isFocusTarget = focusTarget.has(hoverTarget)\n\n    if (!hoverTarget || isFocusTarget) return\n\n    if (hoverTarget instanceof LineErwin) {\n      new LineErwin(canvas.eventCtx, {\n        ...hoverTarget,\n        lineWidth: 2,\n        bdC: Color.primary,\n        remark: '',\n      }).draw()\n    } else if (hoverTarget instanceof Node) {\n      new FrameHover(canvas.eventCtx, {\n        x: hoverTarget.x,\n        y:\n          hoverTarget.y +\n          (hoverTarget.ifSubEntity ? 0 : hoverTarget.titleHeight),\n        width: hoverTarget.width,\n        height: hoverTarget.ifSubEntity\n          ? hoverTarget.height\n          : hoverTarget.height - hoverTarget.titleHeight,\n      }).draw()\n    } else {\n      new FrameHover(canvas.eventCtx, {\n        x: hoverTarget.x,\n        y: hoverTarget.y,\n        width: hoverTarget.width,\n        height: hoverTarget.height,\n      }).draw()\n    }\n  }\n\n  // 绘制锁\n  private drawLockIcon() {\n    if (this.editable === Editable.Edit) return\n\n    const translatePos = this.canvas.getTranslate()\n    const scaling = this.canvas.zoomRate\n    new LockIcon(this.canvas.eventCtx, {\n      x: (-translatePos.x + this.canvas.width) / scaling - 40,\n      y: -translatePos.y / scaling + 25,\n    }).draw()\n  }\n\n  /**\n   * 验证线坐标是否合法\n   *    场景：当种种原因造成线坐标混乱时，使用该方法在绘制前把错误数据恢复很有必要，例如：协同操作时\n   * @param lineInfo\n   * @returns\n   */\n  private checkLinePos(lineInfo) {\n    const {\n      dataHandler: {originDataMap},\n    } = this\n    // 是否自关联\n    const ifSelfRelation = lineInfo.from === lineInfo.to\n    // 坐标数量不正确时 -> 重新生成连线\n    const ifErrorPos = ifSelfRelation\n      ? lineInfo.pos?.length !== 5\n      : lineInfo.pos?.length < 2 || lineInfo.pos?.length > 4\n    if (ifErrorPos) return this.mergeLines([lineInfo])\n\n    const fromNode = originDataMap.get(lineInfo.from)\n    const toNode = originDataMap.get(lineInfo.to)\n    if (!fromNode || !toNode) return false\n\n    const fromNodeBord = this.getPointBelongBord(fromNode, lineInfo.pos[0])\n    const toNodeBord = this.getPointBelongBord(\n      toNode,\n      lineInfo.pos[lineInfo.pos.length - 1],\n    )\n\n    // 验证通过\n    if (fromNodeBord && toNodeBord) return true\n\n    /**\n     * 验证不通过时 -> 重新生成连线\n     *    实现细节可优化：例如找到当前坐标矩阵的最新距离等\n     */\n    this.mergeLines([lineInfo])\n  }\n\n  //绘制矩形框\n  private renderMarks() {\n    this.dataHandler.originData?.markDataArray?.forEach((item) => {\n      const w = item.width\n      const h = item.height\n      const x = Number(item.x)\n      const y = Number(item.y)\n\n      const it = item\n      let mark = this.dataHandler.markMap.get(it.id)\n\n      if (!mark) {\n        mark = new NodeRect(this.canvas.cacheCtx, {\n          id: it.id,\n          x: x,\n          y: y,\n          width: w,\n          height: h,\n        })\n        this.dataHandler.markMap.set(it.id, mark)\n      } else {\n        mark.updateOptions(it)\n      }\n\n      const isVisible = this.canvas.isVisible(mark.boundingBox)\n      if (isVisible) {\n        this.renderElements.push(mark)\n        mark.draw()\n      }\n    })\n  }\n\n  /**\n   * 放大&缩小视图\n   * 参数：scale - 原始大小：100；2倍大小200...\n   */\n  public zoom(rate) {\n    const fixRate = rate / 100\n    this.canvas.zoom(fixRate)\n    this.update()\n    this.emit(GraphEvent.Zoom, this.canvas.zoomRate)\n  }\n\n  //找到连线点在节点的哪条边上\n  private getPointBelongBord(nodeInfo, pointInfo) {\n    if (pointInfo.x === nodeInfo.x) {\n      return 'L'\n    } else if (pointInfo.x === nodeInfo.x + nodeInfo.width) {\n      return 'R'\n    } else if (pointInfo.y === nodeInfo.y) {\n      return 'T'\n    } else if (pointInfo.y === nodeInfo.y + nodeInfo.height) {\n      return 'B'\n    } else {\n      warn(\n        'getPointBelongBord未找到匹配边，detail:',\n        nodeInfo,\n        JSON.parse(JSON.stringify(nodeInfo)),\n        JSON.parse(JSON.stringify(pointInfo)),\n      )\n    }\n  }\n\n  //修改节点尺寸\n  resizeNode(evX, evY, event, minSize = 80) {\n    //分支不允许修改尺寸\n    if (event.target.ifSubEntity) return\n\n    // 兼容实体名称高度\n    const ifEntity = event.target instanceof Node\n    const ifTopEdge = [\n      TargetDirection.LT,\n      TargetDirection.TM,\n      TargetDirection.RT,\n    ].includes(event.targetDirection)\n    if (ifEntity && ifTopEdge) evY -= event.target.titleHeight\n\n    //开始修改尺寸逻辑\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const _this = this\n    const copyEventObjTarget = {\n      x: event.target.x,\n      y: event.target.y,\n      width: event.target.width,\n      height: event.target.height,\n    }\n\n    //左上\n    if (event.targetDirection === 'LT') {\n      const newWidth = event.target.width + event.target.x - evX\n      const newHeight = event.target.height + event.target.y - evY\n      const x = newWidth < minSize ? event.target.x : evX\n      const y = newHeight < minSize ? event.target.y : evY\n      const width = newWidth < minSize ? event.target.width : newWidth\n      const height = newHeight < minSize ? event.target.height : newHeight\n\n      event.target.updateOptions({\n        x,\n        y,\n        width,\n        height,\n      })\n      moveKeyPoint()\n    }\n    //上中\n    else if (event.targetDirection === 'TM') {\n      const newHeight = event.target.height + event.target.y - evY\n\n      event.target.updateOptions({\n        y: newHeight < minSize ? event.target.y : evY,\n        height: newHeight < minSize ? event.target.height : newHeight,\n      })\n      moveKeyPoint()\n    }\n    //右上\n    else if (event.targetDirection === 'RT') {\n      const newWidth = evX - event.target.x\n      const newHeight = event.target.height + event.target.y - evY\n\n      event.target.updateOptions({\n        y: newHeight < minSize ? event.target.y : evY,\n        width: newWidth < minSize ? event.target.width : newWidth,\n        height: newHeight < minSize ? event.target.height : newHeight,\n      })\n      moveKeyPoint()\n    }\n    //左中\n    else if (event.targetDirection === 'LM') {\n      const newWidth = event.target.width + event.target.x - evX\n\n      event.target.updateOptions({\n        x: newWidth < minSize ? event.target.x : evX,\n        width: newWidth < minSize ? event.target.width : newWidth,\n      })\n      moveKeyPoint()\n    }\n    //右中\n    else if (event.targetDirection === 'RM') {\n      const newWidth = evX - event.target.x\n\n      event.target.updateOptions({\n        width: newWidth < minSize ? event.target.width : newWidth,\n      })\n      moveKeyPoint()\n    }\n    //左下\n    else if (event.targetDirection === 'LB') {\n      const newWidth = event.target.width + event.target.x - evX\n      const newHeight = evY - event.target.y\n\n      event.target.updateOptions({\n        x: newWidth < minSize ? event.target.x : evX,\n        width: newWidth < minSize ? event.target.width : newWidth,\n        height: newHeight < minSize ? event.target.height : newHeight,\n      })\n      moveKeyPoint()\n    }\n    //下中\n    else if (event.targetDirection === 'BM') {\n      const newHeight = evY - event.target.y\n\n      event.target.updateOptions({\n        height: newHeight < minSize ? event.target.height : newHeight,\n      })\n      moveKeyPoint()\n    }\n    //右下\n    else if (event.targetDirection === 'RB') {\n      const newWidth = evX - event.target.x\n      const newHeight = evY - event.target.y\n\n      event.target.updateOptions({\n        width: newWidth < minSize ? event.target.width : newWidth,\n        height: newHeight < minSize ? event.target.height : newHeight,\n      })\n\n      moveKeyPoint()\n    }\n    if (event.target.type === 'mark') {\n      this.emit(MarkEvent.Resize, event.target)\n    } else {\n      this.emit(NodeEvent.Resize, event.target)\n    }\n\n    //根据节点最新位置更新该节点上的连线关键点函数\n    function moveKeyPoint() {\n      // 只有节点判断相关连线\n      if (!(event.target instanceof Node)) return\n      _this.dataHandler.nodeMap.get(event.target.id).updateOptions(event.target)\n\n      const lineSet = _this.dataHandler.nodeRelatedLineMap.get(event.target.id)\n\n      ;[...lineSet.from, ...lineSet.to].forEach((item) => {\n        //判断该条线的起始节点和终结节点是不同的实体：如果不同走实体影响线的函数；如果相同代表是自己连自己的情况，走单独的函数\n        const diffFlag = item.from !== item.to\n        const idx = lineSet.from.has(item) ? 0 : item.pos.length - 1\n        diffFlag && updateKeyPoint(item, idx)\n        diffFlag\n          ? _this.moveLineForNode(item, event, event.target)\n          : _this.moveLineForSameNode(item, event)\n      })\n\n      //更新关键点函数\n      function updateKeyPoint(item, idx) {\n        //左边\n        if (item.pos[idx].x === copyEventObjTarget.x) {\n          item.pos[idx].x = event.target.x\n          item.pos[idx].y =\n            item.pos[idx].y < event.target.y\n              ? event.target.y + 1\n              : item.pos[idx].y > event.target.y + event.target.height\n              ? event.target.y + event.target.height - 1\n              : item.pos[idx].y\n        }\n        //右边\n        else if (\n          item.pos[idx].x ===\n          copyEventObjTarget.x + copyEventObjTarget.width\n        ) {\n          item.pos[idx].x = event.target.x + event.target.width\n          item.pos[idx].y =\n            item.pos[idx].y < event.target.y\n              ? event.target.y + 1\n              : item.pos[idx].y > event.target.y + event.target.height\n              ? event.target.y + event.target.height - 1\n              : item.pos[idx].y\n        }\n        //上边\n        else if (item.pos[idx].y === copyEventObjTarget.y) {\n          item.pos[idx].x =\n            item.pos[idx].x <= event.target.x\n              ? event.target.x + 1\n              : item.pos[idx].x >= event.target.x + event.target.width\n              ? event.target.x + event.target.width - 1\n              : item.pos[idx].x\n          item.pos[idx].y = event.target.y\n        }\n        //下边\n        else if (\n          item.pos[idx].y ===\n          copyEventObjTarget.y + copyEventObjTarget.height\n        ) {\n          item.pos[idx].x =\n            item.pos[idx].x <= event.target.x\n              ? event.target.x + 1\n              : item.pos[idx].x >= event.target.x + event.target.width\n              ? event.target.x + event.target.width - 1\n              : item.pos[idx].x\n          item.pos[idx].y = event.target.y + event.target.height\n        }\n      }\n    }\n  }\n\n  /**\n   * 获取指定边的坐标\n   */\n  private getNodePosFromBorder(\n    targetNode: Node | NodeData,\n    direction: 'T' | 'B' | 'L' | 'R',\n  ) {\n    let pos = {\n      start: {\n        x: null,\n        y: null,\n      },\n      end: {\n        x: null,\n        y: null,\n      },\n    }\n    switch (direction) {\n      case 'T':\n        pos = {\n          start: {\n            x: targetNode.x,\n            y: targetNode.y,\n          },\n          end: {\n            x: targetNode.x + targetNode.width,\n            y: targetNode.y,\n          },\n        }\n        break\n      case 'B':\n        pos = {\n          start: {\n            x: targetNode.x,\n            y: targetNode.y + targetNode.height,\n          },\n          end: {\n            x: targetNode.x + targetNode.width,\n            y: targetNode.y + targetNode.height,\n          },\n        }\n        break\n      case 'L':\n        pos = {\n          start: {\n            x: targetNode.x,\n            y: targetNode.y,\n          },\n          end: {\n            x: targetNode.x,\n            y: targetNode.y + targetNode.height,\n          },\n        }\n        break\n      case 'R':\n        pos = {\n          start: {\n            x: targetNode.x + targetNode.width,\n            y: targetNode.y,\n          },\n          end: {\n            x: targetNode.x + targetNode.width,\n            y: targetNode.y + targetNode.height,\n          },\n        }\n        break\n    }\n    return pos\n  }\n\n  //更新 节点移动 触发的更改线条路径\n  moveLineForNode(linkInfo, event, nodeNewLoc) {\n    const posMaxIdx = linkInfo.pos.length - 1\n    const distance = {\n      x: nodeNewLoc.x - event.target.x,\n      y: nodeNewLoc.y - event.target.y,\n    }\n\n    const fromNode = this.dataHandler.nodeMap.get(linkInfo.from)\n    const toNode = this.dataHandler.nodeMap.get(linkInfo.to)\n    if (!fromNode || !toNode) return\n    const fromNodeBord = this.getPointBelongBord(fromNode, linkInfo.pos[0])\n    const toNodeBord = this.getPointBelongBord(toNode, linkInfo.pos[posMaxIdx])\n\n    // 连线错乱时 -> 重新生成连线坐标\n    if (!fromNodeBord || !toNodeBord) this.mergeLines([linkInfo])\n\n    const moveTargetIsFrom = event.target.id === fromNode.id\n\n    //拖动节点是from节点\n    if (moveTargetIsFrom) {\n      //更新首点定位\n      linkInfo.pos[0].x = nodeNewLoc.x + (linkInfo.pos[0].x - event.target.x)\n      linkInfo.pos[0].y = nodeNewLoc.y + (linkInfo.pos[0].y - event.target.y)\n    }\n    //拖动节点是to节点\n    else {\n      //更新末点定位\n      linkInfo.pos[posMaxIdx].x =\n        nodeNewLoc.x + (linkInfo.pos[posMaxIdx].x - event.target.x)\n      linkInfo.pos[posMaxIdx].y =\n        nodeNewLoc.y + (linkInfo.pos[posMaxIdx].y - event.target.y)\n    }\n\n    //根据最新的定位点更新连线点坐标\n    //直线情况\n    if (posMaxIdx === 1) {\n      linkInfo.pos.splice(\n        1,\n        0,\n        {x: linkInfo.pos[0].x, y: linkInfo.pos[0].y},\n        {x: linkInfo.pos[0].x, y: linkInfo.pos[0].y},\n      )\n    }\n    //二折情况\n    else if (posMaxIdx === 2) {\n      if (fromNodeBord === 'R' && toNodeBord === 'B') {\n        //正常向下\n        if (\n          this.getNodePosFromBorder(toNode, 'B').start.y < linkInfo.pos[0].y\n        ) {\n          linkInfo.pos[1] = {x: linkInfo.pos[2].x, y: linkInfo.pos[0].y}\n        }\n        //变横向一折\n        else {\n          const idx1X =\n            this.getNodePosFromBorder(fromNode, 'R').start.x <\n            this.getNodePosFromBorder(toNode, 'L').start.x\n              ? this.getNodePosFromBorder(toNode, 'L').start.x\n              : this.getNodePosFromBorder(toNode, 'R').start.x\n          linkInfo.pos[1] = {\n            x: idx1X + (moveTargetIsFrom ? 0 : distance.x),\n            y: linkInfo.pos[0].y + distance.y,\n          }\n          linkInfo.pos.splice(2)\n        }\n\n        //向右变竖向一折\n        if (linkInfo.pos[2] && linkInfo.pos[2].x <= linkInfo.pos[0].x) {\n          linkInfo.pos[0] = {\n            x: linkInfo.pos[0].x - 1,\n            y: fromNode.y + (moveTargetIsFrom ? distance.y : 0),\n          }\n          linkInfo.pos[1] = {x: linkInfo.pos[2].x, y: linkInfo.pos[2].y}\n          linkInfo.pos.splice(2)\n        }\n      } else if (fromNodeBord === 'B' && toNodeBord === 'R') {\n        if (fromNode.y + fromNode.height < linkInfo.pos[1].y) {\n          linkInfo.pos[1] = {x: linkInfo.pos[0].x, y: linkInfo.pos[2].y}\n        }\n        //变一折\n        else {\n          if (['exclusive', 'inclusive'].includes(fromNode.type)) {\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y:\n                Math.max(\n                  this.getNodePosFromBorder(fromNode, 'B').start.y,\n                  this.getNodePosFromBorder(toNode, 'B').start.y,\n                ) + 20,\n            }\n            linkInfo.pos[2] = {\n              x:\n                toNode.x +\n                Math.floor(toNode.width / 2) +\n                (moveTargetIsFrom ? 0 : distance.x),\n              y: linkInfo.pos[1].y,\n            }\n            linkInfo.pos[3] = {\n              x: linkInfo.pos[2].x,\n              y:\n                this.getNodePosFromBorder(toNode, 'B').start.y +\n                (moveTargetIsFrom ? 0 : distance.y),\n            }\n          } else {\n            linkInfo.pos[0] = {\n              x:\n                fromNode.x + (event.target.id === fromNode.id ? distance.x : 0),\n              y: linkInfo.pos[1].y,\n            }\n            linkInfo.pos[1] = {x: linkInfo.pos[2].x, y: linkInfo.pos[2].y}\n            linkInfo.pos.splice(2)\n          }\n        }\n\n        if (linkInfo.pos[1].x < toNode.x + toNode.width) {\n          linkInfo.pos[1].y =\n            toNode.y + (event.target.id === toNode.id ? distance.y : 0)\n          linkInfo.pos.splice(2)\n        }\n      } else if (fromNodeBord === 'L' && toNodeBord === 'B') {\n        //正常向下\n        if (\n          this.getNodePosFromBorder(toNode, 'B').start.y < linkInfo.pos[0].y\n        ) {\n          linkInfo.pos[1] = {x: linkInfo.pos[2].x, y: linkInfo.pos[0].y}\n        }\n        //变横向一折\n        else {\n          linkInfo.pos[1] = {\n            x:\n              toNode.x +\n              toNode.width +\n              (event.target.id === toNode.id ? distance.x : 0),\n            y: linkInfo.pos[0].y,\n          }\n          linkInfo.pos.splice(2)\n        }\n        //变竖向一折\n        if (\n          linkInfo.pos[1].x >= event.target.x &&\n          this.getNodePosFromBorder(toNode, 'B').start.y <\n            this.getNodePosFromBorder(fromNode, 'T').start.y\n        ) {\n          linkInfo.pos[0] = {\n            x: linkInfo.pos[0].x + (moveTargetIsFrom ? distance.x : 0) - 1,\n            y: fromNode.y + (moveTargetIsFrom ? distance.y : 0),\n          }\n          linkInfo.pos[1] = {x: linkInfo.pos[2].x, y: linkInfo.pos[2].y}\n          linkInfo.pos.splice(2)\n        }\n      } else if (fromNodeBord === 'B' && toNodeBord === 'L') {\n        linkInfo.pos[1].x = linkInfo.pos[0].x\n        linkInfo.pos[1].y = linkInfo.pos[2].y\n        if (linkInfo.pos[1].x > toNode.x) {\n          linkInfo.pos[1].y =\n            toNode.y + (event.target.id === toNode.id ? distance.y : 0)\n          linkInfo.pos.splice(2)\n        }\n        if (linkInfo.pos[1].y < linkInfo.pos[0].y) {\n          if (['exclusive', 'inclusive'].includes(fromNode.type)) {\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y:\n                Math.max(\n                  this.getNodePosFromBorder(fromNode, 'B').start.y,\n                  this.getNodePosFromBorder(toNode, 'B').start.y,\n                ) + 20,\n            }\n            linkInfo.pos[2] = {\n              x:\n                toNode.x +\n                Math.floor(toNode.width / 2) +\n                (moveTargetIsFrom ? 0 : distance.x),\n              y: linkInfo.pos[1].y,\n            }\n            linkInfo.pos[3] = {\n              x: linkInfo.pos[2].x,\n              y:\n                this.getNodePosFromBorder(toNode, 'B').start.y +\n                (moveTargetIsFrom ? 0 : distance.y),\n            }\n          } else {\n            linkInfo.pos[1].x =\n              this.getNodePosFromBorder(fromNode, 'R').start.x +\n              (event.target.id === fromNode.id ? distance.x : 0)\n            linkInfo.pos[1].y =\n              this.getNodePosFromBorder(fromNode, 'B').start.y +\n              (event.target.id === fromNode.id ? distance.y : 0)\n            linkInfo.pos.splice(0, 1)\n          }\n        }\n      } else if (fromNodeBord === 'R' && toNodeBord === 'T') {\n        linkInfo.pos[1].x = linkInfo.pos[2].x\n        linkInfo.pos[1].y = linkInfo.pos[0].y\n        if (linkInfo.pos[1].x < linkInfo.pos[0].x) {\n          linkInfo.pos[1].y =\n            this.getNodePosFromBorder(fromNode, 'B').start.y +\n            (event.target.id === fromNode.id ? distance.y : 0)\n          linkInfo.pos.splice(0, 1)\n        }\n        if (linkInfo.pos[2] && linkInfo.pos[1].y > linkInfo.pos[2].y) {\n          if (['exclusive', 'inclusive'].includes(toNode.type)) {\n            linkInfo.pos[0] = {\n              x: fromNode.x + Math.floor(fromNode.width / 2),\n              y: fromNode.y + (moveTargetIsFrom ? distance.y : 0),\n            }\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y: linkInfo.pos[0].y - 20,\n            }\n            linkInfo.pos[2] = {x: linkInfo.pos[2].x, y: linkInfo.pos[1].y}\n            linkInfo.pos[3] = {\n              x: linkInfo.pos[2].x,\n              y: toNode.y + (moveTargetIsFrom ? 0 : distance.y),\n            }\n          } else {\n            linkInfo.pos[1].x = toNode.x + (moveTargetIsFrom ? 0 : distance.x)\n            linkInfo.pos[1].y = toNode.y + (moveTargetIsFrom ? 0 : distance.y)\n            linkInfo.pos.splice(2)\n          }\n        }\n      } else if (fromNodeBord === 'T' && toNodeBord === 'R') {\n        linkInfo.pos[1].x = linkInfo.pos[0].x\n        linkInfo.pos[1].y = linkInfo.pos[2].y\n        if (linkInfo.pos[1].x < linkInfo.pos[2].x) {\n          linkInfo.pos[1].y =\n            this.getNodePosFromBorder(toNode, 'B').start.y +\n            (event.target.id === toNode.id ? distance.y : 0)\n          linkInfo.pos.splice(2)\n        }\n        if (linkInfo.pos[0].y < linkInfo.pos[1].y) {\n          linkInfo.pos[1].x =\n            fromNode.x + (event.target.id === fromNode.id ? distance.x : 0)\n          linkInfo.pos[1].y =\n            fromNode.y + (event.target.id === fromNode.id ? distance.y : 0)\n          linkInfo.pos.splice(0, 1)\n        }\n      } else if (fromNodeBord === 'T' && toNodeBord === 'L') {\n        linkInfo.pos[1].x = linkInfo.pos[0].x\n        linkInfo.pos[1].y = linkInfo.pos[2].y\n        if (linkInfo.pos[1].x > linkInfo.pos[2].x) {\n          linkInfo.pos[1].y =\n            this.getNodePosFromBorder(toNode, 'B').start.y +\n            (event.target.id === toNode.id ? distance.y : 0)\n          linkInfo.pos.splice(2)\n        }\n        if (linkInfo.pos[1].y > linkInfo.pos[0].y) {\n          linkInfo.pos[1].x =\n            this.getNodePosFromBorder(fromNode, 'R').start.x +\n            (event.target.id === fromNode.id ? distance.x : 0)\n          linkInfo.pos.splice(0, 1)\n        }\n      } else if (fromNodeBord === 'L' && toNodeBord === 'T') {\n        linkInfo.pos[1].x = linkInfo.pos[2].x\n        linkInfo.pos[1].y = linkInfo.pos[0].y\n        if (linkInfo.pos[1].y > linkInfo.pos[2].y) {\n          if (['exclusive', 'inclusive'].includes(toNode.type)) {\n            linkInfo.pos[0] = {\n              x: fromNode.x + Math.floor(fromNode.width / 2),\n              y: fromNode.y + (moveTargetIsFrom ? distance.y : 0),\n            }\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y: linkInfo.pos[0].y - 20,\n            }\n            linkInfo.pos[2] = {x: linkInfo.pos[2].x, y: linkInfo.pos[1].y}\n            linkInfo.pos[3] = {\n              x: linkInfo.pos[2].x,\n              y: toNode.y + (moveTargetIsFrom ? 0 : distance.y),\n            }\n          } else {\n            linkInfo.pos[1].x =\n              this.getNodePosFromBorder(toNode, 'R').start.x +\n              (event.target.id === toNode.id ? distance.x : 0)\n            linkInfo.pos.splice(2)\n          }\n        }\n        if (linkInfo.pos[1].x > linkInfo.pos[0].x) {\n          linkInfo.pos[1].y =\n            this.getNodePosFromBorder(fromNode, 'B').start.y +\n            (event.target.id === fromNode.id ? distance.y : 0)\n          linkInfo.pos.splice(0, 1)\n        }\n      }\n    }\n    //三折情况\n    else if (posMaxIdx === 3) {\n      const middleX = Math.floor(\n        Math.abs(linkInfo.pos[0].x - linkInfo.pos[posMaxIdx].x) / 2,\n      )\n      const middleY = Math.floor(\n        Math.abs(linkInfo.pos[0].y - linkInfo.pos[posMaxIdx].y) / 2,\n      )\n\n      if (fromNodeBord === 'B' && toNodeBord === 'B') {\n        // 正常向下移动\n        if (\n          this.getNodePosFromBorder(fromNode, 'T').start.y <\n          this.getNodePosFromBorder(toNode, 'B').start.y\n        ) {\n          //正常向下\n          if (\n            this.getNodePosFromBorder(fromNode, 'B').start.y < linkInfo.pos[1].y\n          ) {\n            const idx1and2Y =\n              linkInfo.pos[2].y - toNode.y - toNode.height + linkInfo.pos[3].y\n            // linkInfo.pos[0] = { x: linkInfo.pos[0].x, y: fromNode.y }\n            linkInfo.pos[1] = {x: linkInfo.pos[0].x, y: idx1and2Y}\n            linkInfo.pos[2] = {x: linkInfo.pos[3].x, y: idx1and2Y}\n            // linkInfo.pos[3] = {x: linkInfo.pos[3].x, y: linkInfo.pos[3].y}\n          }\n          //二折\n          else {\n            const idx0X =\n              fromNode.x + fromNode.width > linkInfo.pos[3].x\n                ? fromNode.x\n                : fromNode.x + fromNode.width\n            const idx1and2Y =\n              linkInfo.pos[2].y - toNode.y - toNode.height + linkInfo.pos[3].y\n            linkInfo.pos[0] = {\n              x: idx0X + (event.target.id === fromNode.id ? distance.x : 0),\n              y: idx1and2Y,\n            }\n            linkInfo.pos[1] = {x: linkInfo.pos[3].x, y: idx1and2Y}\n            linkInfo.pos[2] = {x: linkInfo.pos[3].x, y: linkInfo.pos[3].y}\n            // 删除最后一位\n            linkInfo.pos.splice(3)\n          }\n        }\n        // from和to重合点 -> 变成T to B\n        else {\n          if (['exclusive', 'inclusive'].includes(fromNode.type)) {\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y: fromNode.y + fromNode.height + 20,\n            }\n            linkInfo.pos[2] = {x: linkInfo.pos[3].x, y: linkInfo.pos[1].y}\n          } else {\n            // console.log('T->B')\n            linkInfo.pos[0] = {\n              x: linkInfo.pos[0].x,\n              y: linkInfo.pos[0].y - fromNode.height,\n            }\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y:\n                linkInfo.pos[0].y +\n                Math.floor((fromNode.y - toNode.y - toNode.height) / 2),\n            }\n            linkInfo.pos[2] = {\n              x: linkInfo.pos[3].x,\n              y:\n                linkInfo.pos[0].y +\n                Math.floor((fromNode.y - toNode.y - toNode.height) / 2),\n            }\n          }\n        }\n      } else if (fromNodeBord === 'B' && toNodeBord === 'T') {\n        // from高 to低\n        if (fromNode.y + fromNode.height < toNode.y) {\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x,\n            y: linkInfo.pos[0].y + middleY,\n          }\n          linkInfo.pos[2] = {\n            x: linkInfo.pos[3].x,\n            y: linkInfo.pos[0].y + middleY,\n          }\n        }\n        // from和to重合点 -> 变成B to B\n        else if (fromNode.y + fromNode.height >= toNode.y) {\n          if (['exclusive', 'inclusive'].includes(toNode.type)) {\n            linkInfo.pos[0] = {\n              x: linkInfo.pos[0].x,\n              y: linkInfo.pos[0].y - fromNode.height,\n            }\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y: linkInfo.pos[0].y - 20,\n            }\n            linkInfo.pos[2] = {x: linkInfo.pos[3].x, y: linkInfo.pos[1].y}\n          } else {\n            // console.log('B->B')\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y: toNode.y + toNode.height + 20,\n            }\n            linkInfo.pos[2] = {\n              x: linkInfo.pos[3].x,\n              y: toNode.y + toNode.height + 20,\n            }\n            linkInfo.pos[3] = {\n              x: linkInfo.pos[3].x,\n              y: linkInfo.pos[3].y + toNode.height,\n            }\n          }\n        }\n      } else if (fromNodeBord === 'T' && toNodeBord === 'T') {\n        if (\n          ['exclusive', 'inclusive'].includes(fromNode.type) ||\n          ['exclusive', 'inclusive'].includes(toNode.type)\n        ) {\n          const y =\n            linkInfo.pos[1].y + distance.y > Math.min(fromNode.y, toNode.y) - 20\n              ? Math.min(fromNode.y, toNode.y) - 20\n              : linkInfo.pos[1].y + distance.y\n          linkInfo.pos[1] = {x: linkInfo.pos[0].x, y: y}\n          linkInfo.pos[2] = {x: linkInfo.pos[3].x, y: y}\n        } else if (linkInfo.pos[1].y < event.target.y) {\n          linkInfo.pos[1] = {x: linkInfo.pos[0].x, y: linkInfo.pos[1].y}\n          linkInfo.pos[2] = {x: linkInfo.pos[3].x, y: linkInfo.pos[2].y}\n        } else {\n          // console.log('B->B')\n          linkInfo.pos[0] = {\n            x: linkInfo.pos[0].x,\n            y: linkInfo.pos[0].y + fromNode.height,\n          }\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x,\n            y:\n              Math.max(fromNode.y + fromNode.height, toNode.y + toNode.height) +\n              20,\n          }\n          linkInfo.pos[2] = {\n            x: linkInfo.pos[3].x,\n            y:\n              Math.max(fromNode.y + fromNode.height, toNode.y + toNode.height) +\n              20,\n          }\n          linkInfo.pos[3] = {\n            x: linkInfo.pos[3].x,\n            y: linkInfo.pos[3].y + toNode.height,\n          }\n        }\n      } else if (fromNodeBord === 'T' && toNodeBord === 'B') {\n        if (fromNode.y > toNode.y + toNode.height) {\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x,\n            y: linkInfo.pos[0].y - middleY,\n          }\n          linkInfo.pos[2] = {\n            x: linkInfo.pos[3].x,\n            y: linkInfo.pos[3].y + middleY,\n          }\n        }\n        // from和to重合点 -> 变成B to B\n        else if (fromNode.y <= toNode.y + toNode.height) {\n          linkInfo.pos[0] = {\n            x: linkInfo.pos[0].x,\n            y: linkInfo.pos[0].y + fromNode.height,\n          }\n          linkInfo.pos[1] = {x: linkInfo.pos[0].x, y: linkInfo.pos[0].y + 20}\n          linkInfo.pos[2] = {x: linkInfo.pos[3].x, y: linkInfo.pos[0].y + 20}\n        }\n      } else if (fromNodeBord === 'L' && toNodeBord === 'L') {\n        //拖动的是to节点\n        if (event.target.id === toNode.id) {\n          linkInfo.pos[2] = {\n            x: nodeNewLoc.x - (toNode.x - linkInfo.pos[2].x),\n            y: linkInfo.pos[3].y,\n          }\n          linkInfo.pos[1] = {x: linkInfo.pos[2].x, y: linkInfo.pos[0].y}\n        }\n        //拖动的是from节点\n        else {\n          linkInfo.pos[1] = {x: linkInfo.pos[2].x, y: linkInfo.pos[0].y}\n        }\n        //变成二折\n        if (\n          linkInfo.pos[1].x > fromNode.x &&\n          linkInfo.pos[1].x < fromNode.x + fromNode.width\n        ) {\n          // console.log('变成二折')\n          linkInfo.pos.splice(0, 1)\n          ++linkInfo.pos[0].x\n          linkInfo.pos[0].y =\n            (linkInfo.pos[1].y <\n            this.getNodePosFromBorder(fromNode, 'T').start.y\n              ? this.getNodePosFromBorder(fromNode, 'T').start.y\n              : this.getNodePosFromBorder(fromNode, 'B').start.y) +\n            (event.target.id === fromNode.id ? distance.y : 0)\n        }\n      } else if (fromNodeBord === 'L' && toNodeBord === 'R') {\n        if (fromNode.x > toNode.x + toNode.width) {\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x - middleX,\n            y: linkInfo.pos[0].y,\n          }\n          linkInfo.pos[2] = {x: linkInfo.pos[1].x, y: linkInfo.pos[3].y}\n        }\n        // from和to重合 -> 变成R to R\n        else {\n          linkInfo.pos[0] = {\n            x: linkInfo.pos[0].x + fromNode.width,\n            y: linkInfo.pos[0].y,\n          }\n          linkInfo.pos[1] = {x: linkInfo.pos[0].x + 20, y: linkInfo.pos[0].y}\n          linkInfo.pos[2] = {x: linkInfo.pos[0].x + 20, y: linkInfo.pos[3].y}\n        }\n      } else if (fromNodeBord === 'R' && toNodeBord === 'L') {\n        //from在to左边\n        if (fromNode.x + fromNode.width < toNode.x) {\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x + middleX,\n            y: linkInfo.pos[0].y,\n          }\n          linkInfo.pos[2] = {\n            x: linkInfo.pos[0].x + middleX,\n            y: linkInfo.pos[3].y,\n          }\n        } else {\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x + toNode.width + 20,\n            y: linkInfo.pos[0].y,\n          }\n          linkInfo.pos[2] = {\n            x: linkInfo.pos[0].x + toNode.width + 20,\n            y: linkInfo.pos[3].y,\n          }\n          linkInfo.pos[3] = {\n            x: linkInfo.pos[3].x + toNode.width,\n            y: linkInfo.pos[3].y,\n          }\n        }\n      } else if (fromNodeBord === 'R' && toNodeBord === 'R') {\n        //拖动的是to节点\n        if (event.target.id === toNode.id) {\n          linkInfo.pos[2] = {\n            x: nodeNewLoc.x - (toNode.x - linkInfo.pos[2].x),\n            y: linkInfo.pos[3].y,\n          }\n          linkInfo.pos[1] = {x: linkInfo.pos[2].x, y: linkInfo.pos[0].y}\n        }\n        //拖动的是from节点\n        else {\n          linkInfo.pos[1] = {x: linkInfo.pos[2].x, y: linkInfo.pos[0].y}\n        }\n        //变成二折\n        if (\n          linkInfo.pos[1].x > fromNode.x &&\n          linkInfo.pos[1].x < fromNode.x + fromNode.width\n        ) {\n          // console.log('变成二折')\n          linkInfo.pos.splice(0, 1)\n          --linkInfo.pos[0].x\n          linkInfo.pos[0].y =\n            (linkInfo.pos[1].y <\n            this.getNodePosFromBorder(fromNode, 'T').start.y\n              ? this.getNodePosFromBorder(fromNode, 'T').start.y\n              : this.getNodePosFromBorder(fromNode, 'B').start.y) +\n            (event.target.id === fromNode.id ? distance.y : 0)\n        }\n      }\n    }\n\n    this.emit(LineEvent.Move, linkInfo)\n  }\n\n  //更新 节点移动 触发的更改线条路径(自己连自己的情况)\n  moveLineForSameNode(linkInfo, event) {\n    // const disY = copyEventObjTarget.y+copyEventObjTarget.height-linkInfo.pos[0].y\n    // const disX = copyEventObjTarget.x+copyEventObjTarget.width-linkInfo.pos[4].x\n    const disY = 20\n    const disX = 20\n    // console.log(disX, disY)\n    const dis0to1 = linkInfo.pos[1].x - linkInfo.pos[0].x\n    const dis1to2 = linkInfo.pos[2].y - linkInfo.pos[1].y\n\n    linkInfo.pos[0] = {\n      x: event.target.x + event.target.width,\n      y: event.target.y + event.target.height - disY,\n    }\n    linkInfo.pos[4] = {\n      x: event.target.x + event.target.width - disX,\n      y: event.target.y + event.target.height,\n    }\n    linkInfo.pos[1] = {x: linkInfo.pos[0].x + dis0to1, y: linkInfo.pos[0].y}\n    linkInfo.pos[2] = {x: linkInfo.pos[1].x, y: linkInfo.pos[1].y + dis1to2}\n    linkInfo.pos[3] = {x: linkInfo.pos[4].x, y: linkInfo.pos[2].y}\n\n    this.emit(LineEvent.Move, linkInfo)\n  }\n\n  /**\n   * 更新 路径移动 触发的更改线条路径\n   */\n  moveLineForLine(event, mouseLoc) {\n    const eventPos = event.target.pos,\n      posMaxIdx = eventPos.length - 1\n    let fromNode,\n      toNode,\n      total = 0\n\n    this.dataHandler.originData.nodeDataArray?.forEach((item) => {\n      if (item.id === event.target.from) {\n        fromNode = item\n        total++\n      }\n      if (item.id === event.target.to) {\n        toNode = item\n        total++\n      }\n      if (total === 2) return\n    })\n\n    //分支节点位置限制: from\n    if (['exclusive', 'inclusive'].includes(fromNode.type)) {\n      //挨着from的竖线\n      if (\n        event.targetLineStartPointIdx === 0 &&\n        eventPos[event.targetLineStartPointIdx].x ===\n          eventPos[event.targetLineStartPointIdx + 1].x &&\n        (this.getNodePosFromBorder(fromNode, 'L').start.x >= mouseLoc.x ||\n          this.getNodePosFromBorder(fromNode, 'R').start.x <= mouseLoc.x)\n      )\n        return\n      //中间横线\n      if (\n        event.targetLineStartPointIdx === 1 &&\n        eventPos[event.targetLineStartPointIdx].y ===\n          eventPos[event.targetLineStartPointIdx + 1].y &&\n        this.getNodePosFromBorder(fromNode, 'B').start.y >= mouseLoc.y\n      )\n        return\n      //挨着to的竖线\n      if (\n        event.targetLineStartPointIdx === 2 &&\n        eventPos[event.targetLineStartPointIdx].x ===\n          eventPos[event.targetLineStartPointIdx + 1].x &&\n        (this.getNodePosFromBorder(toNode, 'L').start.x >= mouseLoc.x ||\n          this.getNodePosFromBorder(toNode, 'R').start.x <= mouseLoc.x)\n      )\n        return\n    }\n    //分支节点位置限制: to\n    else if (['exclusive', 'inclusive'].includes(toNode.type)) {\n      //一折线不能移动\n      if (posMaxIdx === 1) return\n      //二折线竖线不能动\n      if (posMaxIdx === 2 && event.targetLineStartPointIdx === 1) return\n      //二折线横线限制\n      if (\n        posMaxIdx === 2 &&\n        event.targetLineStartPointIdx === 0 &&\n        this.getNodePosFromBorder(toNode, 'T').start.y < mouseLoc.y\n      )\n        return\n      //三折最后的线不能动\n      if (posMaxIdx === 3 && event.targetLineStartPointIdx === 2) return\n      //三折中间横线位置限制\n      if (\n        posMaxIdx === 3 &&\n        event.targetLineStartPointIdx === 1 &&\n        this.getNodePosFromBorder(toNode, 'T').start.y < mouseLoc.y\n      )\n        return\n      //三折第一条线位置限制\n      if (\n        posMaxIdx === 3 &&\n        event.targetLineStartPointIdx === 0 &&\n        (this.getNodePosFromBorder(fromNode, 'L').start.x >= mouseLoc.x ||\n          this.getNodePosFromBorder(fromNode, 'R').start.x <= mouseLoc.x)\n      )\n        return\n    }\n\n    //一折情况\n    if (posMaxIdx === 1) {\n      //横线\n      if (eventPos[0].y === eventPos[1].y) {\n        //更新y坐标\n        eventPos[0].y = mouseLoc.y\n        eventPos[1].y = mouseLoc.y\n        //更新x坐标\n        if (\n          this.getNodePosFromBorder(fromNode, 'T').start.y > mouseLoc.y ||\n          this.getNodePosFromBorder(fromNode, 'B').start.y < mouseLoc.y\n        ) {\n          eventPos[0].x = fromNode.x + fromNode.width / 2\n          eventPos.unshift({\n            x: fromNode.x + fromNode.width / 2,\n            y:\n              this.getNodePosFromBorder(fromNode, 'T').start.y > mouseLoc.y\n                ? fromNode.y\n                : fromNode.y + fromNode.height,\n          })\n        }\n        if (\n          this.getNodePosFromBorder(toNode, 'T').start.y > mouseLoc.y ||\n          this.getNodePosFromBorder(toNode, 'B').start.y < mouseLoc.y\n        ) {\n          eventPos[eventPos.length - 1].x = toNode.x + toNode.width / 2\n          eventPos.push({\n            x: toNode.x + toNode.width / 2,\n            y:\n              this.getNodePosFromBorder(toNode, 'T').start.y > mouseLoc.y\n                ? toNode.y\n                : toNode.y + toNode.height,\n          })\n        }\n      }\n      //竖线\n      else {\n        //更新x坐标\n        eventPos[0].x = mouseLoc.x\n        eventPos[1].x = mouseLoc.x\n        //更新y坐标\n        if (\n          this.getNodePosFromBorder(fromNode, 'L').start.x > mouseLoc.x ||\n          this.getNodePosFromBorder(fromNode, 'R').start.x < mouseLoc.x\n        ) {\n          eventPos[0].y = fromNode.y + fromNode.height / 2\n          eventPos.unshift({\n            x:\n              this.getNodePosFromBorder(fromNode, 'R').start.x < mouseLoc.x\n                ? fromNode.x + fromNode.width\n                : fromNode.x,\n            y: fromNode.y + fromNode.height / 2,\n          })\n        }\n        if (\n          this.getNodePosFromBorder(toNode, 'L').start.x > mouseLoc.x ||\n          this.getNodePosFromBorder(toNode, 'R').start.x < mouseLoc.x\n        ) {\n          eventPos[eventPos.length - 1].y = toNode.y + toNode.height / 2\n          eventPos.push({\n            x:\n              this.getNodePosFromBorder(toNode, 'R').start.x < mouseLoc.x\n                ? toNode.x + toNode.width\n                : toNode.x,\n            y: toNode.y + toNode.height / 2,\n          })\n        }\n      }\n    }\n    //二折情况\n    else if (posMaxIdx === 2) {\n      //横线\n      if (\n        eventPos[event.targetLineStartPointIdx].y ===\n        eventPos[event.targetLineStartPointIdx + 1].y\n      ) {\n        eventPos[event.targetLineStartPointIdx].y = mouseLoc.y\n        eventPos[event.targetLineStartPointIdx + 1].y = mouseLoc.y\n        //超出from节点边界\n        if (\n          (this.getNodePosFromBorder(fromNode, 'B').start.y < mouseLoc.y ||\n            this.getNodePosFromBorder(fromNode, 'T').start.y > mouseLoc.y) &&\n          event.targetLineStartPointIdx === 0\n        ) {\n          eventPos[event.targetLineStartPointIdx].x =\n            fromNode.x + fromNode.width / 2\n          eventPos.unshift({\n            x: fromNode.x + fromNode.width / 2,\n            y:\n              this.getNodePosFromBorder(fromNode, 'T').start.y > mouseLoc.y\n                ? fromNode.y\n                : fromNode.y + fromNode.height,\n          })\n        }\n        //超出to节点边界\n        if (\n          (this.getNodePosFromBorder(toNode, 'B').start.y < mouseLoc.y ||\n            this.getNodePosFromBorder(toNode, 'T').start.y > mouseLoc.y) &&\n          event.targetLineStartPointIdx === 1\n        ) {\n          eventPos[event.targetLineStartPointIdx + 1].x =\n            toNode.x + toNode.width / 2\n          eventPos.push({\n            x: toNode.x + toNode.width / 2,\n            y:\n              this.getNodePosFromBorder(toNode, 'T').start.y > mouseLoc.y\n                ? toNode.y\n                : toNode.y + toNode.height,\n          })\n        }\n        //进入from内\n        if (\n          event.targetLineStartPointIdx === 1 &&\n          this.getNodePosFromBorder(fromNode, 'B').start.y > mouseLoc.y &&\n          this.getNodePosFromBorder(fromNode, 'T').start.y < mouseLoc.y\n        ) {\n          // console.log('from内')\n          eventPos.splice(0, 1)\n          eventPos[0].x =\n            toNode.x > fromNode.x ? fromNode.x + fromNode.width : fromNode.x\n        }\n        //进入to内\n        if (\n          event.targetLineStartPointIdx === 0 &&\n          this.getNodePosFromBorder(toNode, 'B').start.y > mouseLoc.y &&\n          this.getNodePosFromBorder(toNode, 'T').start.y < mouseLoc.y\n        ) {\n          // console.log('to内')\n          eventPos.splice(eventPos.length - 1, 1)\n          eventPos[eventPos.length - 1].x =\n            fromNode.x > toNode.x ? toNode.x + toNode.width : toNode.x\n        }\n      }\n      //竖线\n      else {\n        eventPos[event.targetLineStartPointIdx].x = mouseLoc.x\n        eventPos[event.targetLineStartPointIdx + 1].x = mouseLoc.x\n        //超出from节点边界\n        if (\n          (this.getNodePosFromBorder(fromNode, 'L').start.x > mouseLoc.x ||\n            this.getNodePosFromBorder(fromNode, 'R').start.x < mouseLoc.x) &&\n          event.targetLineStartPointIdx === 0\n        ) {\n          // console.log('超出from')\n          eventPos[event.targetLineStartPointIdx].y =\n            fromNode.y + fromNode.height / 2\n          eventPos.unshift({\n            x:\n              this.getNodePosFromBorder(fromNode, 'L').start.x > mouseLoc.x\n                ? fromNode.x\n                : fromNode.x + fromNode.width,\n            y: fromNode.y + fromNode.height / 2,\n          })\n        }\n        //超出to节点边界\n        if (\n          (this.getNodePosFromBorder(toNode, 'L').start.x > mouseLoc.x ||\n            this.getNodePosFromBorder(toNode, 'R').start.x < mouseLoc.x) &&\n          event.targetLineStartPointIdx === 1\n        ) {\n          // console.log('超出to')\n          eventPos[event.targetLineStartPointIdx + 1].y =\n            toNode.y + toNode.height / 2\n          eventPos.push({\n            x:\n              this.getNodePosFromBorder(toNode, 'L').start.x > mouseLoc.x\n                ? toNode.x\n                : toNode.x + toNode.width,\n            y: toNode.y + toNode.height / 2,\n          })\n        }\n        //进入from内\n        if (\n          event.targetLineStartPointIdx === 1 &&\n          this.getNodePosFromBorder(fromNode, 'L').start.x < mouseLoc.x &&\n          this.getNodePosFromBorder(fromNode, 'R').start.x > mouseLoc.x\n        ) {\n          // console.log('from内')\n          eventPos.splice(0, 1)\n          eventPos[0].y =\n            toNode.y > fromNode.y ? fromNode.y + fromNode.height : fromNode.y\n        }\n        //进入to内\n        if (\n          event.targetLineStartPointIdx === 0 &&\n          this.getNodePosFromBorder(toNode, 'L').start.x < mouseLoc.x &&\n          this.getNodePosFromBorder(toNode, 'R').start.x > mouseLoc.x\n        ) {\n          // console.log('to内')\n          eventPos.splice(eventPos.length - 1, 1)\n          eventPos[eventPos.length - 1].y =\n            fromNode.y > toNode.y ? toNode.y + toNode.height : toNode.y\n        }\n      }\n    }\n    //三折情况\n    else if (posMaxIdx === 3) {\n      //横线\n      if (\n        eventPos[event.targetLineStartPointIdx].y ===\n        eventPos[event.targetLineStartPointIdx + 1].y\n      ) {\n        eventPos[event.targetLineStartPointIdx].y = mouseLoc.y\n        eventPos[event.targetLineStartPointIdx + 1].y = mouseLoc.y\n        //触发线段是挨着from节点\n        if (event.targetLineStartPointIdx === 0) {\n          //Z形状\n          if (judgeLineShapeIsZ(eventPos)) {\n            //超出最高点\n            if (\n              eventPos[0].y < this.getNodePosFromBorder(fromNode, 'T').start.y\n            ) {\n              eventPos[0] = {\n                x:\n                  this.getNodePosFromBorder(fromNode, 'T').start.x +\n                  fromNode.width / 2,\n                y: fromNode.y,\n              }\n              eventPos[1] = {x: eventPos[0].x, y: mouseLoc.y}\n              if (\n                mouseLoc.y < this.getNodePosFromBorder(toNode, 'T').start.y ||\n                mouseLoc.y > this.getNodePosFromBorder(toNode, 'B').start.y\n              ) {\n                eventPos[2] = {\n                  x:\n                    this.getNodePosFromBorder(toNode, 'L').start.x +\n                    toNode.width / 2,\n                  y: mouseLoc.y,\n                }\n                eventPos[3] = {\n                  x: eventPos[2].x,\n                  y:\n                    mouseLoc.y < this.getNodePosFromBorder(toNode, 'T').start.y\n                      ? this.getNodePosFromBorder(toNode, 'T').start.y\n                      : this.getNodePosFromBorder(toNode, 'B').start.y,\n                }\n              } else {\n                eventPos[2] = {\n                  x:\n                    eventPos[1].x <\n                    this.getNodePosFromBorder(toNode, 'R').start.x\n                      ? this.getNodePosFromBorder(toNode, 'L').start.x\n                      : this.getNodePosFromBorder(toNode, 'R').start.x,\n                  y: mouseLoc.y,\n                }\n                eventPos.splice(3)\n              }\n            }\n            //超出最低点\n            else if (\n              eventPos[0].y > this.getNodePosFromBorder(fromNode, 'B').start.y\n            ) {\n              eventPos[0] = {\n                x:\n                  this.getNodePosFromBorder(fromNode, 'T').start.x +\n                  fromNode.width / 2,\n                y: this.getNodePosFromBorder(fromNode, 'B').start.y,\n              }\n              eventPos[1] = {x: eventPos[0].x, y: mouseLoc.y}\n              if (\n                mouseLoc.y < this.getNodePosFromBorder(toNode, 'T').start.y ||\n                mouseLoc.y > this.getNodePosFromBorder(toNode, 'B').start.y\n              ) {\n                eventPos[2] = {\n                  x:\n                    this.getNodePosFromBorder(toNode, 'L').start.x +\n                    toNode.width / 2,\n                  y: mouseLoc.y,\n                }\n                eventPos[3] = {\n                  x: eventPos[2].x,\n                  y:\n                    mouseLoc.y < this.getNodePosFromBorder(toNode, 'T').start.y\n                      ? this.getNodePosFromBorder(toNode, 'T').start.y\n                      : this.getNodePosFromBorder(toNode, 'B').start.y,\n                }\n              } else {\n                eventPos[2] = {\n                  x:\n                    eventPos[1].x <\n                    this.getNodePosFromBorder(toNode, 'R').start.x\n                      ? this.getNodePosFromBorder(toNode, 'L').start.x\n                      : this.getNodePosFromBorder(toNode, 'R').start.x,\n                  y: mouseLoc.y,\n                }\n                eventPos.splice(3)\n              }\n            }\n          }\n          //C形状\n          else {\n            if (mouseLoc.y < this.getNodePosFromBorder(fromNode, 'T').start.y) {\n              eventPos[0].y = this.getNodePosFromBorder(fromNode, 'T').start.y\n              eventPos[1].y = this.getNodePosFromBorder(fromNode, 'T').start.y\n            } else if (\n              mouseLoc.y > this.getNodePosFromBorder(fromNode, 'B').start.y\n            ) {\n              eventPos[0].y = this.getNodePosFromBorder(fromNode, 'B').start.y\n              eventPos[1].y = this.getNodePosFromBorder(fromNode, 'B').start.y\n            }\n          }\n        }\n        //触发线段是挨着to节点\n        else if (event.targetLineStartPointIdx === eventPos.length - 2) {\n          //Z形状\n          if (judgeLineShapeIsZ(eventPos)) {\n            //超出最高点\n            if (\n              eventPos[3].y < this.getNodePosFromBorder(toNode, 'T').start.y\n            ) {\n              eventPos[3] = {\n                x:\n                  this.getNodePosFromBorder(toNode, 'T').start.x +\n                  toNode.width / 2,\n                y: toNode.y,\n              }\n              eventPos[2] = {x: eventPos[3].x, y: mouseLoc.y}\n              if (\n                mouseLoc.y < this.getNodePosFromBorder(fromNode, 'T').start.y ||\n                mouseLoc.y > this.getNodePosFromBorder(fromNode, 'B').start.y\n              ) {\n                eventPos[1] = {\n                  x:\n                    this.getNodePosFromBorder(fromNode, 'L').start.x +\n                    fromNode.width / 2,\n                  y: mouseLoc.y,\n                }\n                eventPos[0] = {\n                  x: eventPos[1].x,\n                  y:\n                    mouseLoc.y <\n                    this.getNodePosFromBorder(fromNode, 'T').start.y\n                      ? this.getNodePosFromBorder(fromNode, 'T').start.y\n                      : this.getNodePosFromBorder(fromNode, 'B').start.y,\n                }\n              } else {\n                eventPos[1] = {\n                  x:\n                    eventPos[2].x >\n                    this.getNodePosFromBorder(fromNode, 'R').start.x\n                      ? this.getNodePosFromBorder(fromNode, 'R').start.x\n                      : this.getNodePosFromBorder(fromNode, 'L').start.x,\n                  y: mouseLoc.y,\n                }\n                eventPos.splice(0, 1)\n              }\n            }\n            //超出最低点\n            else if (\n              eventPos[3].y > this.getNodePosFromBorder(toNode, 'B').start.y\n            ) {\n              eventPos[3] = {\n                x:\n                  this.getNodePosFromBorder(toNode, 'L').start.x +\n                  toNode.width / 2,\n                y: this.getNodePosFromBorder(toNode, 'B').start.y,\n              }\n              eventPos[2] = {x: eventPos[3].x, y: mouseLoc.y}\n              if (\n                mouseLoc.y < this.getNodePosFromBorder(fromNode, 'T').start.y ||\n                mouseLoc.y > this.getNodePosFromBorder(fromNode, 'B').start.y\n              ) {\n                eventPos[1] = {\n                  x:\n                    this.getNodePosFromBorder(fromNode, 'L').start.x +\n                    fromNode.width / 2,\n                  y: mouseLoc.y,\n                }\n                eventPos[0] = {\n                  x: eventPos[1].x,\n                  y:\n                    mouseLoc.y <\n                    this.getNodePosFromBorder(fromNode, 'T').start.y\n                      ? this.getNodePosFromBorder(fromNode, 'T').start.y\n                      : this.getNodePosFromBorder(fromNode, 'B').start.y,\n                }\n              } else {\n                eventPos[1] = {\n                  x:\n                    eventPos[2].x >\n                    this.getNodePosFromBorder(fromNode, 'R').start.x\n                      ? this.getNodePosFromBorder(fromNode, 'R').start.x\n                      : this.getNodePosFromBorder(fromNode, 'L').start.x,\n                  y: mouseLoc.y,\n                }\n                eventPos.splice(0, 1)\n              }\n            }\n          }\n          //C形状\n          else {\n            if (mouseLoc.y < this.getNodePosFromBorder(toNode, 'T').start.y) {\n              eventPos[2].y = this.getNodePosFromBorder(toNode, 'T').start.y\n              eventPos[3].y = this.getNodePosFromBorder(toNode, 'T').start.y\n            } else if (\n              mouseLoc.y > this.getNodePosFromBorder(toNode, 'B').start.y\n            ) {\n              eventPos[2].y = this.getNodePosFromBorder(toNode, 'B').start.y\n              eventPos[3].y = this.getNodePosFromBorder(toNode, 'B').start.y\n            }\n          }\n        }\n        //触发线段是中间部位\n        else {\n          //from变化\n          if (\n            mouseLoc.y > this.getNodePosFromBorder(fromNode, 'T').start.y &&\n            mouseLoc.y < this.getNodePosFromBorder(fromNode, 'B').start.y\n          ) {\n            eventPos.splice(0, 1)\n            eventPos[0].x =\n              eventPos[1].x < this.getNodePosFromBorder(fromNode, 'L').start.x\n                ? this.getNodePosFromBorder(fromNode, 'L').start.x\n                : this.getNodePosFromBorder(fromNode, 'R').start.x\n          }\n          //to变化\n          if (\n            mouseLoc.y > this.getNodePosFromBorder(toNode, 'T').start.y &&\n            mouseLoc.y < this.getNodePosFromBorder(toNode, 'B').start.y\n          ) {\n            eventPos[eventPos.length - 2].x =\n              eventPos[eventPos.length - 3].x <\n              this.getNodePosFromBorder(toNode, 'L').start.x\n                ? this.getNodePosFromBorder(toNode, 'L').start.x\n                : this.getNodePosFromBorder(toNode, 'R').start.x\n            eventPos.splice(eventPos.length - 1)\n          }\n        }\n      }\n      //竖线\n      else {\n        eventPos[event.targetLineStartPointIdx].x = mouseLoc.x\n        eventPos[event.targetLineStartPointIdx + 1].x = mouseLoc.x\n\n        //触发线段是挨着from节点\n        if (event.targetLineStartPointIdx === 0) {\n          // console.log('from节点')\n          // Z形状\n          if (judgeLineShapeIsN(eventPos)) {\n            //超出最左点\n            if (\n              eventPos[0].x < this.getNodePosFromBorder(fromNode, 'L').start.x\n            ) {\n              eventPos[0] = {\n                x: this.getNodePosFromBorder(fromNode, 'L').start.x,\n                y:\n                  this.getNodePosFromBorder(fromNode, 'L').start.y +\n                  fromNode.height / 2,\n              }\n              eventPos[1] = {x: mouseLoc.x, y: eventPos[0].y}\n              if (\n                mouseLoc.x < this.getNodePosFromBorder(toNode, 'L').start.x ||\n                mouseLoc.x > this.getNodePosFromBorder(toNode, 'R').start.x\n              ) {\n                eventPos[2] = {\n                  x: mouseLoc.x,\n                  y:\n                    this.getNodePosFromBorder(toNode, 'T').start.y +\n                    toNode.height / 2,\n                }\n                eventPos[3] = {\n                  x:\n                    mouseLoc.x < this.getNodePosFromBorder(toNode, 'L').start.x\n                      ? this.getNodePosFromBorder(toNode, 'L').start.x\n                      : this.getNodePosFromBorder(toNode, 'R').start.x,\n                  y: eventPos[2].y,\n                }\n              } else {\n                eventPos[2] = {\n                  x: mouseLoc.x,\n                  y:\n                    eventPos[1].y <\n                    this.getNodePosFromBorder(toNode, 'T').start.y\n                      ? this.getNodePosFromBorder(toNode, 'T').start.y\n                      : this.getNodePosFromBorder(toNode, 'B').start.y,\n                }\n                eventPos.splice(3)\n              }\n            }\n            //超出最右点\n            else if (\n              eventPos[0].x > this.getNodePosFromBorder(fromNode, 'R').start.x\n            ) {\n              eventPos[0] = {\n                x: this.getNodePosFromBorder(fromNode, 'R').start.x,\n                y:\n                  this.getNodePosFromBorder(fromNode, 'R').start.y +\n                  fromNode.height / 2,\n              }\n              eventPos[1] = {x: mouseLoc.x, y: eventPos[0].y}\n              if (\n                mouseLoc.x < this.getNodePosFromBorder(toNode, 'L').start.x ||\n                mouseLoc.x > this.getNodePosFromBorder(toNode, 'R').start.x\n              ) {\n                eventPos[2] = {\n                  x: mouseLoc.x,\n                  y:\n                    this.getNodePosFromBorder(toNode, 'T').start.y +\n                    toNode.height / 2,\n                }\n                eventPos[3] = {\n                  x:\n                    mouseLoc.x < this.getNodePosFromBorder(toNode, 'L').start.x\n                      ? this.getNodePosFromBorder(toNode, 'L').start.x\n                      : this.getNodePosFromBorder(toNode, 'R').start.x,\n                  y: eventPos[2].y,\n                }\n              } else {\n                eventPos[2] = {\n                  x: mouseLoc.x,\n                  y:\n                    eventPos[1].y <\n                    this.getNodePosFromBorder(toNode, 'T').start.y\n                      ? this.getNodePosFromBorder(toNode, 'T').start.y\n                      : this.getNodePosFromBorder(toNode, 'B').start.y,\n                }\n                eventPos.splice(3)\n              }\n            }\n          }\n          //C形状\n          else {\n            if (mouseLoc.x < this.getNodePosFromBorder(fromNode, 'L').start.x) {\n              eventPos[0].x =\n                this.getNodePosFromBorder(fromNode, 'L').start.x + 1\n              eventPos[1].x =\n                this.getNodePosFromBorder(fromNode, 'L').start.x + 1\n            } else if (\n              mouseLoc.x > this.getNodePosFromBorder(fromNode, 'R').start.x\n            ) {\n              eventPos[0].x =\n                this.getNodePosFromBorder(fromNode, 'R').start.x - 1\n              eventPos[1].x =\n                this.getNodePosFromBorder(fromNode, 'R').start.x - 1\n            }\n          }\n        }\n        //触发线段是挨着to节点\n        else if (event.targetLineStartPointIdx === eventPos.length - 2) {\n          // console.log('to节点')\n          //Z形状\n          if (judgeLineShapeIsN(eventPos)) {\n            //超出最左点\n            if (\n              eventPos[3].x < this.getNodePosFromBorder(toNode, 'L').start.x\n            ) {\n              eventPos[3] = {\n                x: this.getNodePosFromBorder(toNode, 'L').start.x,\n                y:\n                  this.getNodePosFromBorder(toNode, 'L').start.y +\n                  toNode.height / 2,\n              }\n              eventPos[2] = {x: mouseLoc.x, y: eventPos[3].y}\n              //超出对面节点\n              if (\n                mouseLoc.x < this.getNodePosFromBorder(fromNode, 'L').start.x ||\n                mouseLoc.x > this.getNodePosFromBorder(fromNode, 'R').start.x\n              ) {\n                eventPos[1] = {\n                  x: mouseLoc.x,\n                  y:\n                    this.getNodePosFromBorder(fromNode, 'T').start.y +\n                    fromNode.height / 2,\n                }\n                eventPos[0] = {\n                  x:\n                    mouseLoc.x <\n                    this.getNodePosFromBorder(fromNode, 'L').start.x\n                      ? this.getNodePosFromBorder(fromNode, 'L').start.x\n                      : this.getNodePosFromBorder(fromNode, 'R').start.x,\n                  y: eventPos[1].y,\n                }\n              } else {\n                eventPos[1] = {\n                  x: mouseLoc.x,\n                  y:\n                    eventPos[2].y >\n                    this.getNodePosFromBorder(fromNode, 'B').start.y\n                      ? this.getNodePosFromBorder(fromNode, 'B').start.y\n                      : this.getNodePosFromBorder(fromNode, 'T').start.y,\n                }\n                eventPos.splice(0, 1)\n              }\n            }\n            //超出最右点\n            else if (\n              eventPos[3].x > this.getNodePosFromBorder(toNode, 'R').start.x\n            ) {\n              eventPos[3] = {\n                x: this.getNodePosFromBorder(toNode, 'R').start.x,\n                y:\n                  this.getNodePosFromBorder(toNode, 'R').start.y +\n                  toNode.height / 2,\n              }\n              eventPos[2] = {x: mouseLoc.x, y: eventPos[3].y}\n              //超出对面节点\n              if (\n                mouseLoc.x < this.getNodePosFromBorder(fromNode, 'L').start.x ||\n                mouseLoc.x > this.getNodePosFromBorder(fromNode, 'R').start.x\n              ) {\n                eventPos[1] = {\n                  x: mouseLoc.x,\n                  y:\n                    this.getNodePosFromBorder(fromNode, 'T').start.y +\n                    fromNode.height / 2,\n                }\n                eventPos[0] = {\n                  x:\n                    mouseLoc.x <\n                    this.getNodePosFromBorder(fromNode, 'L').start.x\n                      ? this.getNodePosFromBorder(fromNode, 'L').start.x\n                      : this.getNodePosFromBorder(fromNode, 'R').start.x,\n                  y: eventPos[1].y,\n                }\n              } else {\n                eventPos[1] = {\n                  x: mouseLoc.x,\n                  y:\n                    eventPos[2].y >\n                    this.getNodePosFromBorder(fromNode, 'B').start.y\n                      ? this.getNodePosFromBorder(fromNode, 'B').start.y\n                      : this.getNodePosFromBorder(fromNode, 'T').start.y,\n                }\n                eventPos.splice(0, 1)\n              }\n            }\n          }\n          //C形状\n          else {\n            if (mouseLoc.x < this.getNodePosFromBorder(toNode, 'L').start.x) {\n              eventPos[2].x = this.getNodePosFromBorder(toNode, 'L').start.x + 1\n              eventPos[3].x = this.getNodePosFromBorder(toNode, 'L').start.x + 1\n            } else if (\n              mouseLoc.x > this.getNodePosFromBorder(toNode, 'R').start.x\n            ) {\n              eventPos[2].x = this.getNodePosFromBorder(toNode, 'R').start.x - 1\n              eventPos[3].x = this.getNodePosFromBorder(toNode, 'R').start.x - 1\n            }\n          }\n        }\n        //触发线段是中间部位\n        else {\n          // console.log('中间')\n          //from变化\n          if (\n            mouseLoc.x > this.getNodePosFromBorder(fromNode, 'L').start.x &&\n            mouseLoc.x < this.getNodePosFromBorder(fromNode, 'R').start.x\n          ) {\n            eventPos.splice(0, 1)\n            eventPos[0].y =\n              eventPos[1].y < this.getNodePosFromBorder(fromNode, 'T').start.y\n                ? this.getNodePosFromBorder(fromNode, 'T').start.y\n                : this.getNodePosFromBorder(fromNode, 'B').start.y\n          }\n          //to变化\n          if (\n            mouseLoc.x > this.getNodePosFromBorder(toNode, 'L').start.x &&\n            mouseLoc.x < this.getNodePosFromBorder(toNode, 'R').start.x\n          ) {\n            eventPos[eventPos.length - 2].y =\n              eventPos[eventPos.length - 3].y <\n              this.getNodePosFromBorder(toNode, 'T').start.y\n                ? this.getNodePosFromBorder(toNode, 'T').start.y\n                : this.getNodePosFromBorder(toNode, 'B').start.y\n            eventPos.splice(eventPos.length - 1)\n          }\n        }\n      }\n\n      //判断是否需要三折合并一折\n      if (\n        eventPos.length === 4 &&\n        eventPos[1].x === eventPos[2].x &&\n        eventPos[1].y === eventPos[2].y\n      ) {\n        eventPos.splice(1, 2)\n      }\n    }\n\n    //判断连线形状是不是Z形状（false为C）\n    function judgeLineShapeIsZ(eventPos) {\n      let judgeWidth = 0\n      for (let i = 0, len = eventPos.length - 1; i < len; i++) {\n        judgeWidth += Math.abs(eventPos[i].x - eventPos[i + 1].x)\n      }\n\n      return (\n        judgeWidth === Math.abs(eventPos[0].x - eventPos[eventPos.length - 1].x)\n      )\n    }\n    //判断连线形状是不是N形状（false为|__|）\n    function judgeLineShapeIsN(eventPos) {\n      let judgeHeight = 0\n      for (let i = 0, len = eventPos.length - 1; i < len; i++) {\n        judgeHeight += Math.abs(eventPos[i].y - eventPos[i + 1].y)\n      }\n\n      return (\n        judgeHeight ===\n        Math.abs(eventPos[0].y - eventPos[eventPos.length - 1].y)\n      )\n    }\n\n    this.emit(LineEvent.Move, event.target)\n  }\n\n  /**\n   * 根据chooseTargets数据创建新的连线信息数据\n   * @param {String} lineType     必选，创建的线型\n   * @param {Object} defaultData  可选，带有默认数据的线，当该参数有值证明是批量建线\n   */\n  createLineInfo(lineType, defaultData) {\n    const chooseTargets = this.chooseTargets,\n      chooseTargets0Loc = this.getNodePosFromBorder(chooseTargets[0], 'L'),\n      chooseTargets1Loc = this.getNodePosFromBorder(chooseTargets[1], 'L')\n\n    const pos = []\n    //起始节点和终止节点是同一个\n    if (chooseTargets[0].id === chooseTargets[1].id) {\n      pos[0] = {\n        x: chooseTargets[0].x + chooseTargets[0].width,\n        y: chooseTargets[0].y + chooseTargets[0].height - 20,\n      }\n      pos[1] = {\n        x: chooseTargets[0].x + chooseTargets[0].width + 20,\n        y: chooseTargets[0].y + chooseTargets[0].height - 20,\n      }\n      pos[2] = {\n        x: chooseTargets[0].x + chooseTargets[0].width + 20,\n        y: chooseTargets[0].y + chooseTargets[0].height + 20,\n      }\n      pos[3] = {\n        x: chooseTargets[0].x + chooseTargets[0].width - 20,\n        y: chooseTargets[0].y + chooseTargets[0].height + 20,\n      }\n      pos[4] = {\n        x: chooseTargets[0].x + chooseTargets[0].width - 20,\n        y: chooseTargets[0].y + chooseTargets[0].height,\n      }\n    }\n    //起始节点是分支节点\n    else if (['exclusive', 'inclusive'].includes(chooseTargets[0].type)) {\n      //分支上 to下 -> N形状\n      if (chooseTargets0Loc.end.y < chooseTargets1Loc.start.y) {\n        pos[0] = {\n          x: chooseTargets0Loc.end.x + Math.floor(chooseTargets[0].width / 2),\n          y: chooseTargets0Loc.end.y,\n        }\n        pos[1] = {\n          x: pos[0].x,\n          y:\n            pos[0].y +\n            Math.floor(\n              (chooseTargets1Loc.start.y - chooseTargets0Loc.end.y) / 2,\n            ),\n        }\n        pos[2] = {\n          x: chooseTargets1Loc.start.x + Math.floor(chooseTargets[1].width / 2),\n          y: pos[1].y,\n        }\n        pos[3] = {x: pos[2].x, y: chooseTargets1Loc.start.y}\n      }\n      //分支下 to上 -> U形状\n      else {\n        pos[0] = {\n          x: chooseTargets0Loc.end.x + Math.floor(chooseTargets[0].width / 2),\n          y: chooseTargets0Loc.end.y,\n        }\n        pos[1] = {\n          x: pos[0].x,\n          y: Math.max(chooseTargets0Loc.end.y, chooseTargets1Loc.start.y) + 20,\n        }\n        pos[2] = {\n          x: chooseTargets1Loc.start.x + Math.floor(chooseTargets[1].width / 2),\n          y: pos[1].y,\n        }\n        pos[3] = {x: pos[2].x, y: chooseTargets1Loc.end.y}\n      }\n    }\n    //终止节点是分支节点\n    else if (['exclusive', 'inclusive'].includes(chooseTargets[1].type)) {\n      //from上 分支下\n      if (chooseTargets0Loc.end.y < chooseTargets1Loc.start.y) {\n        pos[0] = {\n          x: chooseTargets0Loc.end.x + Math.floor(chooseTargets[0].width / 2),\n          y: chooseTargets0Loc.end.y,\n        }\n        pos[1] = {\n          x: pos[0].x,\n          y:\n            pos[0].y +\n            Math.floor(\n              (chooseTargets1Loc.start.y - chooseTargets0Loc.end.y) / 2,\n            ),\n        }\n        pos[2] = {\n          x: chooseTargets1Loc.start.x + Math.floor(chooseTargets[1].width / 2),\n          y: pos[1].y,\n        }\n        pos[3] = {x: pos[2].x, y: chooseTargets1Loc.start.y}\n      }\n      //from下分支上\n      else {\n        pos[0] = {\n          x: chooseTargets0Loc.end.x + Math.floor(chooseTargets[0].width / 2),\n          y: chooseTargets0Loc.start.y,\n        }\n        pos[1] = {\n          x: pos[0].x,\n          y: Math.min(chooseTargets0Loc.end.y, chooseTargets1Loc.start.y) - 20,\n        }\n        pos[2] = {\n          x: chooseTargets1Loc.start.x + Math.floor(chooseTargets[1].width / 2),\n          y: pos[1].y,\n        }\n        pos[3] = {x: pos[2].x, y: chooseTargets1Loc.start.y}\n      }\n    }\n    //起始节点是普通节点\n    else {\n      //from左  to右\n      if (\n        this.getNodePosFromBorder(chooseTargets[0], 'R').start.x <\n        this.getNodePosFromBorder(chooseTargets[1], 'L').start.x\n      ) {\n        //有重合 -> 直线\n        if (\n          (chooseTargets1Loc.start.y - chooseTargets0Loc.end.y) *\n            (chooseTargets1Loc.end.y - chooseTargets0Loc.start.y) <\n          0\n        ) {\n          // console.log('有重合')\n          const y =\n            Math.max(chooseTargets0Loc.start.y, chooseTargets1Loc.start.y) +\n            Math.abs(\n              Math.floor(\n                (Math.min(chooseTargets0Loc.end.y, chooseTargets1Loc.end.y) -\n                  Math.max(\n                    chooseTargets0Loc.start.y,\n                    chooseTargets1Loc.start.y,\n                  )) /\n                  2,\n              ),\n            )\n          pos[0] = {\n            x: this.getNodePosFromBorder(chooseTargets[0], 'R').start.x,\n            y: y,\n          }\n          pos[1] = {\n            x: this.getNodePosFromBorder(chooseTargets[1], 'L').start.x,\n            y: y,\n          }\n        }\n        //无重合 -> 二折\n        else {\n          // console.log('无重合')\n          //from下  to上\n          if (chooseTargets0Loc.start.y > chooseTargets1Loc.end.y) {\n            pos[0] = {\n              x:\n                chooseTargets0Loc.start.x +\n                Math.floor(chooseTargets[0].width / 2),\n              y: chooseTargets0Loc.start.y,\n            }\n            pos[1] = {\n              x: pos[0].x,\n              y:\n                chooseTargets1Loc.start.y +\n                Math.floor(chooseTargets[1].height / 2),\n            }\n            pos[2] = {x: chooseTargets1Loc.start.x, y: pos[1].y}\n          }\n          //from上  to下\n          else {\n            pos[0] = {\n              x: this.getNodePosFromBorder(chooseTargets[0], 'R').start.x,\n              y:\n                chooseTargets0Loc.start.y +\n                Math.floor(chooseTargets[0].height / 2),\n            }\n            pos[1] = {\n              x:\n                this.getNodePosFromBorder(chooseTargets[1], 'L').start.x +\n                Math.floor(chooseTargets[1].width / 2),\n              y: pos[0].y,\n            }\n            pos[2] = {\n              x: pos[1].x,\n              y: this.getNodePosFromBorder(chooseTargets[1], 'L').start.y,\n            }\n          }\n        }\n      }\n      //from右  to左\n      else if (\n        this.getNodePosFromBorder(chooseTargets[0], 'L').start.x >\n        this.getNodePosFromBorder(chooseTargets[1], 'R').start.x\n      ) {\n        //有重合 -> 直线\n        if (\n          (chooseTargets1Loc.start.y - chooseTargets0Loc.end.y) *\n            (chooseTargets1Loc.end.y - chooseTargets0Loc.start.y) <\n          0\n        ) {\n          // console.log('有重合')\n          const y =\n            Math.max(chooseTargets0Loc.start.y, chooseTargets1Loc.start.y) +\n            Math.abs(\n              Math.floor(\n                (Math.min(chooseTargets0Loc.end.y, chooseTargets1Loc.end.y) -\n                  Math.max(\n                    chooseTargets0Loc.start.y,\n                    chooseTargets1Loc.start.y,\n                  )) /\n                  2,\n              ),\n            )\n          pos[0] = {\n            x: this.getNodePosFromBorder(chooseTargets[0], 'L').start.x,\n            y: y,\n          }\n          pos[1] = {\n            x: this.getNodePosFromBorder(chooseTargets[1], 'R').start.x,\n            y: y,\n          }\n        }\n        //无重合 -> 二折\n        else {\n          // console.log('无重合')\n          //from下  to上\n          if (chooseTargets0Loc.start.y > chooseTargets1Loc.end.y) {\n            pos[0] = {\n              x:\n                chooseTargets0Loc.start.x +\n                Math.floor(chooseTargets[0].width / 2),\n              y: chooseTargets0Loc.start.y,\n            }\n            pos[1] = {\n              x: pos[0].x,\n              y:\n                chooseTargets1Loc.start.y +\n                Math.floor(chooseTargets[1].height / 2),\n            }\n            pos[2] = {\n              x: this.getNodePosFromBorder(chooseTargets[1], 'R').start.x,\n              y: pos[1].y,\n            }\n          }\n          //from上  to下\n          else {\n            pos[0] = {\n              x: this.getNodePosFromBorder(chooseTargets[0], 'L').start.x,\n              y:\n                chooseTargets0Loc.start.y +\n                Math.floor(chooseTargets[0].height / 2),\n            }\n            pos[1] = {\n              x:\n                this.getNodePosFromBorder(chooseTargets[1], 'L').start.x +\n                Math.floor(chooseTargets[1].width / 2),\n              y: pos[0].y,\n            }\n            pos[2] = {\n              x: pos[1].x,\n              y: this.getNodePosFromBorder(chooseTargets[1], 'L').start.y,\n            }\n          }\n        }\n      }\n      //from下 to上 上下非重叠重合 -> 直线\n      else if (chooseTargets0Loc.start.y > chooseTargets1Loc.end.y) {\n        const startX = Math.max(\n          chooseTargets0Loc.start.x,\n          chooseTargets1Loc.start.x,\n        )\n        const endX = Math.min(\n          this.getNodePosFromBorder(chooseTargets[0], 'R').start.x,\n          this.getNodePosFromBorder(chooseTargets[1], 'R').start.x,\n        )\n        const x = startX + Math.floor((endX - startX) / 2)\n\n        pos[0] = {x: x, y: chooseTargets0Loc.start.y}\n        pos[1] = {x: x, y: chooseTargets1Loc.end.y}\n      }\n      //from上 to下&重叠在一起\n      else {\n        const startX = Math.max(\n          chooseTargets0Loc.start.x,\n          chooseTargets1Loc.start.x,\n        )\n        const endX = Math.min(\n          this.getNodePosFromBorder(chooseTargets[0], 'R').start.x,\n          this.getNodePosFromBorder(chooseTargets[1], 'R').start.x,\n        )\n        const x = startX + Math.floor((endX - startX) / 2)\n\n        pos[0] = {x: x, y: chooseTargets0Loc.end.y}\n        pos[1] = {x: x, y: chooseTargets1Loc.start.y}\n      }\n    }\n\n    //生成完整的线信息，通知外部更新数据\n    if (pos.length) {\n      const newLine = {}\n\n      //没有线的默认数据 -> 创建单根线情况\n      if (!defaultData) {\n        Object.assign(newLine, {\n          // id: uuid(),\n          from: chooseTargets[0].id,\n          to: chooseTargets[1].id,\n          pos: pos,\n          type: lineType,\n        })\n      }\n      //有线的默认数据 -> 批量创建线的情况\n      else {\n        defaultData.pos = pos\n        Object.assign(newLine, defaultData)\n      }\n\n      return newLine\n    }\n    //线信息生成失败\n    else {\n      error('createLine方法错误：未生成对应关键点坐标')\n    }\n  }\n\n  /**\n   * 根据chooseTargets数据创建新的连线\n   * @param {String} lineType     必选，创建的线型\n   * @param {Object} defaultData  可选，带有默认数据的线，当该参数有值证明是批量建线\n   */\n  createLine(lineType, defaultData?) {\n    const newLineInfo = this.createLineInfo(lineType, defaultData)\n    const beforeCreateResults = this.emit(LineEvent.BeforeCreate, newLineInfo)\n    Promise.all(beforeCreateResults)\n      .then(() => this.emit(LineEvent.New, newLineInfo))\n      .catch(() => warn('CreateLine abort in [BeforeCreate] hooks.'))\n  }\n\n  mergeLine(lineType, defaultData) {\n    const newLineInfo = this.createLineInfo(lineType, defaultData)\n\n    return Object.assign(defaultData, newLineInfo)\n  }\n\n  //根据chooseTargets数据创建新的节点连线\n  createBranchLine() {\n    const chooseTargets = [].concat(this.chooseTargets),\n      chooseTargets0Loc = this.getNodePosFromBorder(chooseTargets[0], 'L'),\n      chooseTargets1Loc = this.getNodePosFromBorder(chooseTargets[1], 'L')\n\n    // 终止节点是过滤器的: 不允许创建\n    if (['inclusive', 'exclusive'].includes(chooseTargets[1].type)) {\n      error('未将对象引用设置到对象的实例。')\n    }\n    // 开始节点是过滤器的: 只创建一条fromFilter线\n    else if (['inclusive', 'exclusive'].includes(chooseTargets[0].type)) {\n      // 来自于过滤器(下行线)\n      this.createLine('fromFilterPrimaryKey') //目前没有fromFilterForeignKey的情况\n    }\n    // 开始节点不是过滤器的: 正常的创建逻辑->两根线,一个过滤器\n    else {\n      //from上 to下 且间距>50（因为branch分支块的高度是40）-> 取两块中点放置分支\n      const loc =\n        chooseTargets0Loc.end.y + 50 < chooseTargets1Loc.start.y\n          ? {\n              x:\n                chooseTargets0Loc.start.x +\n                Math.floor(chooseTargets[0].width / 2) -\n                20,\n              y:\n                chooseTargets0Loc.end.y +\n                Math.floor(\n                  (chooseTargets1Loc.start.y - chooseTargets0Loc.end.y) / 2,\n                ) -\n                10,\n            }\n          : {\n              x:\n                chooseTargets1Loc.start.x +\n                Math.floor(chooseTargets[1].width / 2) -\n                20,\n              y:\n                Math.min(chooseTargets0Loc.start.y, chooseTargets1Loc.start.y) -\n                50,\n            }\n      //生成过滤器节点\n      const filteredData = {\n        x: loc.x,\n        y: loc.y,\n        width: 40,\n        height: 20,\n        type: 'exclusive',\n        fromId: chooseTargets[0].id,\n        toId: chooseTargets[1].id,\n      }\n      const filteredBeforeCreateResults = this.emit(\n        NodeEvent.BeforeCreate,\n        filteredData,\n      )\n      Promise.all(filteredBeforeCreateResults)\n        .then(() => {\n          // 拿到新创建过滤器节点\n          this.once(NodeEvent.New, (info) => {\n            this.chooseTargets = [chooseTargets[0], info]\n            this.createLine('toFilter')\n\n            this.chooseTargets = [info, chooseTargets[1]]\n            this.createLine('fromFilterPrimaryKey')\n\n            this.chooseTargets = []\n          })\n          this.emit(NodeEvent.New, filteredData)\n        })\n        .catch(() => warn('Filtered abort in BeforeCreate.'))\n    }\n  }\n\n  /**\n   * 批量创建连线\n   */\n  createLines(lineList: LineData[]) {\n    /**\n     * lineList = [{id: 1234, from: 1, to: 2}]\n     */\n    for (const item of lineList) {\n      const fromNode = this.dataHandler.originDataMap.get(item.from) as NodeData\n      const toNode = this.dataHandler.originDataMap.get(item.to) as NodeData\n      if (fromNode && toNode) {\n        //目前没考虑过滤器的情况\n        this.chooseTargets = [fromNode, toNode]\n        this.createLine(item.type, item)\n      }\n    }\n    this.chooseTargets = []\n    this.update()\n  }\n\n  /**\n   * 批量merge连线\n   */\n  mergeLines(lineList: LineData[]) {\n    /**\n     * lineList = [{id: 1234, from: 1, to: 2}]\n     */\n    const resultLines = []\n    for (const item of lineList) {\n      const fromNode = this.dataHandler.originDataMap.get(item.from) as NodeData\n      const toNode = this.dataHandler.originDataMap.get(item.to) as NodeData\n      if (fromNode && toNode) {\n        //目前没考虑过滤器的情况\n        this.chooseTargets = [fromNode, toNode]\n        resultLines.push(this.mergeLine(item.type, item))\n      }\n    }\n    this.chooseTargets = []\n\n    return resultLines\n  }\n\n  public setColor(color: string, type: ColorCategory) {\n    this.focusTarget.forEach((it) => {\n      if (!(it instanceof LineErwin)) {\n        const TargetEvent = getTargetEvent(it)\n        const beforeChangeResults = this.emit(\n          TargetEvent.BeforeChange,\n          it,\n          type,\n          color,\n        )\n        Promise.all(beforeChangeResults)\n          .then(() => {\n            it.updateOptions({[type]: color})\n            this.emit(TargetEvent.Change, it)\n          })\n          .catch(() => warn('Change abort in [BeforeChange] hooks.', it))\n      }\n    })\n    this.update()\n  }\n\n  public on(eventName: Event, handler: (...args) => void): this {\n    super.on(eventName, handler)\n    return this\n  }\n}\n\nexport * from './shared/enum'\nexport {getTargetAttributeInfo}\n","/*\n{\n  nodeDataArray: [\n    {\n      id: 'Entity1',\n      x: 100,\n      y: 100,\n      width: 100,\n      height: 100,\n      bgC: '#FF8080',\n      bdC: 'red',\n      enName: 'Entity1',\n      physicalTables: true,\n      quotePrimaryKey: true,\n      attributes: [\n        {\n          enName: 'attr1',\n          id: '1',\n          ifPk: true,\n          ifFk: true,\n          type: 'INT',\n          icons: [\n            {\n              bgC: '#FEFF80',\n              color: '#8080FF',\n              text: 'S',\n            },\n            {\n              text: 'L',\n              bdC: 'green',\n            },\n          ],\n        },\n        {\n          enName: 'attr2',\n          id: '2',\n          type: 'DATE',\n          ifPk: true,\n        },\n        {\n          enName: '属性名3',\n          id: '3',\n          ifPk: true,\n          type: 'char',\n          children: [\n            {\n              enName: '属性名3-1',\n              id: '3-1',\n              ifPk: true,\n              ifFk: true,\n              children: [\n                {\n                  enName: '属性名3-1-1',\n                  ifPk: true,\n                  ifFk: true,\n                  children: [\n                    {\n                      enName: '属性名3-1-1-1',\n                      ifPk: true,\n                      ifFk: true,\n                    },\n                  ],\n                  icons: [\n                    {\n                      text: 'A',\n                      bdC: 'green',\n                    },\n                  ],\n                },\n              ],\n            },\n            {\n              enName: '属性名3-2',\n              ifPk: true,\n              ifFk: true,\n            },\n            {\n              enName: '属性名3-3',\n              ifPk: true,\n              ifFk: true,\n            },\n          ],\n        },\n        {\n          enName: 'attr4',\n          ifPk: false,\n          ifFk: true,\n          icons: [\n            {\n              bgC: '#FEFF80',\n              color: '#8080FF',\n              text: 'S',\n            },\n            {\n              text: '标',\n            },\n          ],\n        },\n        {\n          enName: 'attr5',\n          ifPk: false,\n        },\n        {\n          enName: 'attr6',\n          ifPk: false,\n          icons: [\n            {\n              text: 'A',\n              bdC: 'green',\n            },\n          ],\n        },\n      ],\n    },\n    {\n      id: 'Entity2',\n      x: 400,\n      y: 100,\n      width: 50,\n      height: 100,\n      bgC: '#8080FF',\n      enName: 'Entity2',\n      quotePrimaryKey: true,\n      attributes: [\n        {\n          enName: '属性名1',\n          ifPk: true,\n          ifFk: false,\n        },\n        {\n          enName: '属性名2',\n          ifPk: true,\n        },\n        {\n          enName: '属性名3',\n          ifPk: true,\n        },\n      ],\n    },\n    {\n      id: 'Entity3',\n      x: 100,\n      y: 400,\n      width: 50,\n      height: 100,\n      bgC: '#FFFF80',\n      enName: 'Entity3',\n      attributes: [\n        {\n          enName: '属性名1',\n          ifPk: false,\n          ifFk: false,\n        },\n        {\n          enName: '属性名2',\n          ifPk: false,\n        },\n      ],\n    },\n    {\n      id: 'Entity4',\n      x: 100,\n      y: 250,\n      width: 40,\n      height: 20,\n      type: 'inclusive',\n    },\n    {\n      id: 'Entity5',\n      x: 705,\n      y: 92,\n      width: 260,\n      height: 100,\n      enName: 'Entity5',\n      type: 'inside',\n    },\n    {\n      id: 'Entity6',\n      x: 600,\n      y: 280,\n      width: 260,\n      height: 100,\n      enName: 'Entity6',\n      type: 'explain',\n      attributes: [\n        {\n          label: '说明',\n          content: '表示与银行有利害关系，以及银行希望保留其信息',\n        },\n        {\n          label: '示例',\n          content: '个人 组织 客户',\n        },\n        {\n          label: '所属部门',\n          content: '数据研究院',\n        },\n        {\n          label: '负责人',\n          content: '杨中旭',\n        },\n      ],\n    },\n    {\n      id: 'Entity7',\n      x: 2999,\n      y: 2999,\n      width: 260,\n      height: 100,\n      enName: 'Entity7',\n      type: 'inside',\n    },\n    {\n      id: 'Entity8',\n      x: -2999,\n      y: -2999,\n      width: 260,\n      height: 100,\n      enName: 'Entity8',\n      type: 'inside',\n    },\n    {\n      id: 'Entity9',\n      x: 500,\n      y: 500,\n      width: 260,\n      height: 100,\n      enName: 'Entity9',\n      type: 'inside',\n    },\n    {\n      id: 'Entity10',\n      x: -500,\n      y: -500,\n      width: 260,\n      height: 100,\n      enName: 'Entity10',\n      type: 'inside',\n    },\n    {\n      id: 'Entity11',\n      x: -300,\n      y: -300,\n      width: 260,\n      height: 100,\n      enName: 'Entity11',\n      type: 'inside',\n    },\n    {\n      id: 'Entity12',\n      x: -200,\n      y: -200,\n      width: 260,\n      height: 100,\n      enName: 'Entity12',\n      type: 'inside',\n    },\n  ],\n  linkDataArray: [\n    {\n      id: 1,\n      from: 'Entity1',\n      to: 'Entity2',\n      pos: [\n        {\n          x: 200,\n          y: 125,\n        },\n        {\n          x: 400,\n          y: 125,\n        },\n      ],\n      type: 'ifPk',\n      numLineTypes: 1,\n      remark: '主键',\n    },\n    {\n      id: 3,\n      from: 'Entity2',\n      to: 'Entity3',\n      pos: [\n        {\n          x: 400,\n          y: 150,\n        },\n        {\n          x: 300,\n          y: 150,\n        },\n        {\n          x: 300,\n          y: 450,\n        },\n        {\n          x: 150,\n          y: 450,\n        },\n      ],\n      type: 'ifFk',\n      numLineTypes: 1,\n    },\n    {\n      id: 4,\n      from: 'Entity1',\n      to: 'Entity4',\n      pos: [\n        {\n          x: 120,\n          y: 200,\n        },\n        {\n          x: 120,\n          y: 250,\n        },\n      ],\n      type: 'toFilter',\n      numLineTypes: 2,\n    },\n    {\n      id: 5,\n      from: 'Entity4',\n      to: 'Entity3',\n      pos: [\n        {\n          x: 120,\n          y: 270,\n        },\n        {\n          x: 120,\n          y: 400,\n        },\n      ],\n      type: 'fromFilter',\n      numLineTypes: 4,\n    },\n    {\n      id: 6,\n      from: 'Entity5',\n      to: 'Entity6',\n      pos: [\n        {\n          x: 782,\n          y: 192,\n        },\n        {\n          x: 782,\n          y: 280,\n        },\n      ],\n      type: 'arrow',\n      numLineTypes: 1,\n      remark: '来自',\n    },\n    {\n      id: 7,\n      from: 'Entity9',\n      to: 'Entity10',\n      pos: [\n        {\n          x: 782,\n          y: 192,\n        },\n        {\n          x: 782,\n          y: 280,\n        },\n      ],\n      type: 'arrow',\n      numLineTypes: 1,\n      remark: '来自',\n    },\n    {\n      id: 8,\n      from: 'Entity2',\n      to: 'Entity9',\n      pos: [\n        {\n          x: 782,\n          y: 192,\n        },\n        {\n          x: 782,\n          y: 280,\n        },\n      ],\n      type: 'arrow',\n      numLineTypes: 1,\n      remark: '来自',\n    },\n    {\n      id: 9,\n      from: 'Entity2',\n      to: 'Entity1',\n      pos: [\n        {\n          x: 782,\n          y: 192,\n        },\n        {\n          x: 782,\n          y: 280,\n        },\n      ],\n      type: 'arrow',\n      numLineTypes: 1,\n      remark: '来自',\n    },\n    {\n      id: 10,\n      from: 'Entity9',\n      to: 'Entity11',\n      pos: [\n        {\n          x: 782,\n          y: 192,\n        },\n        {\n          x: 782,\n          y: 280,\n        },\n      ],\n      type: 'arrow',\n      numLineTypes: 1,\n      remark: '来自',\n    },\n    {\n      id: 11,\n      from: 'Entity2',\n      to: 'Entity12',\n      pos: [\n        {\n          x: 782,\n          y: 192,\n        },\n        {\n          x: 782,\n          y: 280,\n        },\n      ],\n      type: 'arrow',\n      numLineTypes: 1,\n      remark: '来自',\n    },\n  ],\n  markDataArray: [\n    {\n      id: 'Mark1',\n      x: 50,\n      y: 50,\n      width: 500,\n      height: 500,\n      enName: 'Mark1',\n    },\n  ],\n  noteDataArray: [\n    {\n      id: '157837643603536658',\n      x: 525,\n      y: 408,\n      text: '啦啦啦啦啦111',\n      type: 'note',\n      color: '#0000ff',\n    },\n  ],\n}\n这条数据是用来渲染类似erwin功能的数据，根据这个格式，生成符合真实场景的数据，注意nodeInfo中x,y,width,height，与linkInfo中pos坐标的相互关系\n生成包含不少于10个实体的数据，以及它们对应的linkDataArray，要求：符合金融场景，背景色边框色xy等样式合理且丰富，类型关系丰富\n按照数据合理性可生成至少一条的markDataArray和noteDataArray\n完整数据太长的话，可以以base64的方式给我\n*/\n\nexport const defaultData = {\n  nodeDataArray: [\n    {\n      id: 'Customer',\n      x: 100,\n      y: 100,\n      width: 150,\n      height: 120,\n      bgC: '#FDD2BF',\n      bdC: '#D16B54',\n      enName: '客户',\n      quotePrimaryKey: true,\n      attributes: [\n        {\n          enName: '客户编号',\n          id: '1',\n          ifPk: true,\n          ifFk: true,\n          type: 'true',\n          icons: [\n            {\n              text: 'P',\n              bgC: '#FFCC80',\n              color: '#BF360C',\n            },\n          ],\n        },\n        {\n          enName: '客户姓名',\n          id: '2',\n          type: 'Numeric',\n          icons: [\n            {\n              text: 'N',\n              bdC: '#689F38',\n              color: '#33691E',\n            },\n          ],\n        },\n        {\n          enName: '联系电话',\n          id: '3',\n          type: 'Binary_string',\n          icons: [\n            {\n              text: 'T',\n              bdC: '#689F38',\n              color: '#33691E',\n            },\n          ],\n        },\n        {\n          enName: '职业',\n          id: '4',\n          type: 'string',\n        },\n        {\n          enName: '地址',\n          id: '5',\n          type: 'date',\n        },\n      ],\n    },\n    {\n      id: 'Account',\n      x: 400,\n      y: 80,\n      width: 120,\n      height: 100,\n      bgC: '#E9D7F1',\n      bdC: '#8B5DA4',\n      enName: '账户',\n      physicalTables: true,\n      attributes: [\n        {\n          enName: '账户号',\n          id: '6',\n          ifPk: true,\n          type: 'VARCHAR(32)',\n          icons: [\n            {\n              text: 'P',\n              bgC: '#FFCC80',\n              color: '#BF360C',\n            },\n          ],\n        },\n        {\n          enName: '账户余额',\n          id: '7',\n          type: 'DECIMAL(12,2)',\n          icons: [\n            {\n              text: 'M',\n              bdC: '#689F38',\n              color: '#33691E',\n            },\n          ],\n        },\n        {\n          enName: '账户类型',\n          id: '8',\n          type: 'VARCHAR(20)',\n        },\n      ],\n    },\n    {\n      id: 'Transaction',\n      x: 250,\n      y: 300,\n      width: 130,\n      height: 100,\n      bgC: '#D9D9D9',\n      enName: '交易',\n      attributes: [\n        {\n          enName: '交易编号',\n          id: '9',\n          ifPk: true,\n          type: 'VARCHAR(32)',\n          icons: [\n            {\n              text: 'P',\n              bgC: '#FFCC80',\n              color: '#BF360C',\n            },\n          ],\n        },\n        {\n          enName: '交易时间',\n          id: '10',\n          type: 'TIMESTAMP',\n          icons: [\n            {\n              text: 'D',\n              bdC: '#689F38',\n              color: '#33691E',\n            },\n          ],\n        },\n        {\n          enName: '交易金额',\n          id: '11',\n          type: 'DECIMAL(12,2)',\n          icons: [\n            {\n              text: 'M',\n              bdC: '#689F38',\n              color: '#33691E',\n            },\n          ],\n        },\n        {\n          enName: '交易类型',\n          id: '12',\n          type: 'VARCHAR(20)',\n        },\n      ],\n    },\n    {\n      id: 'Bank',\n      x: 560,\n      y: 300,\n      width: 150,\n      height: 120,\n      bgC: '#C1E800',\n      bdC: '#1976D2',\n      enName: '银行',\n      attributes: [\n        {\n          enName: '银行名称',\n          id: '13',\n          type: 'VARCHAR(50)',\n        },\n        {\n          enName: '地址',\n          id: '14',\n          type: 'VARCHAR(100)',\n        },\n        {\n          enName: '联系电话',\n          id: '15',\n          type: 'VARCHAR(20)',\n          icons: [\n            {\n              text: 'T',\n              bdC: '#689F38',\n              color: '#33691E',\n            },\n          ],\n        },\n      ],\n    },\n  ],\n  linkDataArray: [\n    {\n      id: 'l1',\n      from: 'Customer',\n      to: 'Account',\n      text: '拥有',\n      pos: [\n        {\n          x: 175,\n          y: 160,\n        },\n        {\n          x: 415,\n          y: 160,\n        },\n      ],\n    },\n    {\n      id: 'l2',\n      from: 'Account',\n      to: 'Transaction',\n      text: '发生',\n      pos: [\n        {\n          x: 470,\n          y: 130,\n        },\n        {\n          x: 290,\n          y: 320,\n        },\n      ],\n    },\n    {\n      id: 'l3',\n      from: 'Transaction',\n      to: 'Account',\n      text: '涉及',\n      pos: [\n        {\n          x: 255,\n          y: 320,\n        },\n        {\n          x: 435,\n          y: 130,\n        },\n      ],\n    },\n    {\n      id: 'l4',\n      from: 'Bank',\n      to: 'Account',\n      text: '开户于',\n      pos: [\n        {\n          x: 630,\n          y: 240,\n        },\n        {\n          x: 515,\n          y: 160,\n        },\n      ],\n    },\n  ],\n\n  markDataArray: [],\n  noteDataArray: [],\n}\n","export default \"__VITE_ASSET__386d2929__\"","<template>\n  <div class=\"erg\">\n    <div class=\"toolbar\">\n      <el-button\n        size=\"small\"\n        circle\n        title=\"新增实体\"\n        @click=\"updateGraphStatus('addNode')\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-add`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button\n        size=\"small\"\n        circle\n        title=\"复制\"\n        @click=\"updateGraphStatus('copy')\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#copy`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button\n        size=\"small\"\n        circle\n        title=\"新增主键\"\n        @click=\"updateGraphStatus('IDENTIFYING')\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-primary`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button\n        size=\"small\"\n        circle\n        title=\"新增非主键\"\n        @click=\"updateGraphStatus('NON_IDENTIFYING')\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-foreign`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button\n        size=\"small\"\n        circle\n        title=\"新增过滤器\"\n        @click=\"updateGraphStatus('filtered')\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-subtype`\"></use>\n          </svg>\n        </template>\n      </el-button>\n\n      <el-divider direction=\"vertical\" />\n\n      <el-button\n        size=\"small\"\n        circle\n        title=\"新增框\"\n        @click=\"updateGraphStatus('addMark')\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-square`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button\n        size=\"small\"\n        circle\n        title=\"新增备注\"\n        @click=\"updateGraphStatus('addNote')\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-text`\"></use>\n          </svg>\n        </template>\n      </el-button>\n\n      <el-divider direction=\"vertical\" />\n\n      <el-button\n        v-if=\"state.editable === Editable.Edit\"\n        size=\"small\"\n        circle\n        title=\"只读\"\n        @click=\"setEditable(Editable.Disabled)\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#lock`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button\n        v-else\n        size=\"small\"\n        circle\n        title=\"编辑\"\n        @click=\"setEditable(Editable.Edit)\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#unlock`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button\n        size=\"small\"\n        circle\n        title=\"放大\"\n        @click=\"changeCanvasScale(20)\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#plus-circle`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button\n        size=\"small\"\n        circle\n        title=\"缩小\"\n        @click=\"changeCanvasScale(-20)\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#minus-circle`\"></use>\n          </svg>\n        </template>\n      </el-button>\n\n      <el-divider direction=\"vertical\" />\n\n      <el-color-picker\n        v-model=\"state.bgC\"\n        size=\"small\"\n        @change=\"(value) => changeColor(value, ColorCategory.BgColor)\"\n      />\n      <el-color-picker\n        v-model=\"state.bdC\"\n        size=\"small\"\n        @change=\"(value) => changeColor(value, ColorCategory.BdColor)\"\n      />\n      <el-color-picker\n        v-model=\"state.color\"\n        size=\"small\"\n        @change=\"(value) => changeColor(value, ColorCategory.Color)\"\n      />\n\n      <el-divider direction=\"vertical\" />\n\n      <el-button size=\"small\" circle title=\"自动布局\" @click=\"updateLayout()\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#layout-o`\"></use>\n          </svg>\n        </template>\n      </el-button>\n\n      <el-divider direction=\"vertical\" />\n\n      <el-select v-model=\"state.viewType\" size=\"small\" placeholder=\"选择视图\">\n        <el-option\n          v-for=\"(value, key) in ErgViewType\"\n          :label=\"key\"\n          :value=\"value\"\n        />\n      </el-select>\n    </div>\n    <div :id=\"props.elName\" class=\"canvas\"></div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {reactive, onBeforeUnmount, onMounted, ref} from 'vue'\nimport {\n  ElButton,\n  ElDivider,\n  ElColorPicker,\n  ElSelect,\n  ElOption,\n  ElMessage,\n} from 'element-plus'\nimport {\n  Erg as Graph,\n  ErgViewType,\n  GraphEvent,\n  NodeEvent,\n  NodeAttrEvent,\n  LineEvent,\n  MarkEvent,\n  NoteEvent,\n  ContextmenuEvent,\n  Editable,\n  ColorCategory,\n} from '@ej/erg-renderer/src'\n// import {defaultData as data} from './assets/js/mock'\nimport {defaultData as data} from './assets/js/mock-gpt'\nimport Icons from './assets/icon/symbol-defs.svg'\n\nconst props = withDefaults(\n  defineProps<{\n    useThumbnail: boolean\n    useRightMenu: boolean\n    useAttrFocus: boolean\n    editable: string\n    elName: string\n  }>(),\n  {\n    useThumbnail: true,\n    useRightMenu: true,\n    useAttrFocus: true,\n    editable: Editable.Edit,\n    elName: 'canvas',\n  },\n)\n\n// 渲染器实例无需设为代理数据，这里只是方便Expose使用！\nconst graph = ref()\n\nconst state = reactive({\n  scale: 100,\n  bgC: '',\n  bdC: '',\n  color: '',\n  editable: Editable.Edit,\n  viewType: ErgViewType.Detail,\n})\n\nconst mountGraph = () => {\n  const fontFamily =\n    '-apple-system, Noto Sans, Helvetica Neue, Helvetica, Nimbus Sans L, Arial, Liberation Sans, PingFang SC, Hiragino Sans GB, Noto Sans CJK SC, Source Han Sans SC, Source Han Sans CN, Microsoft YaHei, Wenquanyi Micro Hei, WenQuanYi Zen Hei, ST Heiti, SimHei, WenQuanYi Zen Hei Sharp, sans-serif'\n  graph.value = new Graph({\n    el: document.getElementById(props.elName),\n    fontFamily,\n    editable: state.lock,\n    useThumbnail: props.useThumbnail,\n    useAttrFocus: props.useAttrFocus,\n    useRightMenu: false,\n  })\n  // console.log('data', data)\n\n  graph.value.update(data)\n  graph.value.on(NodeEvent.DblClick, (info) => {\n    const name = info.enName\n    ElMessage.success(`${name} DblClick！`)\n  })\n  // graph.value.on(NodeEvent.BeforeChange, (target, key, value) => Promise.reject())\n  graph.value.on(NodeAttrEvent.DblClick, (info) => {\n    console.log(info)\n    ElMessage.warning(`attr DblClick！`)\n  })\n  // graph.value.on(NodeAttrEvent.BeforeChange, (entityId, attrId, key, value) => Promise.reject())\n\n  // graph.value.on(GraphEvent.Copy, (info) => console.log(GraphEvent.Copy, info))\n  // graph.value.on(GraphEvent.Paste, (info) =>\n  //   console.log(GraphEvent.Paste, info),\n  // )\n  // graph.value.on(GraphEvent.Keydown, (info) =>\n  //   console.log(GraphEvent.Keydown, info),\n  // )\n  // graph.value.on(GraphEvent.Zoom, (info) => console.log(GraphEvent.Zoom, info))\n  // graph.value.on(GraphEvent.Move, (info) => console.log(GraphEvent.Move, info))\n  // graph.value.on(GraphEvent.BeforeUpdate, (ctx) => null)\n  // graph.value.on(GraphEvent.AfterUpdate, (ctx) => null)\n  // graph.value.on(GraphEvent.Mousedown, (info) => console.log(GraphEvent.Mousedown, info))\n  // graph.value.on(GraphEvent.Mouseup, (info) => console.log(GraphEvent.Mouseup, info))\n  // graph.value.on(ContextmenuEvent.Show, (info) => null)\n  // graph.value.on(ContextmenuEvent.Click, (info) => null)\n  // graph.value.on(NodeEvent.New, (info) => console.log(NodeEvent.New, info))\n  // graph.value.on(NodeEvent.Change, (info) =>\n  //   console.log(NodeEvent.Change, info),\n  // )\n  // graph.value.on(NodeEvent.Delete, (info) =>\n  //   console.log(NodeEvent.Delete, info),\n  // )\n  // graph.value.on(NodeEvent.Move, (info) => console.log(NodeEvent.Move, info))\n  // graph.value.on(NodeEvent.Enter, (info) => console.log(NodeEvent.Enter, info))\n  // graph.value.on(NodeEvent.Leave, (info) => console.log(NodeEvent.Leave, info))\n  // graph.value.on(NodeEvent.Mousedown, (info) => console.log(NodeEvent.Mousedown, info))\n  // graph.value.on(NodeEvent.Mouseup, (info) => console.log(NodeEvent.Mouseup, info))\n  // graph.value.on(LineEvent.New, (info) => console.log(LineEvent.New, info))\n  // graph.value.on(LineEvent.Delete, (info) =>\n  //   console.log(LineEvent.Delete, info),\n  // )\n  // graph.value.on(LineEvent.Enter, (info) => console.log(LineEvent.Enter, info))\n  // graph.value.on(LineEvent.Leave, (info) => console.log(LineEvent.Leave, info))\n  // graph.value.on(LineEvent.Mousedown, (info) => console.log(LineEvent.Mousedown, info))\n  // graph.value.on(LineEvent.Mouseup, (info) => console.log(LineEvent.Mouseup, info))\n  // graph.value.on(MarkEvent.New, (info) => console.log(MarkEvent.New, info))\n  // graph.value.on(MarkEvent.Delete, (info) =>\n  //   console.log(MarkEvent.Delete, info),\n  // )\n  // graph.value.on(MarkEvent.Change, (info) =>\n  //   console.log(MarkEvent.Change, info),\n  // )\n  // graph.value.on(MarkEvent.Enter, (info) => console.log(MarkEvent.Enter, info))\n  // graph.value.on(MarkEvent.Leave, (info) => console.log(MarkEvent.Leave, info))\n  // graph.value.on(MarkEvent.Mousedown, (info) => console.log(MarkEvent.Mousedown, info))\n  // graph.value.on(MarkEvent.Mouseup, (info) => console.log(MarkEvent.Mouseup, info))\n  // graph.value.on(NoteEvent.New, (info) => console.log(NoteEvent.New, info))\n  // graph.value.on(NoteEvent.Delete, (info) =>\n  //   console.log(NoteEvent.Delete, info),\n  // )\n  // graph.value.on(NoteEvent.Change, (info) =>\n  //   console.log(NoteEvent.Change, info),\n  // )\n  // graph.value.on(NoteEvent.Enter, (info) => console.log(NoteEvent.Enter, info))\n  // graph.value.on(NoteEvent.Leave, (info) => console.log(NoteEvent.Leave, info))\n  // graph.value.on(NoteEvent.Mousedown, (info) => console.log(NoteEvent.Mousedown, info))\n  // graph.value.on(NoteEvent.Mouseup, (info) => console.log(NoteEvent.Mouseup, info))\n}\n\nconst changeCanvasScale = (scaleRatio) => {\n  if (state.scale > 20) state.scale += scaleRatio\n  graph.value.zoom(state.scale)\n}\nconst updateGraphStatus = (status) => graph.value.updateConfig({status})\nconst setEditable = (editable) => {\n  state.editable = editable\n  graph.value.updateConfig({editable})\n}\nconst changeColor = (value, type) => graph.value.setColor(value, type)\nconst updateLayout = () => graph.value.updateLayout()\nconst handleFullscreen = () => graph.value.fullscreen()\nconst unmountGraph = () => graph.value.destroy()\n\nonMounted(mountGraph)\nonBeforeUnmount(unmountGraph)\n\ndefineExpose({\n  graph,\n})\n</script>\n\n<style lang=\"postcss\">\n.erg {\n  width: 100%;\n  height: 100%;\n  min-height: 500px;\n  display: flex;\n  flex-direction: column;\n}\n\n.toolbar {\n  overflow-x: auto;\n  background: #ccc;\n  padding: 5px;\n  display: flex;\n  align-items: center;\n  /* justify-content: center; */\n  > .el-color-picker {\n    margin-right: 10px;\n  }\n}\n\n.canvas {\n  flex-grow: 1;\n  width: 100%;\n  height: 100%;\n  /* border: 1px solid #000; */\n  margin: auto;\n  box-sizing: border-box;\n  position: relative;\n}\n</style>\n","// export const rightMenu = [\n//   [\n//     {\n//       icon: '',\n//       value: 'edit',\n//       label: '编辑',\n//     },\n//     {\n//       icon: '',\n//       value: 'delete',\n//       label: '删除',\n//     },\n//   ],\n//   [\n//     {\n//       icon: '',\n//       value: 'checkin',\n//       label: '签入',\n//     },\n//     {\n//       icon: '',\n//       value: 'checkout',\n//       label: '签出',\n//     },\n//   ],\n//   [\n//     {\n//       icon: '',\n//       value: 'copy',\n//       label: '复制',\n//     },\n//     {\n//       icon: '',\n//       value: 'parse',\n//       label: '粘贴',\n//     },\n//   ],\n//   [\n//     {\n//       icon: '',\n//       value: 'remark',\n//       label: '添加标注',\n//     },\n//     {\n//       icon: '',\n//       value: 'auto-line',\n//       label: '重新规划连线',\n//       disabled: true,\n//     },\n//     {\n//       icon: '',\n//       value: 'auto-line',\n//       label: '自动适应大小',\n//     },\n//     {\n//       icon: '',\n//       value: 'more',\n//       label: '更多',\n//       children: [\n//         [\n//           {\n//             icon: '',\n//             value: 'more1',\n//             label: '更多1',\n//           },\n//         ]\n//       ]\n//     },\n//   ],\n// ]\n\nexport const rightMenu = [\n  [\n    {\n      icon: '',\n      value: 'copy',\n      label: '复制',\n    },\n    {\n      icon: '',\n      value: 'extend-copy',\n      label: '继承复制',\n    },\n    {\n      icon: '',\n      value: 'parse',\n      label: '粘贴',\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'redo',\n      label: '撤销',\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'parent',\n      label: '显示父级关联',\n      children: [\n        {\n          icon: '',\n          value: 'level-1',\n          label: '显示1级',\n        },\n        {\n          icon: '',\n          value: 'level-2',\n          label: '显示2级',\n        },\n        {\n          icon: '',\n          value: 'level-all',\n          label: '显示全部',\n        },\n      ],\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'auto-size',\n      label: '自适应大小',\n    },\n    {\n      icon: '',\n      value: 'auto-layout',\n      label: '自动排布',\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'style',\n      label: '展示风格',\n      children: [\n        {\n          icon: '',\n          value: 'brief',\n          label: '概要',\n        },\n        {\n          icon: '',\n          value: 'easy',\n          label: '简单',\n        },\n        {\n          icon: '',\n          value: 'normal',\n          label: '常规',\n        },\n        {\n          icon: '',\n          value: 'detail',\n          label: '详细',\n        },\n      ],\n    },\n  ],\n  {\n    icon: '',\n    value: 'delete',\n    label: '删除',\n  },\n]\n\nexport const initRightMenu = [\n  [\n    {\n      icon: '',\n      value: 'parse',\n      label: '粘贴',\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'redo',\n      label: '撤销',\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'auto-layout',\n      label: '自动排布',\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'style',\n      label: '展示风格',\n      children: [\n        {\n          icon: '',\n          value: 'brief',\n          label: '概要',\n        },\n        {\n          icon: '',\n          value: 'easy',\n          label: '简单',\n        },\n        {\n          icon: '',\n          value: 'normal',\n          label: '常规',\n        },\n        {\n          icon: '',\n          value: 'detail',\n          label: '详细',\n        },\n      ],\n    },\n  ],\n]\n","<template>\n  <el-dialog\n    title=\"Preview\"\n    v-model=\"dialogVisibles\"\n    :append-to-body=\"true\"\n    :close-on-click-modal=\"false\"\n    :before-close=\"handleClose\"\n    width=\"80%\"\n    class=\"dialog-association\"\n  >\n    <div class=\"association__content\">\n      <div :id=\"props.elName\" class=\"association\"></div>\n    </div>\n  </el-dialog>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n  reactive,\n  onBeforeUnmount,\n  onMounted,\n  watch,\n  onUnmounted,\n  nextTick,\n  computed,\n} from 'vue'\nimport {Erg as Graph} from '@ej/erg-renderer/src'\nimport {ElDialog} from 'element-plus'\n\nconst props = defineProps({\n  dialogVisible: {\n    type: Boolean,\n    required: true,\n  },\n  useThumbnail: {\n    type: Boolean,\n    required: true,\n    default: true,\n  },\n  useRightMenu: {\n    type: Boolean,\n    required: true,\n    default: true,\n  },\n  useAttrFocus: {\n    type: Boolean,\n    required: true,\n    default: true,\n  },\n  editable: {\n    type: String,\n    required: true,\n    default: 'edit',\n  },\n  elName: {\n    type: String,\n    required: true,\n    default: 'canvas',\n  },\n})\n\nconst emit = defineEmits(['update:dialogVisible'])\nconst dialogVisibles = computed((_) => props.dialogVisible)\nconst handleClose = () => emit('update:dialogVisible', false)\n\nlet graph\n\nconst mountGraph = () => {\n  graph = new Graph({\n    el: document.getElementById(props.elName),\n    useThumbnail: true,\n  })\n}\nconst unmountGraph = () => graph.destroy()\n\nonMounted(() => nextTick(mountGraph))\nonBeforeUnmount(unmountGraph)\n</script>\n\n<style lang=\"postcss\">\n.dialog-association {\n  .el-dialog__header {\n    border-bottom: 1px solid #ccc;\n    margin-right: 0px;\n    padding-bottom: 14px;\n  }\n}\n.association__content {\n  border: 1px solid #ccc;\n  height: 500px;\n  .association {\n    flex-grow: 1;\n    width: 100%;\n    height: 100%;\n    /* border: 1px solid #000; */\n    margin: auto;\n    box-sizing: border-box;\n    position: relative;\n  }\n}\n</style>\n","<template>\n  <div class=\"erg-right-menu\">\n    <base-erg\n      ref=\"erg\"\n      elName=\"canvas-right-menu\"\n      :useThumbnail=\"true\"\n      :useRightMenu=\"true\"\n      :useAttrFocus=\"true\"\n      :editable=\"'edit'\"\n    />\n    <parent-association\n      v-if=\"associationVisible\"\n      id=\"11\"\n      elName=\"canvas-parent-association\"\n      :useThumbnail=\"true\"\n      :useRightMenu=\"true\"\n      :useAttrFocus=\"true\"\n      :editable=\"'edit'\"\n      v-model:dialogVisible=\"associationVisible\"\n    ></parent-association>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {ref, onMounted, computed} from 'vue'\nimport BaseErg from './Base.vue'\nimport {rightMenu, initRightMenu} from './assets/js/right-menu'\nimport ParentAssociation from './components/parent-association.vue'\nimport {ContextmenuEvent} from '@ej/erg-renderer/src'\n\nconst props = withDefaults(\n  defineProps<{\n    useThumbnail: boolean\n    useRightMenu: boolean\n    useAttrFocus: boolean\n    editable: string\n  }>(),\n  {\n    useThumbnail: true,\n    useRightMenu: true,\n    useAttrFocus: true,\n    editable: 'edit',\n  },\n)\n\nconst erg = ref()\nconst associationVisible = ref(false)\n\nconst graph = computed(() => erg.value.graph)\n//\nconst useRightMenu = () => {\n  console.log(graph.value, 'erg')\n  graph.value.updateConfig({\n    useRightMenu: true,\n  })\n\n  graph.value.on(ContextmenuEvent.Show, (info) => {\n    console.log(initRightMenu)\n    graph.value.updateConfig({\n      rightMenu: info.target ? rightMenu : initRightMenu,\n    })\n  })\n  graph.value.on(ContextmenuEvent.Click, (info) => {\n    console.log(info.target)\n    switch (info.value) {\n      case 'level-1':\n        associationVisible.value = true\n        break\n      case 'level-2':\n        associationVisible.value = true\n        break\n      case 'level-all':\n        associationVisible.value = true\n        break\n\n      default:\n        break\n    }\n  })\n}\n\nonMounted(useRightMenu)\n</script>\n\n<style lang=\"postcss\">\n.erg-right-menu {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n</style>\n","<template>\n  <div class=\"erg-extra-drawing\">\n    <base-erg\n      ref=\"erg\"\n      elName=\"canvas-extra-drawing\"\n      :useThumbnail=\"true\"\n      :useRightMenu=\"true\"\n      :useAttrFocus=\"true\"\n      :editable=\"'edit'\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {ref, onMounted, computed} from 'vue'\nimport BaseErg from './Base.vue'\nimport {GraphEvent} from '@ej/erg-renderer/src'\n\nconst erg = ref()\n\nconst graph = computed(() => erg.value.graph)\nconst useExtraDrawing = () => {\n  graph.value.on(GraphEvent.BeforeUpdate, (ctx) => {\n    graph.value.dataHandler.originData.nodeDataArray.map(({id}, idx) => {\n      if (idx % 2) return\n\n      const node = graph.value.dataHandler.originDataMap.get(id)\n      const y = node.y + 24,\n        height = node.height - 24\n      if (!node) return\n      ctx.save()\n      // 设置字体\n      ctx.font = '16px'\n      // 设置颜色\n      ctx.fillStyle = '#F59A23'\n      ctx.strokeStyle = '#F59A23'\n      // 设置水平对齐方式\n      ctx.textAlign = 'right'\n      // 设置垂直对齐方式\n      ctx.textBaseline = 'top'\n      ctx.fillText('正在编辑', node.x + node.width, y - 22)\n      ctx.lineWidth = 2\n      ctx.strokeRect(node.x, y, node.width, height)\n      ctx.restore()\n    })\n  })\n}\n\nonMounted(useExtraDrawing)\n</script>\n\n<style lang=\"postcss\">\n.erg-extra-drawing {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n</style>\n","<template>\n  <div class=\"erg-export-data\">\n    <base-erg\n      ref=\"erg\"\n      elName=\"canvas-export-data\"\n      :useThumbnail=\"true\"\n      :useRightMenu=\"true\"\n      :useAttrFocus=\"true\"\n      :editable=\"'edit'\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {ref, onMounted, computed} from 'vue'\nimport BaseErg from './Base.vue'\nimport {ContextmenuEvent} from '@ej/erg-renderer/src'\n\nconst rightMenu = [\n  [\n    {\n      icon: '',\n      value: 'export',\n      label: '导出数据',\n    },\n  ],\n]\n\nconst props = withDefaults(\n  defineProps<{\n    useThumbnail: boolean\n    useRightMenu: boolean\n    useAttrFocus: boolean\n    editable: string\n  }>(),\n  {\n    useThumbnail: true,\n    useRightMenu: true,\n    useAttrFocus: true,\n    editable: 'edit',\n  },\n)\n\nconst erg = ref()\nconst associationVisible = ref(false)\n\nconst graph = computed(() => erg.value.graph)\nconst useRightMenu = () => {\n  graph.value.updateConfig({\n    useRightMenu: true,\n    rightMenu,\n  })\n\n  graph.value.on(ContextmenuEvent.Click, (info) => {\n    switch (info.value) {\n      case 'export':\n        graph.value.canvas.exportJsonFile(graph.value.dataHandler.originData)\n        break\n\n      default:\n        break\n    }\n  })\n}\n\nonMounted(useRightMenu)\n</script>\n\n<style lang=\"postcss\">\n.erg-export-data {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n</style>\n"],"names":["getClientXY","event","clientX","clientY","identity","value","objectCreate","baseCreate","object","proto","isObject","result","baseCreate$1","apply","func","thisArg","args","copyArray","source","array","index","length","HOT_COUNT","HOT_SPAN","nativeNow","shortOut","count","lastCalled","stamp","remaining","constant","defineProperty","getNative","defineProperty$1","baseSetToString","string","baseSetToString$1","setToString","setToString$1","arrayEach","iteratee","baseAssignValue","key","objectProto","hasOwnProperty","assignValue","objValue","eq","copyObject","props","customizer","isNew","newValue","nativeMax","overRest","start","transform","otherArgs","nativeKeysIn","baseKeysIn","isProto","isPrototype","keysIn","isArrayLike","arrayLikeKeys","spreadableSymbol","Symbol","isFlattenable","isArray","isArguments","baseFlatten","depth","predicate","isStrict","arrayPush","flatten","flatRest","getPrototype","overArg","getPrototype$1","baseAssign","keys","baseAssignIn","freeExports","freeModule","moduleExports","Buffer","root","allocUnsafe","cloneBuffer","buffer","isDeep","copySymbols","getSymbols","nativeGetSymbols","getSymbolsIn","stubArray","getSymbolsIn$1","copySymbolsIn","getAllKeysIn","baseGetAllKeys","initCloneArray","cloneArrayBuffer","arrayBuffer","Uint8Array","cloneDataView","dataView","reFlags","cloneRegExp","regexp","symbolProto","symbolValueOf","cloneSymbol","symbol","cloneTypedArray","typedArray","boolTag","dateTag","mapTag","numberTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","initCloneByTag","tag","Ctor","initCloneObject","baseIsMap","isObjectLike","getTag","nodeIsMap","nodeUtil","isMap","baseUnary","isMap$1","baseIsSet","nodeIsSet","isSet","isSet$1","CLONE_DEEP_FLAG","CLONE_FLAT_FLAG","CLONE_SYMBOLS_FLAG","argsTag","arrayTag","errorTag","funcTag","genTag","objectTag","weakMapTag","cloneableTags","baseClone","bitmask","stack","isFlat","isFull","isArr","isFunc","isBuffer","Stack","stacked","subValue","keysFunc","getAllKeys","cloneDeep","baseHasIn","hasPath","path","hasFunc","castPath","toKey","isLength","isIndex","hasIn","isString","baseGetTag","isBoolean","baseSet","lastIndex","nested","basePickBy","paths","baseGet","basePick","pick","pick$1","scrollBarWidth","getScrollBarWidth","namespace","_a","isClient","outer","widthNoScroll","inner","widthWithScroll","scrollIntoView","container","selected","offsetParents","pointer","top","prev","curr","bottom","viewRectTop","viewRectBottom","composeRefs","refs","el","ref","isFunction","getComponentSize","size","componentSizeMap","PatchFlags","PatchFlags2","DEFAULT_EXCLUDE_KEYS","LISTENER_PREFIX","useAttrs","params","excludeListeners","excludeKeys","allExcludeKeys","computed","instance","getCurrentInstance","fromPairs","useDraggable","targetRef","dragRef","draggable","onMousedown","e","downX","downY","offsetX","offsetY","targetRect","targetLeft","targetTop","targetWidth","targetHeight","clientWidth","clientHeight","minLeft","minTop","maxLeft","maxTop","onMousemove","e2","moveX","moveY","addUnit","onMouseup","onDraggable","offDraggable","onMounted","watchEffect","onBeforeUnmount","useFocus","_b","useLockscreen","trigger","options","isRef","throwError","ns","useNamespace","hiddenCls","hasClass","withoutHiddenClass","bodyWidth","cleanup","removeClass","watch","val","bodyHasOverflow","bodyOverflowY","getStyle","addClass","onScopeDispose","useSameTarget","handleClick","NOOP","mousedownTarget","mouseupTarget","useCursor","input","selectionRef","recordCursor","selectionStart","selectionEnd","beforeTxt","afterTxt","setCursor","startPos","beforeLastChar","newIndex","configProviderProps","buildProps","definePropType","useSizeProp","messageConfig","defineComponent","slots","config","provideGlobalConfig","renderSlot","hiddenTextarea","HIDDEN_STYLE","isFirefox","CONTEXT_STYLE","calculateNodeStyling","targetElement","style","boxSizing","paddingSize","borderSize","name","calcTextareaHeight","minRows","maxRows","contextStyle","height","singleRowHeight","isNumber","minHeight","maxHeight","inputProps","iconPropType","mutable","inputEmits","UPDATE_MODEL_EVENT","evt","_hoisted_1","_hoisted_2","_hoisted_3","__default__","_sfc_main","__props","expose","emit","rawAttrs","useSlots","containerAttrs","comboBoxAttrs","containerKls","nsTextarea","nsInput","inputSize","inputDisabled","inputExceed","showClear","showPwdVisible","wrapperKls","focused","attrs","useAttrs$1","form","formItem","useFormItem","inputId","useFormItemInputId","useFormSize","useFormDisabled","shallowRef","textarea","hovering","isComposing","passwordVisible","countStyle","textareaCalcStyle","_ref","needStatusIcon","validateState","validateIcon","ValidateComponentsMap","passwordIcon","View","Hide","containerStyle","textareaStyle","nativeInputValue","isNil","isWordLimitVisible","textLength","suffixVisible","useResizeObserver","entries","onceInitSizeTextarea","entry","width","resizeTextarea","type","autosize","textareaStyle2","nextTick","resizeTextarea2","isInit","setNativeInputValue","input2","handleInput","handleChange","handleCompositionStart","handleCompositionUpdate","text","lastCharacter","isKorean","handleCompositionEnd","handlePasswordVisible","focus","blur","handleFocus","handleBlur","err","debugWarn","handleMouseLeave","handleMouseEnter","handleKeydown","select","clear","toRef","_ctx","_cache","withDirectives","openBlock","createElementBlock","mergeProps","unref","createCommentVNode","Fragment","normalizeClass","createElementVNode","createBlock","ElIcon","withCtx","resolveDynamicComponent","withModifiers","createVNode","CircleClose","toDisplayString","normalizeStyle","vShow","Input","_export_sfc","ElInput","withInstall","scrollbarContextKey","thumbProps","COMPONENT_NAME","scrollbar","inject","thumb","thumbState","visible","cursorDown","cursorLeave","originalOnSelectStart","bar","BAR_MAP","thumbStyle","renderThumbStyle","offsetRatio","clickThumbHandler","startDrag","clickTrackHandler","offset","thumbHalf","thumbPositionPercentage","mouseMoveDocumentHandler","mouseUpDocumentHandler","prevPage","thumbClickPosition","restoreOnselectstart","mouseMoveScrollbarHandler","mouseLeaveScrollbarHandler","useEventListener","Transition","Thumb","barProps","wrap","offsetHeight","GAP","offsetWidth","Bar","scrollbarProps","scrollbarEmits","scrollTop","scrollLeft","stopResizeObserver","stopResizeListener","scrollbarRef","wrapRef","resizeRef","sizeWidth","sizeHeight","barRef","ratioY","ratioX","style2","wrapKls","resizeKls","handleScroll","scrollTo","arg1","arg2","setScrollTop","setScrollLeft","update","originalHeight","originalWidth","noresize","provide","reactive","onUpdated","Scrollbar","ElScrollbar","badgeProps","content","Badge","ElBadge","alphaSliderProps","isDragging","element","moveFn","upFn","downFn","useAlphaSlider","handleDrag","rect","left","useAlphaSliderDOM","thumbLeft","thumbTop","background","getThumbLeft","alpha","getThumbTop","getBackground","r","g","b","dragConfig","rootKls","barKls","thumbKls","barStyle","AlphaSlider","hueValue","hue","_sfc_render","$props","$setup","$data","$options","HueSlider","colorPickerProps","colorPickerEmits","CHANGE_EVENT","colorPickerContextKey","hsv2hsl","sat","isOnePointZero","n","isPercentage","bound01","max","processPercent","INT_HEX_MAP","hexOne","high","low","toHex","HEX_INT_MAP","parseHexChannel","hex","hsl2hsv","light","smin","lmin","v","sv","rgb2hsv","min","h","d","s","hsv2rgb","i","f","p","q","t","mod","Color","option","hasOwn","prop","fromHSV","parts","color","_hue","_saturation","_value","_alpha","format","hsl","currentColor","rgbaColors","parseColors","item","handleSelect","colors","c","renderList","$event","Predefine","cursorTop","cursorLeft","colorValue","saturation","SvPanel","useLocale","colorSize","colorDisabled","buttonId","isLabeledByFormItem","popper","shouldActiveChange","showPicker","showPanelColor","customInput","displayedColor","displayedRgb","buttonAriaLabel","buttonAriaLabelledby","btnKls","color2","showAlpha","setShowPicker","debounceSetShowPicker","debounce","show","hide","resetColor","handleTrigger","handleConfirm","confirmValue","newColor","newVal","_c","ElTooltip","withKeys","ElButton","createTextVNode","ClickOutside","ArrowDown","Close","ColorPicker","ElColorPicker","overlayProps","overlayEmits","BLOCK","Overlay","onMaskClick","onClick","ElOverlay","dialogInjectionKey","dialogContentProps","dialogContentEmits","CloseComponents","dialogRef","headerRef","bodyId","focusTrapRef","FOCUS_TRAP_INJECTION_KEY","composedDialogRef","ElDialogContent","dialogProps","dialogEmits","useDialog","nextZIndex","useZIndex","lastPosition","titleId","useId","closed","rendered","zIndex","openTimer","closeTimer","useGlobalConfig","defaultNamespace","varPrefix","overlayDialogStyle","afterEnter","afterLeave","beforeLeave","open","useTimeoutFn","doOpen","close","doClose","handleClose","shouldCancel","onModalClick","onOpenAutoFocus","onCloseAutoFocus","onFocusoutPrevented","onCloseRequested","useDeprecated","dialogContentRef","overlayEvent","Teleport","ElFocusTrap","createSlots","Dialog","ElDialog","dividerProps","dividerStyle","Divider","ElDivider","selectGroupKey","selectKey","useOption","states","selectGroup","itemSelected","contains","isEqual","limitReached","modelValue","currentLabel","currentValue","isDisabled","arr","target","valueKey","toRaw","get","a","hoverItem","oldVal","remote","queryChange","changes","query","escapeStringRegexp","hover","toRefs","vm","doesSelected","selectOptionClick","Option","popperClass","isMultiple","isFitInputWidth","minWidth","updateMinWidth","ElSelectMenu","useSelectStates","useSelect","ctx","reference","iOSInput","tooltipRef","tags","selectWrapper","hoverOption","groupQueryChange","optionList","originClientHeight","readonly","selectDisabled","showClose","hasValue","iconComponent","iconReverse","debounce$1","emptyText","optionsArray","list","newList","cachedOptionsArray","showNewOption","hasExistingOption","selectSize","collapseTagSize","dropMenuVisible","resetInputHeight","handleQueryChange","setSelected","_d","_e","triggerRef","resetHoverIndex","inputs","checkDefaultFirstOption","_tags","gotSize","sizeInMap","managePlaceholder","optionsInDropdown","userCreatedOption","firstOriginOption","getValueIndex","getOption","isObjectValue","toRawType","isNull","isUndefined","cachedOption","label","newOption","getValueKey","handleResize","resetInputWidth","onInputChange","debouncedOnInputChange","debouncedQueryChange","emitChange","deletePrevTag","EVENT_CODE","toggleLastOptionHitState","deleteTag","deleteSelected","handleOptionSelect","byClick","optionIndex","setSoftFocus","scrollToOption","_input","targetOption","menu","onOptionCreate","onOptionDestroy","resetInputState","hit","handleComposition","handleMenuEnter","handleClearClick","handleKeydownEscape","toggleMenu","selectOption","optionsAllDisabled","showTagList","collapseTagList","navigateOptions","direction","ElOptions","_","cachedOptions","isSameOptions","children","filteredOptions","filterOptions","children2","_a2","_b2","ElTag","isValidComponentSize","useTooltipContentProps","tagProps","placements","nsSelect","inputWidth","inputLength","filteredOptionsCount","softFocus","selectedLabel","hoverIndex","inputHovering","currentPlaceholder","menuVisibleOnFocus","isOnComposition","isSilentBlur","optionsCount","prefixWidth","tagInMultiLine","classList","_selectSize","selectTagsStyle","tagTextStyle","refEl","prefix","popperPaneRef","isIOS","_component_el_tag","resolveComponent","_component_el_tooltip","_component_el_icon","_component_el_input","_component_el_option","_component_el_options","_component_el_scrollbar","_component_el_select_menu","_directive_click_outside","resolveDirective","vModelText","Select","flattedChildren","node","child","OptionGroup","ElSelect","ElOption","withNoopInstall","messageTypes","messageDefaults","messageProps","messageEmits","instances","shallowReactive","getInstance","id","idx","current","getLastOffset","getOffsetOrSpace","TypeComponents","useGlobalComponentSettings","currentZIndex","messageRef","stopTimer","badgeType","typeClass","TypeComponentsMap","lastOffset","customStyle","startTimer","clearTimer","keydown","code","MessageConstructor","seed","normalizeOptions","isVNode","normalized","appendTo","isElement","closeMessage","handler","createMessage","context","userOnClose","render","vnode","message","instance2","appContext","closeAll","ElMessage","withInstallFunction","S4","uuid","uuname","force","LockIcon","FabricObject","x","y","w","fillStyle","strokeStyle","ex","ey","lines","isContains","targetPointInfo","hexToRgb","isLightColor","rgbArr","NodeErwin","enName","cnName","attributes","bgC","bdC","quotePrimaryKey","physicalTables","manualChange","ifLogic","ifOnlyLogic","ifOnlyPhy","attrHeight","titleHeight","padding","linesForNode","relativeH","attrIndex","attrId","startY","ifSubEntity","roundedDeg","datatype","datatypeUpper","img","DataTypeDate","imageMap","DataTypeNumber","DataTypeString","DataTypeBoolean","DataTypeBinary","fontSize","fillText","fillX","fillY","attributesPrimary","attributesPrimaryNon","curX","curY","attrItem","addText","attrName","finalText","textWidth","isExpand","icons","startX","icon","iconX","lineY","expand","attributeId","attributesOrder","NodeRect","borderWidth","TextBase","textColor","textMetrics","isPointOnLineSegments","point","segments","tolerance","xTolerance","yTolerance","p1","p2","getAdjacentSides","square1","square2","LineErwin","pos","from","to","lineWidth","numLineType","remark","ifPure","isOnline","pointItem","pointIdx","posLen","dis","arcX","arcY","middleIndex","vertical","angleInRadians","xPoints","yPoints","it","mathRange","MAIN_NAME","log","warn","error","DataHandler","data","_f","nodeDataArray","linkDataArray","markDataArray","noteDataArray","originDataMap","elements","GraphEvent","materials","NodeEvent","info","NodeAttrEvent","ev","sourceNodeId","sourceAttrIds","targetNodeId","beforeAttrId","afterAttrId","ifPk","sourceNode","targetNode","removeData","sourceAttrId","sourceAttrIndex","removeAttr","afterAttrIndex","entityId","attr","nodeRelatedLineMap","lineMap","LineEvent","line","lineInfo","MarkEvent","mark","NoteEvent","note","nodeMap","handleChangeNodeName","beforeChangeResults","handleChangeAttrName","originData","EditorEvent","FrameResize","targetBgColor","targetBdColor","halfTargetWidth","fixX","fixY","FrameHover","TOLERANCE","COLOR","useGuides","renderElements","findAdjacentElements","adjacentElements","adjacentSides","j","side","endX","endY","ifAnchor","canvasEv","middleX","middleY","fullX","fullY","targetDirection","TargetDirection","getTargetAttributeInfo","ifHoverNode","ifLegalAttr","ifVirtualAttr","targetAttrs","beforeAttrIdx","getTargetEvent","hoverTarget","useMouseMove","moveMarkRect","offsetOfMove","newLoc","moveMarkText","resizeNode","moveNode","focusTarget","focusItem","nodeNewLoc","moveAttr","focusAttrs","changeMouseCursor","moveLine","moveCanvas","graphTranslate","status","cursorState","GraphActionStatus","Cursor","cursor","isTarget","OldTargetEvent","NewTargetEvent","isAttrMove","isNodeResize","isNodeMove","isLineMove","isMarkMove","isNoteMove","_clickTimer","useMouseDown","evX","evY","clearFocusTarget","keepFocus","execTask","defaultWidth","defaultHeight","focusNodes","distance","fixNodes","newNode","beforeCreateResults","newMark","newNote","execEntityRename","canvas","nameKey","execAttrRename","focusAttrId","attrInfo","execAttrFocus","ifMultiSelect","ifFocusTarget","ifAttr","ifAttrFocus","execMaterialsFocus","TargetEvent","ifContext","orderRun","useMouseUp","ifNotMove","ifMouseDown","ifFocusAttr","ifMultiSelection","beforeDropResults","generateTree","nodeParents","rootId","rootNode","queue","currentNode","itId","itParents","ifWaiting","ifChildren","HORIZONTAL_SPACE","VERTICAL_SPACE","FONT_SIZE","FONT_FAMILY","LINE_HEIGHT","PADDING","DEFAULT_WIDTH","DEFAULT_HEIGHT","DEFAULT_TITLE_HEIGHT","DEFAULT_SUB_WIDTH","DEFAULT_SUB_HEIGHT","ANIMATION_DURATION","getTextWidth","fontFamily","getAutoSizeValue","placeholderNumber","hierarchicalLayout","updateFunc","layers","createLayers","layoutNodes","maxX","maxY","layoutMarks","layoutNotes","resolve","reject","animate","TWEEN","nodes","parents","existToNode","allDone","minParentsId","toId","fromIds","ifEmpty","ifLess","ifMin","groupData","autoSize","group","recursionGroup","autoSizeValue","rows","curRowMaxHeight","nextBeginY","row","Erg","EventCenter","Plugins","Editable","preloadLineageImages","editable","rightMenu","useRightMenu","useThumbnail","useHistory","useEditor","Canvas","BackgroundType","PluginsEnum","editor","zoom","ThumbnailEvent","isMove","ContextmenuEvent","CanvasEvent","keyCode","ifDelete","Node","relatedLines","deleteResults","eventName","action","targetEvent","resetMouseState","drop","setEventTarget","moveElement","isJustMove","isMoveCanvas","isMoveElement","copyFocusTarget","originObject","originValue","deltaY","deltaX","ctrlKey","zoomRate","fineness","calcRatio","translate","ifSubCategory","ifFromEntityOnlyPhy","ifToEntityOnlyPhy","ifSubCategoryLine","ifFromEntityOnlyLogic","ifToEntityOnlyLogic","noteMap","markMap","ids","nodeIds","targetNodes","timer","newData","cacheCtx","thumbnail","viewW","viewH","minX","minY","ifIllegalInfo","ifTargetNode","hotAttrInfo","isFocusTarget","translatePos","scaling","fromNode","toNode","fromNodeBord","toNodeBord","rate","fixRate","nodeInfo","pointInfo","minSize","ifEntity","ifTopEdge","_this","copyEventObjTarget","newWidth","newHeight","moveKeyPoint","lineSet","diffFlag","updateKeyPoint","linkInfo","posMaxIdx","moveTargetIsFrom","idx1X","idx1and2Y","idx0X","dis0to1","dis1to2","mouseLoc","eventPos","total","judgeLineShapeIsZ","judgeLineShapeIsN","judgeWidth","len","judgeHeight","lineType","defaultData","chooseTargets","chooseTargets0Loc","chooseTargets1Loc","newLine","newLineInfo","loc","filteredData","filteredBeforeCreateResults","lineList","resultLines","Icons","graph","state","ErgViewType","mountGraph","Graph","changeCanvasScale","scaleRatio","updateGraphStatus","setEditable","changeColor","updateLayout","unmountGraph","initRightMenu","dialogVisibles","erg","associationVisible"],"mappings":"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EAAkBnW,EAAkC,CACtD,aAAA,GAAGmW,EAAWnW,CAAO,EACpB,IACT,CACF,CC/+FO,MAAMob,GAAc,CACzB,cAAe,CACb,CACE,GAAI,WACJ,EAAG,IACH,EAAG,IACH,MAAO,IACP,OAAQ,IACR,IAAK,UACL,IAAK,UACL,OAAQ,KACR,gBAAiB,GACjB,WAAY,CACV,CACE,OAAQ,OACR,GAAI,IACJ,KAAM,GACN,KAAM,GACN,KAAM,OACN,MAAO,CACL,CACE,KAAM,IACN,IAAK,UACL,MAAO,SACT,CACF,CACF,EACA,CACE,OAAQ,OACR,GAAI,IACJ,KAAM,UACN,MAAO,CACL,CACE,KAAM,IACN,IAAK,UACL,MAAO,SACT,CACF,CACF,EACA,CACE,OAAQ,OACR,GAAI,IACJ,KAAM,gBACN,MAAO,CACL,CACE,KAAM,IACN,IAAK,UACL,MAAO,SACT,CACF,CACF,EACA,CACE,OAAQ,KACR,GAAI,IACJ,KAAM,QACR,EACA,CACE,OAAQ,KACR,GAAI,IACJ,KAAM,MACR,CACF,CACF,EACA,CACE,GAAI,UACJ,EAAG,IACH,EAAG,GACH,MAAO,IACP,OAAQ,IACR,IAAK,UACL,IAAK,UACL,OAAQ,KACR,eAAgB,GAChB,WAAY,CACV,CACE,OAAQ,MACR,GAAI,IACJ,KAAM,GACN,KAAM,cACN,MAAO,CACL,CACE,KAAM,IACN,IAAK,UACL,MAAO,SACT,CACF,CACF,EACA,CACE,OAAQ,OACR,GAAI,IACJ,KAAM,gBACN,MAAO,CACL,CACE,KAAM,IACN,IAAK,UACL,MAAO,SACT,CACF,CACF,EACA,CACE,OAAQ,OACR,GAAI,IACJ,KAAM,aACR,CACF,CACF,EACA,CACE,GAAI,cACJ,EAAG,IACH,EAAG,IACH,MAAO,IACP,OAAQ,IACR,IAAK,UACL,OAAQ,KACR,WAAY,CACV,CACE,OAAQ,OACR,GAAI,IACJ,KAAM,GACN,KAAM,cACN,MAAO,CACL,CACE,KAAM,IACN,IAAK,UACL,MAAO,SACT,CACF,CACF,EACA,CACE,OAAQ,OACR,GAAI,KACJ,KAAM,YACN,MAAO,CACL,CACE,KAAM,IACN,IAAK,UACL,MAAO,SACT,CACF,CACF,EACA,CACE,OAAQ,OACR,GAAI,KACJ,KAAM,gBACN,MAAO,CACL,CACE,KAAM,IACN,IAAK,UACL,MAAO,SACT,CACF,CACF,EACA,CACE,OAAQ,OACR,GAAI,KACJ,KAAM,aACR,CACF,CACF,EACA,CACE,GAAI,OACJ,EAAG,IACH,EAAG,IACH,MAAO,IACP,OAAQ,IACR,IAAK,UACL,IAAK,UACL,OAAQ,KACR,WAAY,CACV,CACE,OAAQ,OACR,GAAI,KACJ,KAAM,aACR,EACA,CACE,OAAQ,KACR,GAAI,KACJ,KAAM,cACR,EACA,CACE,OAAQ,OACR,GAAI,KACJ,KAAM,cACN,MAAO,CACL,CACE,KAAM,IACN,IAAK,UACL,MAAO,SACT,CACF,CACF,CACF,CACF,CACF,EACA,cAAe,CACb,CACE,GAAI,KACJ,KAAM,WACN,GAAI,UACJ,KAAM,KACN,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,CACF,EACA,CACE,GAAI,KACJ,KAAM,UACN,GAAI,cACJ,KAAM,KACN,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,CACF,EACA,CACE,GAAI,KACJ,KAAM,cACN,GAAI,UACJ,KAAM,KACN,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,CACF,EACA,CACE,GAAI,KACJ,KAAM,OACN,GAAI,UACJ,KAAM,MACN,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,CACF,CACF,EAEA,cAAe,CAAC,EAChB,cAAe,CAAC,CAClB,EC/tBeW,GAAA,GAAA,IAAA,IAAA,2BAAA,YAAA,GAAA,EAAA,ifCuOTC,EAAQ5pC,IAER6pC,EAAQ72B,GAAS,CACrB,MAAO,IACP,IAAK,GACL,IAAK,GACL,MAAO,GACP,SAAUyvB,GAAS,KACnB,SAAUqH,GAAY,MAAA,CACvB,EAEKC,EAAa,IAAM,CACvB,MAAM5J,EACJ,sSACIyJ,EAAA,MAAQ,IAAII,GAAM,CACtB,GAAI,SAAS,eAAe30C,EAAM,MAAM,EACxC,WAAA8qC,EACA,SAAU0J,EAAM,KAChB,aAAcx0C,EAAM,aACpB,aAAcA,EAAM,aACpB,aAAc,EAAA,CACf,EAGKu0C,EAAA,MAAM,OAAOjU,EAAI,EACvBiU,EAAM,MAAM,GAAGvT,EAAU,SAAWC,GAAS,CAC3C,MAAMzvB,EAAOyvB,EAAK,OACRhI,GAAA,QAAQ,GAAGznB,aAAgB,CAAA,CACtC,EAED+iC,EAAM,MAAM,GAAGrT,GAAc,SAAWD,GAAS,CAC/C,QAAQ,IAAIA,CAAI,EAChBhI,GAAU,QAAQ,gBAAgB,CAAA,CACnC,CAAA,EA8DG2b,EAAqBC,GAAe,CACpCL,EAAM,MAAQ,KAAIA,EAAM,OAASK,GAC/BN,EAAA,MAAM,KAAKC,EAAM,KAAK,CAAA,EAExBM,EAAqB1O,GAAWmO,EAAM,MAAM,aAAa,CAAC,OAAAnO,EAAO,EACjE2O,EAAezH,GAAa,CAChCkH,EAAM,SAAWlH,EACjBiH,EAAM,MAAM,aAAa,CAAC,SAAAjH,CAAS,CAAA,CAAA,EAE/B0H,EAAc,CAAC53C,EAAO+Y,IAASo+B,EAAM,MAAM,SAASn3C,EAAO+Y,CAAI,EAC/D8+B,EAAe,IAAMV,EAAM,MAAM,aAAa,EAE9CW,EAAe,IAAMX,EAAM,MAAM,QAAQ,EAE/C,OAAA7mC,GAAUgnC,CAAU,EACpB9mC,GAAgBsnC,CAAY,EAEfpiC,EAAA,CACX,MAAAyhC,CAAA,CACD,kyHClRM,MAAMhH,GAAY,CACvB,CACE,CACE,KAAM,GACN,MAAO,OACP,MAAO,IACT,EACA,CACE,KAAM,GACN,MAAO,cACP,MAAO,MACT,EACA,CACE,KAAM,GACN,MAAO,QACP,MAAO,IACT,CACF,EACA,CACE,CACE,KAAM,GACN,MAAO,OACP,MAAO,IACT,CACF,EACA,CACE,CACE,KAAM,GACN,MAAO,SACP,MAAO,SACP,SAAU,CACR,CACE,KAAM,GACN,MAAO,UACP,MAAO,MACT,EACA,CACE,KAAM,GACN,MAAO,UACP,MAAO,MACT,EACA,CACE,KAAM,GACN,MAAO,YACP,MAAO,MACT,CACF,CACF,CACF,EACA,CACE,CACE,KAAM,GACN,MAAO,YACP,MAAO,OACT,EACA,CACE,KAAM,GACN,MAAO,cACP,MAAO,MACT,CACF,EACA,CACE,CACE,KAAM,GACN,MAAO,QACP,MAAO,OACP,SAAU,CACR,CACE,KAAM,GACN,MAAO,QACP,MAAO,IACT,EACA,CACE,KAAM,GACN,MAAO,OACP,MAAO,IACT,EACA,CACE,KAAM,GACN,MAAO,SACP,MAAO,IACT,EACA,CACE,KAAM,GACN,MAAO,SACP,MAAO,IACT,CACF,CACF,CACF,EACA,CACE,KAAM,GACN,MAAO,SACP,MAAO,IACT,CACF,EAEa4H,GAAgB,CAC3B,CACE,CACE,KAAM,GACN,MAAO,QACP,MAAO,IACT,CACF,EACA,CACE,CACE,KAAM,GACN,MAAO,OACP,MAAO,IACT,CACF,EACA,CACE,CACE,KAAM,GACN,MAAO,cACP,MAAO,MACT,CACF,EACA,CACE,CACE,KAAM,GACN,MAAO,QACP,MAAO,OACP,SAAU,CACR,CACE,KAAM,GACN,MAAO,QACP,MAAO,IACT,EACA,CACE,KAAM,GACN,MAAO,OACP,MAAO,IACT,EACA,CACE,KAAM,GACN,MAAO,SACP,MAAO,IACT,EACA,CACE,KAAM,GACN,MAAO,SACP,MAAO,IACT,CACF,CACF,CACF,CACF,ybC7JMC,EAAiB3pC,EAAUmnB,GAAM5yB,EAAM,aAAa,EACpDypB,EAAc,IAAM1W,EAAK,uBAAwB,EAAK,EAExD,IAAAwhC,EAEJ,MAAMG,EAAa,IAAM,CACvBH,EAAQ,IAAII,GAAM,CAChB,GAAI,SAAS,eAAe30C,EAAM,MAAM,EACxC,aAAc,EAAA,CACf,CAAA,EAEGk1C,EAAe,IAAMX,EAAM,UAEvB,OAAA7mC,GAAA,IAAM4I,EAASo+B,CAAU,CAAC,EACpC9mC,GAAgBsnC,CAAY,uxCC/B5B,MAAMG,EAAM1qC,IACN2qC,EAAqB3qC,EAAI,EAAK,EAE9B4pC,EAAQ9oC,EAAS,IAAM4pC,EAAI,MAAM,KAAK,EAiC5C,OAAA3nC,GA/BqB,IAAM,CACjB,QAAA,IAAI6mC,EAAM,MAAO,KAAK,EAC9BA,EAAM,MAAM,aAAa,CACvB,aAAc,EAAA,CACf,EAEDA,EAAM,MAAM,GAAGpG,GAAiB,KAAOlN,GAAS,CAC9C,QAAQ,IAAIkU,EAAa,EACzBZ,EAAM,MAAM,aAAa,CACvB,UAAWtT,EAAK,OAASsM,GAAY4H,EAAA,CACtC,CAAA,CACF,EACDZ,EAAM,MAAM,GAAGpG,GAAiB,MAAQlN,GAAS,CAE/C,OADQ,QAAA,IAAIA,EAAK,MAAM,EACfA,EAAK,MAAO,CAClB,IAAK,UACHqU,EAAmB,MAAQ,GAC3B,MACF,IAAK,UACHA,EAAmB,MAAQ,GAC3B,MACF,IAAK,YACHA,EAAmB,MAAQ,GAC3B,KAIJ,CAAA,CACD,CAAA,CAGmB,y/BC/DtB,MAAMD,EAAM1qC,IAEN4pC,EAAQ9oC,EAAS,IAAM4pC,EAAI,MAAM,KAAK,EA4B5C,OAAA3nC,GA3BwB,IAAM,CAC5B6mC,EAAM,MAAM,GAAGzT,GAAW,aAAe1T,GAAQ,CACzCmnB,EAAA,MAAM,YAAY,WAAW,cAAc,IAAI,CAAC,CAAC,GAAA3d,CAAE,EAAGC,IAAQ,CAClE,GAAIA,EAAM,EAAG,OAEb,MAAMd,EAAOwe,EAAM,MAAM,YAAY,cAAc,IAAI3d,CAAE,EACnD8C,EAAI3D,EAAK,EAAI,GACjBlkB,EAASkkB,EAAK,OAAS,GACpBA,IACL3I,EAAI,KAAK,EAETA,EAAI,KAAO,OAEXA,EAAI,UAAY,UAChBA,EAAI,YAAc,UAElBA,EAAI,UAAY,QAEhBA,EAAI,aAAe,MACnBA,EAAI,SAAS,OAAQ2I,EAAK,EAAIA,EAAK,MAAO2D,EAAI,EAAE,EAChDtM,EAAI,UAAY,EAChBA,EAAI,WAAW2I,EAAK,EAAG2D,EAAG3D,EAAK,MAAOlkB,CAAM,EAC5Cub,EAAI,QAAQ,EAAA,CACb,CAAA,CACF,CAAA,CAGsB,8iBC9BzB,MAAMmgB,EAAY,CAChB,CACE,CACE,KAAM,GACN,MAAO,SACP,MAAO,MACT,CACF,CAAA,EAkBI8H,EAAM1qC,IACeA,EAAI,EAAK,EAEpC,MAAM4pC,EAAQ9oC,EAAS,IAAM4pC,EAAI,MAAM,KAAK,EAmB5C,OAAA3nC,GAlBqB,IAAM,CACzB6mC,EAAM,MAAM,aAAa,CACvB,aAAc,GACd,UAAAhH,CAAA,CACD,EAEDgH,EAAM,MAAM,GAAGpG,GAAiB,MAAQlN,GAAS,CAC/C,OAAQA,EAAK,MAAO,CAClB,IAAK,SACHsT,EAAM,MAAM,OAAO,eAAeA,EAAM,MAAM,YAAY,UAAU,EACpE,KAIJ,CAAA,CACD,CAAA,CAGmB;;;;","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116]}
{"version":3,"file":"Erg.stories-26362852.js","sources":["../../node_modules/element-plus/es/utils/dom/position.mjs","../../node_modules/lodash-es/identity.js","../../node_modules/lodash-es/_baseCreate.js","../../node_modules/lodash-es/_apply.js","../../node_modules/lodash-es/_copyArray.js","../../node_modules/lodash-es/_shortOut.js","../../node_modules/lodash-es/constant.js","../../node_modules/lodash-es/_defineProperty.js","../../node_modules/lodash-es/_baseSetToString.js","../../node_modules/lodash-es/_setToString.js","../../node_modules/lodash-es/_arrayEach.js","../../node_modules/lodash-es/_baseAssignValue.js","../../node_modules/lodash-es/_assignValue.js","../../node_modules/lodash-es/_copyObject.js","../../node_modules/lodash-es/_overRest.js","../../node_modules/lodash-es/_nativeKeysIn.js","../../node_modules/lodash-es/_baseKeysIn.js","../../node_modules/lodash-es/keysIn.js","../../node_modules/lodash-es/_isFlattenable.js","../../node_modules/lodash-es/_baseFlatten.js","../../node_modules/lodash-es/flatten.js","../../node_modules/lodash-es/_flatRest.js","../../node_modules/lodash-es/_getPrototype.js","../../node_modules/lodash-es/_baseAssign.js","../../node_modules/lodash-es/_baseAssignIn.js","../../node_modules/lodash-es/_cloneBuffer.js","../../node_modules/lodash-es/_copySymbols.js","../../node_modules/lodash-es/_getSymbolsIn.js","../../node_modules/lodash-es/_copySymbolsIn.js","../../node_modules/lodash-es/_getAllKeysIn.js","../../node_modules/lodash-es/_initCloneArray.js","../../node_modules/lodash-es/_cloneArrayBuffer.js","../../node_modules/lodash-es/_cloneDataView.js","../../node_modules/lodash-es/_cloneRegExp.js","../../node_modules/lodash-es/_cloneSymbol.js","../../node_modules/lodash-es/_cloneTypedArray.js","../../node_modules/lodash-es/_initCloneByTag.js","../../node_modules/lodash-es/_initCloneObject.js","../../node_modules/lodash-es/_baseIsMap.js","../../node_modules/lodash-es/isMap.js","../../node_modules/lodash-es/_baseIsSet.js","../../node_modules/lodash-es/isSet.js","../../node_modules/lodash-es/_baseClone.js","../../node_modules/lodash-es/cloneDeep.js","../../node_modules/lodash-es/_baseHasIn.js","../../node_modules/lodash-es/_hasPath.js","../../node_modules/lodash-es/hasIn.js","../../node_modules/lodash-es/_baseSet.js","../../node_modules/lodash-es/_basePickBy.js","../../node_modules/lodash-es/_basePick.js","../../node_modules/lodash-es/pick.js","../../node_modules/element-plus/es/hooks/use-attrs/index.mjs","../../node_modules/element-plus/es/hooks/use-cursor/index.mjs","../../node_modules/element-plus/es/components/input/src/utils.mjs","../../node_modules/element-plus/es/components/input/src/input.mjs","../../node_modules/element-plus/es/components/input/src/input2.mjs","../../node_modules/element-plus/es/components/input/index.mjs","../../node_modules/element-plus/es/components/color-picker/src/props/alpha-slider.mjs","../../node_modules/element-plus/es/components/color-picker/src/utils/draggable.mjs","../../node_modules/element-plus/es/components/color-picker/src/composables/use-alpha-slider.mjs","../../node_modules/element-plus/es/components/color-picker/src/components/alpha-slider.mjs","../../node_modules/element-plus/es/components/color-picker/src/components/hue-slider.mjs","../../node_modules/element-plus/es/components/color-picker/src/color-picker.mjs","../../node_modules/element-plus/es/components/color-picker/src/utils/color.mjs","../../node_modules/element-plus/es/components/color-picker/src/components/predefine.mjs","../../node_modules/element-plus/es/components/color-picker/src/components/sv-panel.mjs","../../node_modules/element-plus/es/components/color-picker/src/color-picker2.mjs","../../node_modules/element-plus/es/components/color-picker/index.mjs","../../node_modules/element-plus/es/components/divider/src/divider.mjs","../../node_modules/element-plus/es/components/divider/src/divider2.mjs","../../node_modules/element-plus/es/components/divider/index.mjs","../../src/core/materials/icon/lock.ts","../../src/core/utils/color.ts","../../src/core/utils/uuid.ts","../../src/core/materials/node/node-erwin.ts","../../src/core/materials/node/node-rect.ts","../../src/core/utils/fx.ts","../../src/core/materials/line/line-erwin.ts","../../src/core/utils/math.ts","../../src/erg/hooks/data-handler.ts","../../src/core/materials/text/text-base.ts","../../src/core/materials/frame/frame-resize.ts","../../src/core/materials/frame/frame-hover.ts","../../src/erg/shared/enum.ts","../../src/erg/hooks/event.ts","../../src/erg/index.ts","../../stories/erg/mock.ts","../../stories/erg/right-menu.ts","../../stories/erg/assets/icon/symbol-defs.svg","../../stories/erg/Erg.vue"],"sourcesContent":["import '../browser.mjs';\nimport { isClient } from '@vueuse/core';\n\nconst isInContainer = (el, container) => {\n  if (!isClient || !el || !container)\n    return false;\n  const elRect = el.getBoundingClientRect();\n  let containerRect;\n  if (container instanceof Element) {\n    containerRect = container.getBoundingClientRect();\n  } else {\n    containerRect = {\n      top: 0,\n      right: window.innerWidth,\n      bottom: window.innerHeight,\n      left: 0\n    };\n  }\n  return elRect.top < containerRect.bottom && elRect.bottom > containerRect.top && elRect.right > containerRect.left && elRect.left < containerRect.right;\n};\nconst getOffsetTop = (el) => {\n  let offset = 0;\n  let parent = el;\n  while (parent) {\n    offset += parent.offsetTop;\n    parent = parent.offsetParent;\n  }\n  return offset;\n};\nconst getOffsetTopDistance = (el, containerEl) => {\n  return Math.abs(getOffsetTop(el) - getOffsetTop(containerEl));\n};\nconst getClientXY = (event) => {\n  let clientX;\n  let clientY;\n  if (event.type === \"touchend\") {\n    clientY = event.changedTouches[0].clientY;\n    clientX = event.changedTouches[0].clientX;\n  } else if (event.type.startsWith(\"touch\")) {\n    clientY = event.touches[0].clientY;\n    clientX = event.touches[0].clientX;\n  } else {\n    clientY = event.clientY;\n    clientX = event.clientX;\n  }\n  return {\n    clientX,\n    clientY\n  };\n};\n\nexport { getClientXY, getOffsetTop, getOffsetTopDistance, isInContainer };\n//# sourceMappingURL=position.mjs.map\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","import baseFlatten from './_baseFlatten.js';\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nexport default flatten;\n","import flatten from './flatten.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nexport default flatRest;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","import copyObject from './_copyObject.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nexport default baseAssign;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nexport default baseAssignIn;\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","import copyObject from './_copyObject.js';\nimport getSymbols from './_getSymbols.js';\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nexport default copySymbols;\n","import arrayPush from './_arrayPush.js';\nimport getPrototype from './_getPrototype.js';\nimport getSymbols from './_getSymbols.js';\nimport stubArray from './stubArray.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nexport default getSymbolsIn;\n","import copyObject from './_copyObject.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nexport default copySymbolsIn;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nexport default getAllKeysIn;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nexport default initCloneArray;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nexport default cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nexport default cloneRegExp;\n","import Symbol from './_Symbol.js';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nexport default cloneSymbol;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\nimport cloneDataView from './_cloneDataView.js';\nimport cloneRegExp from './_cloneRegExp.js';\nimport cloneSymbol from './_cloneSymbol.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nexport default initCloneByTag;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nexport default baseIsMap;\n","import baseIsMap from './_baseIsMap.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nexport default isMap;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nexport default baseIsSet;\n","import baseIsSet from './_baseIsSet.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nexport default isSet;\n","import Stack from './_Stack.js';\nimport arrayEach from './_arrayEach.js';\nimport assignValue from './_assignValue.js';\nimport baseAssign from './_baseAssign.js';\nimport baseAssignIn from './_baseAssignIn.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport copyArray from './_copyArray.js';\nimport copySymbols from './_copySymbols.js';\nimport copySymbolsIn from './_copySymbolsIn.js';\nimport getAllKeys from './_getAllKeys.js';\nimport getAllKeysIn from './_getAllKeysIn.js';\nimport getTag from './_getTag.js';\nimport initCloneArray from './_initCloneArray.js';\nimport initCloneByTag from './_initCloneByTag.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isMap from './isMap.js';\nimport isObject from './isObject.js';\nimport isSet from './isSet.js';\nimport keys from './keys.js';\nimport keysIn from './keysIn.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nexport default baseClone;\n","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nexport default cloneDeep;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nexport default baseHasIn;\n","import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nexport default hasPath;\n","import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nexport default hasIn;\n","import assignValue from './_assignValue.js';\nimport castPath from './_castPath.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nexport default baseSet;\n","import baseGet from './_baseGet.js';\nimport baseSet from './_baseSet.js';\nimport castPath from './_castPath.js';\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nexport default basePickBy;\n","import basePickBy from './_basePickBy.js';\nimport hasIn from './hasIn.js';\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nexport default basePick;\n","import basePick from './_basePick.js';\nimport flatRest from './_flatRest.js';\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nexport default pick;\n","import { computed, getCurrentInstance } from 'vue';\nimport { fromPairs } from 'lodash-unified';\nimport '../../utils/index.mjs';\nimport { debugWarn } from '../../utils/error.mjs';\n\nconst DEFAULT_EXCLUDE_KEYS = [\"class\", \"style\"];\nconst LISTENER_PREFIX = /^on[A-Z]/;\nconst useAttrs = (params = {}) => {\n  const { excludeListeners = false, excludeKeys } = params;\n  const allExcludeKeys = computed(() => {\n    return ((excludeKeys == null ? void 0 : excludeKeys.value) || []).concat(DEFAULT_EXCLUDE_KEYS);\n  });\n  const instance = getCurrentInstance();\n  if (!instance) {\n    debugWarn(\"use-attrs\", \"getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function\");\n    return computed(() => ({}));\n  }\n  return computed(() => {\n    var _a;\n    return fromPairs(Object.entries((_a = instance.proxy) == null ? void 0 : _a.$attrs).filter(([key]) => !allExcludeKeys.value.includes(key) && !(excludeListeners && LISTENER_PREFIX.test(key))));\n  });\n};\n\nexport { useAttrs };\n//# sourceMappingURL=index.mjs.map\n","import { ref } from 'vue';\n\nfunction useCursor(input) {\n  const selectionRef = ref();\n  function recordCursor() {\n    if (input.value == void 0)\n      return;\n    const { selectionStart, selectionEnd, value } = input.value;\n    if (selectionStart == null || selectionEnd == null)\n      return;\n    const beforeTxt = value.slice(0, Math.max(0, selectionStart));\n    const afterTxt = value.slice(Math.max(0, selectionEnd));\n    selectionRef.value = {\n      selectionStart,\n      selectionEnd,\n      value,\n      beforeTxt,\n      afterTxt\n    };\n  }\n  function setCursor() {\n    if (input.value == void 0 || selectionRef.value == void 0)\n      return;\n    const { value } = input.value;\n    const { beforeTxt, afterTxt, selectionStart } = selectionRef.value;\n    if (beforeTxt == void 0 || afterTxt == void 0 || selectionStart == void 0)\n      return;\n    let startPos = value.length;\n    if (value.endsWith(afterTxt)) {\n      startPos = value.length - afterTxt.length;\n    } else if (value.startsWith(beforeTxt)) {\n      startPos = beforeTxt.length;\n    } else {\n      const beforeLastChar = beforeTxt[selectionStart - 1];\n      const newIndex = value.indexOf(beforeLastChar, selectionStart - 1);\n      if (newIndex !== -1) {\n        startPos = newIndex + 1;\n      }\n    }\n    input.value.setSelectionRange(startPos, startPos);\n  }\n  return [recordCursor, setCursor];\n}\n\nexport { useCursor };\n//# sourceMappingURL=index.mjs.map\n","import '../../../utils/index.mjs';\nimport { isFirefox } from '../../../utils/browser.mjs';\nimport { isNumber } from '../../../utils/types.mjs';\n\nlet hiddenTextarea = void 0;\nconst HIDDEN_STYLE = `\n  height:0 !important;\n  visibility:hidden !important;\n  ${isFirefox() ? \"\" : \"overflow:hidden !important;\"}\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n`;\nconst CONTEXT_STYLE = [\n  \"letter-spacing\",\n  \"line-height\",\n  \"padding-top\",\n  \"padding-bottom\",\n  \"font-family\",\n  \"font-weight\",\n  \"font-size\",\n  \"text-rendering\",\n  \"text-transform\",\n  \"width\",\n  \"text-indent\",\n  \"padding-left\",\n  \"padding-right\",\n  \"border-width\",\n  \"box-sizing\"\n];\nfunction calculateNodeStyling(targetElement) {\n  const style = window.getComputedStyle(targetElement);\n  const boxSizing = style.getPropertyValue(\"box-sizing\");\n  const paddingSize = Number.parseFloat(style.getPropertyValue(\"padding-bottom\")) + Number.parseFloat(style.getPropertyValue(\"padding-top\"));\n  const borderSize = Number.parseFloat(style.getPropertyValue(\"border-bottom-width\")) + Number.parseFloat(style.getPropertyValue(\"border-top-width\"));\n  const contextStyle = CONTEXT_STYLE.map((name) => `${name}:${style.getPropertyValue(name)}`).join(\";\");\n  return { contextStyle, paddingSize, borderSize, boxSizing };\n}\nfunction calcTextareaHeight(targetElement, minRows = 1, maxRows) {\n  var _a;\n  if (!hiddenTextarea) {\n    hiddenTextarea = document.createElement(\"textarea\");\n    document.body.appendChild(hiddenTextarea);\n  }\n  const { paddingSize, borderSize, boxSizing, contextStyle } = calculateNodeStyling(targetElement);\n  hiddenTextarea.setAttribute(\"style\", `${contextStyle};${HIDDEN_STYLE}`);\n  hiddenTextarea.value = targetElement.value || targetElement.placeholder || \"\";\n  let height = hiddenTextarea.scrollHeight;\n  const result = {};\n  if (boxSizing === \"border-box\") {\n    height = height + borderSize;\n  } else if (boxSizing === \"content-box\") {\n    height = height - paddingSize;\n  }\n  hiddenTextarea.value = \"\";\n  const singleRowHeight = hiddenTextarea.scrollHeight - paddingSize;\n  if (isNumber(minRows)) {\n    let minHeight = singleRowHeight * minRows;\n    if (boxSizing === \"border-box\") {\n      minHeight = minHeight + paddingSize + borderSize;\n    }\n    height = Math.max(minHeight, height);\n    result.minHeight = `${minHeight}px`;\n  }\n  if (isNumber(maxRows)) {\n    let maxHeight = singleRowHeight * maxRows;\n    if (boxSizing === \"border-box\") {\n      maxHeight = maxHeight + paddingSize + borderSize;\n    }\n    height = Math.min(maxHeight, height);\n  }\n  result.height = `${height}px`;\n  (_a = hiddenTextarea.parentNode) == null ? void 0 : _a.removeChild(hiddenTextarea);\n  hiddenTextarea = void 0;\n  return result;\n}\n\nexport { calcTextareaHeight };\n//# sourceMappingURL=utils.mjs.map\n","import { isString } from '@vue/shared';\nimport '../../../utils/index.mjs';\nimport '../../../constants/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { useSizeProp } from '../../../hooks/use-size/index.mjs';\nimport { iconPropType } from '../../../utils/vue/icon.mjs';\nimport { mutable } from '../../../utils/typescript.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\n\nconst inputProps = buildProps({\n  id: {\n    type: String,\n    default: void 0\n  },\n  size: useSizeProp,\n  disabled: Boolean,\n  modelValue: {\n    type: definePropType([\n      String,\n      Number,\n      Object\n    ]),\n    default: \"\"\n  },\n  type: {\n    type: String,\n    default: \"text\"\n  },\n  resize: {\n    type: String,\n    values: [\"none\", \"both\", \"horizontal\", \"vertical\"]\n  },\n  autosize: {\n    type: definePropType([Boolean, Object]),\n    default: false\n  },\n  autocomplete: {\n    type: String,\n    default: \"off\"\n  },\n  formatter: {\n    type: Function\n  },\n  parser: {\n    type: Function\n  },\n  placeholder: {\n    type: String\n  },\n  form: {\n    type: String\n  },\n  readonly: {\n    type: Boolean,\n    default: false\n  },\n  clearable: {\n    type: Boolean,\n    default: false\n  },\n  showPassword: {\n    type: Boolean,\n    default: false\n  },\n  showWordLimit: {\n    type: Boolean,\n    default: false\n  },\n  suffixIcon: {\n    type: iconPropType\n  },\n  prefixIcon: {\n    type: iconPropType\n  },\n  containerRole: {\n    type: String,\n    default: void 0\n  },\n  label: {\n    type: String,\n    default: void 0\n  },\n  tabindex: {\n    type: [String, Number],\n    default: 0\n  },\n  validateEvent: {\n    type: Boolean,\n    default: true\n  },\n  inputStyle: {\n    type: definePropType([Object, Array, String]),\n    default: () => mutable({})\n  }\n});\nconst inputEmits = {\n  [UPDATE_MODEL_EVENT]: (value) => isString(value),\n  input: (value) => isString(value),\n  change: (value) => isString(value),\n  focus: (evt) => evt instanceof FocusEvent,\n  blur: (evt) => evt instanceof FocusEvent,\n  clear: () => true,\n  mouseleave: (evt) => evt instanceof MouseEvent,\n  mouseenter: (evt) => evt instanceof MouseEvent,\n  keydown: (evt) => evt instanceof Event,\n  compositionstart: (evt) => evt instanceof CompositionEvent,\n  compositionupdate: (evt) => evt instanceof CompositionEvent,\n  compositionend: (evt) => evt instanceof CompositionEvent\n};\n\nexport { inputEmits, inputProps };\n//# sourceMappingURL=input.mjs.map\n","import { defineComponent, useAttrs, useSlots, computed, shallowRef, ref, nextTick, watch, onMounted, toRef, withDirectives, openBlock, createElementBlock, mergeProps, unref, createCommentVNode, Fragment, normalizeClass, renderSlot, createElementVNode, createBlock, withCtx, resolveDynamicComponent, withModifiers, createVNode, toDisplayString, normalizeStyle, vShow } from 'vue';\nimport { useResizeObserver, isClient } from '@vueuse/core';\nimport { isNil } from 'lodash-unified';\nimport { ElIcon } from '../../icon/index.mjs';\nimport { View, Hide, CircleClose } from '@element-plus/icons-vue';\nimport '../../form/index.mjs';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../constants/index.mjs';\nimport { calcTextareaHeight } from './utils.mjs';\nimport { inputProps, inputEmits } from './input.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useAttrs as useAttrs$1 } from '../../../hooks/use-attrs/index.mjs';\nimport { useFormItem, useFormItemInputId } from '../../form/src/hooks/use-form-item.mjs';\nimport { useFormSize, useFormDisabled } from '../../form/src/hooks/use-form-common-props.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { ValidateComponentsMap } from '../../../utils/vue/icon.mjs';\nimport { useCursor } from '../../../hooks/use-cursor/index.mjs';\nimport { isObject, NOOP } from '@vue/shared';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { isKorean } from '../../../utils/i18n.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\n\nconst _hoisted_1 = [\"role\"];\nconst _hoisted_2 = [\"id\", \"type\", \"disabled\", \"formatter\", \"parser\", \"readonly\", \"autocomplete\", \"tabindex\", \"aria-label\", \"placeholder\", \"form\"];\nconst _hoisted_3 = [\"id\", \"tabindex\", \"disabled\", \"readonly\", \"autocomplete\", \"aria-label\", \"placeholder\", \"form\"];\nconst __default__ = defineComponent({\n  name: \"ElInput\",\n  inheritAttrs: false\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: inputProps,\n  emits: inputEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const rawAttrs = useAttrs();\n    const slots = useSlots();\n    const containerAttrs = computed(() => {\n      const comboBoxAttrs = {};\n      if (props.containerRole === \"combobox\") {\n        comboBoxAttrs[\"aria-haspopup\"] = rawAttrs[\"aria-haspopup\"];\n        comboBoxAttrs[\"aria-owns\"] = rawAttrs[\"aria-owns\"];\n        comboBoxAttrs[\"aria-expanded\"] = rawAttrs[\"aria-expanded\"];\n      }\n      return comboBoxAttrs;\n    });\n    const containerKls = computed(() => [\n      props.type === \"textarea\" ? nsTextarea.b() : nsInput.b(),\n      nsInput.m(inputSize.value),\n      nsInput.is(\"disabled\", inputDisabled.value),\n      nsInput.is(\"exceed\", inputExceed.value),\n      {\n        [nsInput.b(\"group\")]: slots.prepend || slots.append,\n        [nsInput.bm(\"group\", \"append\")]: slots.append,\n        [nsInput.bm(\"group\", \"prepend\")]: slots.prepend,\n        [nsInput.m(\"prefix\")]: slots.prefix || props.prefixIcon,\n        [nsInput.m(\"suffix\")]: slots.suffix || props.suffixIcon || props.clearable || props.showPassword,\n        [nsInput.bm(\"suffix\", \"password-clear\")]: showClear.value && showPwdVisible.value\n      },\n      rawAttrs.class\n    ]);\n    const wrapperKls = computed(() => [\n      nsInput.e(\"wrapper\"),\n      nsInput.is(\"focus\", focused.value)\n    ]);\n    const attrs = useAttrs$1({\n      excludeKeys: computed(() => {\n        return Object.keys(containerAttrs.value);\n      })\n    });\n    const { form, formItem } = useFormItem();\n    const { inputId } = useFormItemInputId(props, {\n      formItemContext: formItem\n    });\n    const inputSize = useFormSize();\n    const inputDisabled = useFormDisabled();\n    const nsInput = useNamespace(\"input\");\n    const nsTextarea = useNamespace(\"textarea\");\n    const input = shallowRef();\n    const textarea = shallowRef();\n    const focused = ref(false);\n    const hovering = ref(false);\n    const isComposing = ref(false);\n    const passwordVisible = ref(false);\n    const countStyle = ref();\n    const textareaCalcStyle = shallowRef(props.inputStyle);\n    const _ref = computed(() => input.value || textarea.value);\n    const needStatusIcon = computed(() => {\n      var _a;\n      return (_a = form == null ? void 0 : form.statusIcon) != null ? _a : false;\n    });\n    const validateState = computed(() => (formItem == null ? void 0 : formItem.validateState) || \"\");\n    const validateIcon = computed(() => validateState.value && ValidateComponentsMap[validateState.value]);\n    const passwordIcon = computed(() => passwordVisible.value ? View : Hide);\n    const containerStyle = computed(() => [\n      rawAttrs.style,\n      props.inputStyle\n    ]);\n    const textareaStyle = computed(() => [\n      props.inputStyle,\n      textareaCalcStyle.value,\n      { resize: props.resize }\n    ]);\n    const nativeInputValue = computed(() => isNil(props.modelValue) ? \"\" : String(props.modelValue));\n    const showClear = computed(() => props.clearable && !inputDisabled.value && !props.readonly && !!nativeInputValue.value && (focused.value || hovering.value));\n    const showPwdVisible = computed(() => props.showPassword && !inputDisabled.value && !props.readonly && !!nativeInputValue.value && (!!nativeInputValue.value || focused.value));\n    const isWordLimitVisible = computed(() => props.showWordLimit && !!attrs.value.maxlength && (props.type === \"text\" || props.type === \"textarea\") && !inputDisabled.value && !props.readonly && !props.showPassword);\n    const textLength = computed(() => nativeInputValue.value.length);\n    const inputExceed = computed(() => !!isWordLimitVisible.value && textLength.value > Number(attrs.value.maxlength));\n    const suffixVisible = computed(() => !!slots.suffix || !!props.suffixIcon || showClear.value || props.showPassword || isWordLimitVisible.value || !!validateState.value && needStatusIcon.value);\n    const [recordCursor, setCursor] = useCursor(input);\n    useResizeObserver(textarea, (entries) => {\n      onceInitSizeTextarea();\n      if (!isWordLimitVisible.value || props.resize !== \"both\")\n        return;\n      const entry = entries[0];\n      const { width } = entry.contentRect;\n      countStyle.value = {\n        right: `calc(100% - ${width + 15 + 6}px)`\n      };\n    });\n    const resizeTextarea = () => {\n      const { type, autosize } = props;\n      if (!isClient || type !== \"textarea\" || !textarea.value)\n        return;\n      if (autosize) {\n        const minRows = isObject(autosize) ? autosize.minRows : void 0;\n        const maxRows = isObject(autosize) ? autosize.maxRows : void 0;\n        const textareaStyle2 = calcTextareaHeight(textarea.value, minRows, maxRows);\n        textareaCalcStyle.value = {\n          overflowY: \"hidden\",\n          ...textareaStyle2\n        };\n        nextTick(() => {\n          textarea.value.offsetHeight;\n          textareaCalcStyle.value = textareaStyle2;\n        });\n      } else {\n        textareaCalcStyle.value = {\n          minHeight: calcTextareaHeight(textarea.value).minHeight\n        };\n      }\n    };\n    const createOnceInitResize = (resizeTextarea2) => {\n      let isInit = false;\n      return () => {\n        var _a;\n        if (isInit || !props.autosize)\n          return;\n        const isElHidden = ((_a = textarea.value) == null ? void 0 : _a.offsetParent) === null;\n        if (!isElHidden) {\n          resizeTextarea2();\n          isInit = true;\n        }\n      };\n    };\n    const onceInitSizeTextarea = createOnceInitResize(resizeTextarea);\n    const setNativeInputValue = () => {\n      const input2 = _ref.value;\n      if (!input2 || input2.value === nativeInputValue.value)\n        return;\n      input2.value = nativeInputValue.value;\n    };\n    const handleInput = async (event) => {\n      recordCursor();\n      let { value } = event.target;\n      if (props.formatter) {\n        value = props.parser ? props.parser(value) : value;\n        value = props.formatter(value);\n      }\n      if (isComposing.value)\n        return;\n      if (value === nativeInputValue.value) {\n        setNativeInputValue();\n        return;\n      }\n      emit(UPDATE_MODEL_EVENT, value);\n      emit(\"input\", value);\n      await nextTick();\n      setNativeInputValue();\n      setCursor();\n    };\n    const handleChange = (event) => {\n      emit(\"change\", event.target.value);\n    };\n    const handleCompositionStart = (event) => {\n      emit(\"compositionstart\", event);\n      isComposing.value = true;\n    };\n    const handleCompositionUpdate = (event) => {\n      var _a;\n      emit(\"compositionupdate\", event);\n      const text = (_a = event.target) == null ? void 0 : _a.value;\n      const lastCharacter = text[text.length - 1] || \"\";\n      isComposing.value = !isKorean(lastCharacter);\n    };\n    const handleCompositionEnd = (event) => {\n      emit(\"compositionend\", event);\n      if (isComposing.value) {\n        isComposing.value = false;\n        handleInput(event);\n      }\n    };\n    const handlePasswordVisible = () => {\n      passwordVisible.value = !passwordVisible.value;\n      focus();\n    };\n    const focus = async () => {\n      var _a;\n      await nextTick();\n      (_a = _ref.value) == null ? void 0 : _a.focus();\n    };\n    const blur = () => {\n      var _a;\n      return (_a = _ref.value) == null ? void 0 : _a.blur();\n    };\n    const handleFocus = (event) => {\n      focused.value = true;\n      emit(\"focus\", event);\n    };\n    const handleBlur = (event) => {\n      var _a;\n      focused.value = false;\n      emit(\"blur\", event);\n      if (props.validateEvent) {\n        (_a = formItem == null ? void 0 : formItem.validate) == null ? void 0 : _a.call(formItem, \"blur\").catch((err) => debugWarn(err));\n      }\n    };\n    const handleMouseLeave = (evt) => {\n      hovering.value = false;\n      emit(\"mouseleave\", evt);\n    };\n    const handleMouseEnter = (evt) => {\n      hovering.value = true;\n      emit(\"mouseenter\", evt);\n    };\n    const handleKeydown = (evt) => {\n      emit(\"keydown\", evt);\n    };\n    const select = () => {\n      var _a;\n      (_a = _ref.value) == null ? void 0 : _a.select();\n    };\n    const clear = () => {\n      emit(UPDATE_MODEL_EVENT, \"\");\n      emit(\"change\", \"\");\n      emit(\"clear\");\n      emit(\"input\", \"\");\n    };\n    watch(() => props.modelValue, () => {\n      var _a;\n      nextTick(() => resizeTextarea());\n      if (props.validateEvent) {\n        (_a = formItem == null ? void 0 : formItem.validate) == null ? void 0 : _a.call(formItem, \"change\").catch((err) => debugWarn(err));\n      }\n    });\n    watch(nativeInputValue, () => setNativeInputValue());\n    watch(() => props.type, async () => {\n      await nextTick();\n      setNativeInputValue();\n      resizeTextarea();\n    });\n    onMounted(() => {\n      if (!props.formatter && props.parser) {\n        debugWarn(\"ElInput\", \"If you set the parser, you also need to set the formatter.\");\n      }\n      setNativeInputValue();\n      nextTick(resizeTextarea);\n    });\n    expose({\n      input,\n      textarea,\n      ref: _ref,\n      textareaStyle,\n      autosize: toRef(props, \"autosize\"),\n      focus,\n      blur,\n      select,\n      clear,\n      resizeTextarea\n    });\n    return (_ctx, _cache) => {\n      return withDirectives((openBlock(), createElementBlock(\"div\", mergeProps(unref(containerAttrs), {\n        class: unref(containerKls),\n        style: unref(containerStyle),\n        role: _ctx.containerRole,\n        onMouseenter: handleMouseEnter,\n        onMouseleave: handleMouseLeave\n      }), [\n        createCommentVNode(\" input \"),\n        _ctx.type !== \"textarea\" ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          createCommentVNode(\" prepend slot \"),\n          _ctx.$slots.prepend ? (openBlock(), createElementBlock(\"div\", {\n            key: 0,\n            class: normalizeClass(unref(nsInput).be(\"group\", \"prepend\"))\n          }, [\n            renderSlot(_ctx.$slots, \"prepend\")\n          ], 2)) : createCommentVNode(\"v-if\", true),\n          createElementVNode(\"div\", {\n            class: normalizeClass(unref(wrapperKls))\n          }, [\n            createCommentVNode(\" prefix slot \"),\n            _ctx.$slots.prefix || _ctx.prefixIcon ? (openBlock(), createElementBlock(\"span\", {\n              key: 0,\n              class: normalizeClass(unref(nsInput).e(\"prefix\"))\n            }, [\n              createElementVNode(\"span\", {\n                class: normalizeClass(unref(nsInput).e(\"prefix-inner\")),\n                onClick: focus\n              }, [\n                renderSlot(_ctx.$slots, \"prefix\"),\n                _ctx.prefixIcon ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 0,\n                  class: normalizeClass(unref(nsInput).e(\"icon\"))\n                }, {\n                  default: withCtx(() => [\n                    (openBlock(), createBlock(resolveDynamicComponent(_ctx.prefixIcon)))\n                  ]),\n                  _: 1\n                }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n              ], 2)\n            ], 2)) : createCommentVNode(\"v-if\", true),\n            createElementVNode(\"input\", mergeProps({\n              id: unref(inputId),\n              ref_key: \"input\",\n              ref: input,\n              class: unref(nsInput).e(\"inner\")\n            }, unref(attrs), {\n              type: _ctx.showPassword ? passwordVisible.value ? \"text\" : \"password\" : _ctx.type,\n              disabled: unref(inputDisabled),\n              formatter: _ctx.formatter,\n              parser: _ctx.parser,\n              readonly: _ctx.readonly,\n              autocomplete: _ctx.autocomplete,\n              tabindex: _ctx.tabindex,\n              \"aria-label\": _ctx.label,\n              placeholder: _ctx.placeholder,\n              style: _ctx.inputStyle,\n              form: props.form,\n              onCompositionstart: handleCompositionStart,\n              onCompositionupdate: handleCompositionUpdate,\n              onCompositionend: handleCompositionEnd,\n              onInput: handleInput,\n              onFocus: handleFocus,\n              onBlur: handleBlur,\n              onChange: handleChange,\n              onKeydown: handleKeydown\n            }), null, 16, _hoisted_2),\n            createCommentVNode(\" suffix slot \"),\n            unref(suffixVisible) ? (openBlock(), createElementBlock(\"span\", {\n              key: 1,\n              class: normalizeClass(unref(nsInput).e(\"suffix\"))\n            }, [\n              createElementVNode(\"span\", {\n                class: normalizeClass(unref(nsInput).e(\"suffix-inner\")),\n                onClick: focus\n              }, [\n                !unref(showClear) || !unref(showPwdVisible) || !unref(isWordLimitVisible) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n                  renderSlot(_ctx.$slots, \"suffix\"),\n                  _ctx.suffixIcon ? (openBlock(), createBlock(unref(ElIcon), {\n                    key: 0,\n                    class: normalizeClass(unref(nsInput).e(\"icon\"))\n                  }, {\n                    default: withCtx(() => [\n                      (openBlock(), createBlock(resolveDynamicComponent(_ctx.suffixIcon)))\n                    ]),\n                    _: 1\n                  }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n                ], 64)) : createCommentVNode(\"v-if\", true),\n                unref(showClear) ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 1,\n                  class: normalizeClass([unref(nsInput).e(\"icon\"), unref(nsInput).e(\"clear\")]),\n                  onMousedown: withModifiers(unref(NOOP), [\"prevent\"]),\n                  onClick: clear\n                }, {\n                  default: withCtx(() => [\n                    createVNode(unref(CircleClose))\n                  ]),\n                  _: 1\n                }, 8, [\"class\", \"onMousedown\"])) : createCommentVNode(\"v-if\", true),\n                unref(showPwdVisible) ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 2,\n                  class: normalizeClass([unref(nsInput).e(\"icon\"), unref(nsInput).e(\"password\")]),\n                  onClick: handlePasswordVisible\n                }, {\n                  default: withCtx(() => [\n                    (openBlock(), createBlock(resolveDynamicComponent(unref(passwordIcon))))\n                  ]),\n                  _: 1\n                }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true),\n                unref(isWordLimitVisible) ? (openBlock(), createElementBlock(\"span\", {\n                  key: 3,\n                  class: normalizeClass(unref(nsInput).e(\"count\"))\n                }, [\n                  createElementVNode(\"span\", {\n                    class: normalizeClass(unref(nsInput).e(\"count-inner\"))\n                  }, toDisplayString(unref(textLength)) + \" / \" + toDisplayString(unref(attrs).maxlength), 3)\n                ], 2)) : createCommentVNode(\"v-if\", true),\n                unref(validateState) && unref(validateIcon) && unref(needStatusIcon) ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 4,\n                  class: normalizeClass([\n                    unref(nsInput).e(\"icon\"),\n                    unref(nsInput).e(\"validateIcon\"),\n                    unref(nsInput).is(\"loading\", unref(validateState) === \"validating\")\n                  ])\n                }, {\n                  default: withCtx(() => [\n                    (openBlock(), createBlock(resolveDynamicComponent(unref(validateIcon))))\n                  ]),\n                  _: 1\n                }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n              ], 2)\n            ], 2)) : createCommentVNode(\"v-if\", true)\n          ], 2),\n          createCommentVNode(\" append slot \"),\n          _ctx.$slots.append ? (openBlock(), createElementBlock(\"div\", {\n            key: 1,\n            class: normalizeClass(unref(nsInput).be(\"group\", \"append\"))\n          }, [\n            renderSlot(_ctx.$slots, \"append\")\n          ], 2)) : createCommentVNode(\"v-if\", true)\n        ], 64)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n          createCommentVNode(\" textarea \"),\n          createElementVNode(\"textarea\", mergeProps({\n            id: unref(inputId),\n            ref_key: \"textarea\",\n            ref: textarea,\n            class: unref(nsTextarea).e(\"inner\")\n          }, unref(attrs), {\n            tabindex: _ctx.tabindex,\n            disabled: unref(inputDisabled),\n            readonly: _ctx.readonly,\n            autocomplete: _ctx.autocomplete,\n            style: unref(textareaStyle),\n            \"aria-label\": _ctx.label,\n            placeholder: _ctx.placeholder,\n            form: props.form,\n            onCompositionstart: handleCompositionStart,\n            onCompositionupdate: handleCompositionUpdate,\n            onCompositionend: handleCompositionEnd,\n            onInput: handleInput,\n            onFocus: handleFocus,\n            onBlur: handleBlur,\n            onChange: handleChange,\n            onKeydown: handleKeydown\n          }), null, 16, _hoisted_3),\n          unref(isWordLimitVisible) ? (openBlock(), createElementBlock(\"span\", {\n            key: 0,\n            style: normalizeStyle(countStyle.value),\n            class: normalizeClass(unref(nsInput).e(\"count\"))\n          }, toDisplayString(unref(textLength)) + \" / \" + toDisplayString(unref(attrs).maxlength), 7)) : createCommentVNode(\"v-if\", true)\n        ], 64))\n      ], 16, _hoisted_1)), [\n        [vShow, _ctx.type !== \"hidden\"]\n      ]);\n    };\n  }\n});\nvar Input = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue\"]]);\n\nexport { Input as default };\n//# sourceMappingURL=input2.mjs.map\n","import '../../utils/index.mjs';\nimport Input from './src/input2.mjs';\nexport { inputEmits, inputProps } from './src/input.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElInput = withInstall(Input);\n\nexport { ElInput, ElInput as default };\n//# sourceMappingURL=index.mjs.map\n","import '../../../../utils/index.mjs';\nimport { buildProps, definePropType } from '../../../../utils/vue/props/runtime.mjs';\n\nconst alphaSliderProps = buildProps({\n  color: {\n    type: definePropType(Object),\n    required: true\n  },\n  vertical: {\n    type: Boolean,\n    default: false\n  }\n});\n\nexport { alphaSliderProps };\n//# sourceMappingURL=alpha-slider.mjs.map\n","import '../../../../utils/index.mjs';\nimport { isClient } from '@vueuse/core';\n\nlet isDragging = false;\nfunction draggable(element, options) {\n  if (!isClient)\n    return;\n  const moveFn = function(event) {\n    var _a;\n    (_a = options.drag) == null ? void 0 : _a.call(options, event);\n  };\n  const upFn = function(event) {\n    var _a;\n    document.removeEventListener(\"mousemove\", moveFn);\n    document.removeEventListener(\"mouseup\", upFn);\n    document.removeEventListener(\"touchmove\", moveFn);\n    document.removeEventListener(\"touchend\", upFn);\n    document.onselectstart = null;\n    document.ondragstart = null;\n    isDragging = false;\n    (_a = options.end) == null ? void 0 : _a.call(options, event);\n  };\n  const downFn = function(event) {\n    var _a;\n    if (isDragging)\n      return;\n    event.preventDefault();\n    document.onselectstart = () => false;\n    document.ondragstart = () => false;\n    document.addEventListener(\"mousemove\", moveFn);\n    document.addEventListener(\"mouseup\", upFn);\n    document.addEventListener(\"touchmove\", moveFn);\n    document.addEventListener(\"touchend\", upFn);\n    isDragging = true;\n    (_a = options.start) == null ? void 0 : _a.call(options, event);\n  };\n  element.addEventListener(\"mousedown\", downFn);\n  element.addEventListener(\"touchstart\", downFn);\n}\n\nexport { draggable };\n//# sourceMappingURL=draggable.mjs.map\n","import { getCurrentInstance, shallowRef, ref, onMounted, watch, computed } from 'vue';\nimport '../../../../utils/index.mjs';\nimport '../../../../hooks/index.mjs';\nimport { draggable } from '../utils/draggable.mjs';\nimport { getClientXY } from '../../../../utils/dom/position.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nimport { addUnit } from '../../../../utils/dom/style.mjs';\n\nconst useAlphaSlider = (props) => {\n  const instance = getCurrentInstance();\n  const thumb = shallowRef();\n  const bar = shallowRef();\n  function handleClick(event) {\n    const target = event.target;\n    if (target !== thumb.value) {\n      handleDrag(event);\n    }\n  }\n  function handleDrag(event) {\n    if (!bar.value || !thumb.value)\n      return;\n    const el = instance.vnode.el;\n    const rect = el.getBoundingClientRect();\n    const { clientX, clientY } = getClientXY(event);\n    if (!props.vertical) {\n      let left = clientX - rect.left;\n      left = Math.max(thumb.value.offsetWidth / 2, left);\n      left = Math.min(left, rect.width - thumb.value.offsetWidth / 2);\n      props.color.set(\"alpha\", Math.round((left - thumb.value.offsetWidth / 2) / (rect.width - thumb.value.offsetWidth) * 100));\n    } else {\n      let top = clientY - rect.top;\n      top = Math.max(thumb.value.offsetHeight / 2, top);\n      top = Math.min(top, rect.height - thumb.value.offsetHeight / 2);\n      props.color.set(\"alpha\", Math.round((top - thumb.value.offsetHeight / 2) / (rect.height - thumb.value.offsetHeight) * 100));\n    }\n  }\n  return {\n    thumb,\n    bar,\n    handleDrag,\n    handleClick\n  };\n};\nconst useAlphaSliderDOM = (props, {\n  bar,\n  thumb,\n  handleDrag\n}) => {\n  const instance = getCurrentInstance();\n  const ns = useNamespace(\"color-alpha-slider\");\n  const thumbLeft = ref(0);\n  const thumbTop = ref(0);\n  const background = ref();\n  function getThumbLeft() {\n    if (!thumb.value)\n      return 0;\n    if (props.vertical)\n      return 0;\n    const el = instance.vnode.el;\n    const alpha = props.color.get(\"alpha\");\n    if (!el)\n      return 0;\n    return Math.round(alpha * (el.offsetWidth - thumb.value.offsetWidth / 2) / 100);\n  }\n  function getThumbTop() {\n    if (!thumb.value)\n      return 0;\n    const el = instance.vnode.el;\n    if (!props.vertical)\n      return 0;\n    const alpha = props.color.get(\"alpha\");\n    if (!el)\n      return 0;\n    return Math.round(alpha * (el.offsetHeight - thumb.value.offsetHeight / 2) / 100);\n  }\n  function getBackground() {\n    if (props.color && props.color.value) {\n      const { r, g, b } = props.color.toRgb();\n      return `linear-gradient(to right, rgba(${r}, ${g}, ${b}, 0) 0%, rgba(${r}, ${g}, ${b}, 1) 100%)`;\n    }\n    return \"\";\n  }\n  function update() {\n    thumbLeft.value = getThumbLeft();\n    thumbTop.value = getThumbTop();\n    background.value = getBackground();\n  }\n  onMounted(() => {\n    if (!bar.value || !thumb.value)\n      return;\n    const dragConfig = {\n      drag: (event) => {\n        handleDrag(event);\n      },\n      end: (event) => {\n        handleDrag(event);\n      }\n    };\n    draggable(bar.value, dragConfig);\n    draggable(thumb.value, dragConfig);\n    update();\n  });\n  watch(() => props.color.get(\"alpha\"), () => update());\n  watch(() => props.color.value, () => update());\n  const rootKls = computed(() => [ns.b(), ns.is(\"vertical\", props.vertical)]);\n  const barKls = computed(() => ns.e(\"bar\"));\n  const thumbKls = computed(() => ns.e(\"thumb\"));\n  const barStyle = computed(() => ({ background: background.value }));\n  const thumbStyle = computed(() => ({\n    left: addUnit(thumbLeft.value),\n    top: addUnit(thumbTop.value)\n  }));\n  return { rootKls, barKls, barStyle, thumbKls, thumbStyle, update };\n};\n\nexport { useAlphaSlider, useAlphaSliderDOM };\n//# sourceMappingURL=use-alpha-slider.mjs.map\n","import { defineComponent, openBlock, createElementBlock, normalizeClass, unref, createElementVNode, normalizeStyle } from 'vue';\nimport { alphaSliderProps } from '../props/alpha-slider.mjs';\nimport { useAlphaSlider, useAlphaSliderDOM } from '../composables/use-alpha-slider.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\n\nconst COMPONENT_NAME = \"ElColorAlphaSlider\";\nconst __default__ = defineComponent({\n  name: COMPONENT_NAME\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: alphaSliderProps,\n  setup(__props, { expose }) {\n    const props = __props;\n    const { bar, thumb, handleDrag, handleClick } = useAlphaSlider(props);\n    const { rootKls, barKls, barStyle, thumbKls, thumbStyle, update } = useAlphaSliderDOM(props, {\n      bar,\n      thumb,\n      handleDrag\n    });\n    expose({\n      update,\n      bar,\n      thumb\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass(unref(rootKls))\n      }, [\n        createElementVNode(\"div\", {\n          ref_key: \"bar\",\n          ref: bar,\n          class: normalizeClass(unref(barKls)),\n          style: normalizeStyle(unref(barStyle)),\n          onClick: _cache[0] || (_cache[0] = (...args) => unref(handleClick) && unref(handleClick)(...args))\n        }, null, 6),\n        createElementVNode(\"div\", {\n          ref_key: \"thumb\",\n          ref: thumb,\n          class: normalizeClass(unref(thumbKls)),\n          style: normalizeStyle(unref(thumbStyle))\n        }, null, 6)\n      ], 2);\n    };\n  }\n});\nvar AlphaSlider = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue\"]]);\n\nexport { AlphaSlider as default };\n//# sourceMappingURL=alpha-slider.mjs.map\n","import { defineComponent, getCurrentInstance, ref, computed, watch, onMounted, openBlock, createElementBlock, normalizeClass, createElementVNode, normalizeStyle } from 'vue';\nimport '../../../../utils/index.mjs';\nimport '../../../../hooks/index.mjs';\nimport { draggable } from '../utils/draggable.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nimport { getClientXY } from '../../../../utils/dom/position.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElColorHueSlider\",\n  props: {\n    color: {\n      type: Object,\n      required: true\n    },\n    vertical: Boolean\n  },\n  setup(props) {\n    const ns = useNamespace(\"color-hue-slider\");\n    const instance = getCurrentInstance();\n    const thumb = ref();\n    const bar = ref();\n    const thumbLeft = ref(0);\n    const thumbTop = ref(0);\n    const hueValue = computed(() => {\n      return props.color.get(\"hue\");\n    });\n    watch(() => hueValue.value, () => {\n      update();\n    });\n    function handleClick(event) {\n      const target = event.target;\n      if (target !== thumb.value) {\n        handleDrag(event);\n      }\n    }\n    function handleDrag(event) {\n      if (!bar.value || !thumb.value)\n        return;\n      const el = instance.vnode.el;\n      const rect = el.getBoundingClientRect();\n      const { clientX, clientY } = getClientXY(event);\n      let hue;\n      if (!props.vertical) {\n        let left = clientX - rect.left;\n        left = Math.min(left, rect.width - thumb.value.offsetWidth / 2);\n        left = Math.max(thumb.value.offsetWidth / 2, left);\n        hue = Math.round((left - thumb.value.offsetWidth / 2) / (rect.width - thumb.value.offsetWidth) * 360);\n      } else {\n        let top = clientY - rect.top;\n        top = Math.min(top, rect.height - thumb.value.offsetHeight / 2);\n        top = Math.max(thumb.value.offsetHeight / 2, top);\n        hue = Math.round((top - thumb.value.offsetHeight / 2) / (rect.height - thumb.value.offsetHeight) * 360);\n      }\n      props.color.set(\"hue\", hue);\n    }\n    function getThumbLeft() {\n      if (!thumb.value)\n        return 0;\n      const el = instance.vnode.el;\n      if (props.vertical)\n        return 0;\n      const hue = props.color.get(\"hue\");\n      if (!el)\n        return 0;\n      return Math.round(hue * (el.offsetWidth - thumb.value.offsetWidth / 2) / 360);\n    }\n    function getThumbTop() {\n      if (!thumb.value)\n        return 0;\n      const el = instance.vnode.el;\n      if (!props.vertical)\n        return 0;\n      const hue = props.color.get(\"hue\");\n      if (!el)\n        return 0;\n      return Math.round(hue * (el.offsetHeight - thumb.value.offsetHeight / 2) / 360);\n    }\n    function update() {\n      thumbLeft.value = getThumbLeft();\n      thumbTop.value = getThumbTop();\n    }\n    onMounted(() => {\n      if (!bar.value || !thumb.value)\n        return;\n      const dragConfig = {\n        drag: (event) => {\n          handleDrag(event);\n        },\n        end: (event) => {\n          handleDrag(event);\n        }\n      };\n      draggable(bar.value, dragConfig);\n      draggable(thumb.value, dragConfig);\n      update();\n    });\n    return {\n      bar,\n      thumb,\n      thumbLeft,\n      thumbTop,\n      hueValue,\n      handleClick,\n      update,\n      ns\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([_ctx.ns.b(), _ctx.ns.is(\"vertical\", _ctx.vertical)])\n  }, [\n    createElementVNode(\"div\", {\n      ref: \"bar\",\n      class: normalizeClass(_ctx.ns.e(\"bar\")),\n      onClick: _cache[0] || (_cache[0] = (...args) => _ctx.handleClick && _ctx.handleClick(...args))\n    }, null, 2),\n    createElementVNode(\"div\", {\n      ref: \"thumb\",\n      class: normalizeClass(_ctx.ns.e(\"thumb\")),\n      style: normalizeStyle({\n        left: _ctx.thumbLeft + \"px\",\n        top: _ctx.thumbTop + \"px\"\n      })\n    }, null, 6)\n  ], 2);\n}\nvar HueSlider = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue\"]]);\n\nexport { HueSlider as default };\n//# sourceMappingURL=hue-slider.mjs.map\n","import { isNil } from 'lodash-unified';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../constants/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { useSizeProp } from '../../../hooks/use-size/index.mjs';\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT } from '../../../constants/event.mjs';\nimport { isString } from '@vue/shared';\n\nconst colorPickerProps = buildProps({\n  modelValue: String,\n  id: String,\n  showAlpha: Boolean,\n  colorFormat: String,\n  disabled: Boolean,\n  size: useSizeProp,\n  popperClass: {\n    type: String,\n    default: \"\"\n  },\n  label: {\n    type: String,\n    default: void 0\n  },\n  tabindex: {\n    type: [String, Number],\n    default: 0\n  },\n  predefine: {\n    type: definePropType(Array)\n  },\n  validateEvent: {\n    type: Boolean,\n    default: true\n  }\n});\nconst colorPickerEmits = {\n  [UPDATE_MODEL_EVENT]: (val) => isString(val) || isNil(val),\n  [CHANGE_EVENT]: (val) => isString(val) || isNil(val),\n  activeChange: (val) => isString(val) || isNil(val)\n};\nconst colorPickerContextKey = Symbol(\"colorPickerContextKey\");\n\nexport { colorPickerContextKey, colorPickerEmits, colorPickerProps };\n//# sourceMappingURL=color-picker.mjs.map\n","import '../../../../utils/index.mjs';\nimport { hasOwn } from '@vue/shared';\n\nconst hsv2hsl = function(hue, sat, val) {\n  return [\n    hue,\n    sat * val / ((hue = (2 - sat) * val) < 1 ? hue : 2 - hue) || 0,\n    hue / 2\n  ];\n};\nconst isOnePointZero = function(n) {\n  return typeof n === \"string\" && n.includes(\".\") && Number.parseFloat(n) === 1;\n};\nconst isPercentage = function(n) {\n  return typeof n === \"string\" && n.includes(\"%\");\n};\nconst bound01 = function(value, max) {\n  if (isOnePointZero(value))\n    value = \"100%\";\n  const processPercent = isPercentage(value);\n  value = Math.min(max, Math.max(0, Number.parseFloat(`${value}`)));\n  if (processPercent) {\n    value = Number.parseInt(`${value * max}`, 10) / 100;\n  }\n  if (Math.abs(value - max) < 1e-6) {\n    return 1;\n  }\n  return value % max / Number.parseFloat(max);\n};\nconst INT_HEX_MAP = {\n  10: \"A\",\n  11: \"B\",\n  12: \"C\",\n  13: \"D\",\n  14: \"E\",\n  15: \"F\"\n};\nconst hexOne = (value) => {\n  value = Math.min(Math.round(value), 255);\n  const high = Math.floor(value / 16);\n  const low = value % 16;\n  return `${INT_HEX_MAP[high] || high}${INT_HEX_MAP[low] || low}`;\n};\nconst toHex = function({ r, g, b }) {\n  if (Number.isNaN(+r) || Number.isNaN(+g) || Number.isNaN(+b))\n    return \"\";\n  return `#${hexOne(r)}${hexOne(g)}${hexOne(b)}`;\n};\nconst HEX_INT_MAP = {\n  A: 10,\n  B: 11,\n  C: 12,\n  D: 13,\n  E: 14,\n  F: 15\n};\nconst parseHexChannel = function(hex) {\n  if (hex.length === 2) {\n    return (HEX_INT_MAP[hex[0].toUpperCase()] || +hex[0]) * 16 + (HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1]);\n  }\n  return HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1];\n};\nconst hsl2hsv = function(hue, sat, light) {\n  sat = sat / 100;\n  light = light / 100;\n  let smin = sat;\n  const lmin = Math.max(light, 0.01);\n  light *= 2;\n  sat *= light <= 1 ? light : 2 - light;\n  smin *= lmin <= 1 ? lmin : 2 - lmin;\n  const v = (light + sat) / 2;\n  const sv = light === 0 ? 2 * smin / (lmin + smin) : 2 * sat / (light + sat);\n  return {\n    h: hue,\n    s: sv * 100,\n    v: v * 100\n  };\n};\nconst rgb2hsv = (r, g, b) => {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  let h;\n  const v = max;\n  const d = max - min;\n  const s = max === 0 ? 0 : d / max;\n  if (max === min) {\n    h = 0;\n  } else {\n    switch (max) {\n      case r: {\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      }\n      case g: {\n        h = (b - r) / d + 2;\n        break;\n      }\n      case b: {\n        h = (r - g) / d + 4;\n        break;\n      }\n    }\n    h /= 6;\n  }\n  return { h: h * 360, s: s * 100, v: v * 100 };\n};\nconst hsv2rgb = function(h, s, v) {\n  h = bound01(h, 360) * 6;\n  s = bound01(s, 100);\n  v = bound01(v, 100);\n  const i = Math.floor(h);\n  const f = h - i;\n  const p = v * (1 - s);\n  const q = v * (1 - f * s);\n  const t = v * (1 - (1 - f) * s);\n  const mod = i % 6;\n  const r = [v, q, p, p, t, v][mod];\n  const g = [t, v, v, q, p, p][mod];\n  const b = [p, p, t, v, v, q][mod];\n  return {\n    r: Math.round(r * 255),\n    g: Math.round(g * 255),\n    b: Math.round(b * 255)\n  };\n};\nclass Color {\n  constructor(options = {}) {\n    this._hue = 0;\n    this._saturation = 100;\n    this._value = 100;\n    this._alpha = 100;\n    this.enableAlpha = false;\n    this.format = \"hex\";\n    this.value = \"\";\n    for (const option in options) {\n      if (hasOwn(options, option)) {\n        this[option] = options[option];\n      }\n    }\n    if (options.value) {\n      this.fromString(options.value);\n    } else {\n      this.doOnChange();\n    }\n  }\n  set(prop, value) {\n    if (arguments.length === 1 && typeof prop === \"object\") {\n      for (const p in prop) {\n        if (hasOwn(prop, p)) {\n          this.set(p, prop[p]);\n        }\n      }\n      return;\n    }\n    ;\n    this[`_${prop}`] = value;\n    this.doOnChange();\n  }\n  get(prop) {\n    if (prop === \"alpha\") {\n      return Math.floor(this[`_${prop}`]);\n    }\n    return this[`_${prop}`];\n  }\n  toRgb() {\n    return hsv2rgb(this._hue, this._saturation, this._value);\n  }\n  fromString(value) {\n    if (!value) {\n      this._hue = 0;\n      this._saturation = 100;\n      this._value = 100;\n      this.doOnChange();\n      return;\n    }\n    const fromHSV = (h, s, v) => {\n      this._hue = Math.max(0, Math.min(360, h));\n      this._saturation = Math.max(0, Math.min(100, s));\n      this._value = Math.max(0, Math.min(100, v));\n      this.doOnChange();\n    };\n    if (value.includes(\"hsl\")) {\n      const parts = value.replace(/hsla|hsl|\\(|\\)/gm, \"\").split(/\\s|,/g).filter((val) => val !== \"\").map((val, index) => index > 2 ? Number.parseFloat(val) : Number.parseInt(val, 10));\n      if (parts.length === 4) {\n        this._alpha = Number.parseFloat(parts[3]) * 100;\n      } else if (parts.length === 3) {\n        this._alpha = 100;\n      }\n      if (parts.length >= 3) {\n        const { h, s, v } = hsl2hsv(parts[0], parts[1], parts[2]);\n        fromHSV(h, s, v);\n      }\n    } else if (value.includes(\"hsv\")) {\n      const parts = value.replace(/hsva|hsv|\\(|\\)/gm, \"\").split(/\\s|,/g).filter((val) => val !== \"\").map((val, index) => index > 2 ? Number.parseFloat(val) : Number.parseInt(val, 10));\n      if (parts.length === 4) {\n        this._alpha = Number.parseFloat(parts[3]) * 100;\n      } else if (parts.length === 3) {\n        this._alpha = 100;\n      }\n      if (parts.length >= 3) {\n        fromHSV(parts[0], parts[1], parts[2]);\n      }\n    } else if (value.includes(\"rgb\")) {\n      const parts = value.replace(/rgba|rgb|\\(|\\)/gm, \"\").split(/\\s|,/g).filter((val) => val !== \"\").map((val, index) => index > 2 ? Number.parseFloat(val) : Number.parseInt(val, 10));\n      if (parts.length === 4) {\n        this._alpha = Number.parseFloat(parts[3]) * 100;\n      } else if (parts.length === 3) {\n        this._alpha = 100;\n      }\n      if (parts.length >= 3) {\n        const { h, s, v } = rgb2hsv(parts[0], parts[1], parts[2]);\n        fromHSV(h, s, v);\n      }\n    } else if (value.includes(\"#\")) {\n      const hex = value.replace(\"#\", \"\").trim();\n      if (!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(hex))\n        return;\n      let r, g, b;\n      if (hex.length === 3) {\n        r = parseHexChannel(hex[0] + hex[0]);\n        g = parseHexChannel(hex[1] + hex[1]);\n        b = parseHexChannel(hex[2] + hex[2]);\n      } else if (hex.length === 6 || hex.length === 8) {\n        r = parseHexChannel(hex.slice(0, 2));\n        g = parseHexChannel(hex.slice(2, 4));\n        b = parseHexChannel(hex.slice(4, 6));\n      }\n      if (hex.length === 8) {\n        this._alpha = parseHexChannel(hex.slice(6)) / 255 * 100;\n      } else if (hex.length === 3 || hex.length === 6) {\n        this._alpha = 100;\n      }\n      const { h, s, v } = rgb2hsv(r, g, b);\n      fromHSV(h, s, v);\n    }\n  }\n  compare(color) {\n    return Math.abs(color._hue - this._hue) < 2 && Math.abs(color._saturation - this._saturation) < 1 && Math.abs(color._value - this._value) < 1 && Math.abs(color._alpha - this._alpha) < 1;\n  }\n  doOnChange() {\n    const { _hue, _saturation, _value, _alpha, format } = this;\n    if (this.enableAlpha) {\n      switch (format) {\n        case \"hsl\": {\n          const hsl = hsv2hsl(_hue, _saturation / 100, _value / 100);\n          this.value = `hsla(${_hue}, ${Math.round(hsl[1] * 100)}%, ${Math.round(hsl[2] * 100)}%, ${this.get(\"alpha\") / 100})`;\n          break;\n        }\n        case \"hsv\": {\n          this.value = `hsva(${_hue}, ${Math.round(_saturation)}%, ${Math.round(_value)}%, ${this.get(\"alpha\") / 100})`;\n          break;\n        }\n        case \"hex\": {\n          this.value = `${toHex(hsv2rgb(_hue, _saturation, _value))}${hexOne(_alpha * 255 / 100)}`;\n          break;\n        }\n        default: {\n          const { r, g, b } = hsv2rgb(_hue, _saturation, _value);\n          this.value = `rgba(${r}, ${g}, ${b}, ${this.get(\"alpha\") / 100})`;\n        }\n      }\n    } else {\n      switch (format) {\n        case \"hsl\": {\n          const hsl = hsv2hsl(_hue, _saturation / 100, _value / 100);\n          this.value = `hsl(${_hue}, ${Math.round(hsl[1] * 100)}%, ${Math.round(hsl[2] * 100)}%)`;\n          break;\n        }\n        case \"hsv\": {\n          this.value = `hsv(${_hue}, ${Math.round(_saturation)}%, ${Math.round(_value)}%)`;\n          break;\n        }\n        case \"rgb\": {\n          const { r, g, b } = hsv2rgb(_hue, _saturation, _value);\n          this.value = `rgb(${r}, ${g}, ${b})`;\n          break;\n        }\n        default: {\n          this.value = toHex(hsv2rgb(_hue, _saturation, _value));\n        }\n      }\n    }\n  }\n}\n\nexport { Color as default };\n//# sourceMappingURL=color.mjs.map\n","import { defineComponent, inject, ref, watch, watchEffect, openBlock, createElementBlock, normalizeClass, createElementVNode, Fragment, renderList, normalizeStyle } from 'vue';\nimport '../../../../hooks/index.mjs';\nimport { colorPickerContextKey } from '../color-picker.mjs';\nimport Color from '../utils/color.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\n\nconst _sfc_main = defineComponent({\n  props: {\n    colors: {\n      type: Array,\n      required: true\n    },\n    color: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const ns = useNamespace(\"color-predefine\");\n    const { currentColor } = inject(colorPickerContextKey);\n    const rgbaColors = ref(parseColors(props.colors, props.color));\n    watch(() => currentColor.value, (val) => {\n      const color = new Color();\n      color.fromString(val);\n      rgbaColors.value.forEach((item) => {\n        item.selected = color.compare(item);\n      });\n    });\n    watchEffect(() => {\n      rgbaColors.value = parseColors(props.colors, props.color);\n    });\n    function handleSelect(index) {\n      props.color.fromString(props.colors[index]);\n    }\n    function parseColors(colors, color) {\n      return colors.map((value) => {\n        const c = new Color();\n        c.enableAlpha = true;\n        c.format = \"rgba\";\n        c.fromString(value);\n        c.selected = c.value === color.value;\n        return c;\n      });\n    }\n    return {\n      rgbaColors,\n      handleSelect,\n      ns\n    };\n  }\n});\nconst _hoisted_1 = [\"onClick\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass(_ctx.ns.b())\n  }, [\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.ns.e(\"colors\"))\n    }, [\n      (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.rgbaColors, (item, index) => {\n        return openBlock(), createElementBlock(\"div\", {\n          key: _ctx.colors[index],\n          class: normalizeClass([\n            _ctx.ns.e(\"color-selector\"),\n            _ctx.ns.is(\"alpha\", item._alpha < 100),\n            { selected: item.selected }\n          ]),\n          onClick: ($event) => _ctx.handleSelect(index)\n        }, [\n          createElementVNode(\"div\", {\n            style: normalizeStyle({ backgroundColor: item.value })\n          }, null, 4)\n        ], 10, _hoisted_1);\n      }), 128))\n    ], 2)\n  ], 2);\n}\nvar Predefine = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue\"]]);\n\nexport { Predefine as default };\n//# sourceMappingURL=predefine.mjs.map\n","import { defineComponent, getCurrentInstance, ref, computed, watch, onMounted, createElementVNode, openBlock, createElementBlock, normalizeClass, normalizeStyle } from 'vue';\nimport '../../../../utils/index.mjs';\nimport '../../../../hooks/index.mjs';\nimport { draggable } from '../utils/draggable.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nimport { getClientXY } from '../../../../utils/dom/position.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElSlPanel\",\n  props: {\n    color: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const ns = useNamespace(\"color-svpanel\");\n    const instance = getCurrentInstance();\n    const cursorTop = ref(0);\n    const cursorLeft = ref(0);\n    const background = ref(\"hsl(0, 100%, 50%)\");\n    const colorValue = computed(() => {\n      const hue = props.color.get(\"hue\");\n      const value = props.color.get(\"value\");\n      return { hue, value };\n    });\n    function update() {\n      const saturation = props.color.get(\"saturation\");\n      const value = props.color.get(\"value\");\n      const el = instance.vnode.el;\n      const { clientWidth: width, clientHeight: height } = el;\n      cursorLeft.value = saturation * width / 100;\n      cursorTop.value = (100 - value) * height / 100;\n      background.value = `hsl(${props.color.get(\"hue\")}, 100%, 50%)`;\n    }\n    function handleDrag(event) {\n      const el = instance.vnode.el;\n      const rect = el.getBoundingClientRect();\n      const { clientX, clientY } = getClientXY(event);\n      let left = clientX - rect.left;\n      let top = clientY - rect.top;\n      left = Math.max(0, left);\n      left = Math.min(left, rect.width);\n      top = Math.max(0, top);\n      top = Math.min(top, rect.height);\n      cursorLeft.value = left;\n      cursorTop.value = top;\n      props.color.set({\n        saturation: left / rect.width * 100,\n        value: 100 - top / rect.height * 100\n      });\n    }\n    watch(() => colorValue.value, () => {\n      update();\n    });\n    onMounted(() => {\n      draggable(instance.vnode.el, {\n        drag: (event) => {\n          handleDrag(event);\n        },\n        end: (event) => {\n          handleDrag(event);\n        }\n      });\n      update();\n    });\n    return {\n      cursorTop,\n      cursorLeft,\n      background,\n      colorValue,\n      handleDrag,\n      update,\n      ns\n    };\n  }\n});\nconst _hoisted_1 = /* @__PURE__ */ createElementVNode(\"div\", null, null, -1);\nconst _hoisted_2 = [\n  _hoisted_1\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass(_ctx.ns.b()),\n    style: normalizeStyle({\n      backgroundColor: _ctx.background\n    })\n  }, [\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.ns.e(\"white\"))\n    }, null, 2),\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.ns.e(\"black\"))\n    }, null, 2),\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.ns.e(\"cursor\")),\n      style: normalizeStyle({\n        top: _ctx.cursorTop + \"px\",\n        left: _ctx.cursorLeft + \"px\"\n      })\n    }, _hoisted_2, 6)\n  ], 6);\n}\nvar SvPanel = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue\"]]);\n\nexport { SvPanel as default };\n//# sourceMappingURL=sv-panel.mjs.map\n","import { defineComponent, ref, reactive, computed, nextTick, onMounted, watch, provide, openBlock, createBlock, unref, withCtx, withDirectives, createElementBlock, createElementVNode, normalizeClass, createVNode, createCommentVNode, withKeys, createTextVNode, toDisplayString, normalizeStyle, vShow } from 'vue';\nimport { debounce } from 'lodash-unified';\nimport { ElButton } from '../../button/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport '../../../directives/index.mjs';\nimport { ElTooltip } from '../../tooltip/index.mjs';\nimport { ElInput } from '../../input/index.mjs';\nimport '../../form/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../constants/index.mjs';\nimport '../../../utils/index.mjs';\nimport { ArrowDown, Close } from '@element-plus/icons-vue';\nimport AlphaSlider from './components/alpha-slider.mjs';\nimport HueSlider from './components/hue-slider.mjs';\nimport Predefine from './components/predefine.mjs';\nimport SvPanel from './components/sv-panel.mjs';\nimport Color from './utils/color.mjs';\nimport { colorPickerProps, colorPickerEmits, colorPickerContextKey } from './color-picker.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useFormItem, useFormItemInputId } from '../../form/src/hooks/use-form-item.mjs';\nimport { useFormSize, useFormDisabled } from '../../form/src/hooks/use-form-common-props.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\nimport ClickOutside from '../../../directives/click-outside/index.mjs';\n\nconst _hoisted_1 = [\"id\", \"aria-label\", \"aria-labelledby\", \"aria-description\", \"tabindex\", \"onKeydown\"];\nconst __default__ = defineComponent({\n  name: \"ElColorPicker\"\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: colorPickerProps,\n  emits: colorPickerEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const { t } = useLocale();\n    const ns = useNamespace(\"color\");\n    const { formItem } = useFormItem();\n    const colorSize = useFormSize();\n    const colorDisabled = useFormDisabled();\n    const { inputId: buttonId, isLabeledByFormItem } = useFormItemInputId(props, {\n      formItemContext: formItem\n    });\n    const hue = ref();\n    const sv = ref();\n    const alpha = ref();\n    const popper = ref();\n    let shouldActiveChange = true;\n    const color = reactive(new Color({\n      enableAlpha: props.showAlpha,\n      format: props.colorFormat || \"\",\n      value: props.modelValue\n    }));\n    const showPicker = ref(false);\n    const showPanelColor = ref(false);\n    const customInput = ref(\"\");\n    const displayedColor = computed(() => {\n      if (!props.modelValue && !showPanelColor.value) {\n        return \"transparent\";\n      }\n      return displayedRgb(color, props.showAlpha);\n    });\n    const currentColor = computed(() => {\n      return !props.modelValue && !showPanelColor.value ? \"\" : color.value;\n    });\n    const buttonAriaLabel = computed(() => {\n      return !isLabeledByFormItem.value ? props.label || t(\"el.colorpicker.defaultLabel\") : void 0;\n    });\n    const buttonAriaLabelledby = computed(() => {\n      return isLabeledByFormItem.value ? formItem == null ? void 0 : formItem.labelId : void 0;\n    });\n    const btnKls = computed(() => {\n      return [\n        ns.b(\"picker\"),\n        ns.is(\"disabled\", colorDisabled.value),\n        ns.bm(\"picker\", colorSize.value)\n      ];\n    });\n    function displayedRgb(color2, showAlpha) {\n      if (!(color2 instanceof Color)) {\n        throw new TypeError(\"color should be instance of _color Class\");\n      }\n      const { r, g, b } = color2.toRgb();\n      return showAlpha ? `rgba(${r}, ${g}, ${b}, ${color2.get(\"alpha\") / 100})` : `rgb(${r}, ${g}, ${b})`;\n    }\n    function setShowPicker(value) {\n      showPicker.value = value;\n    }\n    const debounceSetShowPicker = debounce(setShowPicker, 100);\n    function show() {\n      if (colorDisabled.value)\n        return;\n      setShowPicker(true);\n    }\n    function hide() {\n      debounceSetShowPicker(false);\n      resetColor();\n    }\n    function resetColor() {\n      nextTick(() => {\n        if (props.modelValue) {\n          color.fromString(props.modelValue);\n        } else {\n          color.value = \"\";\n          nextTick(() => {\n            showPanelColor.value = false;\n          });\n        }\n      });\n    }\n    function handleTrigger() {\n      if (colorDisabled.value)\n        return;\n      debounceSetShowPicker(!showPicker.value);\n    }\n    function handleConfirm() {\n      color.fromString(customInput.value);\n    }\n    function confirmValue() {\n      const value = color.value;\n      emit(UPDATE_MODEL_EVENT, value);\n      emit(\"change\", value);\n      if (props.validateEvent) {\n        formItem == null ? void 0 : formItem.validate(\"change\").catch((err) => debugWarn(err));\n      }\n      debounceSetShowPicker(false);\n      nextTick(() => {\n        const newColor = new Color({\n          enableAlpha: props.showAlpha,\n          format: props.colorFormat || \"\",\n          value: props.modelValue\n        });\n        if (!color.compare(newColor)) {\n          resetColor();\n        }\n      });\n    }\n    function clear() {\n      debounceSetShowPicker(false);\n      emit(UPDATE_MODEL_EVENT, null);\n      emit(\"change\", null);\n      if (props.modelValue !== null && props.validateEvent) {\n        formItem == null ? void 0 : formItem.validate(\"change\").catch((err) => debugWarn(err));\n      }\n      resetColor();\n    }\n    onMounted(() => {\n      if (props.modelValue) {\n        customInput.value = currentColor.value;\n      }\n    });\n    watch(() => props.modelValue, (newVal) => {\n      if (!newVal) {\n        showPanelColor.value = false;\n      } else if (newVal && newVal !== color.value) {\n        shouldActiveChange = false;\n        color.fromString(newVal);\n      }\n    });\n    watch(() => currentColor.value, (val) => {\n      customInput.value = val;\n      shouldActiveChange && emit(\"activeChange\", val);\n      shouldActiveChange = true;\n    });\n    watch(() => color.value, () => {\n      if (!props.modelValue && !showPanelColor.value) {\n        showPanelColor.value = true;\n      }\n    });\n    watch(() => showPicker.value, () => {\n      nextTick(() => {\n        var _a, _b, _c;\n        (_a = hue.value) == null ? void 0 : _a.update();\n        (_b = sv.value) == null ? void 0 : _b.update();\n        (_c = alpha.value) == null ? void 0 : _c.update();\n      });\n    });\n    provide(colorPickerContextKey, {\n      currentColor\n    });\n    expose({\n      color,\n      show,\n      hide\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(ElTooltip), {\n        ref_key: \"popper\",\n        ref: popper,\n        visible: showPicker.value,\n        \"show-arrow\": false,\n        \"fallback-placements\": [\"bottom\", \"top\", \"right\", \"left\"],\n        offset: 0,\n        \"gpu-acceleration\": false,\n        \"popper-class\": [unref(ns).be(\"picker\", \"panel\"), unref(ns).b(\"dropdown\"), _ctx.popperClass],\n        \"stop-popper-mouse-event\": false,\n        effect: \"light\",\n        trigger: \"click\",\n        transition: `${unref(ns).namespace.value}-zoom-in-top`,\n        persistent: \"\"\n      }, {\n        content: withCtx(() => [\n          withDirectives((openBlock(), createElementBlock(\"div\", null, [\n            createElementVNode(\"div\", {\n              class: normalizeClass(unref(ns).be(\"dropdown\", \"main-wrapper\"))\n            }, [\n              createVNode(HueSlider, {\n                ref_key: \"hue\",\n                ref: hue,\n                class: \"hue-slider\",\n                color: unref(color),\n                vertical: \"\"\n              }, null, 8, [\"color\"]),\n              createVNode(SvPanel, {\n                ref: \"svPanel\",\n                color: unref(color)\n              }, null, 8, [\"color\"])\n            ], 2),\n            _ctx.showAlpha ? (openBlock(), createBlock(AlphaSlider, {\n              key: 0,\n              ref_key: \"alpha\",\n              ref: alpha,\n              color: unref(color)\n            }, null, 8, [\"color\"])) : createCommentVNode(\"v-if\", true),\n            _ctx.predefine ? (openBlock(), createBlock(Predefine, {\n              key: 1,\n              ref: \"predefine\",\n              color: unref(color),\n              colors: _ctx.predefine\n            }, null, 8, [\"color\", \"colors\"])) : createCommentVNode(\"v-if\", true),\n            createElementVNode(\"div\", {\n              class: normalizeClass(unref(ns).be(\"dropdown\", \"btns\"))\n            }, [\n              createElementVNode(\"span\", {\n                class: normalizeClass(unref(ns).be(\"dropdown\", \"value\"))\n              }, [\n                createVNode(unref(ElInput), {\n                  modelValue: customInput.value,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => customInput.value = $event),\n                  \"validate-event\": false,\n                  size: \"small\",\n                  onKeyup: withKeys(handleConfirm, [\"enter\"]),\n                  onBlur: handleConfirm\n                }, null, 8, [\"modelValue\", \"onKeyup\"])\n              ], 2),\n              createVNode(unref(ElButton), {\n                class: normalizeClass(unref(ns).be(\"dropdown\", \"link-btn\")),\n                text: \"\",\n                size: \"small\",\n                onClick: clear\n              }, {\n                default: withCtx(() => [\n                  createTextVNode(toDisplayString(unref(t)(\"el.colorpicker.clear\")), 1)\n                ]),\n                _: 1\n              }, 8, [\"class\"]),\n              createVNode(unref(ElButton), {\n                plain: \"\",\n                size: \"small\",\n                class: normalizeClass(unref(ns).be(\"dropdown\", \"btn\")),\n                onClick: confirmValue\n              }, {\n                default: withCtx(() => [\n                  createTextVNode(toDisplayString(unref(t)(\"el.colorpicker.confirm\")), 1)\n                ]),\n                _: 1\n              }, 8, [\"class\"])\n            ], 2)\n          ])), [\n            [unref(ClickOutside), hide]\n          ])\n        ]),\n        default: withCtx(() => [\n          createElementVNode(\"div\", {\n            id: unref(buttonId),\n            class: normalizeClass(unref(btnKls)),\n            role: \"button\",\n            \"aria-label\": unref(buttonAriaLabel),\n            \"aria-labelledby\": unref(buttonAriaLabelledby),\n            \"aria-description\": unref(t)(\"el.colorpicker.description\", { color: _ctx.modelValue || \"\" }),\n            tabindex: _ctx.tabindex,\n            onKeydown: withKeys(handleTrigger, [\"enter\"])\n          }, [\n            unref(colorDisabled) ? (openBlock(), createElementBlock(\"div\", {\n              key: 0,\n              class: normalizeClass(unref(ns).be(\"picker\", \"mask\"))\n            }, null, 2)) : createCommentVNode(\"v-if\", true),\n            createElementVNode(\"div\", {\n              class: normalizeClass(unref(ns).be(\"picker\", \"trigger\")),\n              onClick: handleTrigger\n            }, [\n              createElementVNode(\"span\", {\n                class: normalizeClass([unref(ns).be(\"picker\", \"color\"), unref(ns).is(\"alpha\", _ctx.showAlpha)])\n              }, [\n                createElementVNode(\"span\", {\n                  class: normalizeClass(unref(ns).be(\"picker\", \"color-inner\")),\n                  style: normalizeStyle({\n                    backgroundColor: unref(displayedColor)\n                  })\n                }, [\n                  withDirectives(createVNode(unref(ElIcon), {\n                    class: normalizeClass([unref(ns).be(\"picker\", \"icon\"), unref(ns).is(\"icon-arrow-down\")])\n                  }, {\n                    default: withCtx(() => [\n                      createVNode(unref(ArrowDown))\n                    ]),\n                    _: 1\n                  }, 8, [\"class\"]), [\n                    [vShow, _ctx.modelValue || showPanelColor.value]\n                  ]),\n                  !_ctx.modelValue && !showPanelColor.value ? (openBlock(), createBlock(unref(ElIcon), {\n                    key: 0,\n                    class: normalizeClass([unref(ns).be(\"picker\", \"empty\"), unref(ns).is(\"icon-close\")])\n                  }, {\n                    default: withCtx(() => [\n                      createVNode(unref(Close))\n                    ]),\n                    _: 1\n                  }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n                ], 6)\n              ], 2)\n            ], 2)\n          ], 42, _hoisted_1)\n        ]),\n        _: 1\n      }, 8, [\"visible\", \"popper-class\", \"transition\"]);\n    };\n  }\n});\nvar ColorPicker = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue\"]]);\n\nexport { ColorPicker as default };\n//# sourceMappingURL=color-picker2.mjs.map\n","import '../../utils/index.mjs';\nimport ColorPicker from './src/color-picker2.mjs';\nexport { colorPickerContextKey, colorPickerEmits, colorPickerProps } from './src/color-picker.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElColorPicker = withInstall(ColorPicker);\n\nexport { ElColorPicker, ElColorPicker as default };\n//# sourceMappingURL=index.mjs.map\n","import '../../../utils/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\n\nconst dividerProps = buildProps({\n  direction: {\n    type: String,\n    values: [\"horizontal\", \"vertical\"],\n    default: \"horizontal\"\n  },\n  contentPosition: {\n    type: String,\n    values: [\"left\", \"center\", \"right\"],\n    default: \"center\"\n  },\n  borderStyle: {\n    type: definePropType(String),\n    default: \"solid\"\n  }\n});\n\nexport { dividerProps };\n//# sourceMappingURL=divider.mjs.map\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, unref, normalizeStyle, renderSlot, createCommentVNode } from 'vue';\nimport '../../../hooks/index.mjs';\nimport { dividerProps } from './divider.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst __default__ = defineComponent({\n  name: \"ElDivider\"\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: dividerProps,\n  setup(__props) {\n    const props = __props;\n    const ns = useNamespace(\"divider\");\n    const dividerStyle = computed(() => {\n      return ns.cssVar({\n        \"border-style\": props.borderStyle\n      });\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([unref(ns).b(), unref(ns).m(_ctx.direction)]),\n        style: normalizeStyle(unref(dividerStyle)),\n        role: \"separator\"\n      }, [\n        _ctx.$slots.default && _ctx.direction !== \"vertical\" ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          class: normalizeClass([unref(ns).e(\"text\"), unref(ns).is(_ctx.contentPosition)])\n        }, [\n          renderSlot(_ctx.$slots, \"default\")\n        ], 2)) : createCommentVNode(\"v-if\", true)\n      ], 6);\n    };\n  }\n});\nvar Divider = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue\"]]);\n\nexport { Divider as default };\n//# sourceMappingURL=divider2.mjs.map\n","import '../../utils/index.mjs';\nimport Divider from './src/divider2.mjs';\nexport { dividerProps } from './src/divider.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElDivider = withInstall(Divider);\n\nexport { ElDivider, ElDivider as default };\n//# sourceMappingURL=index.mjs.map\n","import { FabricObject } from '../../shared/fabric'\n\ninterface Options {\n  x: number\n  y: number\n  w?: number\n  h?: number\n  fillStyle?: string\n  strokeStyle?: string\n  tiggerFunc?: () => void\n}\n\nexport class LockIcon extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  private x = 0\n  private y = 0\n  private w = 20\n  private h = 14\n  private fillStyle = '#eeb174'\n  private strokeStyle = '#333'\n  private tiggerFunc: () => void\n\n  constructor(ctx: CanvasRenderingContext2D, options: Options) {\n    super()\n    this.ctx = ctx\n    this.analysisOptions(options)\n  }\n\n  private analysisOptions(options) {\n    if (options.x) this.x = options.x\n    if (options.y) this.y = options.y\n    if (options.w) this.w = options.w\n    if (options.h) this.h = options.h\n    if (options.fillStyle) this.fillStyle = options.fillStyle\n    if (options.strokeStyle) this.strokeStyle = options.strokeStyle\n    if (options.tiggerFunc) this.tiggerFunc = options.tiggerFunc\n  }\n\n  public draw() {\n    const { ctx, x, y, w, h, fillStyle, strokeStyle } = this\n    ctx.save()\n    ctx.fillStyle = fillStyle\n    ctx.strokeStyle = strokeStyle\n    ctx.lineWidth = 3\n    ctx.beginPath()\n    ctx.arc(x + w / 2, y - 3, w / 3, 0, Math.PI, true)\n    ctx.stroke()\n    ctx.drawRoundedRect(x, y, w, h, 2, 2, 2, 2, true, true, false, false)\n    ctx.restore()\n  }\n\n  public containsPoint(e: MouseEvent, trigger = false) {\n    const { x, y, w, h } = this\n    const { x: ex, y: ey } = e\n    const lines = this.getImageLines({\n      tl: { x: x, y: y },\n      tr: { x: x + w, y: y },\n      bl: { x: x, y: y + h },\n      br: { x: x + w, y: y + h },\n    })\n\n    const xpoints = this.findCrossPoints(ex, ey, lines)\n    const isContains = Boolean(xpoints % 2)\n\n    if (isContains && trigger) this.tiggerFunc?.()\n    return isContains\n  }\n}\n","/**\n * hex色值转换为rgb颜色\n * @param {String} hex    hex色值\n *\n * @return {String} rgb() 转换后的RGB色值\n */\nexport const hexToRgb = function (hex) {\n  //把诸如#fff转为#ffffff\n  hex.length === 4 &&\n    (hex =\n      hex.slice(0, 2) +\n      hex.slice(1, 2) +\n      hex.slice(2, 3) +\n      hex.slice(2, 3) +\n      hex.slice(3, 4) +\n      hex.slice(3, 4))\n\n  return (\n    'rgb(' +\n    parseInt('0x' + hex.slice(1, 3)) +\n    ',' +\n    parseInt('0x' + hex.slice(3, 5)) +\n    ',' +\n    parseInt('0x' + hex.slice(5, 7)) +\n    ')'\n  )\n}\n\n/**\n * 判断是否是浅色系\n * @param {String} color 要判断的颜色（接受hex/rgb颜色\n *\n * @return {Boolean}     true -> 是浅色系；false -> 是深色系；\n */\nexport const isLightColor = function (color) {\n  const rgbStr = color.includes('rgb') ? color : hexToRgb(color)\n  const rgbArr = rgbStr.replace(/rgb\\(|rgba\\(|\\)/g, '').split(',')\n\n  return 0.213 * rgbArr[0] + 0.715 * rgbArr[1] + 0.072 * rgbArr[2] > 255 / 2\n}\n","const prefix = 'L'\nfunction S4(): string {\n  return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n}\n\nexport function uuid(): string {\n  return `${prefix}${S4()}${S4()}-${S4()}-${S4()}-${S4()}-${S4()}${S4()}${S4()}`\n}\n\nexport function uuname(prefix: string, force = false): string {\n  if (force) return prefix\n  return `${prefix}-${S4()}${S4()}`\n}\n","import { FabricObject } from '../../shared/fabric'\nimport { Table, Attribute, CanvasEvent, Id } from '../../../types'\nimport {\n  DataTypeDate,\n  DataTypeNumber,\n  DataTypeString,\n} from '../../../types/enum'\nimport { imageMap } from '../../shared/image'\nimport { isBoolean, isNumber } from '../../utils/verify'\nimport { isLightColor } from '../../utils/color'\nimport { uuid } from '../../utils/uuid'\n\n/**\n * 待优化：\n * 1.属性超出画布无需渲染\n */\ninterface NodeInput extends Table {\n  x?: number\n  y?: number\n  width?: number\n  height?: number\n  bgC?: string\n  bdC?: string\n  quotePrimaryKey?: boolean\n  physicalTables?: boolean\n  manualChange?: boolean\n}\nexport class NodeErwin extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public width = 100\n  public height = 50\n  public titleHeight = 24\n  private fontSize = 12\n  private padding = 10\n\n  private attrHeight = 14\n  private borderWidth = 1\n  private datatypeIconWidth = 14\n\n  public x = 0\n  public y = 0\n  public id: Id\n  public enName: string\n  public cnName: string\n  public type: string\n  public attributes: Attribute[] = []\n  public attributesPrimary: Attribute[] = []\n  public attributesPrimaryNon: Attribute[] = []\n  private expandAttrs = []\n\n  public activeAttribute: Id\n\n  private borderColor = '#000000'\n  private textColor = '#000000'\n  private bgColor = '#FFFFFF'\n  private hoverColor = '#477DE9'\n  private attrFocusStyle = {\n    color: '#fff',\n    backgroundColor: '#0000ff',\n  }\n\n  private quotePrimaryKey = false\n  private physicalTables = false\n  private manualChange = false\n\n  constructor(ctx: CanvasRenderingContext2D, input: NodeInput) {\n    super()\n    this.ctx = ctx\n    this.updateOptions(input)\n  }\n\n  private analysisOptions(input: NodeInput) {\n    if (!input) return\n\n    const {\n      x,\n      y,\n      width,\n      height,\n      id,\n      enName,\n      cnName,\n      type,\n      attributes,\n      bgC,\n      bdC,\n      quotePrimaryKey,\n      physicalTables,\n      manualChange,\n    } = input\n\n    if (isNumber(x)) this.x = x\n    if (isNumber(y)) this.y = y\n    if (id) this.id = id\n    if (enName) this.enName = enName\n    if (cnName) this.cnName = cnName\n    if (isNumber(width)) this.width = width\n    if (isNumber(height)) this.height = height\n    if (type) this.type = type\n    if (attributes) {\n      this.attributes = attributes\n      this.attributesPartition()\n    }\n    if (bgC) this.bgColor = bgC\n    if (bdC) this.borderColor = bdC\n    if (isBoolean(quotePrimaryKey)) this.quotePrimaryKey = quotePrimaryKey\n    if (isBoolean(physicalTables)) this.physicalTables = physicalTables\n    if (isBoolean(manualChange)) this.manualChange = manualChange\n  }\n\n  public updateOptions(input: NodeInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public containsPoint(e: CanvasEvent) {\n    const { x: ex, y: ey } = e\n    const { x, y, width: w, height: h, attrHeight } = this\n\n    // 是否节点触发\n    const linesForNode = this.getImageLines({\n      tl: { x, y: y },\n      tr: { x: x + w, y: y },\n      bl: { x, y: y + h },\n      br: { x: x + w, y: y + h },\n    })\n    const xpointsNode = this.findCrossPoints(ex, ey, linesForNode)\n    const isContainsNode = Boolean(xpointsNode % 2)\n    if (!isContainsNode) return false\n\n    // return true\n\n    // 属性触发\n    const relativeH =\n      ey - y - this.padding - (this.attributesPrimary.length ? 0 : attrHeight)\n    const attrIndex = Math.floor(relativeH / attrHeight)\n    const attrId = [\n      ...this.attributesPrimary,\n      {},\n      ...this.attributesPrimaryNon,\n    ][attrIndex]?.id\n    this.activeAttribute = attrId\n    return attrId ?? true\n  }\n\n  public draw(input?: NodeInput) {\n    this.updateOptions(input)\n\n    this.drawContainer()\n    this.drawTitle()\n    this.drawbody()\n  }\n\n  private drawContainer() {\n    const {\n      ctx,\n      x,\n      y,\n      width: w,\n      height: h,\n      type,\n      bgColor,\n      borderColor,\n      quotePrimaryKey,\n      physicalTables,\n    } = this\n\n    ctx.save()\n    ctx.strokeStyle = borderColor\n    ctx.fillStyle = bgColor\n    //分支节点\n    if (['exclusive', 'inclusive'].includes(type)) {\n      ctx.beginPath()\n      ctx.arc(x + w / 2, y + w / 2, w / 2, 0, Math.PI, true)\n      ctx.closePath()\n      ctx.fill()\n      ctx.stroke()\n\n      if (type === 'exclusive') {\n        ctx.moveTo(x + 12, y + 6)\n        ctx.lineTo(x + w - 12, y + h - 3)\n        ctx.moveTo(x + w - 12, y + 6)\n        ctx.lineTo(x + 12, y + h - 3)\n        ctx.stroke()\n      }\n    }\n    //圆角矩形\n    else {\n      const roundedDeg = quotePrimaryKey ? 4 : 0\n      ctx.drawRoundedRect(\n        x,\n        y,\n        w,\n        h,\n        roundedDeg,\n        roundedDeg,\n        roundedDeg,\n        roundedDeg,\n        true,\n        true,\n        physicalTables,\n        true,\n      )\n    }\n\n    // //绘制表体文字\n    // attributes && this._drawBody(item)\n\n    //绘制聚焦节点标识\n    // if (this.focusTarget.includes(item) && !['exclusive', 'inclusive'].includes(item.type)) this._drawFocus(x, y, w, h)\n\n    ctx.restore()\n  }\n\n  private drawDataType(\n    datatype: DataTypeDate | DataTypeNumber | DataTypeString,\n    x: number,\n    y: number,\n  ) {\n    const datatypeUpper = datatype?.toLocaleUpperCase()\n    let img\n    if (datatypeUpper in DataTypeDate) {\n      img = imageMap.get('date')\n    } else if (datatypeUpper in DataTypeNumber) {\n      img = imageMap.get('number')\n    } else if (datatypeUpper in DataTypeString) {\n      img = imageMap.get('string')\n    }\n\n    const { ctx } = this\n    if (!img) {\n      ctx.save()\n      ctx.fillStyle = '#808080'\n      ctx.fillText('?', x, y, this.fontSize)\n      ctx.restore()\n      return false\n    }\n    ctx.drawImage(img, x, y, this.fontSize, this.fontSize)\n  }\n\n  private drawTitle() {\n    const { ctx, textColor, enName, width, x, y, titleHeight, fontSize } = this\n\n    ctx.save()\n    // 设置字体\n    ctx.font = `${fontSize}px`\n    // 设置颜色\n    ctx.fillStyle = textColor\n    // 设置水平对齐方式\n    ctx.textAlign = 'left'\n    // 设置垂直对齐方式\n    ctx.textBaseline = 'top'\n    ctx.fillText(ctx.fittingString(enName, width - 14), x, y - titleHeight)\n    ctx.restore()\n  }\n\n  private drawbody() {\n    const {\n      ctx,\n      x,\n      y,\n      bgColor: bgC,\n      fontSize,\n      padding,\n      attrHeight,\n      attributesPrimary,\n      attributesPrimaryNon,\n    } = this\n\n    ctx.save()\n    // 设置字体\n    ctx.font = `${fontSize}px Arial`\n    // 设置字体颜色\n    ctx.fillStyle = isLightColor(bgC) ? '#000' : '#fff'\n    // 设置水平对齐方式\n    ctx.textAlign = 'left'\n    // 设置垂直对齐方式\n    ctx.textBaseline = 'top'\n\n    const curX = padding + x\n    let curY = y + padding - attrHeight\n\n    //绘制主键\n    for (let i = 0; i < attributesPrimary.length; i++) {\n      const item = attributesPrimary[i]\n      curY = this.drawAttrRow(item, curX, curY)\n    }\n\n    //绘制主键/非主键分割线\n    curY = this.drawSplitLine(curY)\n\n    //绘制非主键\n    for (let i = 0; i < attributesPrimaryNon.length; i++) {\n      const item = attributesPrimaryNon[i]\n      curY = this.drawAttrRow(item, curX, curY)\n    }\n\n    ctx.restore()\n  }\n\n  private drawAttrRow(attrItem, curX, curY) {\n    const {\n      ctx,\n      attrHeight,\n      padding,\n      fontSize,\n      x,\n      y,\n      width: w,\n      height: h,\n    } = this\n\n    curY += attrHeight\n\n    // 判断是否超出实体框\n    if (curY + 16 > h + y) return\n\n    // 判断是否超出可视范围\n    // if (!this.canvas.isVisible([[curX, curY], [curX + w, curY + fontSize]])) return\n\n    if (this.activeAttribute === attrItem.id) {\n      ctx.save()\n      ctx.fillStyle = '#ADD8E6'\n      ctx.fillRect(\n        curX + fontSize,\n        curY - 1,\n        w - (curX - x) - padding - fontSize,\n        attrHeight,\n      )\n      ctx.restore()\n    }\n\n    this.drawDataType(attrItem.type, curX, curY)\n\n    // 绘制FK标识\n    const addText = attrItem.foreignKey ? '(FK)' : ''\n    const finalText = ctx.fittingString(\n      attrItem.attrName + addText,\n      w - (curX - x) - padding - fontSize,\n    )\n    // 开始绘制主键\n    ctx.fillText(finalText, curX + fontSize, curY)\n\n    // this.drawFocusAttr({\n    //   attrItem,\n    //   finalText,\n    //   curX,\n    //   curY,\n    //   fullWidth: w - (curX - x),\n    //   nodePadding: padding,\n    // })\n\n    // 绘制尾部icon\n    const textWidth = curX + ctx.measureText(finalText).width + fontSize\n    this.drawIcons(attrItem.icons, textWidth, curY)\n\n    if (attrItem.children?.length) {\n      // 是否是展开状态\n      const isExpand = this.expandAttrs.includes(attrItem)\n\n      // 绘制树结构箭头\n      this.drawTreeExpandArrow.call(this, {\n        x: curX,\n        y: curY,\n        size: fontSize,\n        expand: isExpand,\n      })\n\n      // 绘制子节点\n      isExpand &&\n        attrItem.children.forEach((attrItem) => {\n          curY = this.drawAttrRow(attrItem, curX + 10, curY)\n        })\n    }\n\n    return curY\n  }\n\n  private drawIcons(icons = [], startX: number, startY: number) {\n    const { fontSize, x, width, padding } = this\n    for (let i = 0; i < icons.length; i++) {\n      const icon = icons[i]\n      const iconX = startX + fontSize * 0.7 + i * (fontSize * 1.2)\n\n      if (iconX + (fontSize / 2) * 3 > x + width + padding) return\n      this.drawIcon(icon, iconX, startY)\n    }\n  }\n\n  private drawIcon(icon, startX: number, startY: number) {\n    const { ctx, attrHeight, fontSize } = this\n\n    ctx.save()\n    /**\n     * 开始绘制背景圆圈\n     */\n    ctx.beginPath()\n    ctx.strokeStyle = icon.bdC || '#0C64EB'\n    ctx.fillStyle = icon.bgC || '#ECF5FF'\n    ctx.arc(\n      startX,\n      startY + Math.floor(attrHeight / 2) - 1,\n      fontSize / 2,\n      0,\n      2 * Math.PI,\n    )\n    ctx.fill()\n    ctx.stroke()\n\n    /**\n     * 开始绘制文字\n     */\n    ctx.fillStyle = icon.color || '#0C64EB'\n    ctx.font = `${Math.ceil(fontSize / 1.2)}px Arial`\n    // 设置水平对齐方式\n    ctx.textAlign = 'center'\n    ctx.fillText(icon.text, startX, startY + (attrHeight - fontSize) / 2 + 1)\n    ctx.restore()\n  }\n\n  private drawSplitLine(curY) {\n    const {\n      ctx,\n      attributesPrimary,\n      attrHeight,\n      x,\n      y,\n      width: w,\n      height: h,\n    } = this\n    curY += (attributesPrimary.length ? 1 : 2) * attrHeight\n\n    ctx.save()\n    if (curY < h + y) {\n      ctx.beginPath()\n      ctx.strokeStyle = '#000'\n      ctx.moveTo(x + 0.5, curY + attrHeight / 3 + 0.5)\n      ctx.lineTo(x + w + 0.5, curY + attrHeight / 3 + 0.5)\n      ctx.stroke()\n    }\n    ctx.restore()\n    return curY\n  }\n\n  private drawTreeExpandArrow({ x, y, size, expand }) {\n    const { ctx } = this\n\n    ctx.save()\n    ctx.beginPath()\n    ctx.translate(x - 4, y + size / 2)\n    expand && ctx.rotate((90 * Math.PI) / 180)\n    ctx.moveTo(-2, -4)\n    ctx.lineTo(-2, 4)\n    ctx.lineTo(2, 0)\n    ctx.fill()\n    ctx.restore()\n  }\n\n  private drawFocusAttr({\n    attrItem,\n    finalText,\n    curX,\n    curY,\n    fullWidth,\n    nodePadding,\n  }) {\n    // if (this.focusAttr !== attrItem) return\n\n    const { ctx, attrFocusStyle } = this\n    const backgroundStartX = attrItem?.children?.length\n      ? curX\n      : curX - nodePadding / 2\n    const backgroundWidth = attrItem?.children?.length\n      ? fullWidth - nodePadding / 2\n      : fullWidth\n\n    ctx.save()\n    ctx.fillStyle = attrFocusStyle.backgroundColor\n    ctx.fillRect(backgroundStartX, curY - 1, backgroundWidth, 16)\n\n    ctx.fillStyle = attrFocusStyle.color\n    ctx.fillText(finalText, curX, curY)\n\n    ctx.restore()\n  }\n\n  // 分裂主键非主键\n  private attributesPartition() {\n    this.attributesPrimary = []\n    this.attributesPrimaryNon = []\n\n    const { attributes, attributesPrimary, attributesPrimaryNon } = this\n    for (let i = 0; i < attributes.length; i++) {\n      const item = attributes[i]\n      item.primaryKey\n        ? attributesPrimary.push(item)\n        : attributesPrimaryNon.push(item)\n      // 补属性id\n      if (!item.id) item.id = uuid()\n    }\n  }\n\n  private calcBoundingBox() {\n    const { x, y, width, height } = this\n\n    this.boundingBox = [\n      [x, y],\n      [x + width, y],\n      [x, y + height],\n      [x + width, y + height],\n    ]\n  }\n}\n","import { FabricObject } from '../../shared/fabric'\nimport { Table, Attribute, CanvasEvent, Id } from '../../../types'\nimport { isBoolean, isNumber } from '../../utils/verify'\n\n/**\n * 待优化：\n * 1.属性超出画布无需渲染\n */\ninterface NodeInput extends Table {\n  x?: number\n  y?: number\n  width?: number\n  height?: number\n  bgC?: string\n  bdC?: string\n  quotePrimaryKey?: boolean\n  physicalTables?: boolean\n  manualChange?: boolean\n}\nexport class NodeRect extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public width = 100\n  public height = 50\n  public titleHeight = 24\n  private fontSize = 16\n  private padding = 10\n\n  private attrHeight = 16\n  private borderWidth = 1\n  private datatypeIconWidth = 14\n\n  public x = 0\n  public y = 0\n  public id: Id\n  public enName: string\n  public cnName: string\n  public type: string\n  public attributes: Attribute[] = []\n  public attributesPrimary: Attribute[] = []\n  public attributesPrimaryNon: Attribute[] = []\n  private expandAttrs = []\n\n  private borderColor = '#000000'\n  private textColor = '#000000'\n  private bgColor: string\n  private hoverColor = '#477DE9'\n  private attrFocusStyle = {\n    color: '#fff',\n    backgroundColor: '#0000ff',\n  }\n\n  private quotePrimaryKey = false\n  private physicalTables = false\n  private manualChange = false\n\n  constructor(ctx: CanvasRenderingContext2D, input: NodeInput) {\n    super()\n    this.ctx = ctx\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  private analysisOptions(input: NodeInput) {\n    if (!input) return\n\n    const {\n      x,\n      y,\n      width,\n      height,\n      id,\n      enName,\n      cnName,\n      type,\n      bgC,\n      bdC,\n      quotePrimaryKey,\n      physicalTables,\n      manualChange,\n    } = input\n\n    if (isNumber(x)) this.x = x\n    if (isNumber(y)) this.y = y\n    if (id) this.id = id\n    if (enName) this.enName = enName\n    if (cnName) this.cnName = cnName\n    if (isNumber(width)) this.width = width\n    if (isNumber(height)) this.height = height\n    if (type) this.type = type\n    if (bgC) this.bgColor = bgC\n    if (bdC) this.borderColor = bdC\n    if (isBoolean(quotePrimaryKey)) this.quotePrimaryKey = quotePrimaryKey\n    if (isBoolean(physicalTables)) this.physicalTables = physicalTables\n    if (isBoolean(manualChange)) this.manualChange = manualChange\n  }\n\n  public updateOptions(input: NodeInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public containsPoint(e: CanvasEvent) {\n    const { x: ex, y: ey } = e\n    const { x, y, width: w, height: h } = this\n\n    // 是否节点触发\n    const linesForNode = this.getImageLines({\n      tl: { x, y: y },\n      tr: { x: x + w, y: y },\n      bl: { x, y: y + h },\n      br: { x: x + w, y: y + h },\n    })\n    const xpointsNode = this.findCrossPoints(ex, ey, linesForNode)\n    const isContainsNode = Boolean(xpointsNode % 2)\n    if (!isContainsNode) return false\n\n    return true\n    // const relativeH = ey - y\n\n    // // 属性触发\n    // const attrIndex = Math.floor((relativeH - titleHeight) / attrHeight)\n    // return attributes[attrIndex]?.id\n  }\n\n  public draw(input?: NodeInput) {\n    this.analysisOptions(input)\n    this.drawRect()\n  }\n\n  private drawRect() {\n    const { ctx, x, y, width: w, height: h, bgColor, borderColor } = this\n    // console.log(bgColor,\"bgColor\")\n    ctx.save()\n    ctx.lineWidth = 2.5\n    ctx.strokeStyle = borderColor || '#000000'\n    ctx.fillStyle = bgColor || '#ffffff'\n    ctx.drawRoundedRect(\n      x,\n      y,\n      w,\n      h,\n      0,\n      0,\n      0,\n      0,\n      bgColor ? true : false,\n      true,\n      false,\n      false,\n    ) //绘制圆角矩形\n    ctx.restore()\n\n    //记录最大宽高\n    // if(x+w > this.maxWidth) this.maxWidth = x+w\n    // if(y+h > this.maxHeight) this.maxHeight = y+h\n\n    // if(this.focusTarget.has(markInfo)) this._drawFocus(x, y, w, h)\n  }\n\n  private calcBoundingBox() {\n    const { x, y, width, height } = this\n\n    this.boundingBox = [\n      [x, y],\n      [x + width, y],\n      [x, y + height],\n      [x + width, y + height],\n    ]\n  }\n}\n","interface Point {\n  x: number\n  y: number\n}\n\n/**\n * 检测点是否在线段上\n * @param point 检测点\n * @param segments 端点集合\n * @param tolerance 容差\n * @returns\n */\nexport const isPointOnLineSegments = (\n  point: Point,\n  segments: Point[],\n  tolerance = 0,\n): boolean | number => {\n  const { x, y } = point\n  const xTolerance = tolerance || 0\n  const yTolerance = tolerance || 0\n  for (let i = 0; i < segments.length - 1; i++) {\n    const p1 = segments[i]\n    const p2 = segments[i + 1]\n    const a = p1.y - p2.y\n    const b = p2.x - p1.x\n    const c = p1.x * p2.y - p2.x * p1.y\n    const distance = Math.abs(a * x + b * y + c) / Math.sqrt(a * a + b * b)\n    if (\n      distance <= xTolerance &&\n      x >= Math.min(p1.x, p2.x) - xTolerance &&\n      x <= Math.max(p1.x, p2.x) + xTolerance &&\n      y >= Math.min(p1.y, p2.y) - yTolerance &&\n      y <= Math.max(p1.y, p2.y) + yTolerance\n    ) {\n      return i\n    }\n  }\n  return false\n}\n","import { CanvasEvent, Id } from '../../../types'\nimport { FabricObject } from '../../shared/fabric'\nimport { isPointOnLineSegments } from '../../utils/fx'\nimport { isNumber } from '../../utils/verify'\n\nexport enum LineType {\n  foreignKey = 'foreignKey',\n}\nexport type NumLineTypes = 1 | 2 | 3 | 4\n\ninterface point {\n  x: number\n  y: number\n}\nexport type Points = point[]\n\ninterface LineInput {\n  id: Id\n  pos: Points\n  from: Id\n  to: Id\n  type?: LineType\n  numLineTypes?: NumLineTypes\n  lineWidth?: number\n  remark?: string\n  strokeStyle?: string\n}\n\nexport class LineErwin extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public id: Id\n  public from: Id\n  public to: Id\n  public type: LineType\n  public numLineTypes: NumLineTypes\n  public pos: Points = []\n  public remark: string\n  public lineWidth = 1\n  private strokeStyle = '#000000'\n\n  constructor(ctx: CanvasRenderingContext2D, input: LineInput) {\n    super()\n    this.ctx = ctx\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  private analysisOptions(input) {\n    if (!input) return\n\n    const { pos, type, from, to, id, lineWidth, numLineTypes, strokeStyle } =\n      input\n\n    if (id) this.id = id\n    if (from) this.from = from\n    if (to) this.to = to\n    if (pos) this.pos = pos\n    if (type) this.type = type\n    if (numLineTypes) this.numLineTypes = numLineTypes\n    if (lineWidth) this.lineWidth = lineWidth\n    if (strokeStyle) this.strokeStyle = strokeStyle\n  }\n\n  public updateOptions(input: LineInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public draw(input?: LineInput) {\n    this.analysisOptions(input)\n\n    this.drawLine()\n    this.drawEnds()\n    this.drawNote()\n  }\n\n  public containsPoint(e: CanvasEvent) {\n    const { pos } = this\n\n    const isOnline = isNumber(isPointOnLineSegments(e, pos, 5))\n\n    return isOnline\n  }\n\n  public getIndexInPos(e) {\n    return isPointOnLineSegments(e, this.pos, 5)\n  }\n\n  private drawLine() {\n    const { ctx, strokeStyle, lineWidth, type, pos } = this\n\n    ctx.save()\n\n    ctx.strokeStyle = strokeStyle\n    ctx.lineWidth = lineWidth\n\n    // 根据是否是外键判断是否需要绘制虚线\n    if (type === LineType.foreignKey) ctx.setLineDash([8, 5])\n\n    pos.forEach((pointItem, pointIdx) => {\n      if (pointIdx === 0) {\n        ctx.beginPath()\n        ctx.moveTo(pointItem.x, pointItem.y)\n      } else {\n        ctx.lineTo(pointItem.x, pointItem.y)\n      }\n    })\n\n    ctx.stroke()\n    ctx.restore()\n  }\n\n  private drawEnds() {\n    const { ctx, pos, strokeStyle, lineWidth, numLineTypes } = this\n    const w = 15,\n      posLen = pos.length || 0\n\n    if (posLen < 2) return\n\n    ctx.save()\n    ctx.beginPath()\n    ctx.setLineDash([0, 0])\n    ctx.strokeStyle = strokeStyle\n    ctx.lineWidth = lineWidth\n\n    //绘制起点标志\n    //竖线\n    if (pos[0].x === pos[1].x) {\n      const dis = pos[1].y - pos[0].y\n      const y =\n        Math.abs(dis) < 10\n          ? dis < 0\n            ? pos[0].y - 1\n            : pos[0].y + 1\n          : dis < 0\n          ? pos[0].y - 10\n          : pos[0].y + 10\n      ctx.moveTo(pos[0].x - w / 2, y)\n      ctx.lineTo(pos[0].x + w / 2, y)\n    }\n    //横线\n    else {\n      const dis = pos[1].x - pos[0].x\n      const x =\n        Math.abs(dis) < 10\n          ? dis < 0\n            ? pos[0].x - 1\n            : pos[0].x + 1\n          : dis < 0\n          ? pos[0].x - 10\n          : pos[0].x + 10\n      ctx.moveTo(x, pos[0].y - w / 2)\n      ctx.lineTo(x, pos[0].y + w / 2)\n    }\n\n    //绘制终点标志\n    //竖线\n    if (pos[posLen - 2].x === pos[posLen - 1].x) {\n      const dis = pos[posLen - 1].y - pos[posLen - 2].y\n      const y =\n        Math.abs(dis) < 10\n          ? dis < 0\n            ? pos[posLen - 1].y + 1\n            : pos[posLen - 1].y - 1\n          : dis < 0\n          ? pos[posLen - 1].y + 10\n          : pos[posLen - 1].y - 10\n      ctx.moveTo(pos[posLen - 1].x - w / 2, y)\n      ctx.lineTo(pos[posLen - 1].x + w / 2, y)\n      ctx.stroke()\n      //绘制分叉\n      if ([1, 2].includes(numLineTypes)) {\n        ctx.moveTo(pos[posLen - 1].x - w / 2, pos[posLen - 1].y)\n        ctx.lineTo(pos[posLen - 1].x, y)\n        ctx.lineTo(pos[posLen - 1].x + w / 2, pos[posLen - 1].y)\n        ctx.stroke()\n      }\n      //绘制圆圈\n      if ([1, 4].includes(numLineTypes)) {\n        ctx.beginPath()\n        const arcX = pos[posLen - 1].x\n        const arcY = dis < 0 ? y + w / 2 : y - w / 2\n        ctx.arc(arcX, arcY, (w - 2) / 2, 0, 360, false)\n        ctx.fillStyle = '#fff'\n        ctx.fill()\n        ctx.stroke()\n      }\n    }\n    //横线\n    else {\n      const dis = pos[posLen - 1].x - pos[posLen - 2].x\n      const x =\n        Math.abs(dis) < 10\n          ? dis < 0\n            ? pos[posLen - 1].x + 1\n            : pos[posLen - 1].x - 1\n          : dis < 0\n          ? pos[posLen - 1].x + 10\n          : pos[posLen - 1].x - 10\n      ctx.moveTo(x, pos[posLen - 1].y - w / 2)\n      ctx.lineTo(x, pos[posLen - 1].y + w / 2)\n      ctx.stroke()\n      //绘制分叉\n      if ([1, 2].includes(numLineTypes)) {\n        ctx.moveTo(pos[posLen - 1].x, pos[posLen - 1].y - w / 2)\n        ctx.lineTo(x, pos[posLen - 1].y)\n        ctx.lineTo(pos[posLen - 1].x, pos[posLen - 1].y + w / 2)\n        ctx.stroke()\n      }\n      //绘制圆圈\n      if ([1, 4].includes(numLineTypes)) {\n        ctx.beginPath()\n        const arcX = dis < 0 ? x + w / 2 : x - w / 2\n        const arcY = pos[posLen - 1].y\n        ctx.arc(arcX, arcY, (w - 2) / 2, 0, 360, false)\n        ctx.fillStyle = '#fff'\n        ctx.fill()\n        ctx.stroke()\n      }\n    }\n\n    ctx.restore()\n  }\n\n  private drawNote() {\n    const { ctx, pos, remark } = this\n\n    if (!remark) return\n\n    const middleIndex = Math.floor(pos.length / 2) - 1\n\n    let x, y, vertical\n    // 中间线是横线\n    if (pos[middleIndex].y === pos[middleIndex + 1].y) {\n      vertical = false\n      x =\n        Math.abs(pos[middleIndex + 1].x - pos[middleIndex].x) / 2 +\n        Math.min(pos[middleIndex + 1].x, pos[middleIndex].x)\n      y = pos[middleIndex].y - 10\n    }\n    // 中间线是竖线\n    else {\n      vertical = true\n      x = pos[middleIndex].x + 10\n      y =\n        Math.abs(pos[middleIndex + 1].y - pos[middleIndex].y) / 2 +\n        Math.min(pos[middleIndex + 1].y, pos[middleIndex].y) -\n        ctx.measureText(remark).width / 2\n    }\n\n    // 绘制文字\n    ctx.textAlign = 'center'\n    // ctx.textBaseline = 'center'\n    vertical\n      ? ctx.fillRowText(remark, x, y, 16, 16)\n      : ctx.fillText(remark, x, y)\n  }\n\n  private calcBoundingBox() {\n    const { pos } = this\n    const xPoints = [],\n      yPoints = []\n    for (let i = 0; i < pos.length; i++) {\n      const it = pos[i]\n      xPoints.push(it.x)\n      yPoints.push(it.y)\n    }\n\n    this.boundingBox = [\n      [Math.min(...xPoints), Math.min(...yPoints)],\n      [Math.max(...xPoints), Math.max(...yPoints)],\n    ]\n  }\n}\n","// 区间值\nexport const mathRange = (value: number, min = -Infinity, max = Infinity) =>\n  Math.max(Math.min(value, max), min)\n","import type { Erg } from '..'\nimport { Id } from '../../types'\n\ninterface DataHandlerOptions {\n  context?: Erg\n  data: {\n    nodeDataArray: []\n    linkDataArray: []\n    markDataArray: []\n    noteDataArray: []\n  }\n}\n\n/**\n * 可插拔的数据更新系统\n *  - 调用此类的mountAutoUpdate -> 渲染器直接修改原始数据\n *  - 不调用此类mountAutoUpdate -> 渲染器不修改原始数据，如需正确渲染，需要用户外部手动挂载监听修改数据\n */\nexport class DataHandler {\n  private context: Erg\n  public originData = {\n    nodeDataArray: [],\n    linkDataArray: [],\n    markDataArray: [],\n    noteDataArray: [],\n  }\n  public originDataMap: Map<Id, unknown> = new Map()\n\n  constructor(options: DataHandlerOptions) {\n    this.update(options)\n    this.mountAutoUpdate()\n  }\n\n  public update(options: DataHandlerOptions) {\n    this.analysisOptions(options)\n  }\n\n  private analysisOptions(options: DataHandlerOptions) {\n    const {\n      data = {\n        nodeDataArray: [],\n        linkDataArray: [],\n        markDataArray: [],\n        noteDataArray: [],\n      },\n      context,\n    } = options\n\n    if (context) this.context = context\n    this.originData = data\n\n    this.initMap()\n  }\n\n  private initMap() {\n    const {\n      originData: {\n        nodeDataArray = [],\n        linkDataArray = [],\n        markDataArray = [],\n        noteDataArray = [],\n      },\n      originDataMap,\n    } = this\n\n    originDataMap.clear()\n    for (let i = 0; i < nodeDataArray.length; i++) {\n      const el = nodeDataArray[i]\n      originDataMap.set(el.key, el)\n    }\n    for (let i = 0; i < linkDataArray.length; i++) {\n      const el = linkDataArray[i]\n      originDataMap.set(el.key, el)\n    }\n    for (let i = 0; i < markDataArray.length; i++) {\n      const el = markDataArray[i]\n      originDataMap.set(el.key, el)\n    }\n    for (let i = 0; i < noteDataArray.length; i++) {\n      const el = noteDataArray[i]\n      originDataMap.set(el.key, el)\n    }\n  }\n\n  private mountAutoUpdate() {\n    const { originDataMap, context } = this\n    context.on('node:move', (node) => {\n      const it = originDataMap.get(node.id)\n      it.x = node.x\n      it.y = node.y\n      it.width = node.width\n      it.height = node.height\n    })\n    context.on('node:resize', (node) => {\n      const it = originDataMap.get(node.id)\n      it.x = node.x\n      it.y = node.y\n      it.width = node.width\n      it.height = node.height\n    })\n    context.on('line:move', (line) => {\n      const it = originDataMap.get(line.id)\n      it.pos = line.pos\n    })\n    context.on('note:move', (note) => {\n      const it = originDataMap.get(note.id)\n      it.x = note.x\n      it.y = note.y\n    })\n    context.on('mark:move', (node) => {\n      const it = originDataMap.get(node.id)\n      it.x = node.x\n      it.y = node.y\n      it.width = node.width\n      it.height = node.height\n    })\n    context.on('mark:resize', (node) => {\n      const it = originDataMap.get(node.id)\n      it.x = node.x\n      it.y = node.y\n      it.width = node.width\n      it.height = node.height\n    })\n    // graph.on('line:click', (id) => console.log('line:click', id))\n    // graph.on('node:click', (id) => console.log('node:click', id))\n    // graph.on('node-attr:click', (id) => console.log('node-attr:click', id))\n  }\n\n  private unmountAutoUpdate() {\n    const { context } = this\n    context.off()\n  }\n\n  private freeVariable() {\n    this.originData = null\n    this.originDataMap = null\n  }\n\n  public destroy() {\n    this.unmountAutoUpdate()\n    this.freeVariable()\n  }\n}\n","import { FabricObject } from '../../shared/fabric'\nimport { Id, CanvasEvent } from '../../../types'\nimport { isNumber } from '../../utils/verify'\n\ninterface TextBaseInput {\n  id?: Id\n  content?: string\n  x: number\n  y: number\n  borderColor?: string\n  textColor?: string\n  bgColor?: string\n  borderWidth?: number\n}\n\nexport class TextBase extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public x = 0\n  public y = 0\n  public width = 0\n  public height = 0\n  public borderColor = '#0C64EB'\n  public textColor = '#0C64EB'\n  public bgColor = '#D0E2FF'\n  public borderWidth = 1\n\n  public id: Id\n  public content: string\n\n  constructor(ctx: CanvasRenderingContext2D, input: TextBaseInput) {\n    super()\n    this.ctx = ctx\n    this.updateOptions(input)\n  }\n\n  private analysisOptions(input: TextBaseInput) {\n    if (!input) return\n\n    const {\n      x = 0,\n      y = 0,\n      id,\n      // width,\n      // height,\n      borderColor,\n      textColor,\n      bgColor,\n      borderWidth,\n      content,\n    } = input\n\n    if (isNumber(x)) this.x = x\n    if (isNumber(y)) this.y = y\n    // if (isNumber(width)) this.width = width\n    // if (isNumber(height)) this.height = height\n    if (id) this.id = id\n    if (borderColor) this.borderColor = borderColor\n    if (textColor) this.textColor = textColor\n    if (bgColor) this.bgColor = bgColor\n    if (isNumber(borderWidth)) this.borderWidth = borderWidth\n    if (content) this.content = content\n  }\n\n  public updateOptions(input: TextBaseInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public containsPoint(e: CanvasEvent) {\n    const { x: ex, y: ey } = e\n    const { x, y, width, height } = this\n\n    return ex >= x && ex <= x + width && ey >= y && ey <= y + height\n  }\n\n  public draw(input?: TextBaseInput) {\n    this.updateOptions(input)\n\n    const { ctx, content, x, y, textColor } = this\n    ctx.save()\n    ctx.textBaseline = 'top'\n    ctx.fillStyle = textColor\n    ctx.fillText(content, x, y)\n    ctx.restore()\n  }\n\n  private calcBoundingBox() {\n    const { x, y, ctx, content } = this\n    const textMetrics = ctx.measureText(content)\n    const width = (this.width = textMetrics.width)\n    const height = (this.height =\n      textMetrics.actualBoundingBoxAscent +\n      textMetrics.actualBoundingBoxDescent)\n    this.boundingBox = [\n      [x, y],\n      [x + width, y],\n      [x, y + height],\n      [x + width, y + height],\n    ]\n  }\n}\n","import { FabricObject } from '../../shared/fabric'\n\n/**\n * 待优化：\n * 1.属性超出画布无需渲染\n */\ninterface NodeInput {\n  x?: number\n  y?: number\n  width?: number\n  height?: number\n  bdC?: string\n  targetWidth?: number\n  targetBgColor?: string\n  targetBdColor?: string\n  lineWidth?: number\n}\nexport class FrameResize extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public width = 100\n  public height = 50\n  public x = 0\n  public y = 0\n  private lineWidth = 1\n  private borderColor = 'blue'\n\n  private targetWidth = 6\n  private targetBgColor = '#FFFFFF'\n  private targetBdColor = '#B4B4B4'\n\n  constructor(ctx: CanvasRenderingContext2D, input: NodeInput) {\n    super()\n    this.ctx = ctx\n    this.updateOptions(input)\n  }\n\n  private analysisOptions(input: NodeInput) {\n    if (!input) return\n\n    const {\n      x = 0,\n      y = 0,\n      width,\n      height,\n      targetBgColor,\n      targetBdColor,\n      bdC,\n      lineWidth,\n    } = input\n\n    if (x) this.x = x\n    if (y) this.y = y\n    if (width) this.width = width\n    if (height) this.height = height\n    if (targetBgColor) this.targetBgColor = targetBgColor\n    if (targetBdColor) this.targetBdColor = targetBdColor\n    if (bdC) this.borderColor = bdC\n    if (lineWidth) this.lineWidth = lineWidth\n  }\n\n  public updateOptions(input: NodeInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public containsPoint() {\n    return false\n  }\n\n  public draw(input?: NodeInput) {\n    this.updateOptions(input)\n\n    this.drawBorder()\n    this.drawTargets()\n  }\n\n  private drawBorder() {\n    const { ctx, borderColor, lineWidth, x, y, width, height } = this\n\n    ctx.save()\n    ctx.lineWidth = lineWidth\n    ctx.strokeStyle = borderColor\n    ctx.strokeRect(x, y, width, height)\n    ctx.restore()\n  }\n\n  private drawTargets() {\n    const {\n      ctx,\n      targetBdColor,\n      targetBgColor,\n      targetWidth,\n      x,\n      y,\n      width,\n      height,\n    } = this\n\n    const halfTargetWidth = targetWidth / 2\n    const fixX = x - halfTargetWidth\n    const fixY = y - halfTargetWidth\n\n    ctx.save()\n    ctx.strokeStyle = targetBdColor\n    ctx.fillStyle = targetBgColor\n\n    ctx.fillRect(fixX, fixY, targetWidth, targetWidth)\n    ctx.fillRect(fixX, fixY + height / 2, targetWidth, targetWidth)\n    ctx.fillRect(fixX, fixY + height, targetWidth, targetWidth)\n    ctx.fillRect(fixX + width / 2, fixY, targetWidth, targetWidth)\n    ctx.fillRect(fixX + width / 2, fixY + height, targetWidth, targetWidth)\n    ctx.fillRect(fixX + width, fixY, targetWidth, targetWidth)\n    ctx.fillRect(fixX + width, fixY + height / 2, targetWidth, targetWidth)\n    ctx.fillRect(fixX + width, fixY + height, targetWidth, targetWidth)\n\n    ctx.strokeRect(fixX, fixY, targetWidth, targetWidth)\n    ctx.strokeRect(fixX, fixY + height / 2, targetWidth, targetWidth)\n    ctx.strokeRect(fixX, fixY + height, targetWidth, targetWidth)\n    ctx.strokeRect(fixX + width / 2, fixY, targetWidth, targetWidth)\n    ctx.strokeRect(fixX + width / 2, fixY + height, targetWidth, targetWidth)\n    ctx.strokeRect(fixX + width, fixY, targetWidth, targetWidth)\n    ctx.strokeRect(fixX + width, fixY + height / 2, targetWidth, targetWidth)\n    ctx.strokeRect(fixX + width, fixY + height, targetWidth, targetWidth)\n\n    ctx.restore()\n  }\n\n  private calcBoundingBox() {\n    const { x, y, width, height } = this\n\n    this.boundingBox = [\n      [x, y],\n      [x + width, y],\n      [x, y + height],\n      [x + width, y + height],\n    ]\n  }\n}\n","import { FabricObject } from '../../shared/fabric'\n\n/**\n * 待优化：\n * 1.属性超出画布无需渲染\n */\ninterface NodeInput {\n  x?: number\n  y?: number\n  width?: number\n  height?: number\n  bdC?: string\n  lineWidth?: number\n}\nexport class FrameHover extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public width = 100\n  public height = 50\n  public x = 0\n  public y = 0\n  private lineWidth = 2\n  private borderColor = 'blue'\n\n  constructor(ctx: CanvasRenderingContext2D, input: NodeInput) {\n    super()\n    this.ctx = ctx\n    this.updateOptions(input)\n  }\n\n  private analysisOptions(input: NodeInput) {\n    if (!input) return\n\n    const { x = 0, y = 0, width, height, bdC, lineWidth } = input\n\n    if (x) this.x = x\n    if (y) this.y = y\n    if (width) this.width = width\n    if (height) this.height = height\n    if (bdC) this.borderColor = bdC\n    if (bdC) this.lineWidth = lineWidth\n  }\n\n  public updateOptions(input: NodeInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public containsPoint() {\n    return false\n  }\n\n  public draw(input?: NodeInput) {\n    this.updateOptions(input)\n\n    this.drawBorder()\n  }\n\n  private drawBorder() {\n    const { ctx, borderColor, lineWidth, x, y, width, height } = this\n\n    ctx.save()\n    ctx.lineWidth = lineWidth\n    // ctx.setLineDash([8, 5])\n    ctx.strokeStyle = borderColor\n    ctx.strokeRect(x, y, width, height)\n    ctx.restore()\n  }\n\n  private calcBoundingBox() {\n    const { x, y, width, height } = this\n\n    this.boundingBox = [\n      [x, y],\n      [x + width, y],\n      [x, y + height],\n      [x + width, y + height],\n    ]\n  }\n}\n","export enum EditType {\n  None = '',\n  // 实体\n  addNode = 'addNode',\n  // 主键\n  primaryKey = 'primaryKey',\n  // 非主键\n  foreignKey = 'foreignKey',\n  // 分支\n  branchLine = 'branchLine',\n  // 框\n  addMark = 'addMark',\n  // 备注\n  addNote = 'addNote',\n  // 拷贝\n  copy = 'copy',\n}\n\nexport enum TargetDirection {\n  NONE = '',\n  LT = 'LT',\n  TM = 'TM',\n  RT = 'RT',\n  LM = 'LM',\n  RM = 'RM',\n  LB = 'LB',\n  BM = 'BM',\n  RB = 'RB',\n}\n\nexport enum Cursor {\n  default = 'default',\n  none = 'none',\n\n  wait = 'wait',\n  progress = 'progress',\n\n  crosshair = 'crosshair',\n  cell = 'cell',\n  text = 'text',\n\n  move = 'move',\n  colResize = 'col-resize',\n  rowResize = 'row-resize',\n  ewResize = 'ew-resize',\n  nsResize = 'ns-resize',\n  neswResize = 'nesw-resize',\n  nwseResize = 'nwse-resize',\n\n  copy = 'copy',\n  help = 'help',\n\n  grab = 'grab',\n  grabbing = 'grabbing',\n  pointer = 'pointer',\n\n  notAllowed = 'not-allowed',\n  zoomIn = 'zoom-in',\n  zoomOut = 'zoom-out',\n  contextMenu = 'context-menu',\n}\n","import { EditType, Cursor, TargetDirection } from '../shared/enum'\nimport { NodeErwin } from '../../core/materials/node'\nimport { NodeRect } from '../../core/materials/node'\nimport { LineErwin } from '../../core/materials/line'\nimport { TextBase } from '../../core/materials/text'\nimport type { Erg } from '../index'\n\n/**\n * 是否到达八点框\n */\nconst ifAnchor = (target: unknown, canvasEv) => {\n  const ifLegalMaterials =\n    target instanceof NodeErwin || target instanceof NodeRect\n  if (!ifLegalMaterials) return false\n\n  // 是否八点框触发\n  const { x, y, width, height } = target\n  const middleX = x + width / 2\n  const middleY = y + height / 2\n  const fullX = x + width\n  const fullY = y + height\n  const tolerance = 5\n  let targetDirection = TargetDirection.NONE\n\n  if (\n    Math.abs(x - canvasEv.x) <= tolerance &&\n    Math.abs(y - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.LT\n  else if (\n    Math.abs(middleX - canvasEv.x) <= tolerance &&\n    Math.abs(y - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.TM\n  else if (\n    Math.abs(fullX - canvasEv.x) <= tolerance &&\n    Math.abs(y - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.RT\n  else if (\n    Math.abs(x - canvasEv.x) <= tolerance &&\n    Math.abs(middleY - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.LM\n  else if (\n    Math.abs(fullX - canvasEv.x) <= tolerance &&\n    Math.abs(middleY - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.RM\n  else if (\n    Math.abs(x - canvasEv.x) <= tolerance &&\n    Math.abs(fullY - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.LB\n  else if (\n    Math.abs(middleX - canvasEv.x) <= tolerance &&\n    Math.abs(fullY - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.BM\n  else if (\n    Math.abs(fullX - canvasEv.x) <= tolerance &&\n    Math.abs(fullY - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.RB\n\n  return targetDirection\n}\n\nexport const useMouseMove = function (this: Erg, e, canvasEv) {\n  /**\n   * 移动备注框\n   */\n  const moveMarkRect = () => {\n    const { eventObj } = this\n    const offsetOfMove = {\n      x: canvasEv.x - eventObj.targetOffsetX - eventObj.target.x,\n      y: canvasEv.y - eventObj.targetOffsetY - eventObj.target.y,\n    }\n    const newLoc = {\n      x: eventObj.target.x + offsetOfMove.x,\n      y: eventObj.target.y + offsetOfMove.y,\n    }\n\n    this.markMap.get(eventObj.target.id).updateOptions(newLoc)\n    this.emit('mark:move', this.markMap.get(eventObj.target.id))\n    this.update()\n  }\n\n  /**\n   * 移动备注文字\n   */\n  const moveMarkText = () => {\n    const { eventObj } = this\n\n    const offsetOfMove = {\n      x: canvasEv.x - eventObj.targetOffsetX - eventObj.target.x,\n      y: canvasEv.y - eventObj.targetOffsetY - eventObj.target.y,\n    }\n\n    const newLoc = {\n      x: eventObj.target.x + offsetOfMove.x,\n      y: eventObj.target.y + offsetOfMove.y,\n    }\n    this.noteMap.get(eventObj.target.id).updateOptions(newLoc)\n\n    this.emit('note:move', eventObj.target)\n    this.update()\n  }\n\n  /**\n   * 修改实体尺寸\n   */\n  const resizeNode = () => {\n    const { eventObj } = this\n    // eventObj.target.manualChange = true\n    const { x, y } = canvasEv\n    if (eventObj.target.type === 'mark') {\n      this.resizeNode(x, y, eventObj, null)\n    } else {\n      this.resizeNode(x, y, eventObj)\n    }\n\n    this.update()\n  }\n\n  /**\n   * 移动实体\n   */\n  const moveNode = () => {\n    const { focusTarget, eventObj, nodeRelatedLineMap } = this\n\n    const offsetOfMove = {\n      x: canvasEv.x - eventObj.targetOffsetX - eventObj.target.x,\n      y: canvasEv.y - eventObj.targetOffsetY - eventObj.target.y,\n    }\n\n    focusTarget.forEach((focusItem) => {\n      if (!(focusItem instanceof NodeErwin)) return\n\n      const nodeNewLoc = {\n        x: focusItem.x + offsetOfMove.x,\n        y: focusItem.y + offsetOfMove.y,\n      }\n\n      // 节点相关线段移动\n      if (nodeRelatedLineMap.has(focusItem.id)) {\n        const involveLines = [\n          ...nodeRelatedLineMap.get(focusItem.id).from,\n          ...nodeRelatedLineMap.get(focusItem.id).to,\n        ]\n        involveLines.forEach((line) => {\n          line.from === line.to\n            ? this.moveLineForSameNode(line, { target: focusItem })\n            : this.moveLineForNode(line, { target: focusItem }, nodeNewLoc)\n        })\n      }\n\n      this.nodeMap.get(focusItem.id).updateOptions(nodeNewLoc)\n      this.emit('node:move', focusItem)\n    })\n\n    this.update()\n  }\n\n  /**\n   * 移动属性\n   */\n  // const moveAttr = () => {\n  //   console.log('attr')\n  // }\n\n  /**\n   * 移动连线\n   */\n  const moveLine = () => {\n    const { eventObj } = this\n\n    const idx = eventObj.target.getIndexInPos(eventObj.lastEvLoc)\n    eventObj.targetLineStartPointIdx = idx\n    eventObj.lastEvLoc = canvasEv\n    if (idx === false) return\n    this.moveLineForLine(eventObj, canvasEv)\n    this.update()\n  }\n\n  /**\n   * 移动画布\n   */\n  const moveCanvas = () => {\n    this.canvas.setTranslate(e)\n    this.canvas.clearEventCanvas()\n    const graphTranslate = this.canvas.getTranslate()\n    this.emit('graph:move', graphTranslate)\n    this.update()\n  }\n\n  /**\n   * 改变指针样式\n   */\n  const changeMouseCursor = () => {\n    const { editType, renderElements } = this\n\n    const cursorMap = {\n      [EditType.addNode]: Cursor.cell,\n      [EditType.primaryKey]: Cursor.crosshair,\n      [EditType.foreignKey]: Cursor.crosshair,\n      [EditType.branchLine]: Cursor.crosshair,\n      [EditType.addMark]: Cursor.cell,\n      [EditType.addNote]: Cursor.text,\n      [EditType.copy]: Cursor.copy,\n    }\n\n    const cursorState = cursorMap[editType]\n    // 有指定操作：\n    if (cursorState)\n      return (this.canvas.eventEl.style.cursor = cursorState || Cursor.default)\n\n    let hoverTarget = null,\n      cursor = Cursor.grab\n\n    // 无指定操作：到达热点位置变换鼠标状态\n    for (let i = renderElements.length - 1; i >= 0; i--) {\n      const el = renderElements[i]\n      const isTarget = el.containsPoint(canvasEv) || ifAnchor(el, canvasEv)\n      if (isTarget) {\n        hoverTarget = el\n\n        cursor =\n          isTarget === TargetDirection.LT\n            ? Cursor.nwseResize\n            : isTarget === TargetDirection.TM\n            ? Cursor.nsResize\n            : isTarget === TargetDirection.RT\n            ? Cursor.neswResize\n            : isTarget === TargetDirection.LM\n            ? Cursor.ewResize\n            : isTarget === TargetDirection.RM\n            ? Cursor.ewResize\n            : isTarget === TargetDirection.LB\n            ? Cursor.neswResize\n            : isTarget === TargetDirection.BM\n            ? Cursor.nsResize\n            : isTarget === TargetDirection.RB\n            ? Cursor.nwseResize\n            : Cursor.move\n        break\n      }\n    }\n\n    // 无指定操作：未到达热点位置\n    this.hoverTarget = hoverTarget\n    this.canvas.eventEl.style.cursor = cursor\n    this.updateEventCanvas()\n  }\n\n  /**\n   * 移动元素\n   */\n  const moveElement = () => {\n    const { eventObj } = this\n\n    // const isAttrMove = eventObj.target instanceof NodeErwin && eventObj.target.activeAttribute\n    const isNodeResize = !!eventObj.targetDirection\n    const isNodeMove = eventObj.target instanceof NodeErwin\n    const isLineMove = eventObj.target instanceof LineErwin\n    const isMarkMove = eventObj.target instanceof NodeRect\n    const isNoteMove = eventObj.target instanceof TextBase\n\n    // if (isAttrMove) return moveAttr()\n    if (isNodeResize) return resizeNode()\n    if (isNodeMove) return moveNode()\n    if (isLineMove) return moveLine()\n    if (isMarkMove) return moveMarkRect()\n    if (isNoteMove) return moveMarkText()\n  }\n\n  return {\n    changeMouseCursor,\n    moveCanvas,\n    moveElement,\n  }\n}\n\nexport const useMouseDown = function (this: Erg, e, canvasEv) {\n  const { x: evX, y: evY } = canvasEv\n\n  const execTask = () => {\n    const { editType, defaultWidth, defaultHeight } = this\n    switch (editType) {\n      case EditType.copy: {\n        const distanse = {\n          x: evX - this.copyTarget?.[0]?.x,\n          y: evY - this.copyTarget?.[0]?.y,\n        }\n\n        const fixLocNodes = this.copyTarget\n          .filter((it) => !!it.attributes)\n          .map((node) => {\n            node.x = node.x + distanse.x\n            node.y = node.y + distanse.y\n            return node\n          })\n\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        this.externalFn?.handlePaste(fixLocNodes)\n        this.editType = EditType.None\n        this.canvas.eventEl.style.cursor = Cursor.default\n        this.update()\n        break\n      }\n      case EditType.addNode: {\n        const newNode = {\n          x: evX - defaultWidth / 2,\n          y: evY - defaultHeight / 2,\n          width: defaultWidth,\n          height: defaultHeight,\n        }\n\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        this.externalFn.addNode(newNode)\n        this.editType = EditType.None\n        this.canvas.eventEl.style.cursor = Cursor.default\n        this.update()\n        break\n      }\n      case EditType.addMark: {\n        const newMark = {\n          key: this.createKey(),\n          x: evX,\n          y: evY,\n          width: defaultWidth,\n          height: defaultHeight,\n          type: 'mark',\n        }\n\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        this.externalFn.addMark(newMark)\n        this.editType = EditType.None\n        this.canvas.eventEl.style.cursor = Cursor.default\n        this.update()\n        break\n      }\n      case EditType.addNote: {\n        const newNote = {\n          key: this.createKey(),\n          x: evX,\n          y: evY,\n          text: '',\n          type: 'note',\n        }\n\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        this.externalFn.addNote(newNote)\n        this.editType = EditType.None\n        this.canvas.eventEl.style.cursor = Cursor.default\n        break\n      }\n      // case EditType.primaryKey:\n\n      //   break\n      // case EditType.foreignKey:\n\n      //   break\n      // case EditType.branchLine:\n\n      //   break\n\n      default:\n        break\n    }\n  }\n\n  const setEventTarget = (e: MouseEvent) => {\n    const { metaKey, ctrlKey } = e\n    const { hoverTarget, focusTarget, eventObj } = this\n\n    if (!ctrlKey && !metaKey) focusTarget.clear()\n\n    this.canvas.eventEl.style.cursor = Cursor.grabbing\n\n    if (!hoverTarget) return\n    const targetDirection = ifAnchor(hoverTarget, canvasEv)\n\n    eventObj.target = hoverTarget\n    if (hoverTarget instanceof LineErwin) {\n      focusTarget.clear()\n      eventObj.lastEvLoc = canvasEv\n    } else if (\n      hoverTarget instanceof NodeErwin ||\n      hoverTarget instanceof TextBase ||\n      hoverTarget instanceof NodeRect\n    ) {\n      eventObj.targetOffsetX = canvasEv.x - hoverTarget.x\n      eventObj.targetOffsetY = canvasEv.y - hoverTarget.y\n      eventObj.targetDirection = targetDirection || null\n    }\n    focusTarget.add(hoverTarget)\n\n    this.update()\n  }\n\n  return {\n    execTask,\n    setEventTarget,\n  }\n}\n\nexport const useMouseUp = function (this: Erg) {\n  const resetMouseState = () => {\n    this.canvas.eventEl.style.cursor = Cursor.default\n    this.eventObj = {\n      target: null,\n      targetDirection: TargetDirection.NONE,\n      targetOffsetX: 0,\n      targetOffsetY: 0,\n      targetLineStartPointIdx: 0,\n      lastEvLoc: { x: 0, y: 0 },\n    }\n  }\n  return {\n    resetMouseState,\n  }\n}\n","import { EventCenter } from '../core/shared/event'\nimport { LockIcon } from '../core/materials/icon/index'\nimport { Canvas, BackgroundType } from '../core/shared/canvas'\nimport { mathRange } from '../core/utils/math'\nimport { nextTick } from '../core/utils/dom'\nimport type { CanvasEvent, Id } from '../types/index'\n\nimport { DataHandler } from './hooks/data-handler'\nimport { NodeErwin as Node, NodeErwin } from '../core/materials/node'\nimport { NodeRect } from '../core/materials/node'\nimport { LineErwin } from '../core/materials/line/line-erwin'\nimport { TextBase } from '../core/materials/text'\nimport { FrameResize, FrameHover } from '../core/materials/frame'\nimport { useMouseMove, useMouseDown, useMouseUp } from './hooks/event'\n\nimport { EditType, TargetDirection, Cursor } from './shared/enum'\nimport { Plugins, PluginsEnum } from '../plugins'\n\nimport { cloneDeep, pick } from 'lodash-es'\nimport { Editable } from '../types/enum'\n\nimport { preloadLineageImages } from '../core/shared/image'\n\nenum Color {\n  primary = 'blue',\n  border = '#000000',\n}\n\ninterface RelatedLineItem {\n  from: Set<LineErwin>\n  to: Set<LineErwin>\n}\nexport class Erg extends EventCenter {\n  private el: HTMLElement\n  public canvas: Canvas\n  private cacheCtx: CanvasRenderingContext2D\n\n  public dataHandler: DataHandler\n  public nodeMap: Map<Id, Node>\n  public lineMap: Map<Id, LineErwin>\n  public noteMap: Map<Id, TextBase>\n  public markMap: Map<Id, NodeRect>\n  public nodeRelatedLineMap: Map<Node['id'], RelatedLineItem>\n\n  // 优化：缓存页面渲染元素，避免在交互时循环全部数据\n  public renderElements: Array<Node | LineErwin | TextBase | NodeRect>\n\n  public externalFn: Record<string, () => void>\n  public editType: EditType\n  public copyTarget: unknown\n\n  // 缓存事件对象\n  public eventObj = {\n    target: null,\n    // 节点\n    targetDirection: TargetDirection.NONE,\n    targetOffsetX: 0,\n    targetOffsetY: 0,\n    // 连线\n    targetLineStartPointIdx: 0,\n    lastEvLoc: { x: 0, y: 0 },\n  }\n\n  private plugins: Plugins\n  private useAttrFocus: boolean\n  private useHistory: boolean\n  private useThumbnail: boolean\n  private useRightMenu: boolean\n  private rightMenuConfig = []\n\n  private fontFamily: string\n  private chooseTargets = []\n  private imgList = {}\n  private editable = Editable.Edit\n\n  // 节点默认配置\n  public defaultWidth = 100\n  public defaultHeight = 50\n\n  public focusTarget = new Set<Node | LineErwin | NodeRect | TextBase>()\n  public hoverTarget: Node | LineErwin | NodeRect\n\n  private expandAttrs = []\n\n  private _bindEventMousedown: () => void\n  private _bindEventMousemove: () => void\n  private _bindEventMouseup: () => void\n  private _bindEventResize: () => void\n  private _bindEventWheel: () => void\n  private _bindEventContextmenu: () => void\n  private _bindEventUndo: () => void\n  private _bindEventRedo: () => void\n\n  constructor(options) {\n    super()\n    this.analysisOptions(options)\n    this.mountDataHandler(options)\n    this.mountCanvas()\n    this.mountCanvasEvents()\n    this.mountPlugins()\n    preloadLineageImages().then(() => this.update())\n  }\n\n  //初始化数据方法\n  private analysisOptions(options) {\n    const {\n      el,\n      externalFn,\n      editable,\n      fontFamily,\n      rightMenu,\n      useRightMenu = false,\n      useAttrFocus = false,\n      useThumbnail = false,\n      useHistory = true,\n    } = options\n\n    this.el = el\n    this.editable = editable || Editable.Edit\n    this.fontFamily = fontFamily\n    this.rightMenuConfig = rightMenu\n    // 是否使用右键菜单\n    this.useRightMenu = useRightMenu\n    // 属性是否可点击\n    this.useAttrFocus = useAttrFocus\n    this.useThumbnail = useThumbnail\n    this.useHistory = useHistory\n\n    //拷贝外部方法指针\n    /**\n     * options[addNode]: 创建实体通知方法\n     *  @param val {Object}, 完整的信息\n     *\n     * options[delNode]: 删除实体通知方法\n     *  @param id {Id}, 实体的id\n     *\n     * options[addLine]: 创建线通知方法\n     *  @param val {Object}, 完整的信息\n     *\n     * options[delLine]: 删除线通知方法\n     *  @param from {Id}, to {Id}, 线的唯一标识(from, to)\n     *\n     * options[addFilter]: 创建过滤器通知方法\n     *  @param val {Object}, 完整的信息\n     *\n     * options[delFilter]: 删除过滤器通知方法\n     *  @param id {Id}, 过滤器的id\n     *\n     * options[$message]: 删除过滤器通知方法\n     *  @param val {Object}, 同el-message参数\n     *\n     * options[handleCopy]: 拷贝通知方法\n     *  @param val {Object}, 拷贝的对象\n     *  @param prev {Object}, 上一个拷贝对象\n     *\n     * options[handlePaste]: 粘贴通知方法\n     *  @param val {Object}, 拷贝的对象\n     */\n    this.externalFn = externalFn\n  }\n\n  private mountDataHandler(options) {\n    this.dataHandler = new DataHandler({\n      context: this,\n      data: options.data,\n    })\n  }\n\n  public destroy() {\n    this.unmountPlugins()\n    this.unmountCanvasEvents()\n    this.canvas.destroy()\n    this.dataHandler.destroy()\n  }\n\n  private mountCanvas() {\n    this.canvas = new Canvas({\n      mountEl: this.el,\n      backgroundType: BackgroundType.Checker,\n    })\n    this.cacheCtx = this.canvas.cacheCtx\n  }\n\n  private mountPlugins() {\n    this.plugins = new Plugins()\n\n    // 初始化历史队列\n    this.useHistory && this.plugins.use(PluginsEnum.History)\n\n    // 初始化全景缩略图\n    this.useThumbnail &&\n      this.plugins.use(PluginsEnum.Thumbnail, {\n        mountEl: this.canvas.boxEl,\n        mainCanvas: this.canvas,\n      })\n\n    // 初始化右键菜单\n    this.useRightMenu &&\n      this.plugins.use(PluginsEnum.RightMenu, this.el, this.rightMenuConfig)\n  }\n\n  private unmountPlugins() {\n    this.plugins.destroy()\n  }\n\n  private mountCanvasEvents() {\n    this._bindEventMousedown = this.onMouseDown.bind(this)\n    this._bindEventMousemove = this.onMouseMove.bind(this)\n    this._bindEventMouseup = this.onMouseUp.bind(this)\n    this._bindEventResize = this.onResize.bind(this)\n    this._bindEventWheel = this.onWheel.bind(this)\n    this._bindEventContextmenu = this.onContextmenu.bind(this)\n    this._bindEventUndo = this.onUndo.bind(this)\n    this._bindEventRedo = this.onRedo.bind(this)\n\n    this.canvas.on('canvas:resize', this._bindEventResize)\n    this.canvas.on('canvas:wheel', this._bindEventWheel)\n    this.canvas.on('canvas:mouseup', this._bindEventMouseup)\n    this.canvas.on('canvas:mousedown', this._bindEventMousedown)\n    this.canvas.on('canvas:mousemove', this._bindEventMousemove)\n    this.canvas.on('canvas:contextmenu', this._bindEventContextmenu)\n    this.canvas.on('canvas:undo', this._bindEventUndo)\n    this.canvas.on('canvas:redo', this._bindEventRedo)\n  }\n\n  private unmountCanvasEvents() {\n    this.canvas.off('canvas:resize', this._bindEventResize)\n    this.canvas.off('canvas:wheel', this._bindEventWheel)\n    this.canvas.off('canvas:mouseup', this._bindEventMouseup)\n    this.canvas.off('canvas:mousedown', this._bindEventMousedown)\n    this.canvas.off('canvas:mousemove', this._bindEventMousemove)\n    this.canvas.off('canvas:contextmenu', this._bindEventContextmenu)\n    this.canvas.off('canvas:undo', this._bindEventUndo)\n    this.canvas.off('canvas:redo', this._bindEventRedo)\n  }\n\n  private onUndo() {\n    const action = this.plugins.get(PluginsEnum.History).undo()\n    action?.reverse()\n    if (!action) console.warn('撤无可撤')\n  }\n\n  private onRedo() {\n    const action = this.plugins.get(PluginsEnum.History).redo()\n    action?.reverse()\n    if (!action) console.warn('恢无可恢')\n  }\n\n  private onMouseUp(e: MouseEvent, canvasEv: CanvasEvent) {\n    const { resetMouseState } = useMouseUp.call(this, e, canvasEv)\n    resetMouseState()\n  }\n\n  private onMouseDown(e: MouseEvent, canvasEv: CanvasEvent) {\n    const { editType } = this\n    const { execTask, setEventTarget } = useMouseDown.call(this, e, canvasEv)\n\n    // 有指定的操作任务：执行任务（添加节点/添加连线/....）\n    if (editType) return execTask()\n\n    // 无指定的操作任务：查找事件触发对象\n    setEventTarget(e)\n  }\n\n  private onMouseMove(e: MouseEvent, canvasEv: CanvasEvent) {\n    const { canvas, eventObj } = this\n    const { changeMouseCursor, moveCanvas, moveElement } = useMouseMove.call(\n      this,\n      e,\n      canvasEv,\n    )\n\n    const isJustMove = !canvas.isMouseDown\n    const isMoveCanvas = canvas.isMouseDown && !eventObj.target\n    const isMoveElement = canvas.isMouseDown && eventObj.target\n\n    if (isJustMove) return changeMouseCursor()\n    if (isMoveCanvas) return moveCanvas()\n    if (isMoveElement) {\n      // 加入历史堆栈\n      const copyFocusTarget = [...this.focusTarget] as unknown[]\n\n      for (let i = 0; i < copyFocusTarget.length; i++) {\n        const it = copyFocusTarget[i]\n        const originObject = {\n          target: it,\n          originValue: {},\n        }\n        if (it instanceof NodeErwin) {\n          const attrs = pick(it, 'x', 'y', 'width', 'height')\n          originObject.originValue = cloneDeep(attrs)\n\n          const relatedLines = this.nodeRelatedLineMap.get(it.id)\n          copyFocusTarget.push(...relatedLines.from, ...relatedLines.to)\n        }\n        if (it instanceof LineErwin) {\n          const attrs = pick(it, 'pos')\n          originObject.originValue = cloneDeep(attrs)\n        }\n\n        copyFocusTarget[i] = originObject\n      }\n      this.plugins.get(PluginsEnum.History).push(() => {\n        // 缓存move事件\n        // const target = this.nodeMap.get(eventObj.target.id) || this.lineMap.get(eventObj.target.id)\n        // Object.assign(this.eventObj, {\n        //   target,\n        //   targetDirection: eventObj.targetDirection,\n        //   targetLineStartPointIdx: eventObj.targetLineStartPointIdx,\n        //   lastEvLoc: eventObj.lastEvLoc,\n        //   targetOffsetX: eventObj.targetOffsetX,\n        //   targetOffsetY: eventObj.targetOffsetY,\n        // })\n\n        // this.focusTarget.clear()\n        // copyFocusTarget.map(i => this.focusTarget.add(i))\n        // moveElement()\n\n        // 缓存当前状态\n        // this.focusTarget.clear()\n        // copyFocusTarget.map(i => this.focusTarget.add(i.target))\n        // 逆向操作数据\n        for (let i = 0; i < copyFocusTarget.length; i++) {\n          const { target, originValue } = copyFocusTarget[i]\n          target.updateOptions(originValue)\n          if (target instanceof NodeErwin) this.emit('node:resize', target)\n          if (target instanceof LineErwin) this.emit('line:move', target)\n        }\n        this.update()\n      })\n\n      return moveElement()\n    }\n  }\n\n  private onContextmenu(e: MouseEvent) {\n    if (!this.useRightMenu) return\n    const {\n      clientX,\n      clientY,\n      view: { innerWidth, innerHeight },\n    } = e\n    this.plugins.get(PluginsEnum.RightMenu).show({\n      top: clientY,\n      left: clientX,\n      innerWidth: innerWidth,\n      innerHeight: innerHeight,\n    })\n\n    this.emit('graph:contextmenu', e)\n  }\n\n  private onWheel(e: WheelEvent) {\n    const { deltaY, deltaX, ctrlKey } = e\n    // console.log(deltaY);\n    const wheelConfirm = Math.abs(deltaY) > 2 || Math.abs(deltaX) > 2\n\n    if (!wheelConfirm) return\n\n    // 缩放\n    if (ctrlKey) {\n      const zoomRate = this.canvas.zoomRate\n      // const step = deltaY > 0 ? 10 : -10\n      const calcRatio = Math.floor(mathRange(zoomRate * 100 + deltaY, 10, 200))\n      this.zoom(calcRatio)\n    }\n    // 平移\n    else {\n      const translate = this.canvas.getTranslate()\n      this.canvas.setTranslate({\n        x: translate.x - deltaX,\n        y: translate.y - deltaY,\n      } as MouseEvent)\n      this.update()\n    }\n  }\n\n  private onResize() {\n    this.update()\n  }\n\n  /**\n   * 实例化节点信息\n   * @description 该方法调用后：nodeMap/attrMap可访问\n   * @returns\n   */\n  private initNodes() {\n    const {\n      dataHandler: {\n        originData: { nodeDataArray: nodes },\n      },\n      nodeRelatedLineMap,\n    } = this\n    if (!nodes?.length) return\n    for (let i = 0; i < nodes.length; i++) {\n      const it = nodes[i]\n      let node = this.nodeMap.get(it.key)\n      if (!node) {\n        node = new Node(this.canvas.cacheCtx, {\n          id: it.key,\n          enName: it.tableName,\n          cnName: it.cnName,\n          type: it.type,\n          x: it.x,\n          y: it.y,\n          width: it.width,\n          height: it.height,\n          attributes: it.attributes,\n          bdC: it.bdC,\n          bgC: it.bgC,\n          quotePrimaryKey: it.quotePrimaryKey,\n          physicalTables: it.physicalTables,\n        })\n        this.nodeMap.set(it.key, node)\n        if (!nodeRelatedLineMap.has(it.key))\n          nodeRelatedLineMap.set(it.key, { from: new Set(), to: new Set() })\n\n        // for (let j = 0; j < node.attributes.length; j++) {\n        //   const attr = node.attributes[j]\n        //   this.attrMap.set(attr.id, node)\n        // }\n      }\n    }\n  }\n\n  private renderNodes() {\n    const {\n      nodeMap,\n      dataHandler: { originData },\n      renderElements,\n    } = this\n    const nodes = originData.nodeDataArray\n    for (let i = 0; i < nodes.length; i++) {\n      const it = nodes[i]\n      const node = nodeMap.get(it.key)\n      node.updateOptions(it)\n      const isVisible = this.canvas.isVisible(node.boundingBox)\n      if (isVisible) {\n        renderElements.push(node)\n        node.draw()\n      }\n    }\n  }\n\n  private renderLines() {\n    const {\n      lineMap,\n      dataHandler: { originData },\n      renderElements,\n      nodeRelatedLineMap,\n    } = this\n    const lines = originData.linkDataArray\n    for (let i = 0; i < lines.length; i++) {\n      const it = lines[i]\n      let line = lineMap.get(it.key)\n\n      if (!line) {\n        line = new LineErwin(this.canvas.cacheCtx, {\n          pos: it.pos,\n          type: it.type,\n          from: it.from,\n          to: it.to,\n          id: it.key,\n          numLineTypes: it.numLineTypes,\n        })\n        this.lineMap.set(it.key, line)\n      } else {\n        line.updateOptions(it)\n      }\n\n      // 缓存节点与连线的关系map\n      if (!nodeRelatedLineMap.has(line.from))\n        nodeRelatedLineMap.set(line.from, { from: new Set(), to: new Set() })\n      if (!nodeRelatedLineMap.has(line.to))\n        nodeRelatedLineMap.set(line.to, { from: new Set(), to: new Set() })\n      nodeRelatedLineMap.get(line.from).from.add(line)\n      nodeRelatedLineMap.get(line.to).to.add(line)\n\n      const isVisible = this.canvas.isVisible(line.boundingBox)\n      if (isVisible) {\n        renderElements.push(line)\n        line.draw()\n      }\n    }\n  }\n\n  private renderNote() {\n    const {\n      dataHandler: {\n        originData: { noteDataArray },\n      },\n      noteMap,\n      renderElements,\n    } = this\n\n    for (let i = 0; i < noteDataArray.length; i++) {\n      const it = noteDataArray[i]\n      let note = noteMap.get(it.key)\n\n      if (!note) {\n        note = new TextBase(this.canvas.cacheCtx, {\n          id: it.key,\n          content: it.text,\n          textColor: it.color,\n          x: it.x,\n          y: it.y,\n        })\n        this.noteMap.set(it.key, note)\n      } else {\n        note.updateOptions(it)\n      }\n\n      const isVisible = this.canvas.isVisible(note.boundingBox)\n      if (isVisible) {\n        renderElements.push(note)\n        note.draw()\n      }\n    }\n  }\n\n  //根据数据更新视图\n  update(newData?) {\n    this.renderElements = []\n    //外部可能会改变data指向，当改变data指向时，调用该方法传入新的data\n    //并且清空聚焦节点\n    if (newData) {\n      this.dataHandler.update({\n        data: newData,\n      })\n      this.lineMap = new Map()\n      this.markMap = new Map()\n      this.noteMap = new Map()\n      this.nodeMap = new Map()\n      this.nodeRelatedLineMap = new Map()\n      this.focusTarget.clear()\n\n      this.initNodes()\n    }\n\n    this.canvas.clearCacheCanvas()\n    const cacheCtx = this.cacheCtx\n    cacheCtx.font = '15px ' + this.fontFamily\n\n    // 开始缓存canvas绘制\n    cacheCtx.save()\n\n    // 绘制矩形框\n    this.renderMarks()\n    // 绘制连线\n    this.renderLines()\n    // 绘制实体\n    this.renderNodes()\n    // 绘制文本备注信息\n    this.renderNote()\n\n    cacheCtx.restore()\n\n    this.canvas.update()\n    this.updateEventCanvas()\n    this.updateThumbnail()\n  }\n\n  public async updateThumbnail() {\n    const {\n      dataHandler: {\n        originData: { nodeDataArray },\n      },\n    } = this\n\n    const thumbnail = this.plugins.get(PluginsEnum.Thumbnail)\n    if (!thumbnail) return false\n\n    await nextTick()\n\n    const { width: viewW, height: viewH } = this.canvas.getRenderSize()\n    let minX = 0,\n      minY = 0,\n      maxX = viewW,\n      maxY = viewH\n    for (let i = 0; i < nodeDataArray.length; i++) {\n      const node = nodeDataArray[i]\n      const { x, y, width, height } = node\n\n      if (x < minX) minX = x\n      if (y < minY) minY = y\n      if (x + width > maxX) maxX = x + width\n      if (y + height > maxY) maxY = y + height\n    }\n\n    thumbnail.draw(minX, minY, maxX, maxY, (ctx) => {\n      for (let i = 0; i < nodeDataArray.length; i++) {\n        const node = nodeDataArray[i]\n        const { x, y, width, height, bgC, bdC } = node\n        ctx.save()\n\n        ctx.fillStyle = bgC || '#fff'\n        ctx.fillRect(x, y, width, height)\n        ctx.strokeStyle = bdC || '#000'\n        ctx.strokeRect(x, y, width, height)\n        ctx.restore()\n      }\n    })\n  }\n\n  public updateEventCanvas() {\n    this.canvas.clearEventCanvas()\n    this.drawFocusElement()\n    this.drawHoverElement()\n    this.drawLockIcon()\n  }\n\n  private drawFocusElement() {\n    const { canvas, focusTarget } = this\n\n    focusTarget.forEach((el) => {\n      if (el instanceof Node) {\n        new FrameResize(canvas.eventCtx, {\n          x: el.x,\n          y: el.y,\n          width: el.width,\n          height: el.height,\n        }).draw()\n      } else if (el instanceof LineErwin) {\n        new LineErwin(canvas.eventCtx, {\n          ...el,\n          lineWidth: 3,\n          strokeStyle: Color.primary,\n        }).draw()\n      } else if (el instanceof NodeRect) {\n        new NodeRect(canvas.eventCtx, {\n          ...el,\n        }).draw()\n      }\n    })\n  }\n\n  private drawHoverElement() {\n    const { canvas, hoverTarget, focusTarget } = this\n\n    const isFocusTarget = focusTarget.has(hoverTarget)\n\n    if (!hoverTarget || isFocusTarget) return\n\n    if (hoverTarget instanceof Node) {\n      new FrameHover(canvas.eventCtx, {\n        x: hoverTarget.x,\n        y: hoverTarget.y,\n        width: hoverTarget.width,\n        height: hoverTarget.height,\n      }).draw()\n    } else if (hoverTarget instanceof LineErwin) {\n      new LineErwin(canvas.eventCtx, {\n        ...hoverTarget,\n        lineWidth: 2,\n        strokeStyle: Color.primary,\n      }).draw()\n    }\n  }\n\n  copy() {\n    if (!this.focusTarget.size) return\n    const copyTarget = JSON.parse(JSON.stringify([...this.focusTarget]))\n    const { handleCopy } = this.externalFn\n    // eslint-disable-next-line\n    // @ts-ignore 触发外部函数，通知要执行拷贝操作，并且记录是否允许拷贝当前项\n    const allowCopy = handleCopy?.(copyTarget, this.copyTarget) !== false\n    if (!allowCopy) return false\n\n    this.copyTarget = copyTarget\n    this.editType = EditType.copy\n    this.el.style.cursor = Cursor.copy\n  }\n\n  //修改可编辑状态\n  setEditable(val) {\n    this.editable = val\n    this.update()\n  }\n\n  // 绘制锁\n  private drawLockIcon() {\n    if (this.editable === Editable.Edit) return\n\n    const translatePos = this.canvas.getTranslate()\n    new LockIcon(this.canvas.eventCtx, {\n      x: -translatePos.x + this.canvas.width - 40,\n      y: -translatePos.y + 25,\n    }).draw()\n  }\n\n  /**\n   * 验证线坐标是否合法\n   *    场景：当种种原因造成线坐标混乱时，使用该方法在绘制前把错误数据恢复很有必要，例如：协同操作时\n   * @param lineInfo\n   * @returns\n   */\n  _checkLinePos(lineInfo) {\n    // 坐标数量不正确时 -> 重新生成连线\n    const nonPos = lineInfo.pos?.length < 2 || lineInfo.pos?.length > 4\n    if (nonPos) return this.mergeLines([lineInfo])\n\n    const fromNode = this.nodeMap.get(lineInfo.from)\n    const toNode = this.nodeMap.get(lineInfo.to)\n    const fromNodeBord = this.getPointBelongBord(fromNode, lineInfo.pos[0])\n    const toNodeBord = this.getPointBelongBord(\n      toNode,\n      lineInfo.pos[lineInfo.pos.length - 1],\n    )\n\n    // 验证通过\n    if (fromNodeBord && toNodeBord) return true\n\n    /**\n     * 验证不通过时 -> 重新生成连线\n     *    实现细节可优化：例如找到当前坐标矩阵的最新距离等\n     */\n    this.mergeLines([lineInfo])\n  }\n\n  //绘制聚焦标识\n  _drawFocus(x, y, w, h) {\n    const ctx = this.cacheCtx\n    ctx.save()\n    ctx.fillStyle = '#fff'\n    ctx.strokeStyle = '#B4B4B4'\n    ctx.shadowColor = '#DADADA'\n    ctx.shadowBlur = 5\n    ctx.fillRect(x - 3, y - 3, 6, 6)\n    ctx.fillRect(x + w / 2 - 3, y - 3, 6, 6)\n    ctx.fillRect(x + w - 3, y - 3, 6, 6)\n    ctx.fillRect(x - 3, y + h / 2 - 3, 6, 6)\n    ctx.fillRect(x + w - 3, y + h / 2 - 3, 6, 6)\n    ctx.fillRect(x - 3, y + h - 3, 6, 6)\n    ctx.fillRect(x + w / 2 - 3, y + h - 3, 6, 6)\n    ctx.fillRect(x + w - 3, y + h - 3, 6, 6)\n\n    ctx.strokeRect(x - 3, y - 3, 6, 6)\n    ctx.strokeRect(x + w / 2 - 3, y - 3, 6, 6)\n    ctx.strokeRect(x + w - 3, y - 3, 6, 6)\n    ctx.strokeRect(x - 3, y + h / 2 - 3, 6, 6)\n    ctx.strokeRect(x + w - 3, y + h / 2 - 3, 6, 6)\n    ctx.strokeRect(x - 3, y + h - 3, 6, 6)\n    ctx.strokeRect(x + w / 2 - 3, y + h - 3, 6, 6)\n    ctx.strokeRect(x + w - 3, y + h - 3, 6, 6)\n\n    ctx.restore()\n  }\n\n  //绘制表名\n  _drawTitle(tableName, w, x, y) {\n    const ctx = this.cacheCtx\n\n    ctx.save()\n    // 设置字体\n    ctx.font = '15px ' + this.fontFamily\n    // 设置颜色\n    ctx.fillStyle = '#000'\n    // 设置水平对齐方式\n    ctx.textAlign = 'left'\n    // 设置垂直对齐方式\n    ctx.textBaseline = 'top'\n    ctx.fillText(ctx.fittingString(tableName, w - 14), x, y - 24)\n    ctx.restore()\n  }\n\n  //缓存图片元素\n  _loadImg(item) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const _this = this\n\n    //开始图片预加载\n    const img = new Image()\n    img.src = item.checkoutInfo.imgUrl\n    img.onload = function () {\n      _this.imgList[item.key] = img\n      _this.update()\n    }\n  }\n\n  //绘制检出标志\n  _drawIcon(img, w, x, y, bdC) {\n    const ctx = this.cacheCtx\n\n    ctx.save()\n    ctx.beginPath()\n    ctx.strokeStyle = bdC\n    ctx.lineWidth = 3\n    ctx.arc(x + w - 6, y - 18, 9, 0, 2 * Math.PI)\n    ctx.clip()\n    ctx.drawImage(img, x + w - 15, y - 27, 18, 18)\n    ctx.stroke()\n    ctx.restore()\n  }\n\n  //绘制矩形框\n  renderMarks() {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const _this = this,\n      data = this.dataHandler.originData\n    data?.markDataArray?.forEach((item) => {\n      // console.log(_this.focusTarget,\"focusTarget=====\")\n      const w = item.width\n      const h = item.height\n      const x = Number(item.x)\n      const y = Number(item.y)\n      // const mark = new NodeRect(this.cacheCtx,item)\n\n      const it = item\n      let mark = this.markMap.get(it.key)\n\n      if (!mark) {\n        mark = new NodeRect(this.canvas.cacheCtx, {\n          id: it.key,\n          x: x,\n          y: y,\n          width: w,\n          height: h,\n        })\n        this.markMap.set(it.key, mark)\n      } else {\n        mark.updateOptions(it)\n      }\n\n      const isVisible = this.canvas.isVisible(mark.boundingBox)\n      if (isVisible) {\n        this.renderElements.push(mark)\n        mark.draw()\n      }\n\n      if (_this.focusTarget.has(mark)) _this._drawFocus(x, y, w, h)\n    })\n  }\n\n  /**\n   * 放大&缩小视图\n   * 参数：scale - 原始大小：100；2倍大小200...\n   */\n  public zoom(rate) {\n    const fixRate = rate / 100\n    this.canvas.zoom(fixRate)\n    this.update()\n    this.emit('graph:zoom', this.canvas.zoomRate)\n  }\n\n  //找到连线点在节点的哪条边上\n  getPointBelongBord(nodeInfo, pointInfo) {\n    if (pointInfo.x === nodeInfo.x) {\n      return 'L'\n    } else if (pointInfo.x === nodeInfo.x + nodeInfo.width) {\n      return 'R'\n    } else if (pointInfo.y === nodeInfo.y) {\n      return 'T'\n    } else if (pointInfo.y === nodeInfo.y + nodeInfo.height) {\n      return 'B'\n    } else {\n      console.error(\n        'getPointBelongBord未找到匹配边，detail:',\n        nodeInfo,\n        JSON.parse(JSON.stringify(nodeInfo)),\n        JSON.parse(JSON.stringify(pointInfo)),\n      )\n    }\n  }\n\n  //修改节点尺寸\n  resizeNode(evX, evY, eventObj, minWidth = 50) {\n    //分支不允许修改尺寸\n    if (['exclusive', 'inclusive'].includes(eventObj.target.type)) return\n\n    //开始修改尺寸逻辑\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const _this = this\n    const copyEventObjTarget = {\n      x: eventObj.target.x,\n      y: eventObj.target.y,\n      width: eventObj.target.width,\n      height: eventObj.target.height,\n    }\n\n    //左上\n    if (eventObj.targetDirection === 'LT') {\n      const newWidth = eventObj.target.width + eventObj.target.x - evX\n      const newHeight = eventObj.target.height + eventObj.target.y - evY\n\n      eventObj.target.updateOptions({\n        x: newWidth < minWidth ? eventObj.target.x : evX,\n        y: newHeight < minWidth ? eventObj.target.y : evY,\n        width: newWidth < minWidth ? eventObj.target.width : newWidth,\n        height: newHeight < minWidth ? eventObj.target.height : newHeight,\n      })\n      moveKeyPoint()\n    }\n    //上中\n    else if (eventObj.targetDirection === 'TM') {\n      const newHeight = eventObj.target.height + eventObj.target.y - evY\n\n      eventObj.target.updateOptions({\n        y: newHeight < minWidth ? eventObj.target.y : evY,\n        height: newHeight < minWidth ? eventObj.target.height : newHeight,\n      })\n      moveKeyPoint()\n    }\n    //右上\n    else if (eventObj.targetDirection === 'RT') {\n      const newWidth = evX - eventObj.target.x\n      const newHeight = eventObj.target.height + eventObj.target.y - evY\n\n      eventObj.target.updateOptions({\n        y: newHeight < minWidth ? eventObj.target.y : evY,\n        width: newWidth < minWidth ? eventObj.target.width : newWidth,\n        height: newHeight < minWidth ? eventObj.target.height : newHeight,\n      })\n      moveKeyPoint()\n    }\n    //左中\n    else if (eventObj.targetDirection === 'LM') {\n      const newWidth = eventObj.target.width + eventObj.target.x - evX\n\n      eventObj.target.updateOptions({\n        x: newWidth < minWidth ? eventObj.target.x : evX,\n        width: newWidth < minWidth ? eventObj.target.width : newWidth,\n      })\n      moveKeyPoint()\n    }\n    //右中\n    else if (eventObj.targetDirection === 'RM') {\n      const newWidth = evX - eventObj.target.x\n\n      eventObj.target.updateOptions({\n        width: newWidth < minWidth ? eventObj.target.width : newWidth,\n      })\n      moveKeyPoint()\n    }\n    //左下\n    else if (eventObj.targetDirection === 'LB') {\n      const newWidth = eventObj.target.width + eventObj.target.x - evX\n      const newHeight = evY - eventObj.target.y\n\n      eventObj.target.updateOptions({\n        x: newWidth < minWidth ? eventObj.target.x : evX,\n        width: newWidth < minWidth ? eventObj.target.width : newWidth,\n        height: newHeight < minWidth ? eventObj.target.height : newHeight,\n      })\n      moveKeyPoint()\n    }\n    //下中\n    else if (eventObj.targetDirection === 'BM') {\n      const newHeight = evY - eventObj.target.y\n\n      eventObj.target.updateOptions({\n        height: newHeight < minWidth ? eventObj.target.height : newHeight,\n      })\n      moveKeyPoint()\n    }\n    //右下\n    else if (eventObj.targetDirection === 'RB') {\n      const newWidth = evX - eventObj.target.x\n      const newHeight = evY - eventObj.target.y\n\n      eventObj.target.updateOptions({\n        width: newWidth < minWidth ? eventObj.target.width : newWidth,\n        height: newHeight < minWidth ? eventObj.target.height : newHeight,\n      })\n\n      moveKeyPoint()\n    }\n    if (eventObj.target.type === 'mark') {\n      this.emit('mark:resize', eventObj.target)\n    } else {\n      this.emit('node:resize', eventObj.target)\n    }\n\n    //根据节点最新位置更新该节点上的连线关键点函数\n    function moveKeyPoint() {\n      //如果方块没有最小宽度限度证明是备注框，无需判断连线\n      if (!minWidth) return\n      _this.nodeMap.get(eventObj.target.id).updateOptions(eventObj.target)\n\n      const lineSet = _this.nodeRelatedLineMap.get(\n        eventObj.target.id,\n      ) as RelatedLineItem\n\n      ;[...lineSet.from, ...lineSet.to].forEach((item) => {\n        //判断该条线的起始节点和终结节点是不同的实体：如果不同走实体影响线的函数；如果相同代表是自己连自己的情况，走单独的函数\n        const diffFlag = item.from !== item.to\n        const idx = lineSet.from.has(item) ? 0 : item.pos.length - 1\n        diffFlag && updateKeyPoint(item, idx)\n        diffFlag\n          ? _this.moveLineForNode(item, eventObj, eventObj.target)\n          : _this.moveLineForSameNode(item, eventObj)\n      })\n\n      //更新关键点函数\n      function updateKeyPoint(item, idx) {\n        //左边\n        if (item.pos[idx].x === copyEventObjTarget.x) {\n          item.pos[idx].x = eventObj.target.x\n          item.pos[idx].y =\n            item.pos[idx].y < eventObj.target.y\n              ? eventObj.target.y + 1\n              : item.pos[idx].y > eventObj.target.y + eventObj.target.height\n              ? eventObj.target.y + eventObj.target.height - 1\n              : item.pos[idx].y\n        }\n        //右边\n        else if (\n          item.pos[idx].x ===\n          copyEventObjTarget.x + copyEventObjTarget.width\n        ) {\n          item.pos[idx].x = eventObj.target.x + eventObj.target.width\n          item.pos[idx].y =\n            item.pos[idx].y < eventObj.target.y\n              ? eventObj.target.y + 1\n              : item.pos[idx].y > eventObj.target.y + eventObj.target.height\n              ? eventObj.target.y + eventObj.target.height - 1\n              : item.pos[idx].y\n        }\n        //上边\n        else if (item.pos[idx].y === copyEventObjTarget.y) {\n          item.pos[idx].x =\n            item.pos[idx].x <= eventObj.target.x\n              ? eventObj.target.x + 1\n              : item.pos[idx].x >= eventObj.target.x + eventObj.target.width\n              ? eventObj.target.x + eventObj.target.width - 1\n              : item.pos[idx].x\n          item.pos[idx].y = eventObj.target.y\n        }\n        //下边\n        else if (\n          item.pos[idx].y ===\n          copyEventObjTarget.y + copyEventObjTarget.height\n        ) {\n          item.pos[idx].x =\n            item.pos[idx].x <= eventObj.target.x\n              ? eventObj.target.x + 1\n              : item.pos[idx].x >= eventObj.target.x + eventObj.target.width\n              ? eventObj.target.x + eventObj.target.width - 1\n              : item.pos[idx].x\n          item.pos[idx].y = eventObj.target.y + eventObj.target.height\n        }\n      }\n    }\n  }\n\n  //根据四个边获取坐标点\n  getNodePosFromBoreder(targetNode, direction) {\n    let pos = {\n      start: {\n        x: null,\n        y: null,\n      },\n      end: {\n        x: null,\n        y: null,\n      },\n    }\n    switch (direction) {\n      case 'T':\n        pos = {\n          start: {\n            x: targetNode.x,\n            y: targetNode.y,\n          },\n          end: {\n            x: targetNode.x + targetNode.width,\n            y: targetNode.y,\n          },\n        }\n        break\n      case 'B':\n        pos = {\n          start: {\n            x: targetNode.x,\n            y: targetNode.y + targetNode.height,\n          },\n          end: {\n            x: targetNode.x + targetNode.width,\n            y: targetNode.y + targetNode.height,\n          },\n        }\n        break\n      case 'L':\n        pos = {\n          start: {\n            x: targetNode.x,\n            y: targetNode.y,\n          },\n          end: {\n            x: targetNode.x,\n            y: targetNode.y + targetNode.height,\n          },\n        }\n        break\n      case 'R':\n        pos = {\n          start: {\n            x: targetNode.x + targetNode.width,\n            y: targetNode.y,\n          },\n          end: {\n            x: targetNode.x + targetNode.width,\n            y: targetNode.y + targetNode.height,\n          },\n        }\n        break\n    }\n    return pos\n  }\n\n  //更新 节点移动 触发的更改线条路径\n  moveLineForNode(linkInfo, eventObj, nodeNewLoc) {\n    const posMaxIdx = linkInfo.pos.length - 1\n    const distance = {\n      x: nodeNewLoc.x - eventObj.target.x,\n      y: nodeNewLoc.y - eventObj.target.y,\n    }\n\n    const fromNode = this.nodeMap.get(linkInfo.from)\n    const toNode = this.nodeMap.get(linkInfo.to)\n    const fromNodeBord = this.getPointBelongBord(fromNode, linkInfo.pos[0])\n    const toNodeBord = this.getPointBelongBord(toNode, linkInfo.pos[posMaxIdx])\n\n    // 连线错乱时 -> 重新生成连线坐标\n    if (!fromNodeBord || !toNodeBord) this.mergeLines([linkInfo])\n\n    const moveTargetIsFrom = eventObj.target.id === fromNode.id\n\n    //拖动节点是from节点\n    if (moveTargetIsFrom) {\n      //更新首点定位\n      linkInfo.pos[0].x = nodeNewLoc.x + (linkInfo.pos[0].x - eventObj.target.x)\n      linkInfo.pos[0].y = nodeNewLoc.y + (linkInfo.pos[0].y - eventObj.target.y)\n    }\n    //拖动节点是to节点\n    else {\n      //更新末点定位\n      linkInfo.pos[posMaxIdx].x =\n        nodeNewLoc.x + (linkInfo.pos[posMaxIdx].x - eventObj.target.x)\n      linkInfo.pos[posMaxIdx].y =\n        nodeNewLoc.y + (linkInfo.pos[posMaxIdx].y - eventObj.target.y)\n    }\n\n    //根据最新的定位点更新连线点坐标\n    //直线情况\n    if (posMaxIdx === 1) {\n      linkInfo.pos.splice(\n        1,\n        0,\n        { x: linkInfo.pos[0].x, y: linkInfo.pos[0].y },\n        { x: linkInfo.pos[0].x, y: linkInfo.pos[0].y },\n      )\n    }\n    //二折情况\n    else if (posMaxIdx === 2) {\n      if (fromNodeBord === 'R' && toNodeBord === 'B') {\n        //正常向下\n        if (\n          this.getNodePosFromBoreder(toNode, 'B').start.y < linkInfo.pos[0].y\n        ) {\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[0].y }\n        }\n        //变横向一折\n        else {\n          const idx1X =\n            this.getNodePosFromBoreder(fromNode, 'R').start.x <\n            this.getNodePosFromBoreder(toNode, 'L').start.x\n              ? this.getNodePosFromBoreder(toNode, 'L').start.x\n              : this.getNodePosFromBoreder(toNode, 'R').start.x\n          linkInfo.pos[1] = {\n            x: idx1X + (moveTargetIsFrom ? 0 : distance.x),\n            y: linkInfo.pos[0].y + distance.y,\n          }\n          linkInfo.pos.splice(2)\n        }\n\n        //向右变竖向一折\n        if (linkInfo.pos[2] && linkInfo.pos[2].x <= linkInfo.pos[0].x) {\n          linkInfo.pos[0] = {\n            x: linkInfo.pos[0].x - 1,\n            y: fromNode.y + (moveTargetIsFrom ? distance.y : 0),\n          }\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[2].y }\n          linkInfo.pos.splice(2)\n        }\n      } else if (fromNodeBord === 'B' && toNodeBord === 'R') {\n        if (fromNode.y + fromNode.height < linkInfo.pos[1].y) {\n          linkInfo.pos[1] = { x: linkInfo.pos[0].x, y: linkInfo.pos[2].y }\n        }\n        //变一折\n        else {\n          if (['exclusive', 'inclusive'].includes(fromNode.type)) {\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y:\n                Math.max(\n                  this.getNodePosFromBoreder(fromNode, 'B').start.y,\n                  this.getNodePosFromBoreder(toNode, 'B').start.y,\n                ) + 20,\n            }\n            linkInfo.pos[2] = {\n              x:\n                toNode.x +\n                Math.floor(toNode.width / 2) +\n                (moveTargetIsFrom ? 0 : distance.x),\n              y: linkInfo.pos[1].y,\n            }\n            linkInfo.pos[3] = {\n              x: linkInfo.pos[2].x,\n              y:\n                this.getNodePosFromBoreder(toNode, 'B').start.y +\n                (moveTargetIsFrom ? 0 : distance.y),\n            }\n          } else {\n            linkInfo.pos[0] = {\n              x:\n                fromNode.x +\n                (eventObj.target.id === fromNode.id ? distance.x : 0),\n              y: linkInfo.pos[1].y,\n            }\n            linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[2].y }\n            linkInfo.pos.splice(2)\n          }\n        }\n\n        if (linkInfo.pos[1].x < toNode.x + toNode.width) {\n          linkInfo.pos[1].y =\n            toNode.y + (eventObj.target.id === toNode.id ? distance.y : 0)\n          linkInfo.pos.splice(2)\n        }\n      } else if (fromNodeBord === 'L' && toNodeBord === 'B') {\n        //正常向下\n        if (\n          this.getNodePosFromBoreder(toNode, 'B').start.y < linkInfo.pos[0].y\n        ) {\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[0].y }\n        }\n        //变横向一折\n        else {\n          linkInfo.pos[1] = {\n            x:\n              toNode.x +\n              toNode.width +\n              (eventObj.target.id === toNode.id ? distance.x : 0),\n            y: linkInfo.pos[0].y,\n          }\n          linkInfo.pos.splice(2)\n        }\n        //变竖向一折\n        if (\n          linkInfo.pos[1].x >= eventObj.target.x &&\n          this.getNodePosFromBoreder(toNode, 'B').start.y <\n            this.getNodePosFromBoreder(fromNode, 'T').start.y\n        ) {\n          linkInfo.pos[0] = {\n            x: linkInfo.pos[0].x + (moveTargetIsFrom ? distance.x : 0) - 1,\n            y: fromNode.y + (moveTargetIsFrom ? distance.y : 0),\n          }\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[2].y }\n          linkInfo.pos.splice(2)\n        }\n      } else if (fromNodeBord === 'B' && toNodeBord === 'L') {\n        linkInfo.pos[1].x = linkInfo.pos[0].x\n        linkInfo.pos[1].y = linkInfo.pos[2].y\n        if (linkInfo.pos[1].x > toNode.x) {\n          linkInfo.pos[1].y =\n            toNode.y + (eventObj.target.id === toNode.id ? distance.y : 0)\n          linkInfo.pos.splice(2)\n        }\n        if (linkInfo.pos[1].y < linkInfo.pos[0].y) {\n          if (['exclusive', 'inclusive'].includes(fromNode.type)) {\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y:\n                Math.max(\n                  this.getNodePosFromBoreder(fromNode, 'B').start.y,\n                  this.getNodePosFromBoreder(toNode, 'B').start.y,\n                ) + 20,\n            }\n            linkInfo.pos[2] = {\n              x:\n                toNode.x +\n                Math.floor(toNode.width / 2) +\n                (moveTargetIsFrom ? 0 : distance.x),\n              y: linkInfo.pos[1].y,\n            }\n            linkInfo.pos[3] = {\n              x: linkInfo.pos[2].x,\n              y:\n                this.getNodePosFromBoreder(toNode, 'B').start.y +\n                (moveTargetIsFrom ? 0 : distance.y),\n            }\n          } else {\n            linkInfo.pos[1].x =\n              this.getNodePosFromBoreder(fromNode, 'R').start.x +\n              (eventObj.target.id === fromNode.id ? distance.x : 0)\n            linkInfo.pos[1].y =\n              this.getNodePosFromBoreder(fromNode, 'B').start.y +\n              (eventObj.target.id === fromNode.id ? distance.y : 0)\n            linkInfo.pos.splice(0, 1)\n          }\n        }\n      } else if (fromNodeBord === 'R' && toNodeBord === 'T') {\n        linkInfo.pos[1].x = linkInfo.pos[2].x\n        linkInfo.pos[1].y = linkInfo.pos[0].y\n        if (linkInfo.pos[1].x < linkInfo.pos[0].x) {\n          linkInfo.pos[1].y =\n            this.getNodePosFromBoreder(fromNode, 'B').start.y +\n            (eventObj.target.id === fromNode.id ? distance.y : 0)\n          linkInfo.pos.splice(0, 1)\n        }\n        if (linkInfo.pos[2] && linkInfo.pos[1].y > linkInfo.pos[2].y) {\n          if (['exclusive', 'inclusive'].includes(toNode.type)) {\n            linkInfo.pos[0] = {\n              x: fromNode.x + Math.floor(fromNode.width / 2),\n              y: fromNode.y + (moveTargetIsFrom ? distance.y : 0),\n            }\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y: linkInfo.pos[0].y - 20,\n            }\n            linkInfo.pos[2] = { x: linkInfo.pos[2].x, y: linkInfo.pos[1].y }\n            linkInfo.pos[3] = {\n              x: linkInfo.pos[2].x,\n              y: toNode.y + (moveTargetIsFrom ? 0 : distance.y),\n            }\n          } else {\n            linkInfo.pos[1].x = toNode.x + (moveTargetIsFrom ? 0 : distance.x)\n            linkInfo.pos[1].y = toNode.y + (moveTargetIsFrom ? 0 : distance.y)\n            linkInfo.pos.splice(2)\n          }\n        }\n      } else if (fromNodeBord === 'T' && toNodeBord === 'R') {\n        linkInfo.pos[1].x = linkInfo.pos[0].x\n        linkInfo.pos[1].y = linkInfo.pos[2].y\n        if (linkInfo.pos[1].x < linkInfo.pos[2].x) {\n          linkInfo.pos[1].y =\n            this.getNodePosFromBoreder(toNode, 'B').start.y +\n            (eventObj.target.id === toNode.id ? distance.y : 0)\n          linkInfo.pos.splice(2)\n        }\n        if (linkInfo.pos[0].y < linkInfo.pos[1].y) {\n          linkInfo.pos[1].x =\n            fromNode.x + (eventObj.target.id === fromNode.id ? distance.x : 0)\n          linkInfo.pos[1].y =\n            fromNode.y + (eventObj.target.id === fromNode.id ? distance.y : 0)\n          linkInfo.pos.splice(0, 1)\n        }\n      } else if (fromNodeBord === 'T' && toNodeBord === 'L') {\n        linkInfo.pos[1].x = linkInfo.pos[0].x\n        linkInfo.pos[1].y = linkInfo.pos[2].y\n        if (linkInfo.pos[1].x > linkInfo.pos[2].x) {\n          linkInfo.pos[1].y =\n            this.getNodePosFromBoreder(toNode, 'B').start.y +\n            (eventObj.target.id === toNode.id ? distance.y : 0)\n          linkInfo.pos.splice(2)\n        }\n        if (linkInfo.pos[1].y > linkInfo.pos[0].y) {\n          linkInfo.pos[1].x =\n            this.getNodePosFromBoreder(fromNode, 'R').start.x +\n            (eventObj.target.id === fromNode.id ? distance.x : 0)\n          linkInfo.pos.splice(0, 1)\n        }\n      } else if (fromNodeBord === 'L' && toNodeBord === 'T') {\n        linkInfo.pos[1].x = linkInfo.pos[2].x\n        linkInfo.pos[1].y = linkInfo.pos[0].y\n        if (linkInfo.pos[1].y > linkInfo.pos[2].y) {\n          if (['exclusive', 'inclusive'].includes(toNode.type)) {\n            linkInfo.pos[0] = {\n              x: fromNode.x + Math.floor(fromNode.width / 2),\n              y: fromNode.y + (moveTargetIsFrom ? distance.y : 0),\n            }\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y: linkInfo.pos[0].y - 20,\n            }\n            linkInfo.pos[2] = { x: linkInfo.pos[2].x, y: linkInfo.pos[1].y }\n            linkInfo.pos[3] = {\n              x: linkInfo.pos[2].x,\n              y: toNode.y + (moveTargetIsFrom ? 0 : distance.y),\n            }\n          } else {\n            linkInfo.pos[1].x =\n              this.getNodePosFromBoreder(toNode, 'R').start.x +\n              (eventObj.target.id === toNode.id ? distance.x : 0)\n            linkInfo.pos.splice(2)\n          }\n        }\n        if (linkInfo.pos[1].x > linkInfo.pos[0].x) {\n          linkInfo.pos[1].y =\n            this.getNodePosFromBoreder(fromNode, 'B').start.y +\n            (eventObj.target.id === fromNode.id ? distance.y : 0)\n          linkInfo.pos.splice(0, 1)\n        }\n      }\n    }\n    //三折情况\n    else if (posMaxIdx === 3) {\n      const middleX = Math.floor(\n        Math.abs(linkInfo.pos[0].x - linkInfo.pos[posMaxIdx].x) / 2,\n      )\n      const middleY = Math.floor(\n        Math.abs(linkInfo.pos[0].y - linkInfo.pos[posMaxIdx].y) / 2,\n      )\n\n      if (fromNodeBord === 'B' && toNodeBord === 'B') {\n        // 正常向下移动\n        if (\n          this.getNodePosFromBoreder(fromNode, 'T').start.y <\n          this.getNodePosFromBoreder(toNode, 'B').start.y\n        ) {\n          //正常向下\n          if (\n            this.getNodePosFromBoreder(fromNode, 'B').start.y <\n            linkInfo.pos[1].y\n          ) {\n            const idx1and2Y =\n              linkInfo.pos[2].y - toNode.y - toNode.height + linkInfo.pos[3].y\n            // linkInfo.pos[0] = { x: linkInfo.pos[0].x, y: fromNode.y }\n            linkInfo.pos[1] = { x: linkInfo.pos[0].x, y: idx1and2Y }\n            linkInfo.pos[2] = { x: linkInfo.pos[3].x, y: idx1and2Y }\n            // linkInfo.pos[3] = {x: linkInfo.pos[3].x, y: linkInfo.pos[3].y}\n          }\n          //二折\n          else {\n            const idx0X =\n              fromNode.x + fromNode.width > linkInfo.pos[3].x\n                ? fromNode.x\n                : fromNode.x + fromNode.width\n            const idx1and2Y =\n              linkInfo.pos[2].y - toNode.y - toNode.height + linkInfo.pos[3].y\n            linkInfo.pos[0] = {\n              x: idx0X + (eventObj.target.id === fromNode.id ? distance.x : 0),\n              y: idx1and2Y,\n            }\n            linkInfo.pos[1] = { x: linkInfo.pos[3].x, y: idx1and2Y }\n            linkInfo.pos[2] = { x: linkInfo.pos[3].x, y: linkInfo.pos[3].y }\n            // 删除最后一位\n            linkInfo.pos.splice(3)\n          }\n        }\n        // from和to重合点 -> 变成T to B\n        else {\n          if (['exclusive', 'inclusive'].includes(fromNode.type)) {\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y: fromNode.y + fromNode.height + 20,\n            }\n            linkInfo.pos[2] = { x: linkInfo.pos[3].x, y: linkInfo.pos[1].y }\n          } else {\n            // console.log('T->B')\n            linkInfo.pos[0] = {\n              x: linkInfo.pos[0].x,\n              y: linkInfo.pos[0].y - fromNode.height,\n            }\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y:\n                linkInfo.pos[0].y +\n                Math.floor((fromNode.y - toNode.y - toNode.height) / 2),\n            }\n            linkInfo.pos[2] = {\n              x: linkInfo.pos[3].x,\n              y:\n                linkInfo.pos[0].y +\n                Math.floor((fromNode.y - toNode.y - toNode.height) / 2),\n            }\n          }\n        }\n      } else if (fromNodeBord === 'B' && toNodeBord === 'T') {\n        // from高 to低\n        if (fromNode.y + fromNode.height < toNode.y) {\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x,\n            y: linkInfo.pos[0].y + middleY,\n          }\n          linkInfo.pos[2] = {\n            x: linkInfo.pos[3].x,\n            y: linkInfo.pos[0].y + middleY,\n          }\n        }\n        // from和to重合点 -> 变成B to B\n        else if (fromNode.y + fromNode.height >= toNode.y) {\n          if (['exclusive', 'inclusive'].includes(toNode.type)) {\n            linkInfo.pos[0] = {\n              x: linkInfo.pos[0].x,\n              y: linkInfo.pos[0].y - fromNode.height,\n            }\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y: linkInfo.pos[0].y - 20,\n            }\n            linkInfo.pos[2] = { x: linkInfo.pos[3].x, y: linkInfo.pos[1].y }\n          } else {\n            // console.log('B->B')\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y: toNode.y + toNode.height + 20,\n            }\n            linkInfo.pos[2] = {\n              x: linkInfo.pos[3].x,\n              y: toNode.y + toNode.height + 20,\n            }\n            linkInfo.pos[3] = {\n              x: linkInfo.pos[3].x,\n              y: linkInfo.pos[3].y + toNode.height,\n            }\n          }\n        }\n      } else if (fromNodeBord === 'T' && toNodeBord === 'T') {\n        if (\n          ['exclusive', 'inclusive'].includes(fromNode.type) ||\n          ['exclusive', 'inclusive'].includes(toNode.type)\n        ) {\n          const y =\n            linkInfo.pos[1].y + distance.y > Math.min(fromNode.y, toNode.y) - 20\n              ? Math.min(fromNode.y, toNode.y) - 20\n              : linkInfo.pos[1].y + distance.y\n          linkInfo.pos[1] = { x: linkInfo.pos[0].x, y: y }\n          linkInfo.pos[2] = { x: linkInfo.pos[3].x, y: y }\n        } else if (linkInfo.pos[1].y < eventObj.target.y) {\n          linkInfo.pos[1] = { x: linkInfo.pos[0].x, y: linkInfo.pos[1].y }\n          linkInfo.pos[2] = { x: linkInfo.pos[3].x, y: linkInfo.pos[2].y }\n        } else {\n          // console.log('B->B')\n          linkInfo.pos[0] = {\n            x: linkInfo.pos[0].x,\n            y: linkInfo.pos[0].y + fromNode.height,\n          }\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x,\n            y:\n              Math.max(fromNode.y + fromNode.height, toNode.y + toNode.height) +\n              20,\n          }\n          linkInfo.pos[2] = {\n            x: linkInfo.pos[3].x,\n            y:\n              Math.max(fromNode.y + fromNode.height, toNode.y + toNode.height) +\n              20,\n          }\n          linkInfo.pos[3] = {\n            x: linkInfo.pos[3].x,\n            y: linkInfo.pos[3].y + toNode.height,\n          }\n        }\n      } else if (fromNodeBord === 'T' && toNodeBord === 'B') {\n        if (fromNode.y > toNode.y + toNode.height) {\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x,\n            y: linkInfo.pos[0].y - middleY,\n          }\n          linkInfo.pos[2] = {\n            x: linkInfo.pos[3].x,\n            y: linkInfo.pos[3].y + middleY,\n          }\n        }\n        // from和to重合点 -> 变成B to B\n        else if (fromNode.y <= toNode.y + toNode.height) {\n          console.log('B->B')\n          linkInfo.pos[0] = {\n            x: linkInfo.pos[0].x,\n            y: linkInfo.pos[0].y + fromNode.height,\n          }\n          linkInfo.pos[1] = { x: linkInfo.pos[0].x, y: linkInfo.pos[0].y + 20 }\n          linkInfo.pos[2] = { x: linkInfo.pos[3].x, y: linkInfo.pos[0].y + 20 }\n        }\n      } else if (fromNodeBord === 'L' && toNodeBord === 'L') {\n        //拖动的是to节点\n        if (eventObj.target.id === toNode.id) {\n          linkInfo.pos[2] = {\n            x: nodeNewLoc.x - (toNode.x - linkInfo.pos[2].x),\n            y: linkInfo.pos[3].y,\n          }\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[0].y }\n        }\n        //拖动的是from节点\n        else {\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[0].y }\n        }\n        //变成二折\n        if (\n          linkInfo.pos[1].x > fromNode.x &&\n          linkInfo.pos[1].x < fromNode.x + fromNode.width\n        ) {\n          // console.log('变成二折')\n          linkInfo.pos.splice(0, 1)\n          ++linkInfo.pos[0].x\n          linkInfo.pos[0].y =\n            (linkInfo.pos[1].y <\n            this.getNodePosFromBoreder(fromNode, 'T').start.y\n              ? this.getNodePosFromBoreder(fromNode, 'T').start.y\n              : this.getNodePosFromBoreder(fromNode, 'B').start.y) +\n            (eventObj.target.id === fromNode.id ? distance.y : 0)\n        }\n      } else if (fromNodeBord === 'L' && toNodeBord === 'R') {\n        if (fromNode.x > toNode.x + toNode.width) {\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x - middleX,\n            y: linkInfo.pos[0].y,\n          }\n          linkInfo.pos[2] = { x: linkInfo.pos[1].x, y: linkInfo.pos[3].y }\n        }\n        // from和to重合 -> 变成R to R\n        else {\n          linkInfo.pos[0] = {\n            x: linkInfo.pos[0].x + fromNode.width,\n            y: linkInfo.pos[0].y,\n          }\n          linkInfo.pos[1] = { x: linkInfo.pos[0].x + 20, y: linkInfo.pos[0].y }\n          linkInfo.pos[2] = { x: linkInfo.pos[0].x + 20, y: linkInfo.pos[3].y }\n        }\n      } else if (fromNodeBord === 'R' && toNodeBord === 'L') {\n        //from在to左边\n        if (fromNode.x + fromNode.width < toNode.x) {\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x + middleX,\n            y: linkInfo.pos[0].y,\n          }\n          linkInfo.pos[2] = {\n            x: linkInfo.pos[0].x + middleX,\n            y: linkInfo.pos[3].y,\n          }\n        } else {\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x + toNode.width + 20,\n            y: linkInfo.pos[0].y,\n          }\n          linkInfo.pos[2] = {\n            x: linkInfo.pos[0].x + toNode.width + 20,\n            y: linkInfo.pos[3].y,\n          }\n          linkInfo.pos[3] = {\n            x: linkInfo.pos[3].x + toNode.width,\n            y: linkInfo.pos[3].y,\n          }\n        }\n      } else if (fromNodeBord === 'R' && toNodeBord === 'R') {\n        //拖动的是to节点\n        if (eventObj.target.id === toNode.id) {\n          linkInfo.pos[2] = {\n            x: nodeNewLoc.x - (toNode.x - linkInfo.pos[2].x),\n            y: linkInfo.pos[3].y,\n          }\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[0].y }\n        }\n        //拖动的是from节点\n        else {\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[0].y }\n        }\n        //变成二折\n        if (\n          linkInfo.pos[1].x > fromNode.x &&\n          linkInfo.pos[1].x < fromNode.x + fromNode.width\n        ) {\n          // console.log('变成二折')\n          linkInfo.pos.splice(0, 1)\n          --linkInfo.pos[0].x\n          linkInfo.pos[0].y =\n            (linkInfo.pos[1].y <\n            this.getNodePosFromBoreder(fromNode, 'T').start.y\n              ? this.getNodePosFromBoreder(fromNode, 'T').start.y\n              : this.getNodePosFromBoreder(fromNode, 'B').start.y) +\n            (eventObj.target.id === fromNode.id ? distance.y : 0)\n        }\n      }\n    }\n\n    this.emit('line:move', linkInfo)\n  }\n\n  //更新 节点移动 触发的更改线条路径(自己连自己的情况)\n  moveLineForSameNode(linkInfo, eventObj) {\n    // const disY = copyEventObjTarget.y+copyEventObjTarget.height-linkInfo.pos[0].y\n    // const disX = copyEventObjTarget.x+copyEventObjTarget.width-linkInfo.pos[4].x\n    const disY = 20\n    const disX = 20\n    // console.log(disX, disY)\n    const dis0to1 = linkInfo.pos[1].x - linkInfo.pos[0].x\n    const dis1to2 = linkInfo.pos[2].y - linkInfo.pos[1].y\n\n    linkInfo.pos[0] = {\n      x: eventObj.target.x + eventObj.target.width,\n      y: eventObj.target.y + eventObj.target.height - disY,\n    }\n    linkInfo.pos[4] = {\n      x: eventObj.target.x + eventObj.target.width - disX,\n      y: eventObj.target.y + eventObj.target.height,\n    }\n    linkInfo.pos[1] = { x: linkInfo.pos[0].x + dis0to1, y: linkInfo.pos[0].y }\n    linkInfo.pos[2] = { x: linkInfo.pos[1].x, y: linkInfo.pos[1].y + dis1to2 }\n    linkInfo.pos[3] = { x: linkInfo.pos[4].x, y: linkInfo.pos[2].y }\n\n    this.emit('line:move', linkInfo)\n  }\n\n  //更新 路径移动 触发的更改线条路径\n  moveLineForLine(eventObj, mouseLoc) {\n    const eventPos = eventObj.target.pos,\n      posMaxIdx = eventPos.length - 1\n    let fromNode,\n      toNode,\n      total = 0\n\n    this.dataHandler.originData.nodeDataArray?.forEach((item) => {\n      if (item.key === eventObj.target.from) {\n        fromNode = item\n        total++\n      }\n      if (item.key === eventObj.target.to) {\n        toNode = item\n        total++\n      }\n      if (total === 2) return\n    })\n\n    //分支节点位置限制: from\n    if (['exclusive', 'inclusive'].includes(fromNode.type)) {\n      //挨着from的竖线\n      if (\n        eventObj.targetLineStartPointIdx === 0 &&\n        eventPos[eventObj.targetLineStartPointIdx].x ===\n          eventPos[eventObj.targetLineStartPointIdx + 1].x &&\n        (this.getNodePosFromBoreder(fromNode, 'L').start.x >= mouseLoc.x ||\n          this.getNodePosFromBoreder(fromNode, 'R').start.x <= mouseLoc.x)\n      )\n        return\n      //中间横线\n      if (\n        eventObj.targetLineStartPointIdx === 1 &&\n        eventPos[eventObj.targetLineStartPointIdx].y ===\n          eventPos[eventObj.targetLineStartPointIdx + 1].y &&\n        this.getNodePosFromBoreder(fromNode, 'B').start.y >= mouseLoc.y\n      )\n        return\n      //挨着to的竖线\n      if (\n        eventObj.targetLineStartPointIdx === 2 &&\n        eventPos[eventObj.targetLineStartPointIdx].x ===\n          eventPos[eventObj.targetLineStartPointIdx + 1].x &&\n        (this.getNodePosFromBoreder(toNode, 'L').start.x >= mouseLoc.x ||\n          this.getNodePosFromBoreder(toNode, 'R').start.x <= mouseLoc.x)\n      )\n        return\n    }\n    //分支节点位置限制: to\n    else if (['exclusive', 'inclusive'].includes(toNode.type)) {\n      //一折线不能移动\n      if (posMaxIdx === 1) return\n      //二折线竖线不能动\n      if (posMaxIdx === 2 && eventObj.targetLineStartPointIdx === 1) return\n      //二折线横线限制\n      if (\n        posMaxIdx === 2 &&\n        eventObj.targetLineStartPointIdx === 0 &&\n        this.getNodePosFromBoreder(toNode, 'T').start.y < mouseLoc.y\n      )\n        return\n      //三折最后的线不能动\n      if (posMaxIdx === 3 && eventObj.targetLineStartPointIdx === 2) return\n      //三折中间横线位置限制\n      if (\n        posMaxIdx === 3 &&\n        eventObj.targetLineStartPointIdx === 1 &&\n        this.getNodePosFromBoreder(toNode, 'T').start.y < mouseLoc.y\n      )\n        return\n      //三折第一条线位置限制\n      if (\n        posMaxIdx === 3 &&\n        eventObj.targetLineStartPointIdx === 0 &&\n        (this.getNodePosFromBoreder(fromNode, 'L').start.x >= mouseLoc.x ||\n          this.getNodePosFromBoreder(fromNode, 'R').start.x <= mouseLoc.x)\n      )\n        return\n    }\n\n    //一折情况\n    if (posMaxIdx === 1) {\n      //横线\n      if (eventPos[0].y === eventPos[1].y) {\n        //更新y坐标\n        eventPos[0].y = mouseLoc.y\n        eventPos[1].y = mouseLoc.y\n        //更新x坐标\n        if (\n          this.getNodePosFromBoreder(fromNode, 'T').start.y > mouseLoc.y ||\n          this.getNodePosFromBoreder(fromNode, 'B').start.y < mouseLoc.y\n        ) {\n          eventPos[0].x = fromNode.x + fromNode.width / 2\n          eventPos.unshift({\n            x: fromNode.x + fromNode.width / 2,\n            y:\n              this.getNodePosFromBoreder(fromNode, 'T').start.y > mouseLoc.y\n                ? fromNode.y\n                : fromNode.y + fromNode.height,\n          })\n        }\n        if (\n          this.getNodePosFromBoreder(toNode, 'T').start.y > mouseLoc.y ||\n          this.getNodePosFromBoreder(toNode, 'B').start.y < mouseLoc.y\n        ) {\n          eventPos[eventPos.length - 1].x = toNode.x + toNode.width / 2\n          eventPos.push({\n            x: toNode.x + toNode.width / 2,\n            y:\n              this.getNodePosFromBoreder(toNode, 'T').start.y > mouseLoc.y\n                ? toNode.y\n                : toNode.y + toNode.height,\n          })\n        }\n      }\n      //竖线\n      else {\n        //更新x坐标\n        eventPos[0].x = mouseLoc.x\n        eventPos[1].x = mouseLoc.x\n        //更新y坐标\n        if (\n          this.getNodePosFromBoreder(fromNode, 'L').start.x > mouseLoc.x ||\n          this.getNodePosFromBoreder(fromNode, 'R').start.x < mouseLoc.x\n        ) {\n          eventPos[0].y = fromNode.y + fromNode.height / 2\n          eventPos.unshift({\n            x:\n              this.getNodePosFromBoreder(fromNode, 'R').start.x < mouseLoc.x\n                ? fromNode.x + fromNode.width\n                : fromNode.x,\n            y: fromNode.y + fromNode.height / 2,\n          })\n        }\n        if (\n          this.getNodePosFromBoreder(toNode, 'L').start.x > mouseLoc.x ||\n          this.getNodePosFromBoreder(toNode, 'R').start.x < mouseLoc.x\n        ) {\n          eventPos[eventPos.length - 1].y = toNode.y + toNode.height / 2\n          eventPos.push({\n            x:\n              this.getNodePosFromBoreder(toNode, 'R').start.x < mouseLoc.x\n                ? toNode.x + toNode.width\n                : toNode.x,\n            y: toNode.y + toNode.height / 2,\n          })\n        }\n      }\n    }\n    //二折情况\n    else if (posMaxIdx === 2) {\n      //横线\n      if (\n        eventPos[eventObj.targetLineStartPointIdx].y ===\n        eventPos[eventObj.targetLineStartPointIdx + 1].y\n      ) {\n        eventPos[eventObj.targetLineStartPointIdx].y = mouseLoc.y\n        eventPos[eventObj.targetLineStartPointIdx + 1].y = mouseLoc.y\n        //超出from节点边界\n        if (\n          (this.getNodePosFromBoreder(fromNode, 'B').start.y < mouseLoc.y ||\n            this.getNodePosFromBoreder(fromNode, 'T').start.y > mouseLoc.y) &&\n          eventObj.targetLineStartPointIdx === 0\n        ) {\n          eventPos[eventObj.targetLineStartPointIdx].x =\n            fromNode.x + fromNode.width / 2\n          eventPos.unshift({\n            x: fromNode.x + fromNode.width / 2,\n            y:\n              this.getNodePosFromBoreder(fromNode, 'T').start.y > mouseLoc.y\n                ? fromNode.y\n                : fromNode.y + fromNode.height,\n          })\n        }\n        //超出to节点边界\n        if (\n          (this.getNodePosFromBoreder(toNode, 'B').start.y < mouseLoc.y ||\n            this.getNodePosFromBoreder(toNode, 'T').start.y > mouseLoc.y) &&\n          eventObj.targetLineStartPointIdx === 1\n        ) {\n          eventPos[eventObj.targetLineStartPointIdx + 1].x =\n            toNode.x + toNode.width / 2\n          eventPos.push({\n            x: toNode.x + toNode.width / 2,\n            y:\n              this.getNodePosFromBoreder(toNode, 'T').start.y > mouseLoc.y\n                ? toNode.y\n                : toNode.y + toNode.height,\n          })\n        }\n        //进入from内\n        if (\n          eventObj.targetLineStartPointIdx === 1 &&\n          this.getNodePosFromBoreder(fromNode, 'B').start.y > mouseLoc.y &&\n          this.getNodePosFromBoreder(fromNode, 'T').start.y < mouseLoc.y\n        ) {\n          // console.log('from内')\n          eventPos.splice(0, 1)\n          eventPos[0].x =\n            toNode.x > fromNode.x ? fromNode.x + fromNode.width : fromNode.x\n        }\n        //进入to内\n        if (\n          eventObj.targetLineStartPointIdx === 0 &&\n          this.getNodePosFromBoreder(toNode, 'B').start.y > mouseLoc.y &&\n          this.getNodePosFromBoreder(toNode, 'T').start.y < mouseLoc.y\n        ) {\n          // console.log('to内')\n          eventPos.splice(eventPos.length - 1, 1)\n          eventPos[eventPos.length - 1].x =\n            fromNode.x > toNode.x ? toNode.x + toNode.width : toNode.x\n        }\n      }\n      //竖线\n      else {\n        eventPos[eventObj.targetLineStartPointIdx].x = mouseLoc.x\n        eventPos[eventObj.targetLineStartPointIdx + 1].x = mouseLoc.x\n        //超出from节点边界\n        if (\n          (this.getNodePosFromBoreder(fromNode, 'L').start.x > mouseLoc.x ||\n            this.getNodePosFromBoreder(fromNode, 'R').start.x < mouseLoc.x) &&\n          eventObj.targetLineStartPointIdx === 0\n        ) {\n          // console.log('超出from')\n          eventPos[eventObj.targetLineStartPointIdx].y =\n            fromNode.y + fromNode.height / 2\n          eventPos.unshift({\n            x:\n              this.getNodePosFromBoreder(fromNode, 'L').start.x > mouseLoc.x\n                ? fromNode.x\n                : fromNode.x + fromNode.width,\n            y: fromNode.y + fromNode.height / 2,\n          })\n        }\n        //超出to节点边界\n        if (\n          (this.getNodePosFromBoreder(toNode, 'L').start.x > mouseLoc.x ||\n            this.getNodePosFromBoreder(toNode, 'R').start.x < mouseLoc.x) &&\n          eventObj.targetLineStartPointIdx === 1\n        ) {\n          // console.log('超出to')\n          eventPos[eventObj.targetLineStartPointIdx + 1].y =\n            toNode.y + toNode.height / 2\n          eventPos.push({\n            x:\n              this.getNodePosFromBoreder(toNode, 'L').start.x > mouseLoc.x\n                ? toNode.x\n                : toNode.x + toNode.width,\n            y: toNode.y + toNode.height / 2,\n          })\n        }\n        //进入from内\n        if (\n          eventObj.targetLineStartPointIdx === 1 &&\n          this.getNodePosFromBoreder(fromNode, 'L').start.x < mouseLoc.x &&\n          this.getNodePosFromBoreder(fromNode, 'R').start.x > mouseLoc.x\n        ) {\n          // console.log('from内')\n          eventPos.splice(0, 1)\n          eventPos[0].y =\n            toNode.y > fromNode.y ? fromNode.y + fromNode.height : fromNode.y\n        }\n        //进入to内\n        if (\n          eventObj.targetLineStartPointIdx === 0 &&\n          this.getNodePosFromBoreder(toNode, 'L').start.x < mouseLoc.x &&\n          this.getNodePosFromBoreder(toNode, 'R').start.x > mouseLoc.x\n        ) {\n          // console.log('to内')\n          eventPos.splice(eventPos.length - 1, 1)\n          eventPos[eventPos.length - 1].y =\n            fromNode.y > toNode.y ? toNode.y + toNode.height : toNode.y\n        }\n      }\n    }\n    //三折情况\n    else if (posMaxIdx === 3) {\n      //横线\n      if (\n        eventPos[eventObj.targetLineStartPointIdx].y ===\n        eventPos[eventObj.targetLineStartPointIdx + 1].y\n      ) {\n        eventPos[eventObj.targetLineStartPointIdx].y = mouseLoc.y\n        eventPos[eventObj.targetLineStartPointIdx + 1].y = mouseLoc.y\n        //触发线段是挨着from节点\n        if (eventObj.targetLineStartPointIdx === 0) {\n          //Z形状\n          if (judgeLineShapeIsZ(eventPos)) {\n            //超出最高点\n            if (\n              eventPos[0].y < this.getNodePosFromBoreder(fromNode, 'T').start.y\n            ) {\n              eventPos[0] = {\n                x:\n                  this.getNodePosFromBoreder(fromNode, 'T').start.x +\n                  fromNode.width / 2,\n                y: fromNode.y,\n              }\n              eventPos[1] = { x: eventPos[0].x, y: mouseLoc.y }\n              if (\n                mouseLoc.y < this.getNodePosFromBoreder(toNode, 'T').start.y ||\n                mouseLoc.y > this.getNodePosFromBoreder(toNode, 'B').start.y\n              ) {\n                eventPos[2] = {\n                  x:\n                    this.getNodePosFromBoreder(toNode, 'L').start.x +\n                    toNode.width / 2,\n                  y: mouseLoc.y,\n                }\n                eventPos[3] = {\n                  x: eventPos[2].x,\n                  y:\n                    mouseLoc.y < this.getNodePosFromBoreder(toNode, 'T').start.y\n                      ? this.getNodePosFromBoreder(toNode, 'T').start.y\n                      : this.getNodePosFromBoreder(toNode, 'B').start.y,\n                }\n              } else {\n                eventPos[2] = {\n                  x:\n                    eventPos[1].x <\n                    this.getNodePosFromBoreder(toNode, 'R').start.x\n                      ? this.getNodePosFromBoreder(toNode, 'L').start.x\n                      : this.getNodePosFromBoreder(toNode, 'R').start.x,\n                  y: mouseLoc.y,\n                }\n                eventPos.splice(3)\n              }\n            }\n            //超出最低点\n            else if (\n              eventPos[0].y > this.getNodePosFromBoreder(fromNode, 'B').start.y\n            ) {\n              eventPos[0] = {\n                x:\n                  this.getNodePosFromBoreder(fromNode, 'T').start.x +\n                  fromNode.width / 2,\n                y: this.getNodePosFromBoreder(fromNode, 'B').start.y,\n              }\n              eventPos[1] = { x: eventPos[0].x, y: mouseLoc.y }\n              if (\n                mouseLoc.y < this.getNodePosFromBoreder(toNode, 'T').start.y ||\n                mouseLoc.y > this.getNodePosFromBoreder(toNode, 'B').start.y\n              ) {\n                eventPos[2] = {\n                  x:\n                    this.getNodePosFromBoreder(toNode, 'L').start.x +\n                    toNode.width / 2,\n                  y: mouseLoc.y,\n                }\n                eventPos[3] = {\n                  x: eventPos[2].x,\n                  y:\n                    mouseLoc.y < this.getNodePosFromBoreder(toNode, 'T').start.y\n                      ? this.getNodePosFromBoreder(toNode, 'T').start.y\n                      : this.getNodePosFromBoreder(toNode, 'B').start.y,\n                }\n              } else {\n                eventPos[2] = {\n                  x:\n                    eventPos[1].x <\n                    this.getNodePosFromBoreder(toNode, 'R').start.x\n                      ? this.getNodePosFromBoreder(toNode, 'L').start.x\n                      : this.getNodePosFromBoreder(toNode, 'R').start.x,\n                  y: mouseLoc.y,\n                }\n                eventPos.splice(3)\n              }\n            }\n          }\n          //C形状\n          else {\n            if (\n              mouseLoc.y < this.getNodePosFromBoreder(fromNode, 'T').start.y\n            ) {\n              eventPos[0].y = this.getNodePosFromBoreder(fromNode, 'T').start.y\n              eventPos[1].y = this.getNodePosFromBoreder(fromNode, 'T').start.y\n            } else if (\n              mouseLoc.y > this.getNodePosFromBoreder(fromNode, 'B').start.y\n            ) {\n              eventPos[0].y = this.getNodePosFromBoreder(fromNode, 'B').start.y\n              eventPos[1].y = this.getNodePosFromBoreder(fromNode, 'B').start.y\n            }\n          }\n        }\n        //触发线段是挨着to节点\n        else if (eventObj.targetLineStartPointIdx === eventPos.length - 2) {\n          //Z形状\n          if (judgeLineShapeIsZ(eventPos)) {\n            //超出最高点\n            if (\n              eventPos[3].y < this.getNodePosFromBoreder(toNode, 'T').start.y\n            ) {\n              eventPos[3] = {\n                x:\n                  this.getNodePosFromBoreder(toNode, 'T').start.x +\n                  toNode.width / 2,\n                y: toNode.y,\n              }\n              eventPos[2] = { x: eventPos[3].x, y: mouseLoc.y }\n              if (\n                mouseLoc.y <\n                  this.getNodePosFromBoreder(fromNode, 'T').start.y ||\n                mouseLoc.y > this.getNodePosFromBoreder(fromNode, 'B').start.y\n              ) {\n                eventPos[1] = {\n                  x:\n                    this.getNodePosFromBoreder(fromNode, 'L').start.x +\n                    fromNode.width / 2,\n                  y: mouseLoc.y,\n                }\n                eventPos[0] = {\n                  x: eventPos[1].x,\n                  y:\n                    mouseLoc.y <\n                    this.getNodePosFromBoreder(fromNode, 'T').start.y\n                      ? this.getNodePosFromBoreder(fromNode, 'T').start.y\n                      : this.getNodePosFromBoreder(fromNode, 'B').start.y,\n                }\n              } else {\n                eventPos[1] = {\n                  x:\n                    eventPos[2].x >\n                    this.getNodePosFromBoreder(fromNode, 'R').start.x\n                      ? this.getNodePosFromBoreder(fromNode, 'R').start.x\n                      : this.getNodePosFromBoreder(fromNode, 'L').start.x,\n                  y: mouseLoc.y,\n                }\n                eventPos.splice(0, 1)\n              }\n            }\n            //超出最低点\n            else if (\n              eventPos[3].y > this.getNodePosFromBoreder(toNode, 'B').start.y\n            ) {\n              eventPos[3] = {\n                x:\n                  this.getNodePosFromBoreder(toNode, 'L').start.x +\n                  toNode.width / 2,\n                y: this.getNodePosFromBoreder(toNode, 'B').start.y,\n              }\n              eventPos[2] = { x: eventPos[3].x, y: mouseLoc.y }\n              if (\n                mouseLoc.y <\n                  this.getNodePosFromBoreder(fromNode, 'T').start.y ||\n                mouseLoc.y > this.getNodePosFromBoreder(fromNode, 'B').start.y\n              ) {\n                eventPos[1] = {\n                  x:\n                    this.getNodePosFromBoreder(fromNode, 'L').start.x +\n                    fromNode.width / 2,\n                  y: mouseLoc.y,\n                }\n                eventPos[0] = {\n                  x: eventPos[1].x,\n                  y:\n                    mouseLoc.y <\n                    this.getNodePosFromBoreder(fromNode, 'T').start.y\n                      ? this.getNodePosFromBoreder(fromNode, 'T').start.y\n                      : this.getNodePosFromBoreder(fromNode, 'B').start.y,\n                }\n              } else {\n                eventPos[1] = {\n                  x:\n                    eventPos[2].x >\n                    this.getNodePosFromBoreder(fromNode, 'R').start.x\n                      ? this.getNodePosFromBoreder(fromNode, 'R').start.x\n                      : this.getNodePosFromBoreder(fromNode, 'L').start.x,\n                  y: mouseLoc.y,\n                }\n                eventPos.splice(0, 1)\n              }\n            }\n          }\n          //C形状\n          else {\n            if (mouseLoc.y < this.getNodePosFromBoreder(toNode, 'T').start.y) {\n              eventPos[2].y = this.getNodePosFromBoreder(toNode, 'T').start.y\n              eventPos[3].y = this.getNodePosFromBoreder(toNode, 'T').start.y\n            } else if (\n              mouseLoc.y > this.getNodePosFromBoreder(toNode, 'B').start.y\n            ) {\n              eventPos[2].y = this.getNodePosFromBoreder(toNode, 'B').start.y\n              eventPos[3].y = this.getNodePosFromBoreder(toNode, 'B').start.y\n            }\n          }\n        }\n        //触发线段是中间部位\n        else {\n          //from变化\n          if (\n            mouseLoc.y > this.getNodePosFromBoreder(fromNode, 'T').start.y &&\n            mouseLoc.y < this.getNodePosFromBoreder(fromNode, 'B').start.y\n          ) {\n            eventPos.splice(0, 1)\n            eventPos[0].x =\n              eventPos[1].x < this.getNodePosFromBoreder(fromNode, 'L').start.x\n                ? this.getNodePosFromBoreder(fromNode, 'L').start.x\n                : this.getNodePosFromBoreder(fromNode, 'R').start.x\n          }\n          //to变化\n          if (\n            mouseLoc.y > this.getNodePosFromBoreder(toNode, 'T').start.y &&\n            mouseLoc.y < this.getNodePosFromBoreder(toNode, 'B').start.y\n          ) {\n            eventPos[eventPos.length - 2].x =\n              eventPos[eventPos.length - 3].x <\n              this.getNodePosFromBoreder(toNode, 'L').start.x\n                ? this.getNodePosFromBoreder(toNode, 'L').start.x\n                : this.getNodePosFromBoreder(toNode, 'R').start.x\n            eventPos.splice(eventPos.length - 1)\n          }\n        }\n      }\n      //竖线\n      else {\n        eventPos[eventObj.targetLineStartPointIdx].x = mouseLoc.x\n        eventPos[eventObj.targetLineStartPointIdx + 1].x = mouseLoc.x\n\n        //触发线段是挨着from节点\n        if (eventObj.targetLineStartPointIdx === 0) {\n          // console.log('from节点')\n          // Z形状\n          if (judgeLineShapeIsN(eventPos)) {\n            //超出最左点\n            if (\n              eventPos[0].x < this.getNodePosFromBoreder(fromNode, 'L').start.x\n            ) {\n              eventPos[0] = {\n                x: this.getNodePosFromBoreder(fromNode, 'L').start.x,\n                y:\n                  this.getNodePosFromBoreder(fromNode, 'L').start.y +\n                  fromNode.height / 2,\n              }\n              eventPos[1] = { x: mouseLoc.x, y: eventPos[0].y }\n              if (\n                mouseLoc.x < this.getNodePosFromBoreder(toNode, 'L').start.x ||\n                mouseLoc.x > this.getNodePosFromBoreder(toNode, 'R').start.x\n              ) {\n                eventPos[2] = {\n                  x: mouseLoc.x,\n                  y:\n                    this.getNodePosFromBoreder(toNode, 'T').start.y +\n                    toNode.height / 2,\n                }\n                eventPos[3] = {\n                  x:\n                    mouseLoc.x < this.getNodePosFromBoreder(toNode, 'L').start.x\n                      ? this.getNodePosFromBoreder(toNode, 'L').start.x\n                      : this.getNodePosFromBoreder(toNode, 'R').start.x,\n                  y: eventPos[2].y,\n                }\n              } else {\n                eventPos[2] = {\n                  x: mouseLoc.x,\n                  y:\n                    eventPos[1].y <\n                    this.getNodePosFromBoreder(toNode, 'T').start.y\n                      ? this.getNodePosFromBoreder(toNode, 'T').start.y\n                      : this.getNodePosFromBoreder(toNode, 'B').start.y,\n                }\n                eventPos.splice(3)\n              }\n            }\n            //超出最右点\n            else if (\n              eventPos[0].x > this.getNodePosFromBoreder(fromNode, 'R').start.x\n            ) {\n              eventPos[0] = {\n                x: this.getNodePosFromBoreder(fromNode, 'R').start.x,\n                y:\n                  this.getNodePosFromBoreder(fromNode, 'R').start.y +\n                  fromNode.height / 2,\n              }\n              eventPos[1] = { x: mouseLoc.x, y: eventPos[0].y }\n              if (\n                mouseLoc.x < this.getNodePosFromBoreder(toNode, 'L').start.x ||\n                mouseLoc.x > this.getNodePosFromBoreder(toNode, 'R').start.x\n              ) {\n                eventPos[2] = {\n                  x: mouseLoc.x,\n                  y:\n                    this.getNodePosFromBoreder(toNode, 'T').start.y +\n                    toNode.height / 2,\n                }\n                eventPos[3] = {\n                  x:\n                    mouseLoc.x < this.getNodePosFromBoreder(toNode, 'L').start.x\n                      ? this.getNodePosFromBoreder(toNode, 'L').start.x\n                      : this.getNodePosFromBoreder(toNode, 'R').start.x,\n                  y: eventPos[2].y,\n                }\n              } else {\n                eventPos[2] = {\n                  x: mouseLoc.x,\n                  y:\n                    eventPos[1].y <\n                    this.getNodePosFromBoreder(toNode, 'T').start.y\n                      ? this.getNodePosFromBoreder(toNode, 'T').start.y\n                      : this.getNodePosFromBoreder(toNode, 'B').start.y,\n                }\n                eventPos.splice(3)\n              }\n            }\n          }\n          //C形状\n          else {\n            if (\n              mouseLoc.x < this.getNodePosFromBoreder(fromNode, 'L').start.x\n            ) {\n              eventPos[0].x =\n                this.getNodePosFromBoreder(fromNode, 'L').start.x + 1\n              eventPos[1].x =\n                this.getNodePosFromBoreder(fromNode, 'L').start.x + 1\n            } else if (\n              mouseLoc.x > this.getNodePosFromBoreder(fromNode, 'R').start.x\n            ) {\n              eventPos[0].x =\n                this.getNodePosFromBoreder(fromNode, 'R').start.x - 1\n              eventPos[1].x =\n                this.getNodePosFromBoreder(fromNode, 'R').start.x - 1\n            }\n          }\n        }\n        //触发线段是挨着to节点\n        else if (eventObj.targetLineStartPointIdx === eventPos.length - 2) {\n          // console.log('to节点')\n          //Z形状\n          if (judgeLineShapeIsN(eventPos)) {\n            //超出最左点\n            if (\n              eventPos[3].x < this.getNodePosFromBoreder(toNode, 'L').start.x\n            ) {\n              eventPos[3] = {\n                x: this.getNodePosFromBoreder(toNode, 'L').start.x,\n                y:\n                  this.getNodePosFromBoreder(toNode, 'L').start.y +\n                  toNode.height / 2,\n              }\n              eventPos[2] = { x: mouseLoc.x, y: eventPos[3].y }\n              //超出对面节点\n              if (\n                mouseLoc.x <\n                  this.getNodePosFromBoreder(fromNode, 'L').start.x ||\n                mouseLoc.x > this.getNodePosFromBoreder(fromNode, 'R').start.x\n              ) {\n                eventPos[1] = {\n                  x: mouseLoc.x,\n                  y:\n                    this.getNodePosFromBoreder(fromNode, 'T').start.y +\n                    fromNode.height / 2,\n                }\n                eventPos[0] = {\n                  x:\n                    mouseLoc.x <\n                    this.getNodePosFromBoreder(fromNode, 'L').start.x\n                      ? this.getNodePosFromBoreder(fromNode, 'L').start.x\n                      : this.getNodePosFromBoreder(fromNode, 'R').start.x,\n                  y: eventPos[1].y,\n                }\n              } else {\n                eventPos[1] = {\n                  x: mouseLoc.x,\n                  y:\n                    eventPos[2].y >\n                    this.getNodePosFromBoreder(fromNode, 'B').start.y\n                      ? this.getNodePosFromBoreder(fromNode, 'B').start.y\n                      : this.getNodePosFromBoreder(fromNode, 'T').start.y,\n                }\n                eventPos.splice(0, 1)\n              }\n            }\n            //超出最右点\n            else if (\n              eventPos[3].x > this.getNodePosFromBoreder(toNode, 'R').start.x\n            ) {\n              eventPos[3] = {\n                x: this.getNodePosFromBoreder(toNode, 'R').start.x,\n                y:\n                  this.getNodePosFromBoreder(toNode, 'R').start.y +\n                  toNode.height / 2,\n              }\n              eventPos[2] = { x: mouseLoc.x, y: eventPos[3].y }\n              //超出对面节点\n              if (\n                mouseLoc.x <\n                  this.getNodePosFromBoreder(fromNode, 'L').start.x ||\n                mouseLoc.x > this.getNodePosFromBoreder(fromNode, 'R').start.x\n              ) {\n                eventPos[1] = {\n                  x: mouseLoc.x,\n                  y:\n                    this.getNodePosFromBoreder(fromNode, 'T').start.y +\n                    fromNode.height / 2,\n                }\n                eventPos[0] = {\n                  x:\n                    mouseLoc.x <\n                    this.getNodePosFromBoreder(fromNode, 'L').start.x\n                      ? this.getNodePosFromBoreder(fromNode, 'L').start.x\n                      : this.getNodePosFromBoreder(fromNode, 'R').start.x,\n                  y: eventPos[1].y,\n                }\n              } else {\n                eventPos[1] = {\n                  x: mouseLoc.x,\n                  y:\n                    eventPos[2].y >\n                    this.getNodePosFromBoreder(fromNode, 'B').start.y\n                      ? this.getNodePosFromBoreder(fromNode, 'B').start.y\n                      : this.getNodePosFromBoreder(fromNode, 'T').start.y,\n                }\n                eventPos.splice(0, 1)\n              }\n            }\n          }\n          //C形状\n          else {\n            if (mouseLoc.x < this.getNodePosFromBoreder(toNode, 'L').start.x) {\n              eventPos[2].x =\n                this.getNodePosFromBoreder(toNode, 'L').start.x + 1\n              eventPos[3].x =\n                this.getNodePosFromBoreder(toNode, 'L').start.x + 1\n            } else if (\n              mouseLoc.x > this.getNodePosFromBoreder(toNode, 'R').start.x\n            ) {\n              eventPos[2].x =\n                this.getNodePosFromBoreder(toNode, 'R').start.x - 1\n              eventPos[3].x =\n                this.getNodePosFromBoreder(toNode, 'R').start.x - 1\n            }\n          }\n        }\n        //触发线段是中间部位\n        else {\n          // console.log('中间')\n          //from变化\n          if (\n            mouseLoc.x > this.getNodePosFromBoreder(fromNode, 'L').start.x &&\n            mouseLoc.x < this.getNodePosFromBoreder(fromNode, 'R').start.x\n          ) {\n            eventPos.splice(0, 1)\n            eventPos[0].y =\n              eventPos[1].y < this.getNodePosFromBoreder(fromNode, 'T').start.y\n                ? this.getNodePosFromBoreder(fromNode, 'T').start.y\n                : this.getNodePosFromBoreder(fromNode, 'B').start.y\n          }\n          //to变化\n          if (\n            mouseLoc.x > this.getNodePosFromBoreder(toNode, 'L').start.x &&\n            mouseLoc.x < this.getNodePosFromBoreder(toNode, 'R').start.x\n          ) {\n            eventPos[eventPos.length - 2].y =\n              eventPos[eventPos.length - 3].y <\n              this.getNodePosFromBoreder(toNode, 'T').start.y\n                ? this.getNodePosFromBoreder(toNode, 'T').start.y\n                : this.getNodePosFromBoreder(toNode, 'B').start.y\n            eventPos.splice(eventPos.length - 1)\n          }\n        }\n      }\n\n      //判断是否需要三折合并一折\n      if (\n        eventPos.length === 4 &&\n        eventPos[1].x === eventPos[2].x &&\n        eventPos[1].y === eventPos[2].y\n      ) {\n        eventPos.splice(1, 2)\n      }\n    }\n\n    //判断连线形状是不是Z形状（false为C）\n    function judgeLineShapeIsZ(eventPos) {\n      let judgeWidth = 0\n      for (let i = 0, len = eventPos.length - 1; i < len; i++) {\n        judgeWidth += Math.abs(eventPos[i].x - eventPos[i + 1].x)\n      }\n\n      return (\n        judgeWidth === Math.abs(eventPos[0].x - eventPos[eventPos.length - 1].x)\n      )\n    }\n    //判断连线形状是不是N形状（false为|__|）\n    function judgeLineShapeIsN(eventPos) {\n      let judgeHeight = 0\n      for (let i = 0, len = eventPos.length - 1; i < len; i++) {\n        judgeHeight += Math.abs(eventPos[i].y - eventPos[i + 1].y)\n      }\n\n      return (\n        judgeHeight ===\n        Math.abs(eventPos[0].y - eventPos[eventPos.length - 1].y)\n      )\n    }\n\n    this.emit('line:move', eventObj.target)\n  }\n\n  //新增结点\n  addNode() {\n    this.editType = EditType.addNote\n  }\n\n  /**\n   * 包装结点信息方法\n   * @param {Object} addNodeDefaultAttr 默认信息\n   * @param {Object} mouseLoc 当前鼠标位置\n   */\n  packNodeInfo(addNodeDefaultAttr, mouseLoc) {\n    const { x, y } = this.transLoc(mouseLoc)\n\n    const newNode = Object.assign(addNodeDefaultAttr, {\n      x,\n      y: y + 24,\n      width: 50,\n      height: 50,\n    })\n\n    return newNode\n  }\n\n  /**\n   * 获取与鼠标位置重合的实体\n   * @param {*} mouseLoc\n   */\n  getOverlapNode() {\n    const data = this.dataHandler.originData\n\n    //查看是否节点触发\n    for (let i = 0, len = data.nodeDataArray.length; i < len; i++) {\n      const w = Number(data.nodeDataArray[i].width) || 100\n      const h = Number(data.nodeDataArray[i].height) || 50\n      const x = Number(data.nodeDataArray[i].x)\n      const y = Number(data.nodeDataArray[i].y)\n\n      if (x > x && x < w + x && y > y && y < h + y) {\n        return data.nodeDataArray[i]\n      }\n    }\n  }\n\n  /**\n   * 根据鼠标所在位置，换算出相对于完整绘图区的坐标\n   * @param {object} mouseLoc 鼠标在canvas上的位置\n   */\n  transLoc(mouseLoc) {\n    const translatePos = this.canvas.getTranslate()\n    const zoomRate = this.canvas.zoomRate\n    const evX = Math.floor((mouseLoc.x + translatePos.x) / zoomRate),\n      evY = Math.floor((mouseLoc.y + translatePos.y) / zoomRate)\n\n    return {\n      x: evX,\n      y: evY,\n    }\n  }\n\n  //新增连线\n  addLine(lineType) {\n    this.editType = lineType\n  }\n\n  //新增框\n  addMark() {\n    this.editType = EditType.addMark\n  }\n\n  //新增备注\n  addNote() {\n    this.editType = EditType.addNote\n  }\n\n  // 新增标注信息\n  addRemark(remarkStr = '') {\n    this.focusTarget?.forEach((focusItem) => {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      focusItem.remark = remarkStr\n    })\n\n    this.update()\n  }\n\n  //改变颜色\n  changeColor(value, type) {\n    this.focusTarget?.forEach((focusItem) => {\n      //实体\n      if (focusItem instanceof NodeErwin) {\n        if (type !== 'color') {\n          focusItem[type] = value\n        } else {\n          console.log('修改的是属性文字颜色, 逻辑待完善.')\n        }\n      }\n      //框\n      else if (focusItem instanceof NodeRect) {\n        focusItem[type] = value\n      }\n      //备注文本\n      else if (focusItem instanceof TextBase) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        focusItem.textColor = value\n      }\n    })\n    this.update()\n  }\n\n  /**\n   * 根据chooseTargets数据创建新的连线信息数据\n   * @param {String} lineType     必选，创建的线型\n   * @param {Object} defaultData  可选，带有默认数据的线，当该参数有值证明是批量建线\n   */\n  createLineInfo(lineType, defaultData) {\n    const chooseTargets = this.chooseTargets,\n      chooseTargets0Loc = this.getNodePosFromBoreder(chooseTargets[0], 'L'),\n      chooseTargets1Loc = this.getNodePosFromBoreder(chooseTargets[1], 'L')\n\n    const pos = []\n    //起始节点和终止节点是同一个\n    if (chooseTargets[0].key === chooseTargets[1].key) {\n      pos[0] = {\n        x: chooseTargets[0].x + chooseTargets[0].width,\n        y: chooseTargets[0].y + chooseTargets[0].height - 20,\n      }\n      pos[1] = {\n        x: chooseTargets[0].x + chooseTargets[0].width + 20,\n        y: chooseTargets[0].y + chooseTargets[0].height - 20,\n      }\n      pos[2] = {\n        x: chooseTargets[0].x + chooseTargets[0].width + 20,\n        y: chooseTargets[0].y + chooseTargets[0].height + 20,\n      }\n      pos[3] = {\n        x: chooseTargets[0].x + chooseTargets[0].width - 20,\n        y: chooseTargets[0].y + chooseTargets[0].height + 20,\n      }\n      pos[4] = {\n        x: chooseTargets[0].x + chooseTargets[0].width - 20,\n        y: chooseTargets[0].y + chooseTargets[0].height,\n      }\n    }\n    //起始节点是分支节点\n    else if (['exclusive', 'inclusive'].includes(chooseTargets[0].type)) {\n      //分支上 to下 -> N形状\n      if (chooseTargets0Loc.end.y < chooseTargets1Loc.start.y) {\n        pos[0] = {\n          x: chooseTargets0Loc.end.x + Math.floor(chooseTargets[0].width / 2),\n          y: chooseTargets0Loc.end.y,\n        }\n        pos[1] = {\n          x: pos[0].x,\n          y:\n            pos[0].y +\n            Math.floor(\n              (chooseTargets1Loc.start.y - chooseTargets0Loc.end.y) / 2,\n            ),\n        }\n        pos[2] = {\n          x: chooseTargets1Loc.start.x + Math.floor(chooseTargets[1].width / 2),\n          y: pos[1].y,\n        }\n        pos[3] = { x: pos[2].x, y: chooseTargets1Loc.start.y }\n      }\n      //分支下 to上 -> U形状\n      else {\n        pos[0] = {\n          x: chooseTargets0Loc.end.x + Math.floor(chooseTargets[0].width / 2),\n          y: chooseTargets0Loc.end.y,\n        }\n        pos[1] = {\n          x: pos[0].x,\n          y: Math.max(chooseTargets0Loc.end.y, chooseTargets1Loc.start.y) + 20,\n        }\n        pos[2] = {\n          x: chooseTargets1Loc.start.x + Math.floor(chooseTargets[1].width / 2),\n          y: pos[1].y,\n        }\n        pos[3] = { x: pos[2].x, y: chooseTargets1Loc.end.y }\n      }\n    }\n    //终止节点是分支节点\n    else if (['exclusive', 'inclusive'].includes(chooseTargets[1].type)) {\n      //from上 分支下\n      if (chooseTargets0Loc.end.y < chooseTargets1Loc.start.y) {\n        pos[0] = {\n          x: chooseTargets0Loc.end.x + Math.floor(chooseTargets[0].width / 2),\n          y: chooseTargets0Loc.end.y,\n        }\n        pos[1] = {\n          x: pos[0].x,\n          y:\n            pos[0].y +\n            Math.floor(\n              (chooseTargets1Loc.start.y - chooseTargets0Loc.end.y) / 2,\n            ),\n        }\n        pos[2] = {\n          x: chooseTargets1Loc.start.x + Math.floor(chooseTargets[1].width / 2),\n          y: pos[1].y,\n        }\n        pos[3] = { x: pos[2].x, y: chooseTargets1Loc.start.y }\n      }\n      //from下分支上\n      else {\n        pos[0] = {\n          x: chooseTargets0Loc.end.x + Math.floor(chooseTargets[0].width / 2),\n          y: chooseTargets0Loc.start.y,\n        }\n        pos[1] = {\n          x: pos[0].x,\n          y: Math.min(chooseTargets0Loc.end.y, chooseTargets1Loc.start.y) - 20,\n        }\n        pos[2] = {\n          x: chooseTargets1Loc.start.x + Math.floor(chooseTargets[1].width / 2),\n          y: pos[1].y,\n        }\n        pos[3] = { x: pos[2].x, y: chooseTargets1Loc.start.y }\n      }\n    }\n    //起始节点是普通节点\n    else {\n      //from左  to右\n      if (\n        this.getNodePosFromBoreder(chooseTargets[0], 'R').start.x <\n        this.getNodePosFromBoreder(chooseTargets[1], 'L').start.x\n      ) {\n        //有重合 -> 直线\n        if (\n          (chooseTargets1Loc.start.y - chooseTargets0Loc.end.y) *\n            (chooseTargets1Loc.end.y - chooseTargets0Loc.start.y) <\n          0\n        ) {\n          // console.log('有重合')\n          const y =\n            Math.max(chooseTargets0Loc.start.y, chooseTargets1Loc.start.y) +\n            Math.abs(\n              Math.floor(\n                (Math.min(chooseTargets0Loc.end.y, chooseTargets1Loc.end.y) -\n                  Math.max(\n                    chooseTargets0Loc.start.y,\n                    chooseTargets1Loc.start.y,\n                  )) /\n                  2,\n              ),\n            )\n          pos[0] = {\n            x: this.getNodePosFromBoreder(chooseTargets[0], 'R').start.x,\n            y: y,\n          }\n          pos[1] = {\n            x: this.getNodePosFromBoreder(chooseTargets[1], 'L').start.x,\n            y: y,\n          }\n        }\n        //无重合 -> 二折\n        else {\n          // console.log('无重合')\n          //from下  to上\n          if (chooseTargets0Loc.start.y > chooseTargets1Loc.end.y) {\n            pos[0] = {\n              x:\n                chooseTargets0Loc.start.x +\n                Math.floor(chooseTargets[0].width / 2),\n              y: chooseTargets0Loc.start.y,\n            }\n            pos[1] = {\n              x: pos[0].x,\n              y:\n                chooseTargets1Loc.start.y +\n                Math.floor(chooseTargets[1].height / 2),\n            }\n            pos[2] = { x: chooseTargets1Loc.start.x, y: pos[1].y }\n          }\n          //from上  to下\n          else {\n            pos[0] = {\n              x: this.getNodePosFromBoreder(chooseTargets[0], 'R').start.x,\n              y:\n                chooseTargets0Loc.start.y +\n                Math.floor(chooseTargets[0].height / 2),\n            }\n            pos[1] = {\n              x:\n                this.getNodePosFromBoreder(chooseTargets[1], 'L').start.x +\n                Math.floor(chooseTargets[1].width / 2),\n              y: pos[0].y,\n            }\n            pos[2] = {\n              x: pos[1].x,\n              y: this.getNodePosFromBoreder(chooseTargets[1], 'L').start.y,\n            }\n          }\n        }\n      }\n      //from右  to左\n      else if (\n        this.getNodePosFromBoreder(chooseTargets[0], 'L').start.x >\n        this.getNodePosFromBoreder(chooseTargets[1], 'R').start.x\n      ) {\n        //有重合 -> 直线\n        if (\n          (chooseTargets1Loc.start.y - chooseTargets0Loc.end.y) *\n            (chooseTargets1Loc.end.y - chooseTargets0Loc.start.y) <\n          0\n        ) {\n          // console.log('有重合')\n          const y =\n            Math.max(chooseTargets0Loc.start.y, chooseTargets1Loc.start.y) +\n            Math.abs(\n              Math.floor(\n                (Math.min(chooseTargets0Loc.end.y, chooseTargets1Loc.end.y) -\n                  Math.max(\n                    chooseTargets0Loc.start.y,\n                    chooseTargets1Loc.start.y,\n                  )) /\n                  2,\n              ),\n            )\n          pos[0] = {\n            x: this.getNodePosFromBoreder(chooseTargets[0], 'L').start.x,\n            y: y,\n          }\n          pos[1] = {\n            x: this.getNodePosFromBoreder(chooseTargets[1], 'R').start.x,\n            y: y,\n          }\n        }\n        //无重合 -> 二折\n        else {\n          // console.log('无重合')\n          //from下  to上\n          if (chooseTargets0Loc.start.y > chooseTargets1Loc.end.y) {\n            pos[0] = {\n              x:\n                chooseTargets0Loc.start.x +\n                Math.floor(chooseTargets[0].width / 2),\n              y: chooseTargets0Loc.start.y,\n            }\n            pos[1] = {\n              x: pos[0].x,\n              y:\n                chooseTargets1Loc.start.y +\n                Math.floor(chooseTargets[1].height / 2),\n            }\n            pos[2] = {\n              x: this.getNodePosFromBoreder(chooseTargets[1], 'R').start.x,\n              y: pos[1].y,\n            }\n          }\n          //from上  to下\n          else {\n            pos[0] = {\n              x: this.getNodePosFromBoreder(chooseTargets[0], 'L').start.x,\n              y:\n                chooseTargets0Loc.start.y +\n                Math.floor(chooseTargets[0].height / 2),\n            }\n            pos[1] = {\n              x:\n                this.getNodePosFromBoreder(chooseTargets[1], 'L').start.x +\n                Math.floor(chooseTargets[1].width / 2),\n              y: pos[0].y,\n            }\n            pos[2] = {\n              x: pos[1].x,\n              y: this.getNodePosFromBoreder(chooseTargets[1], 'L').start.y,\n            }\n          }\n        }\n      }\n      //from下 to上 上下非重叠重合 -> 直线\n      else if (chooseTargets0Loc.start.y > chooseTargets1Loc.end.y) {\n        const startX = Math.max(\n          chooseTargets0Loc.start.x,\n          chooseTargets1Loc.start.x,\n        )\n        const endX = Math.min(\n          this.getNodePosFromBoreder(chooseTargets[0], 'R').start.x,\n          this.getNodePosFromBoreder(chooseTargets[1], 'R').start.x,\n        )\n        const x = startX + Math.floor((endX - startX) / 2)\n\n        pos[0] = { x: x, y: chooseTargets0Loc.start.y }\n        pos[1] = { x: x, y: chooseTargets1Loc.end.y }\n      }\n      //from上 to下&重叠在一起\n      else {\n        const startX = Math.max(\n          chooseTargets0Loc.start.x,\n          chooseTargets1Loc.start.x,\n        )\n        const endX = Math.min(\n          this.getNodePosFromBoreder(chooseTargets[0], 'R').start.x,\n          this.getNodePosFromBoreder(chooseTargets[1], 'R').start.x,\n        )\n        const x = startX + Math.floor((endX - startX) / 2)\n\n        pos[0] = { x: x, y: chooseTargets0Loc.end.y }\n        pos[1] = { x: x, y: chooseTargets1Loc.start.y }\n      }\n    }\n\n    //生成完整的线信息，通知外部更新数据\n    if (pos.length) {\n      const newLine = {}\n\n      //没有线的默认数据 -> 创建单根线情况\n      if (!defaultData) {\n        Object.assign(newLine, {\n          key: this.createKey(),\n          from: chooseTargets[0].key,\n          to: chooseTargets[1].key,\n          pos: pos,\n          type: lineType,\n        })\n      }\n      //有线的默认数据 -> 批量创建线的情况\n      else {\n        defaultData.pos = pos\n        Object.assign(newLine, defaultData)\n      }\n\n      return newLine\n    }\n    //线信息生成失败\n    else {\n      console.error('createLine方法错误：未生成对应关键点坐标')\n    }\n  }\n\n  /**\n   * 根据chooseTargets数据创建新的连线\n   * @param {String} lineType     必选，创建的线型\n   * @param {Object} defaultData  可选，带有默认数据的线，当该参数有值证明是批量建线\n   */\n  createLine(lineType, defaultData?) {\n    const newLineInfo = this.createLineInfo(lineType, defaultData)\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore 过滤器连线不调用外部接口\n    if (['primaryKey', 'foreignKey'].includes(lineType))\n      this.externalFn.addLine(newLineInfo)\n  }\n\n  mergeLine(lineType, defaultData) {\n    const newLineInfo = this.createLineInfo(lineType, defaultData)\n\n    return Object.assign(defaultData, newLineInfo)\n  }\n\n  //根据chooseTargets数据创建新的节点连线\n  createBranchLine() {\n    const chooseTargets = [].concat(this.chooseTargets),\n      chooseTargets0Loc = this.getNodePosFromBoreder(chooseTargets[0], 'L'),\n      chooseTargets1Loc = this.getNodePosFromBoreder(chooseTargets[1], 'L')\n\n    // 终止节点是过滤器的: 不允许创建\n    if (['inclusive', 'exclusive'].includes(chooseTargets[1].type)) {\n      this.$message({\n        message: '未将对象引用设置到对象的实例。',\n        type: 'error',\n        showClose: true,\n      })\n    }\n    // 开始节点是过滤器的: 只创建一条fromFilter线\n    else if (['inclusive', 'exclusive'].includes(chooseTargets[0].type)) {\n      // 来自于过滤器(下行线)\n      const fromFilter = this.createLine('fromFilterPrimaryKey') //目前没有fromFilterForeignKey的情况\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      this.externalFn.addFilter({\n        fromFilter,\n      })\n    }\n    // 开始节点不是过滤器的: 正常的创建逻辑->两根线,一个过滤器\n    else {\n      //from上 to下 且间距>50（因为branch分支块的高度是40）-> 取两块中点放置分支\n      const loc =\n        chooseTargets0Loc.end.y + 50 < chooseTargets1Loc.start.y\n          ? {\n              x:\n                chooseTargets0Loc.start.x +\n                Math.floor(chooseTargets[0].width / 2) -\n                20,\n              y:\n                chooseTargets0Loc.end.y +\n                Math.floor(\n                  (chooseTargets1Loc.start.y - chooseTargets0Loc.end.y) / 2,\n                ) -\n                10,\n            }\n          : {\n              x:\n                chooseTargets1Loc.start.x +\n                Math.floor(chooseTargets[1].width / 2) -\n                20,\n              y:\n                Math.min(chooseTargets0Loc.start.y, chooseTargets1Loc.start.y) -\n                50,\n            }\n      //生成过滤器节点\n      const newBranchFilter = {\n        key: this.createKey(),\n        x: loc.x,\n        y: loc.y,\n        width: 40,\n        height: 20,\n        type: 'exclusive',\n        fromKey: chooseTargets[0].key,\n      }\n\n      // 链接到过滤器(上行线)\n      this.chooseTargets = [chooseTargets[0], newBranchFilter]\n      const toFilter = this.createLine('toFilter')\n\n      // 来自于过滤器(下行线)\n      this.chooseTargets = [newBranchFilter, chooseTargets[1]]\n      const fromFilter = this.createLine('fromFilterPrimaryKey') //目前没有fromFilterForeignKey的情况\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      this.externalFn.addFilter({\n        filter: newBranchFilter,\n        toFilter,\n        fromFilter,\n      })\n\n      this.chooseTargets = []\n    }\n  }\n\n  //根据key找到对应的节点\n  getNodeWithKey(key) {\n    for (const item of this.dataHandler.originData.nodeDataArray) {\n      if (item.key === key) {\n        return item\n      }\n    }\n  }\n\n  //批量创建连线\n  createLines(lineList) {\n    /**\n     * lineList = [{key: 1234, from: 1, to: 2}]\n     */\n    for (const item of lineList) {\n      const fromNode = this.getNodeWithKey(item.from)\n      const toNode = this.getNodeWithKey(item.to)\n      if (fromNode && toNode) {\n        //目前没考虑过滤器的情况\n        this.chooseTargets = [fromNode, toNode]\n        this.createLine(item.type, item)\n      }\n    }\n    this.chooseTargets = []\n    this.update()\n  }\n\n  //批量创建连线\n  mergeLines(lineList) {\n    /**\n     * lineList = [{key: 1234, from: 1, to: 2}]\n     */\n    const resultLines = []\n    for (const item of lineList) {\n      const fromNode = this.getNodeWithKey(item.from)\n      const toNode = this.getNodeWithKey(item.to)\n      if (fromNode && toNode) {\n        //目前没考虑过滤器的情况\n        this.chooseTargets = [fromNode, toNode]\n        resultLines.push(this.mergeLine(item.type, item))\n      }\n    }\n    this.chooseTargets = []\n\n    return resultLines\n  }\n\n  //生成最大key方法（目前未做重复性判断）\n  createKey() {\n    //格式：时间戳 + 随机数\n    return +new Date() + '' + Math.floor(Math.random() * 100000)\n  }\n\n  //封装提示信息\n  $message(val) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    this.externalFn.$message && this.externalFn.$message(val)\n  }\n}\n","export const defaultData = {\n  nodeDataArray: [\n    {\n      key: 'q000',\n      x: 100,\n      y: 100,\n      width: 100,\n      height: 100,\n      bgC: '#FF8080',\n      bdC: 'red',\n      tableName: 'Entity1',\n      physicalTables: true,\n      quotePrimaryKey: true,\n      attributes: [\n        {\n          attrName: 'attr1',\n          id: '1',\n          primaryKey: true,\n          foreignKey: true,\n          type: 'INT',\n          icons: [\n            {\n              bgC: '#FEFF80',\n              color: '#8080FF',\n              text: 'S',\n            },\n            {\n              text: 'L',\n              bdC: 'green',\n            },\n          ],\n        },\n        {\n          attrName: 'attr2',\n          id: '2',\n          type: 'DATE',\n          primaryKey: true,\n        },\n        {\n          attrName: '属性名3',\n          id: '3',\n          primaryKey: true,\n          type: 'char',\n          children: [\n            {\n              attrName: '属性名3-1',\n              id: '3-1',\n              primaryKey: true,\n              foreignKey: true,\n              children: [\n                {\n                  attrName: '属性名3-1-1',\n                  primaryKey: true,\n                  foreignKey: true,\n                  children: [\n                    {\n                      attrName: '属性名3-1-1-1',\n                      primaryKey: true,\n                      foreignKey: true,\n                    },\n                  ],\n                  icons: [\n                    {\n                      text: 'A',\n                      bdC: 'green',\n                    },\n                  ],\n                },\n              ],\n            },\n            {\n              attrName: '属性名3-2',\n              primaryKey: true,\n              foreignKey: true,\n            },\n            {\n              attrName: '属性名3-3',\n              primaryKey: true,\n              foreignKey: true,\n            },\n          ],\n        },\n        {\n          attrName: 'attr4',\n          primaryKey: false,\n          foreignKey: true,\n          icons: [\n            {\n              bgC: '#FEFF80',\n              color: '#8080FF',\n              text: 'S',\n            },\n            {\n              text: '标',\n            },\n          ],\n        },\n        {\n          attrName: 'attr5',\n          primaryKey: false,\n        },\n        {\n          attrName: 'attr6',\n          primaryKey: false,\n          icons: [\n            {\n              text: 'A',\n              bdC: 'green',\n            },\n          ],\n        },\n      ],\n      checkoutInfo: {\n        operator: 1,\n        imgUrl:\n          'http://himg.bdimg.com/sys/portrait/item/2610e8b5b0e5a4b1e69ca8e69893fc0b.jpg',\n      },\n    },\n    {\n      key: 'q111',\n      x: 400,\n      y: 100,\n      width: 50,\n      height: 100,\n      bgC: '#8080FF',\n      tableName: '表2',\n      quotePrimaryKey: true,\n      attributes: [\n        {\n          attrName: '属性名1',\n          primaryKey: true,\n          foreignKey: false,\n        },\n        {\n          attrName: '属性名2',\n          primaryKey: true,\n        },\n        {\n          attrName: '属性名3',\n          primaryKey: true,\n        },\n      ],\n      checkoutInfo: {\n        operator: 2,\n        imgUrl:\n          'http://himg.bdimg.com/sys/portrait/item/2610e8b5b0e5a4b1e69ca8e69893fc0b.jpg',\n      },\n    },\n    {\n      key: 'q222',\n      x: 100,\n      y: 400,\n      width: 50,\n      height: 100,\n      bgC: '#FFFF80',\n      tableName: 'Entity3',\n      attributes: [\n        {\n          attrName: '属性名1',\n          primaryKey: false,\n          foreignKey: false,\n        },\n        {\n          attrName: '属性名2',\n          primaryKey: false,\n        },\n      ],\n      checkoutInfo: {\n        operator: 2,\n        imgUrl:\n          'http://himg.bdimg.com/sys/portrait/item/2610e8b5b0e5a4b1e69ca8e69893fc0b.jpg',\n      },\n    },\n    {\n      key: 'q444',\n      x: 100,\n      y: 250,\n      width: 40,\n      height: 20,\n      type: 'inclusive',\n    },\n    {\n      key: 'q555',\n      x: 705,\n      y: 92,\n      width: 260,\n      height: 100,\n      tableName: 'Entity inside',\n      type: 'inside',\n    },\n    {\n      key: 'q666',\n      x: 600,\n      y: 280,\n      width: 260,\n      height: 100,\n      tableName: 'Entity discribe',\n      type: 'explain',\n      attributes: [\n        {\n          label: '说明',\n          content: '表示与银行有利害关系，以及银行希望保留其信息',\n        },\n        {\n          label: '示例',\n          content: '个人 组织 客户',\n        },\n        {\n          label: '所属部门',\n          content: '数据研究院',\n        },\n        {\n          label: '负责人',\n          content: '杨中旭',\n        },\n      ],\n    },\n    {\n      key: 'test',\n      x: 2999,\n      y: 2999,\n      width: 260,\n      height: 100,\n      tableName: 'Entity away',\n      type: 'inside',\n    },\n    {\n      key: 'test',\n      x: -2999,\n      y: -2999,\n      width: 260,\n      height: 100,\n      tableName: 'Entity away',\n      type: 'inside',\n    },\n  ],\n  linkDataArray: [\n    {\n      key: 1,\n      from: 'q000',\n      to: 'q111',\n      pos: [\n        {\n          x: 200,\n          y: 125,\n        },\n        {\n          x: 400,\n          y: 125,\n        },\n      ],\n      type: 'primaryKey',\n      numLineTypes: 1,\n      remark: '主键',\n    },\n    {\n      key: 3,\n      from: 'q111',\n      to: 'q222',\n      pos: [\n        {\n          x: 400,\n          y: 150,\n        },\n        {\n          x: 300,\n          y: 150,\n        },\n        {\n          x: 300,\n          y: 450,\n        },\n        {\n          x: 150,\n          y: 450,\n        },\n      ],\n      type: 'foreignKey',\n      numLineTypes: 1,\n    },\n    {\n      key: 4,\n      from: 'q000',\n      to: 'q444',\n      pos: [\n        {\n          x: 120,\n          y: 200,\n        },\n        {\n          x: 120,\n          y: 250,\n        },\n      ],\n      type: 'toFilter',\n      numLineTypes: 2,\n    },\n    {\n      key: 5,\n      from: 'q444',\n      to: 'q222',\n      pos: [\n        {\n          x: 120,\n          y: 270,\n        },\n        {\n          x: 120,\n          y: 400,\n        },\n      ],\n      type: 'fromFilter',\n      numLineTypes: 4,\n    },\n    {\n      key: 6,\n      from: 'q555',\n      to: 'q666',\n      pos: [\n        {\n          x: 782,\n          y: 192,\n        },\n        {\n          x: 782,\n          y: 280,\n        },\n      ],\n      type: 'arrow',\n      numLineTypes: 1,\n      remark: '来自',\n    },\n  ],\n  markDataArray: [],\n  noteDataArray: [\n    {\n      key: '157837643603536658',\n      x: 525,\n      y: 408,\n      text: '啦啦啦啦啦111',\n      type: 'note',\n      color: '#0000ff',\n    },\n  ],\n}\n\nconst makeManyNodes = (nodeNumber = 10000) => {\n  for (let i = 0; i < nodeNumber; i++) {\n    defaultData.nodeDataArray.push({\n      key: 'q000' + i,\n      x: 100 + i * 100,\n      y: 100 + i * 100,\n      width: 100,\n      height: 50,\n      bgC: '#FF8080',\n      bdC: 'red',\n      tableName: '测试' + i,\n      physicalTables: true, //物理表\n      quotePrimaryKey: true, //引用了别人的主键的标识\n      attributes: defaultData.nodeDataArray[0].attributes,\n      checkoutInfo: {},\n    })\n  }\n}\nconst makeManyNodeAttrs = (attrNumber = 500) => {\n  for (let i = 0; i < attrNumber; i++) {\n    defaultData.nodeDataArray[0].attributes.push({\n      attrName: `批量生成${i}`,\n      primaryKey: true,\n    })\n  }\n}\n// 性能测试\nexport const useBigData = () => {\n  makeManyNodes()\n  makeManyNodeAttrs()\n}\n// useBigData()\n","// export const rightMenu = [\n//   [\n//     {\n//       icon: '',\n//       value: 'edit',\n//       label: '编辑',\n//     },\n//     {\n//       icon: '',\n//       value: 'delete',\n//       label: '删除',\n//     },\n//   ],\n//   [\n//     {\n//       icon: '',\n//       value: 'checkin',\n//       label: '签入',\n//     },\n//     {\n//       icon: '',\n//       value: 'checkout',\n//       label: '签出',\n//     },\n//   ],\n//   [\n//     {\n//       icon: '',\n//       value: 'copy',\n//       label: '复制',\n//     },\n//     {\n//       icon: '',\n//       value: 'parse',\n//       label: '粘贴',\n//     },\n//   ],\n//   [\n//     {\n//       icon: '',\n//       value: 'remark',\n//       label: '添加标注',\n//     },\n//     {\n//       icon: '',\n//       value: 'auto-line',\n//       label: '重新规划连线',\n//       disabled: true,\n//     },\n//     {\n//       icon: '',\n//       value: 'auto-line',\n//       label: '自动适应大小',\n//     },\n//     {\n//       icon: '',\n//       value: 'more',\n//       label: '更多',\n//       children: [\n//         [\n//           {\n//             icon: '',\n//             value: 'more1',\n//             label: '更多1',\n//           },\n//         ]\n//       ]\n//     },\n//   ],\n// ]\n\nexport const rightMenu = [\n  [\n    {\n      icon: '',\n      value: 'copy',\n      label: '复制',\n    },\n    {\n      icon: '',\n      value: 'extend-copy',\n      label: '继承复制',\n    },\n    {\n      icon: '',\n      value: 'parse',\n      label: '粘贴',\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'redo',\n      label: '撤销',\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'parent',\n      label: '显示父级关联',\n      children: [\n        {\n          icon: '',\n          value: 'level-2',\n          label: '显示2级',\n        },\n        {\n          icon: '',\n          value: 'level-all',\n          label: '显示全部',\n        },\n        {\n          icon: '',\n          value: 'level-1',\n          label: '显示1级',\n        },\n      ],\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'auto-size',\n      label: '自适应大小',\n    },\n    {\n      icon: '',\n      value: 'auto-layout',\n      label: '自动排布',\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'style',\n      label: '展示风格',\n      children: [\n        {\n          icon: '',\n          value: 'brief',\n          label: '概要',\n        },\n        {\n          icon: '',\n          value: 'easy',\n          label: '简单',\n        },\n        {\n          icon: '',\n          value: 'normal',\n          label: '常规',\n        },\n        {\n          icon: '',\n          value: 'detail',\n          label: '详细',\n        },\n      ],\n    },\n  ],\n  {\n    icon: '',\n    value: 'delete',\n    label: '删除',\n  },\n]\n","export default \"__VITE_ASSET__386d2929__\"","<template>\n  <div class=\"erg\">\n    <div class=\"toobar\">\n      <el-button size=\"small\" circle title=\"新增实体\" @click=\"addNode\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-add`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button size=\"small\" circle title=\"复制\" @click=\"copy\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#copy`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button size=\"small\" circle title=\"新增主键\" @click=\"addLine('primaryKey')\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-primary`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button size=\"small\" circle title=\"新增非主键\" @click=\"addLine('foreignKey')\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-foreign`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button size=\"small\" circle title=\"新增过滤器\" @click=\"addLine('branchLine')\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-subtype`\"></use>\n          </svg>\n        </template>\n      </el-button>\n\n      <el-divider direction=\"vertical\" />\n\n      <el-button size=\"small\" circle title=\"新增框\" @click=\"addMark\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-square`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button size=\"small\" circle title=\"新增备注\" @click=\"addNote\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-text`\"></use>\n          </svg>\n        </template>\n      </el-button>\n\n      <el-divider direction=\"vertical\" />\n\n      <el-button v-if=\"state.lock === 1\" size=\"small\" circle title=\"只读\" @click=\"setEditable\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#lock`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button v-else size=\"small\" circle title=\"编辑\" @click=\"setEditable\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#unlock`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button size=\"small\" circle title=\"批量创建连线\" @click=\"createLines\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#copy`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button size=\"small\" circle title=\"放大\" @click=\"changeCanvasScale(20)\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#plus-circle`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button size=\"small\" circle title=\"缩小\" @click=\"changeCanvasScale(-20)\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#minus-circle`\"></use>\n          </svg>\n        </template>\n      </el-button>\n\n      <el-divider direction=\"vertical\" />\n      \n      <el-color-picker v-model=\"state.bgc\" size=\"small\" @change=\"(value) => changeColor(value, 'bgC')\" />\n      <el-color-picker v-model=\"state.bdC\" size=\"small\" @change=\"(value) => changeColor(value, 'bdC')\" />\n      <el-color-picker v-model=\"state.color\" size=\"small\" @change=\"(value) => changeColor(value, 'color')\" />\n    </div>\n    <div id=\"canvas\" class=\"canvas\"></div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {reactive, onBeforeUnmount, onMounted, watch, onUnmounted} from 'vue'\nimport {ElButton, ElDivider, ElColorPicker} from 'element-plus'\nimport {Erg as Graph} from '@ej/erg-renderer/src'\nimport {defaultData as data} from './mock'\nimport {rightMenu} from './right-menu'\nimport Icons from './assets/icon/symbol-defs.svg'\n\nconst props = withDefaults(defineProps<{\n  useThumbnail: boolean,\n  useRightMenu: boolean,\n  useAttrFocus: boolean,\n  editable: string,\n}>(), {\n  useThumbnail: true,\n  useRightMenu: true,\n  useAttrFocus: true,\n  editable: 'edit',\n})\n\nlet graph\n\nconst state = reactive({\n  scale: 100,\n  bgC: '',\n  bdC: '',\n  color: '',\n  lock: 'edit',\n})\n\nconst mountGraph = () => {\n  // const el = document.getElementById('canvas')\n  graph = new Graph({\n    el: document.getElementById('canvas'),\n    fontFamily: '-apple-system, Noto Sans, Helvetica Neue, Helvetica, Nimbus Sans L, Arial, Liberation Sans, PingFang SC, Hiragino Sans GB, Noto Sans CJK SC, Source Han Sans SC, Source Han Sans CN, Microsoft YaHei, Wenquanyi Micro Hei, WenQuanYi Zen Hei, ST Heiti, SimHei, WenQuanYi Zen Hei Sharp, sans-serif',\n    editable: state.lock,\n    externalFn: {\n      addNode: function (obj) {\n        const str = prompt('请输入表名：')\n        if (!str) return\n        obj.tableName = str\n        data.nodeDataArray.push(obj)\n      },\n      delNode: function (key) {\n        console.log(key)\n      },\n      addLine: function (obj) {\n        console.log('添加线了')\n        obj.numLineTypes = 2\n        data.linkDataArray.push(obj)\n      },\n      delLine: function (key) {\n        console.log(key)\n      },\n      addFilter: function (obj) {\n        obj.filter && data.nodeDataArray.push(obj.filter)\n        obj.toFilter && data.linkDataArray.push(obj.toFilter)\n        data.linkDataArray.push(obj.fromFilter)\n      },\n      delFilter: function (key) {\n        console.log(key)\n      },\n      addMark: function (obj) {\n        data.markDataArray.push(obj)\n        markMap.set(obj.key, obj)\n      },\n      delMark: function (key) {\n        console.log(key)\n      },\n      addNote: function (obj) {\n        const str = prompt('请输入备注内容：')\n        if (!str) return\n        obj.text = str\n        data.noteDataArray.push(obj)\n      },\n      delNote: function (key) {\n        console.log(key)\n      },\n      $message: function (val) {\n        console.log(val.message)\n      },\n      handleCopy(ev1, ev2) {\n        console.log(ev1, ev2)\n        return true\n      },\n      handlePaste(nodes) {\n        data.nodeDataArray.push(...nodes)\n      },\n      handleContextMenu(ev, value) {\n        console.log('菜单点击触发：', ev, value)\n\n        switch (value) {\n          case 'remark':\n            const str = prompt('请输入备注内容：')\n            if (!str) return\n            graph.addRemark(str)\n            break\n\n          default:\n            break\n        }\n      },\n    },\n    useThumbnail: props.useThumbnail,\n    useAttrFocus: props.useAttrFocus,\n    useRightMenu: props.useRightMenu,\n    rightMenu,\n  })\n  graph.update(data)\n  // graph.on('node:move', (info) => console.log(info))\n}\nconst unmountGraph = () => {\n  graph.destroy()\n}\nconst handleFullscreen = () => {\n  graph.fullscreen()\n}\n\nconst changeCanvasScale = (scaleRatio) => {\n  if (state.scale > 20) state.scale += scaleRatio\n  graph.zoom(state.scale)\n}\n\nconst addNode = () => {\n  graph.addNode({\n    key: graph.createKey(),\n    attributes: []\n  })\n}\n\nconst addLine = (lineType) => {\n  graph.addLine(lineType)\n}\n\nconst addMark = () => {\n  graph.addMark()\n}\n\nconst addNote = () => {\n  graph.addNote()\n}\n\nconst changeColor = (value, tp) => {\n  graph.changeColor(value, tp)\n}\n\nconst setEditable = () => {\n  state.lock = state.lock === 1 ? 2 : 1\n  graph.setEditable(state.lock)\n}\n\nconst copy = () => {\n  graph.copy()\n}\n\nconst createLines = () => {\n  const list = [\n    { \"from\": 0, \"to\": 1, \"pos\": [{ x: 200, y: 125 }, { x: 400, y: 125 }], type: 'primaryKey', numLineTypes: 1 },\n  ]\n  graph.createLines(list)\n}\n\nonMounted(() => {\n  mountGraph()\n})\nonBeforeUnmount(unmountGraph)\n</script>\n\n<style lang=\"postcss\">\n.erg{\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.toobar {\n  overflow-x: auto;\n  background: #ccc;\n  padding: 5px;\n  display: flex;\n  align-items: center;\n  justify-between: center;\n  >.el-color-picker{\n    margin-right: 10px;\n  }\n}\n\n.canvas {\n  flex-grow: 1;\n  width: 100%;\n  height: 100%;\n  /* border: 1px solid #000; */\n  margin: auto;\n  box-sizing: border-box;\n}\n</style>"],"names":["getClientXY","event","clientX","clientY","identity","value","objectCreate","baseCreate","object","proto","isObject","result","baseCreate$1","apply","func","thisArg","args","copyArray","source","array","index","length","HOT_COUNT","HOT_SPAN","nativeNow","shortOut","count","lastCalled","stamp","remaining","constant","defineProperty","getNative","defineProperty$1","baseSetToString","string","baseSetToString$1","setToString","setToString$1","arrayEach","iteratee","baseAssignValue","key","objectProto","hasOwnProperty","assignValue","objValue","eq","copyObject","props","customizer","isNew","newValue","nativeMax","overRest","start","transform","otherArgs","nativeKeysIn","baseKeysIn","isProto","isPrototype","keysIn","isArrayLike","arrayLikeKeys","spreadableSymbol","Symbol","isFlattenable","isArray","isArguments","baseFlatten","depth","predicate","isStrict","arrayPush","flatten","flatRest","getPrototype","overArg","getPrototype$1","baseAssign","keys","baseAssignIn","freeExports","freeModule","moduleExports","Buffer","root","allocUnsafe","cloneBuffer","buffer","isDeep","copySymbols","getSymbols","nativeGetSymbols","getSymbolsIn","stubArray","getSymbolsIn$1","copySymbolsIn","getAllKeysIn","baseGetAllKeys","initCloneArray","cloneArrayBuffer","arrayBuffer","Uint8Array","cloneDataView","dataView","reFlags","cloneRegExp","regexp","symbolProto","symbolValueOf","cloneSymbol","symbol","cloneTypedArray","typedArray","boolTag","dateTag","mapTag","numberTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","initCloneByTag","tag","Ctor","initCloneObject","baseIsMap","isObjectLike","getTag","nodeIsMap","nodeUtil","isMap","baseUnary","isMap$1","baseIsSet","nodeIsSet","isSet","isSet$1","CLONE_DEEP_FLAG","CLONE_FLAT_FLAG","CLONE_SYMBOLS_FLAG","argsTag","arrayTag","errorTag","funcTag","genTag","objectTag","weakMapTag","cloneableTags","baseClone","bitmask","stack","isFlat","isFull","isArr","isFunc","isBuffer","Stack","stacked","subValue","keysFunc","getAllKeys","cloneDeep","baseHasIn","hasPath","path","hasFunc","castPath","toKey","isLength","isIndex","hasIn","baseSet","lastIndex","nested","basePickBy","paths","baseGet","basePick","pick","pick$1","DEFAULT_EXCLUDE_KEYS","LISTENER_PREFIX","useAttrs","params","excludeListeners","excludeKeys","allExcludeKeys","computed","instance","getCurrentInstance","_a","fromPairs","useCursor","input","selectionRef","ref","recordCursor","selectionStart","selectionEnd","beforeTxt","afterTxt","setCursor","startPos","beforeLastChar","newIndex","hiddenTextarea","HIDDEN_STYLE","isFirefox","CONTEXT_STYLE","calculateNodeStyling","targetElement","style","boxSizing","paddingSize","borderSize","name","calcTextareaHeight","minRows","maxRows","contextStyle","height","singleRowHeight","isNumber","minHeight","maxHeight","inputProps","buildProps","useSizeProp","definePropType","iconPropType","mutable","inputEmits","UPDATE_MODEL_EVENT","isString","evt","_hoisted_1","_hoisted_2","_hoisted_3","__default__","defineComponent","_sfc_main","__props","expose","emit","rawAttrs","slots","useSlots","containerAttrs","comboBoxAttrs","containerKls","nsTextarea","nsInput","inputSize","inputDisabled","inputExceed","showClear","showPwdVisible","wrapperKls","focused","attrs","useAttrs$1","form","formItem","useFormItem","inputId","useFormItemInputId","useFormSize","useFormDisabled","useNamespace","shallowRef","textarea","hovering","isComposing","passwordVisible","countStyle","textareaCalcStyle","_ref","needStatusIcon","validateState","validateIcon","ValidateComponentsMap","passwordIcon","View","Hide","containerStyle","textareaStyle","nativeInputValue","isNil","isWordLimitVisible","textLength","suffixVisible","useResizeObserver","entries","onceInitSizeTextarea","entry","width","resizeTextarea","type","autosize","isClient","textareaStyle2","nextTick","resizeTextarea2","isInit","setNativeInputValue","input2","handleInput","handleChange","handleCompositionStart","handleCompositionUpdate","text","lastCharacter","isKorean","handleCompositionEnd","handlePasswordVisible","focus","blur","handleFocus","handleBlur","err","debugWarn","handleMouseLeave","handleMouseEnter","handleKeydown","select","clear","watch","onMounted","toRef","_ctx","_cache","withDirectives","openBlock","createElementBlock","mergeProps","unref","createCommentVNode","Fragment","normalizeClass","renderSlot","createElementVNode","createBlock","ElIcon","withCtx","resolveDynamicComponent","withModifiers","NOOP","createVNode","CircleClose","toDisplayString","normalizeStyle","vShow","Input","_export_sfc","ElInput","withInstall","alphaSliderProps","isDragging","draggable","element","options","moveFn","upFn","downFn","useAlphaSlider","thumb","bar","handleClick","handleDrag","rect","top","left","useAlphaSliderDOM","ns","thumbLeft","thumbTop","background","getThumbLeft","el","alpha","getThumbTop","getBackground","r","g","b","update","dragConfig","rootKls","barKls","thumbKls","barStyle","thumbStyle","addUnit","COMPONENT_NAME","AlphaSlider","hueValue","hue","_sfc_render","$props","$setup","$data","$options","HueSlider","colorPickerProps","colorPickerEmits","val","CHANGE_EVENT","colorPickerContextKey","hsv2hsl","sat","isOnePointZero","n","isPercentage","bound01","max","processPercent","INT_HEX_MAP","hexOne","high","low","toHex","HEX_INT_MAP","parseHexChannel","hex","hsl2hsv","light","smin","lmin","v","sv","rgb2hsv","min","h","d","s","hsv2rgb","i","f","p","q","t","mod","Color","option","hasOwn","prop","fromHSV","parts","color","_hue","_saturation","_value","_alpha","format","hsl","currentColor","inject","rgbaColors","parseColors","item","watchEffect","handleSelect","colors","renderList","$event","Predefine","cursorTop","cursorLeft","colorValue","saturation","SvPanel","useLocale","colorSize","colorDisabled","buttonId","isLabeledByFormItem","popper","shouldActiveChange","reactive","showPicker","showPanelColor","customInput","displayedColor","displayedRgb","buttonAriaLabel","buttonAriaLabelledby","btnKls","color2","showAlpha","setShowPicker","debounceSetShowPicker","debounce","show","hide","resetColor","handleTrigger","handleConfirm","confirmValue","newColor","newVal","_b","_c","provide","ElTooltip","withKeys","ElButton","createTextVNode","ClickOutside","ArrowDown","Close","ColorPicker","ElColorPicker","dividerProps","dividerStyle","Divider","ElDivider","LockIcon","FabricObject","ctx","x","y","w","fillStyle","strokeStyle","e","trigger","ex","ey","lines","isContains","hexToRgb","isLightColor","rgbArr","prefix","S4","uuid","NodeErwin","id","enName","cnName","attributes","bgC","bdC","quotePrimaryKey","physicalTables","manualChange","isBoolean","attrHeight","linesForNode","relativeH","attrIndex","attrId","bgColor","borderColor","roundedDeg","datatype","datatypeUpper","img","DataTypeDate","imageMap","DataTypeNumber","DataTypeString","textColor","titleHeight","fontSize","padding","attributesPrimary","attributesPrimaryNon","curX","curY","attrItem","addText","finalText","textWidth","isExpand","icons","startX","startY","icon","iconX","size","expand","fullWidth","nodePadding","attrFocusStyle","backgroundStartX","backgroundWidth","NodeRect","isPointOnLineSegments","point","segments","tolerance","xTolerance","yTolerance","p1","p2","a","c","LineErwin","pos","from","to","lineWidth","numLineTypes","pointItem","pointIdx","posLen","dis","arcX","arcY","remark","middleIndex","vertical","xPoints","yPoints","it","mathRange","DataHandler","data","context","nodeDataArray","linkDataArray","markDataArray","noteDataArray","originDataMap","node","line","note","TextBase","borderWidth","content","textMetrics","FrameResize","targetBgColor","targetBdColor","targetWidth","halfTargetWidth","fixX","fixY","FrameHover","EditType","TargetDirection","Cursor","ifAnchor","target","canvasEv","middleX","middleY","fullX","fullY","targetDirection","useMouseMove","moveMarkRect","eventObj","offsetOfMove","newLoc","moveMarkText","resizeNode","moveNode","focusTarget","nodeRelatedLineMap","focusItem","nodeNewLoc","moveLine","idx","editType","renderElements","cursorState","hoverTarget","cursor","isTarget","graphTranslate","isNodeResize","isNodeMove","isLineMove","isMarkMove","isNoteMove","useMouseDown","evX","evY","defaultWidth","defaultHeight","distanse","_d","fixLocNodes","_e","newNode","newMark","newNote","metaKey","ctrlKey","useMouseUp","Erg","EventCenter","Editable","preloadLineageImages","externalFn","editable","fontFamily","rightMenu","useRightMenu","useAttrFocus","useThumbnail","useHistory","Canvas","BackgroundType","Plugins","PluginsEnum","action","resetMouseState","execTask","setEventTarget","canvas","changeMouseCursor","moveCanvas","moveElement","isJustMove","isMoveCanvas","isMoveElement","copyFocusTarget","originObject","relatedLines","originValue","innerWidth","innerHeight","deltaY","deltaX","zoomRate","calcRatio","translate","nodes","Node","nodeMap","originData","lineMap","noteMap","newData","cacheCtx","thumbnail","viewW","viewH","minX","minY","maxX","maxY","isFocusTarget","copyTarget","handleCopy","translatePos","lineInfo","fromNode","toNode","fromNodeBord","toNodeBord","tableName","_this","mark","rate","fixRate","nodeInfo","pointInfo","minWidth","copyEventObjTarget","newWidth","newHeight","moveKeyPoint","lineSet","diffFlag","updateKeyPoint","targetNode","direction","linkInfo","posMaxIdx","distance","moveTargetIsFrom","idx1X","idx1and2Y","idx0X","dis0to1","dis1to2","mouseLoc","eventPos","total","judgeLineShapeIsZ","judgeLineShapeIsN","judgeWidth","len","judgeHeight","addNodeDefaultAttr","lineType","remarkStr","defaultData","chooseTargets","chooseTargets0Loc","chooseTargets1Loc","endX","newLine","newLineInfo","fromFilter","loc","newBranchFilter","toFilter","lineList","resultLines","Icons","graph","state","mountGraph","Graph","obj","str","ev1","ev2","ev","unmountGraph","changeCanvasScale","scaleRatio","addNode","addLine","addMark","addNote","changeColor","tp","setEditable","copy","createLines","list","onBeforeUnmount"],"mappings":"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Y,GACZ,WAAY,GACZ,SAAU,CACR,CACE,SAAU,aACV,WAAY,GACZ,WAAY,EACd,CACF,EACA,MAAO,CACL,CACE,KAAM,IACN,IAAK,OACP,CACF,CACF,CACF,CACF,EACA,CACE,SAAU,SACV,WAAY,GACZ,WAAY,EACd,EACA,CACE,SAAU,SACV,WAAY,GACZ,WAAY,EACd,CACF,CACF,EACA,CACE,SAAU,QACV,WAAY,GACZ,WAAY,GACZ,MAAO,CACL,CACE,IAAK,UACL,MAAO,UACP,KAAM,GACR,EACA,CACE,KAAM,GACR,CACF,CACF,EACA,CACE,SAAU,QACV,WAAY,EACd,EACA,CACE,SAAU,QACV,WAAY,GACZ,MAAO,CACL,CACE,KAAM,IACN,IAAK,OACP,CACF,CACF,CACF,EACA,aAAc,CACZ,SAAU,EACV,OACE,8EACJ,CACF,EACA,CACE,IAAK,OACL,EAAG,IACH,EAAG,IACH,MAAO,GACP,OAAQ,IACR,IAAK,UACL,UAAW,KACX,gBAAiB,GACjB,WAAY,CACV,CACE,SAAU,OACV,WAAY,GACZ,WAAY,EACd,EACA,CACE,SAAU,OACV,WAAY,EACd,EACA,CACE,SAAU,OACV,WAAY,EACd,CACF,EACA,aAAc,CACZ,SAAU,EACV,OACE,8EACJ,CACF,EACA,CACE,IAAK,OACL,EAAG,IACH,EAAG,IACH,MAAO,GACP,OAAQ,IACR,IAAK,UACL,UAAW,UACX,WAAY,CACV,CACE,SAAU,OACV,WAAY,GACZ,WAAY,EACd,EACA,CACE,SAAU,OACV,WAAY,EACd,CACF,EACA,aAAc,CACZ,SAAU,EACV,OACE,8EACJ,CACF,EACA,CACE,IAAK,OACL,EAAG,IACH,EAAG,IACH,MAAO,GACP,OAAQ,GACR,KAAM,WACR,EACA,CACE,IAAK,OACL,EAAG,IACH,EAAG,GACH,MAAO,IACP,OAAQ,IACR,UAAW,gBACX,KAAM,QACR,EACA,CACE,IAAK,OACL,EAAG,IACH,EAAG,IACH,MAAO,IACP,OAAQ,IACR,UAAW,kBACX,KAAM,UACN,WAAY,CACV,CACE,MAAO,KACP,QAAS,wBACX,EACA,CACE,MAAO,KACP,QAAS,UACX,EACA,CACE,MAAO,OACP,QAAS,OACX,EACA,CACE,MAAO,MACP,QAAS,KACX,CACF,CACF,EACA,CACE,IAAK,OACL,EAAG,KACH,EAAG,KACH,MAAO,IACP,OAAQ,IACR,UAAW,cACX,KAAM,QACR,EACA,CACE,IAAK,OACL,EAAG,MACH,EAAG,MACH,MAAO,IACP,OAAQ,IACR,UAAW,cACX,KAAM,QACR,CACF,EACA,cAAe,CACb,CACE,IAAK,EACL,KAAM,OACN,GAAI,OACJ,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,EACA,KAAM,aACN,aAAc,EACd,OAAQ,IACV,EACA,CACE,IAAK,EACL,KAAM,OACN,GAAI,OACJ,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,EACA,KAAM,aACN,aAAc,CAChB,EACA,CACE,IAAK,EACL,KAAM,OACN,GAAI,OACJ,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,EACA,KAAM,WACN,aAAc,CAChB,EACA,CACE,IAAK,EACL,KAAM,OACN,GAAI,OACJ,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,EACA,KAAM,aACN,aAAc,CAChB,EACA,CACE,IAAK,EACL,KAAM,OACN,GAAI,OACJ,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,EACA,KAAM,QACN,aAAc,EACd,OAAQ,IACV,CACF,EACA,cAAe,CAAC,EAChB,cAAe,CACb,CACE,IAAK,qBACL,EAAG,IACH,EAAG,IACH,KAAM,WACN,KAAM,OACN,MAAO,SACT,CACF,CACF,ECjRa5F,GAAY,CACvB,CACE,CACE,KAAM,GACN,MAAO,OACP,MAAO,IACT,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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70]}
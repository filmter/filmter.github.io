import{d as mt,a as C,j as N,k as W,x as G,q as Mt,m as L,p as I,y as rt,z as q,C as U,D as j,l as lt,G as nt,T as ja,g as la,b as P,r as jt,w as ut,Q as _a,h as St,o as Ee,R as Qa,A as xt,i as De,n as at,I as Za,E as et,J as Ja,B as Ve,H as Ht,S as zt,U as pe,V as ca,W as Oe,M as tn,X as Wt,Y as xe,f as Ot,F as Vt,L as se,O as pt,v as en,Z as an,_ as nn,P as rn}from"./vue.esm-bundler-6f0914dd.js";import{ap as sn,S as He,e as dn,U as ze,v as Be,d as ke,n as Pe,t as Ge,u as de,aq as on,m as $e,ar as pa,Z as be,E as Pt,M as ua,O as yt,a8 as Fe,X as ue,_ as te,a0 as ln,as as _n,D as cn,at as At,G as Lt,I as pn,C as Xt,Y as un,au as yn,av as mn,aw as fn,ax as st,ay as hn,$ as gn,a3 as vn,K as En,R as We,az as bn,V as Tn,a4 as An,W as In,T as Cn,J as ya,a2 as ma,a9 as Sn,a6 as Rn,aa as ee,ab as Et,ad as Mn,ae as oe,af as Ln,ag as wn,ah as Nn,aA as Dn,aj as Vn,ai as On,ac as xn,ak as Hn,al as zn,am as Bn,an as Xe,ao as kn,a5 as Pn}from"./index-203f70dd.js";var Gn="__lodash_hash_undefined__";function $n(t){return this.__data__.set(t,Gn),this}function Fn(t){return this.__data__.has(t)}function Qt(t){var e=-1,a=t==null?0:t.length;for(this.__data__=new sn;++e<a;)this.add(t[e])}Qt.prototype.add=Qt.prototype.push=$n;Qt.prototype.has=Fn;function Wn(t,e){for(var a=-1,i=t==null?0:t.length;++a<i;)if(e(t[a],a,t))return!0;return!1}function Xn(t,e){return t.has(e)}var Yn=1,qn=2;function fa(t,e,a,i,s,r){var d=a&Yn,n=t.length,_=e.length;if(n!=_&&!(d&&_>n))return!1;var c=r.get(t),o=r.get(e);if(c&&o)return c==e&&o==t;var u=-1,l=!0,y=a&qn?new Qt:void 0;for(r.set(t,e),r.set(e,t);++u<n;){var f=t[u],E=e[u];if(i)var S=d?i(E,f,u,e,t,r):i(f,E,u,t,e,r);if(S!==void 0){if(S)continue;l=!1;break}if(y){if(!Wn(e,function(h,T){if(!Xn(y,T)&&(f===h||s(f,h,a,i,r)))return y.push(T)})){l=!1;break}}else if(!(f===E||s(f,E,a,i,r))){l=!1;break}}return r.delete(t),r.delete(e),l}function Kn(t){var e=-1,a=Array(t.size);return t.forEach(function(i,s){a[++e]=[s,i]}),a}function Un(t){var e=-1,a=Array(t.size);return t.forEach(function(i){a[++e]=i}),a}var jn=1,Qn=2,Zn="[object Boolean]",Jn="[object Date]",ti="[object Error]",ei="[object Map]",ai="[object Number]",ni="[object RegExp]",ii="[object Set]",ri="[object String]",si="[object Symbol]",di="[object ArrayBuffer]",oi="[object DataView]",Ye=He?He.prototype:void 0,le=Ye?Ye.valueOf:void 0;function li(t,e,a,i,s,r,d){switch(a){case oi:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case di:return!(t.byteLength!=e.byteLength||!r(new ze(t),new ze(e)));case Zn:case Jn:case ai:return dn(+t,+e);case ti:return t.name==e.name&&t.message==e.message;case ni:case ri:return t==e+"";case ei:var n=Kn;case ii:var _=i&jn;if(n||(n=Un),t.size!=e.size&&!_)return!1;var c=d.get(t);if(c)return c==e;i|=Qn,d.set(t,e);var o=fa(n(t),n(e),i,s,r,d);return d.delete(t),o;case si:if(le)return le.call(t)==le.call(e)}return!1}var _i=1,ci=Object.prototype,pi=ci.hasOwnProperty;function ui(t,e,a,i,s,r){var d=a&_i,n=Be(t),_=n.length,c=Be(e),o=c.length;if(_!=o&&!d)return!1;for(var u=_;u--;){var l=n[u];if(!(d?l in e:pi.call(e,l)))return!1}var y=r.get(t),f=r.get(e);if(y&&f)return y==e&&f==t;var E=!0;r.set(t,e),r.set(e,t);for(var S=d;++u<_;){l=n[u];var h=t[l],T=e[l];if(i)var D=d?i(T,h,l,e,t,r):i(h,T,l,t,e,r);if(!(D===void 0?h===T||s(h,T,a,i,r):D)){E=!1;break}S||(S=l=="constructor")}if(E&&!S){var A=t.constructor,B=e.constructor;A!=B&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof B=="function"&&B instanceof B)&&(E=!1)}return r.delete(t),r.delete(e),E}var yi=1,qe="[object Arguments]",Ke="[object Array]",Yt="[object Object]",mi=Object.prototype,Ue=mi.hasOwnProperty;function fi(t,e,a,i,s,r){var d=ke(t),n=ke(e),_=d?Ke:Pe(t),c=n?Ke:Pe(e);_=_==qe?Yt:_,c=c==qe?Yt:c;var o=_==Yt,u=c==Yt,l=_==c;if(l&&Ge(t)){if(!Ge(e))return!1;d=!0,o=!1}if(l&&!o)return r||(r=new de),d||on(t)?fa(t,e,a,i,s,r):li(t,e,_,a,i,s,r);if(!(a&yi)){var y=o&&Ue.call(t,"__wrapped__"),f=u&&Ue.call(e,"__wrapped__");if(y||f){var E=y?t.value():t,S=f?e.value():e;return r||(r=new de),s(E,S,a,i,r)}}return l?(r||(r=new de),ui(t,e,a,i,s,r)):!1}function ha(t,e,a,i,s){return t===e?!0:t==null||e==null||!$e(t)&&!$e(e)?t!==t&&e!==e:fi(t,e,a,i,ha,s)}function je(t,e){return ha(t,e)}const hi=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),gi=t=>["",...pa].includes(t),ga=t=>be?window.requestAnimationFrame(t):setTimeout(t,16),va=t=>be?window.cancelAnimationFrame(t):clearTimeout(t),vi={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ei=Pt({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:pa,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),bi={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},Ti=mt({name:"ElTag"}),Ai=mt({...Ti,props:Ei,emits:bi,setup(t,{emit:e}){const a=t,i=ua(),s=yt("tag"),r=C(()=>{const{type:_,hit:c,effect:o,closable:u,round:l}=a;return[s.b(),s.is("closable",u),s.m(_),s.m(i.value),s.m(o),s.is("hit",c),s.is("round",l)]}),d=_=>{e("close",_)},n=_=>{e("click",_)};return(_,c)=>_.disableTransitions?(N(),W("span",{key:0,class:L(I(r)),style:nt({backgroundColor:_.color}),onClick:n},[G("span",{class:L(I(s).e("content"))},[Mt(_.$slots,"default")],2),_.closable?(N(),rt(I(ue),{key:0,class:L(I(s).e("close")),onClick:j(d,["stop"])},{default:q(()=>[U(I(Fe))]),_:1},8,["class","onClick"])):lt("v-if",!0)],6)):(N(),rt(ja,{key:1,name:`${I(s).namespace.value}-zoom-in-center`,appear:""},{default:q(()=>[G("span",{class:L(I(r)),style:nt({backgroundColor:_.color}),onClick:n},[G("span",{class:L(I(s).e("content"))},[Mt(_.$slots,"default")],2),_.closable?(N(),rt(I(ue),{key:0,class:L(I(s).e("close")),onClick:j(d,["stop"])},{default:q(()=>[U(I(Fe))]),_:1},8,["class","onClick"])):lt("v-if",!0)],6)]),_:3},8,["name"]))}});var Ii=te(Ai,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const Ci=ln(Ii);var Qe=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Si(t,e){return!!(t===e||Qe(t)&&Qe(e))}function Ri(t,e){if(t.length!==e.length)return!1;for(var a=0;a<t.length;a++)if(!Si(t[a],e[a]))return!1;return!0}function Mi(t,e){e===void 0&&(e=Ri);var a=null;function i(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];if(a&&a.lastThis===this&&e(s,a.lastArgs))return a.lastResult;var d=t.apply(this,s);return a={lastResult:d,lastArgs:s,lastThis:this},d}return i.clear=function(){a=null},i}const Li=()=>{const e=la().proxy.$props;return C(()=>{const a=(i,s,r)=>({});return e.perfMode?_n(a):Mi(a)})},wi=50,Ze="itemRendered",Je="scroll",Ea="forward",ba="backward",Bt="auto",Ta="smart",Aa="start",Zt="center",Ia="end",wt="horizontal",Te="vertical",Ni="ltr",Kt="rtl",ye="negative",Ca="positive-ascending",Sa="positive-descending",Di={[wt]:"left",[Te]:"top"},Vi=20,Oi={[wt]:"deltaX",[Te]:"deltaY"},xi=({atEndEdge:t,atStartEdge:e,layout:a},i)=>{let s,r=0;const d=_=>_<0&&e.value||_>0&&t.value;return{hasReachedEdge:d,onWheel:_=>{va(s);const c=_[Oi[a.value]];d(r)&&d(r+c)||(r+=c,cn()||_.preventDefault(),s=ga(()=>{i(r),r=0}))}}},me=At({type:Lt([Number,Function]),required:!0}),fe=At({type:Number}),he=At({type:Number,default:2}),Hi=At({type:String,values:["ltr","rtl"],default:"ltr"}),ge=At({type:Number,default:0}),Jt=At({type:Number,required:!0}),Ra=At({type:String,values:["horizontal","vertical"],default:Te}),Ma=Pt({className:{type:String,default:""},containerElement:{type:Lt([String,Object]),default:"div"},data:{type:Lt(Array),default:()=>pn([])},direction:Hi,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Lt([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),zi=Pt({cache:he,estimatedItemSize:fe,layout:Ra,initScrollOffset:ge,total:Jt,itemSize:me,...Ma}),ve={type:Number,default:6},La={type:Number,default:0},wa={type:Number,default:2};Pt({columnCache:he,columnWidth:me,estimatedColumnWidth:fe,estimatedRowHeight:fe,initScrollLeft:ge,initScrollTop:ge,itemKey:{type:Lt(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:he,rowHeight:me,totalColumn:Jt,totalRow:Jt,hScrollbarSize:ve,vScrollbarSize:ve,scrollbarStartGap:La,scrollbarEndGap:wa,role:String,...Ma});const Bi=Pt({alwaysOn:Boolean,class:String,layout:Ra,total:Jt,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:ve,startGap:La,endGap:wa,visible:Boolean}),_e=(t,e)=>t<e?Ea:ba,kt=t=>t===Ni||t===Kt||t===wt;let It=null;function ta(t=!1){if(It===null||t){const e=document.createElement("div"),a=e.style;a.width="50px",a.height="50px",a.overflow="scroll",a.direction="rtl";const i=document.createElement("div"),s=i.style;return s.width="100px",s.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?It=Sa:(e.scrollLeft=1,e.scrollLeft===0?It=ye:It=Ca),document.body.removeChild(e),It}return It}function ki({move:t,size:e,bar:a},i){const s={},r=`translate${a.axis}(${t}px)`;return s[a.size]=e,s.transform=r,s.msTransform=r,s.webkitTransform=r,i==="horizontal"?s.height="100%":s.width="100%",s}const Pi=mt({name:"ElVirtualScrollBar",props:Bi,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const a=C(()=>t.startGap+t.endGap),i=yt("virtual-scrollbar"),s=yt("scrollbar"),r=P(),d=P();let n=null,_=null;const c=jt({isDragging:!1,traveled:0}),o=C(()=>vi[t.layout]),u=C(()=>t.clientSize-I(a)),l=C(()=>({position:"absolute",width:`${wt===t.layout?u.value:t.scrollbarSize}px`,height:`${wt===t.layout?t.scrollbarSize:u.value}px`,[Di[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),y=C(()=>{const g=t.ratio,k=t.clientSize;if(g>=100)return Number.POSITIVE_INFINITY;if(g>=50)return g*k/100;const v=k/3;return Math.floor(Math.min(Math.max(g*k,Vi),v))}),f=C(()=>{if(!Number.isFinite(y.value))return{display:"none"};const g=`${y.value}px`;return ki({bar:o.value,size:g,move:c.traveled},t.layout)}),E=C(()=>Math.floor(t.clientSize-y.value-I(a))),S=()=>{window.addEventListener("mousemove",A),window.addEventListener("mouseup",D);const g=I(d);g&&(_=document.onselectstart,document.onselectstart=()=>!1,g.addEventListener("touchmove",A),g.addEventListener("touchend",D))},h=()=>{window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",D),document.onselectstart=_,_=null;const g=I(d);g&&(g.removeEventListener("touchmove",A),g.removeEventListener("touchend",D))},T=g=>{g.stopImmediatePropagation(),!(g.ctrlKey||[1,2].includes(g.button))&&(c.isDragging=!0,c[o.value.axis]=g.currentTarget[o.value.offset]-(g[o.value.client]-g.currentTarget.getBoundingClientRect()[o.value.direction]),e("start-move"),S())},D=()=>{c.isDragging=!1,c[o.value.axis]=0,e("stop-move"),h()},A=g=>{const{isDragging:k}=c;if(!k||!d.value||!r.value)return;const v=c[o.value.axis];if(!v)return;va(n);const M=(r.value.getBoundingClientRect()[o.value.direction]-g[o.value.client])*-1,w=d.value[o.value.offset]-v,$=M-w;n=ga(()=>{c.traveled=Math.max(t.startGap,Math.min($,E.value)),e("scroll",$,E.value)})},B=g=>{const k=Math.abs(g.target.getBoundingClientRect()[o.value.direction]-g[o.value.client]),v=d.value[o.value.offset]/2,M=k-v;c.traveled=Math.max(0,Math.min(M,E.value)),e("scroll",M,E.value)};return ut(()=>t.scrollFrom,g=>{c.isDragging||(c.traveled=Math.ceil(g*E.value))}),_a(()=>{h()}),()=>St("div",{role:"presentation",ref:r,class:[i.b(),t.class,(t.alwaysOn||c.isDragging)&&"always-on"],style:l.value,onMousedown:j(B,["stop","prevent"]),onTouchstartPrevent:T},St("div",{ref:d,class:s.e("thumb"),style:f.value,onMousedown:T},[]))}}),Na=({name:t,getOffset:e,getItemSize:a,getItemOffset:i,getEstimatedTotalSize:s,getStartIndexForOffset:r,getStopIndexForStartIndex:d,initCache:n,clearCache:_,validateProps:c})=>mt({name:t??"ElVirtualList",props:zi,emits:[Ze,Je],setup(o,{emit:u,expose:l}){c(o);const y=la(),f=yt("vl"),E=P(n(o,y)),S=Li(),h=P(),T=P(),D=P(),A=P({isScrolling:!1,scrollDir:"forward",scrollOffset:Xt(o.initScrollOffset)?o.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:o.scrollbarAlwaysOn}),B=C(()=>{const{total:b,cache:V}=o,{isScrolling:x,scrollDir:Y,scrollOffset:H}=I(A);if(b===0)return[0,0,0,0];const X=r(o,H,I(E)),F=d(o,X,H,I(E)),gt=!x||Y===ba?Math.max(1,V):1,vt=!x||Y===Ea?Math.max(1,V):1;return[Math.max(0,X-gt),Math.max(0,Math.min(b-1,F+vt)),X,F]}),g=C(()=>s(o,I(E))),k=C(()=>kt(o.layout)),v=C(()=>[{position:"relative",[`overflow-${k.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:o.direction,height:Xt(o.height)?`${o.height}px`:o.height,width:Xt(o.width)?`${o.width}px`:o.width},o.style]),M=C(()=>{const b=I(g),V=I(k);return{height:V?"100%":`${b}px`,pointerEvents:I(A).isScrolling?"none":void 0,width:V?`${b}px`:"100%"}}),w=C(()=>k.value?o.width:o.height),{onWheel:$}=xi({atStartEdge:C(()=>A.value.scrollOffset<=0),atEndEdge:C(()=>A.value.scrollOffset>=g.value),layout:C(()=>o.layout)},b=>{var V,x;(x=(V=D.value).onMouseUp)==null||x.call(V),Q(Math.min(A.value.scrollOffset+b,g.value-w.value))}),z=()=>{const{total:b}=o;if(b>0){const[H,X,F,gt]=I(B);u(Ze,H,X,F,gt)}const{scrollDir:V,scrollOffset:x,updateRequested:Y}=I(A);u(Je,V,x,Y)},Z=b=>{const{clientHeight:V,scrollHeight:x,scrollTop:Y}=b.currentTarget,H=I(A);if(H.scrollOffset===Y)return;const X=Math.max(0,Math.min(Y,x-V));A.value={...H,isScrolling:!0,scrollDir:_e(H.scrollOffset,X),scrollOffset:X,updateRequested:!1},at(ct)},J=b=>{const{clientWidth:V,scrollLeft:x,scrollWidth:Y}=b.currentTarget,H=I(A);if(H.scrollOffset===x)return;const{direction:X}=o;let F=x;if(X===Kt)switch(ta()){case ye:{F=-x;break}case Sa:{F=Y-V-x;break}}F=Math.max(0,Math.min(F,Y-V)),A.value={...H,isScrolling:!0,scrollDir:_e(H.scrollOffset,F),scrollOffset:F,updateRequested:!1},at(ct)},it=b=>{I(k)?J(b):Z(b),z()},ft=(b,V)=>{const x=(g.value-w.value)/V*b;Q(Math.min(g.value-w.value,x))},Q=b=>{b=Math.max(b,0),b!==I(A).scrollOffset&&(A.value={...I(A),scrollOffset:b,scrollDir:_e(I(A).scrollOffset,b),updateRequested:!0},at(ct))},K=(b,V=Bt)=>{const{scrollOffset:x}=I(A);b=Math.max(0,Math.min(b,o.total-1)),Q(e(o,b,V,x,I(E)))},_t=b=>{const{direction:V,itemSize:x,layout:Y}=o,H=S.value(_&&x,_&&Y,_&&V);let X;if(Za(H,String(b)))X=H[b];else{const F=i(o,b,I(E)),gt=a(o,b,I(E)),vt=I(k),Gt=V===Kt,Nt=vt?F:0;H[b]=X={position:"absolute",left:Gt?void 0:`${Nt}px`,right:Gt?`${Nt}px`:void 0,top:vt?0:`${F}px`,height:vt?"100%":`${gt}px`,width:vt?`${gt}px`:"100%"}}return X},ct=()=>{A.value.isScrolling=!1,at(()=>{S.value(-1,null,null)})},ht=()=>{const b=h.value;b&&(b.scrollTop=0)};Ee(()=>{if(!be)return;const{initScrollOffset:b}=o,V=I(h);Xt(b)&&V&&(I(k)?V.scrollLeft=b:V.scrollTop=b),z()}),Qa(()=>{const{direction:b,layout:V}=o,{scrollOffset:x,updateRequested:Y}=I(A),H=I(h);if(Y&&H)if(V===wt)if(b===Kt)switch(ta()){case ye:{H.scrollLeft=-x;break}case Ca:{H.scrollLeft=x;break}default:{const{clientWidth:X,scrollWidth:F}=H;H.scrollLeft=F-X-x;break}}else H.scrollLeft=x;else H.scrollTop=x});const tt={ns:f,clientSize:w,estimatedTotalSize:g,windowStyle:v,windowRef:h,innerRef:T,innerStyle:M,itemsToRender:B,scrollbarRef:D,states:A,getItemStyle:_t,onScroll:it,onScrollbarScroll:ft,onWheel:$,scrollTo:Q,scrollToItem:K,resetScrollTop:ht};return l({windowRef:h,innerRef:T,getItemStyleCache:S,scrollTo:Q,scrollToItem:K,resetScrollTop:ht,states:A}),tt},render(o){var u;const{$slots:l,className:y,clientSize:f,containerElement:E,data:S,getItemStyle:h,innerElement:T,itemsToRender:D,innerStyle:A,layout:B,total:g,onScroll:k,onScrollbarScroll:v,onWheel:M,states:w,useIsScrolling:$,windowStyle:z,ns:Z}=o,[J,it]=D,ft=xt(E),Q=xt(T),K=[];if(g>0)for(let tt=J;tt<=it;tt++)K.push((u=l.default)==null?void 0:u.call(l,{data:S,key:tt,index:tt,isScrolling:$?w.isScrolling:void 0,style:h(tt)}));const _t=[St(Q,{style:A,ref:"innerRef"},De(Q)?K:{default:()=>K})],ct=St(Pi,{ref:"scrollbarRef",clientSize:f,layout:B,onScroll:v,ratio:f*100/this.estimatedTotalSize,scrollFrom:w.scrollOffset/(this.estimatedTotalSize-f),total:g}),ht=St(ft,{class:[Z.e("window"),y],style:z,onScroll:k,onWheel:M,ref:"windowRef",key:0},De(ft)?[_t]:{default:()=>[_t]});return St("div",{key:0,class:[Z.e("wrapper"),w.scrollbarAlwaysOn?"always-on":""]},[ht,ct])}}),Gi=Na({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:a,layout:i,width:s},r,d,n)=>{const _=kt(i)?s:t,c=Math.max(0,e*a-_),o=Math.min(c,r*a),u=Math.max(0,(r+1)*a-_);switch(d===Ta&&(n>=u-_&&n<=o+_?d=Bt:d=Zt),d){case Aa:return o;case Ia:return u;case Zt:{const l=Math.round(u+(o-u)/2);return l<Math.ceil(_/2)?0:l>c+Math.floor(_/2)?c:l}case Bt:default:return n>=u&&n<=o?n:n<u?u:o}},getStartIndexForOffset:({total:t,itemSize:e},a)=>Math.max(0,Math.min(t-1,Math.floor(a/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:a,layout:i,width:s},r,d)=>{const n=r*a,_=kt(i)?s:t,c=Math.ceil((_+d-n)/a);return Math.max(0,Math.min(e-1,r+c-1))},initCache(){},clearCache:!0,validateProps(){}}),Rt=(t,e,a)=>{const{itemSize:i}=t,{items:s,lastVisitedIndex:r}=a;if(e>r){let d=0;if(r>=0){const n=s[r];d=n.offset+n.size}for(let n=r+1;n<=e;n++){const _=i(n);s[n]={offset:d,size:_},d+=_}a.lastVisitedIndex=e}return s[e]},$i=(t,e,a)=>{const{items:i,lastVisitedIndex:s}=e;return(s>0?i[s].offset:0)>=a?Da(t,e,0,s,a):Fi(t,e,Math.max(0,s),a)},Da=(t,e,a,i,s)=>{for(;a<=i;){const r=a+Math.floor((i-a)/2),d=Rt(t,r,e).offset;if(d===s)return r;d<s?a=r+1:d>s&&(i=r-1)}return Math.max(0,a-1)},Fi=(t,e,a,i)=>{const{total:s}=t;let r=1;for(;a<s&&Rt(t,a,e).offset<i;)a+=r,r*=2;return Da(t,e,Math.floor(a/2),Math.min(a,s-1),i)},ea=({total:t},{items:e,estimatedItemSize:a,lastVisitedIndex:i})=>{let s=0;if(i>=t&&(i=t-1),i>=0){const n=e[i];s=n.offset+n.size}const d=(t-i-1)*a;return s+d},Wi=Na({name:"ElDynamicSizeList",getItemOffset:(t,e,a)=>Rt(t,e,a).offset,getItemSize:(t,e,{items:a})=>a[e].size,getEstimatedTotalSize:ea,getOffset:(t,e,a,i,s)=>{const{height:r,layout:d,width:n}=t,_=kt(d)?n:r,c=Rt(t,e,s),o=ea(t,s),u=Math.max(0,Math.min(o-_,c.offset)),l=Math.max(0,c.offset-_+c.size);switch(a===Ta&&(i>=l-_&&i<=u+_?a=Bt:a=Zt),a){case Aa:return u;case Ia:return l;case Zt:return Math.round(l+(u-l)/2);case Bt:default:return i>=l&&i<=u?i:i<l?l:u}},getStartIndexForOffset:(t,e,a)=>$i(t,a,e),getStopIndexForStartIndex:(t,e,a,i)=>{const{height:s,total:r,layout:d,width:n}=t,_=kt(d)?n:s,c=Rt(t,e,i),o=a+_;let u=c.offset+c.size,l=e;for(;l<r-1&&u<o;)l++,u+=Rt(t,l,i).size;return l},initCache({estimatedItemSize:t=wi},e){const a={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return a.clearCacheAfterIndex=(i,s=!0)=>{var r,d;a.lastVisitedIndex=Math.min(a.lastVisitedIndex,i-1),(r=e.exposed)==null||r.getItemStyleCache(-1),s&&((d=e.proxy)==null||d.$forceUpdate())},a},clearCache:!1,validateProps:({itemSize:t})=>{}}),Xi=mt({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:yt("select")}}});function Yi(t,e,a,i,s,r){return t.item.isTitle?(N(),W("div",{key:0,class:L(t.ns.be("group","title")),style:nt([t.style,{lineHeight:`${t.height}px`}])},et(t.item.label),7)):(N(),W("div",{key:1,class:L(t.ns.be("group","split")),style:nt(t.style)},[G("span",{class:L(t.ns.be("group","split-dash")),style:nt({top:`${t.height/2}px`})},null,6)],6))}var qi=te(Xi,[["render",Yi],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function Ki(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const Ui={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:un},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:yn.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:gi},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:Lt(String),values:mn,default:"bottom-start"}},ji={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},Qi=mt({props:ji,emits:["select","hover"],setup(t,{emit:e}){const a=yt("select"),{hoverItem:i,selectOptionClick:s}=Ki(t,{emit:e});return{ns:a,hoverItem:i,selectOptionClick:s}}}),Zi=["aria-selected"];function Ji(t,e,a,i,s,r){return N(),W("li",{"aria-selected":t.selected,style:nt(t.style),class:L([t.ns.be("dropdown","option-item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),{hover:t.hovering}]),onMouseenter:e[0]||(e[0]=(...d)=>t.hoverItem&&t.hoverItem(...d)),onClick:e[1]||(e[1]=j((...d)=>t.selectOptionClick&&t.selectOptionClick(...d),["stop"]))},[Mt(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[G("span",null,et(t.item.label),1)])],46,Zi)}var tr=te(Qi,[["render",Ji],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const Va=Symbol("ElSelectV2Injection");var er=mt({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(t,{slots:e,expose:a}){const i=Ja(Va),s=yt("select"),r=P([]),d=P(),n=C(()=>t.data.length);ut(()=>n.value,()=>{var v,M;(M=(v=i.popper.value).updatePopper)==null||M.call(v)});const _=C(()=>fn(i.props.estimatedOptionHeight)),c=C(()=>_.value?{itemSize:i.props.itemHeight}:{estimatedSize:i.props.estimatedOptionHeight,itemSize:v=>r.value[v]}),o=(v=[],M)=>{const{props:{valueKey:w}}=i;return Ht(M)?v&&v.some($=>st($,w)===st(M,w)):v.includes(M)},u=(v,M)=>{if(Ht(M)){const{valueKey:w}=i.props;return st(v,w)===st(M,w)}else return v===M},l=(v,M)=>{const{valueKey:w}=i.props;return i.props.multiple?o(v,st(M,w)):u(v,st(M,w))},y=(v,M)=>{const{disabled:w,multiple:$,multipleLimit:z}=i.props;return w||!M&&($?z>0&&v.length>=z:!1)},f=v=>t.hoveringIndex===v;a({listRef:d,isSized:_,isItemDisabled:y,isItemHovering:f,isItemSelected:l,scrollToItem:v=>{const M=d.value;M&&M.scrollToItem(v)},resetScrollTop:()=>{const v=d.value;v&&v.resetScrollTop()}});const h=v=>{const{index:M,data:w,style:$}=v,z=I(_),{itemSize:Z,estimatedSize:J}=I(c),{modelValue:it}=i.props,{onSelect:ft,onHover:Q}=i,K=w[M];if(K.type==="Group")return U(qi,{item:K,style:$,height:z?Z:J},null);const _t=l(it,K),ct=y(it,_t),ht=f(M);return U(tr,Ve(v,{selected:_t,disabled:K.disabled||ct,created:!!K.created,hovering:ht,item:K,onSelect:ft,onHover:Q}),{default:tt=>{var b;return((b=e.default)==null?void 0:b.call(e,tt))||U("span",null,[K.label])}})},{onKeyboardNavigate:T,onKeyboardSelect:D}=i,A=()=>{T("forward")},B=()=>{T("backward")},g=()=>{i.expanded=!1},k=v=>{const{code:M}=v,{tab:w,esc:$,down:z,up:Z,enter:J}=hn;switch(M!==w&&(v.preventDefault(),v.stopPropagation()),M){case w:case $:{g();break}case z:{A();break}case Z:{B();break}case J:{D();break}}};return()=>{var v;const{data:M,width:w}=t,{height:$,multiple:z,scrollbarAlwaysOn:Z}=i.props;if(M.length===0)return U("div",{class:s.b("dropdown"),style:{width:`${w}px`}},[(v=e.empty)==null?void 0:v.call(e)]);const J=I(_)?Gi:Wi;return U("div",{class:[s.b("dropdown"),s.is("multiple",z)]},[U(J,Ve({ref:d},I(c),{className:s.be("dropdown","list"),scrollbarAlwaysOn:Z,data:M,height:$,width:w,total:M.length,onKeydown:k}),{default:it=>U(h,it,null)})])}}});function ar(t,e){const a=P(0),i=P(null),s=C(()=>t.allowCreate&&t.filterable);function r(o){const u=l=>l.value===o;return t.options&&t.options.some(u)||e.createdOptions.some(u)}function d(o){s.value&&(t.multiple&&o.created?a.value++:i.value=o)}function n(o){if(s.value)if(o&&o.length>0&&!r(o)){const u={value:o,label:o,created:!0,disabled:!1};e.createdOptions.length>=a.value?e.createdOptions[a.value]=u:e.createdOptions.push(u)}else if(t.multiple)e.createdOptions.length=a.value;else{const u=i.value;e.createdOptions.length=0,u&&u.created&&e.createdOptions.push(u)}}function _(o){if(!s.value||!o||!o.created||o.created&&t.reserveKeyword&&e.inputValue===o.label)return;const u=e.createdOptions.findIndex(l=>l.value===o.value);~u&&(e.createdOptions.splice(u,1),a.value--)}function c(){s.value&&(e.createdOptions.length=0,a.value=0)}return{createNewOption:n,removeNewOption:_,selectNewOption:d,clearAllNewOption:c}}const nr=t=>{const e=[];return t.forEach(a=>{zt(a.options)?(e.push({label:a.label,isTitle:!0,type:"Group"}),a.options.forEach(i=>{e.push(i)}),e.push({type:"Group"})):e.push(a)}),e};function ir(t){const e=P(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:r=>{const d=r.target.value,n=d[d.length-1]||"";e.value=!gn(n)},handleCompositionEnd:r=>{e.value&&(e.value=!1,pe(t)&&t(r))}}}const aa="",na=11,rr={larget:51,default:42,small:33},sr=(t,e)=>{const{t:a}=vn(),i=yt("select-v2"),s=yt("input"),{form:r,formItem:d}=En(),n=jt({inputValue:aa,displayInputValue:aa,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),_=P(-1),c=P(-1),o=P(null),u=P(null),l=P(null),y=P(null),f=P(null),E=P(null),S=P(null),h=P(!1),T=C(()=>t.disabled||(r==null?void 0:r.disabled)),D=C(()=>{const p=z.value.length*34;return p>t.height?t.height:p}),A=C(()=>!We(t.modelValue)),B=C(()=>{const p=t.multiple?Array.isArray(t.modelValue)&&t.modelValue.length>0:A.value;return t.clearable&&!T.value&&n.comboBoxHovering&&p}),g=C(()=>t.remote&&t.filterable?"":bn),k=C(()=>g.value&&i.is("reverse",h.value)),v=C(()=>(d==null?void 0:d.validateState)||""),M=C(()=>Tn[v.value]),w=C(()=>t.remote?300:0),$=C(()=>{const p=z.value;return t.loading?t.loadingText||a("el.select.loading"):t.remote&&n.inputValue===""&&p.length===0?!1:t.filterable&&n.inputValue&&p.length>0?t.noMatchText||a("el.select.noMatch"):p.length===0?t.noDataText||a("el.select.noData"):null}),z=C(()=>{const p=m=>{const R=n.inputValue,O=new RegExp(hi(R),"i");return R?O.test(m.label||""):!0};return t.loading?[]:nr(t.options.concat(n.createdOptions).map(m=>{if(zt(m.options)){const R=m.options.filter(p);if(R.length>0)return{...m,options:R}}else if(t.remote||p(m))return m;return null}).filter(m=>m!==null))}),Z=C(()=>z.value.every(p=>p.disabled)),J=ua(),it=C(()=>J.value==="small"?"small":"default"),ft=C(()=>{const p=E.value,m=it.value||"default",R=p?Number.parseInt(getComputedStyle(p).paddingLeft):0,O=p?Number.parseInt(getComputedStyle(p).paddingRight):0;return n.selectWidth-O-R-rr[m]}),Q=()=>{var p;c.value=((p=f.value)==null?void 0:p.offsetWidth)||200},K=C(()=>({width:`${n.calculatedWidth===0?na:Math.ceil(n.calculatedWidth)+na}px`})),_t=C(()=>zt(t.modelValue)?t.modelValue.length===0&&!n.displayInputValue:t.filterable?n.displayInputValue.length===0:!0),ct=C(()=>{const p=t.placeholder||a("el.select.placeholder");return t.multiple||We(t.modelValue)?p:n.selectedLabel}),ht=C(()=>{var p,m;return(m=(p=y.value)==null?void 0:p.popperRef)==null?void 0:m.contentRef}),tt=C(()=>{if(t.multiple){const p=t.modelValue.length;if(t.modelValue.length>0)return z.value.findIndex(m=>m.value===t.modelValue[p-1])}else if(t.modelValue)return z.value.findIndex(p=>p.value===t.modelValue);return-1}),b=C({get(){return h.value&&$.value!==!1},set(p){h.value=p}}),V=C(()=>n.cachedOptions.slice(0,t.maxCollapseTags)),x=C(()=>n.cachedOptions.slice(t.maxCollapseTags)),{createNewOption:Y,removeNewOption:H,selectNewOption:X,clearAllNewOption:F}=ar(t,n),{handleCompositionStart:gt,handleCompositionUpdate:vt,handleCompositionEnd:Gt}=ir(p=>Ne(p)),Nt=()=>{var p,m,R;(m=(p=u.value)==null?void 0:p.focus)==null||m.call(p),(R=y.value)==null||R.updatePopper()},ae=()=>{if(!t.automaticDropdown&&!T.value)return n.isComposing&&(n.softFocus=!0),at(()=>{var p,m;h.value=!h.value,(m=(p=u.value)==null?void 0:p.focus)==null||m.call(p)})},Ae=()=>(t.filterable&&n.inputValue!==n.selectedLabel&&(n.query=n.selectedLabel),Ce(n.inputValue),at(()=>{Y(n.inputValue)})),Ie=An(Ae,w.value),Ce=p=>{n.previousQuery!==p&&(n.previousQuery=p,t.filterable&&pe(t.filterMethod)?t.filterMethod(p):t.filterable&&t.remote&&pe(t.remoteMethod)&&t.remoteMethod(p))},za=p=>{je(t.modelValue,p)||e(ma,p)},Dt=p=>{e(ya,p),za(p),n.previousValue=p==null?void 0:p.toString()},Ba=(p=[],m)=>{if(!Ht(m))return p.indexOf(m);const R=t.valueKey;let O=-1;return p.some((dt,ot)=>st(dt,R)===st(m,R)?(O=ot,!0):!1),O},bt=p=>Ht(p)?st(p,t.valueKey):p,ka=p=>Ht(p)?p.label:p,ne=()=>at(()=>{var p,m;if(!u.value)return;const R=E.value;f.value.height=R.offsetHeight,h.value&&$.value!==!1&&((m=(p=y.value)==null?void 0:p.updatePopper)==null||m.call(p))}),Se=()=>{var p,m;if(Pa(),Q(),(m=(p=y.value)==null?void 0:p.updatePopper)==null||m.call(p),t.multiple)return ne()},Pa=()=>{const p=E.value;p&&(n.selectWidth=p.getBoundingClientRect().width)},Re=(p,m,R=!0)=>{var O,dt;if(t.multiple){let ot=t.modelValue.slice();const Ft=Ba(ot,bt(p));Ft>-1?(ot=[...ot.slice(0,Ft),...ot.slice(Ft+1)],n.cachedOptions.splice(Ft,1),H(p)):(t.multipleLimit<=0||ot.length<t.multipleLimit)&&(ot=[...ot,bt(p)],n.cachedOptions.push(p),X(p),Tt(m)),Dt(ot),p.created&&(n.query="",Ce(""),n.inputLength=20),t.filterable&&!t.reserveKeyword&&((dt=(O=u.value).focus)==null||dt.call(O),$t("")),t.filterable&&(n.calculatedWidth=S.value.getBoundingClientRect().width),ne(),qa()}else _.value=m,n.selectedLabel=p.label,Dt(bt(p)),h.value=!1,n.isComposing=!1,n.isSilentBlur=R,X(p),p.created||F(),Tt(m)},Ga=(p,m)=>{const{valueKey:R}=t,O=t.modelValue.indexOf(st(m,R));if(O>-1&&!T.value){const dt=[...t.modelValue.slice(0,O),...t.modelValue.slice(O+1)];return n.cachedOptions.splice(O,1),Dt(dt),e("remove-tag",st(m,R)),n.softFocus=!0,H(m),at(Nt)}p.stopPropagation()},$a=p=>{const m=n.isComposing;n.isComposing=!0,n.softFocus?n.softFocus=!1:m||e("focus",p)},Me=p=>(n.softFocus=!1,at(()=>{var m,R;(R=(m=u.value)==null?void 0:m.blur)==null||R.call(m),S.value&&(n.calculatedWidth=S.value.getBoundingClientRect().width),n.isSilentBlur?n.isSilentBlur=!1:n.isComposing&&e("blur",p),n.isComposing=!1})),Fa=()=>{n.displayInputValue.length>0?$t(""):h.value=!1},Wa=p=>{if(n.displayInputValue.length===0){p.preventDefault();const m=t.modelValue.slice();m.pop(),H(n.cachedOptions.pop()),Dt(m)}},Xa=()=>{let p;return zt(t.modelValue)?p=[]:p=void 0,n.softFocus=!0,t.multiple?n.cachedOptions=[]:n.selectedLabel="",h.value=!1,Dt(p),e("clear"),F(),at(Nt)},$t=p=>{n.displayInputValue=p,n.inputValue=p},Le=(p,m=void 0)=>{const R=z.value;if(!["forward","backward"].includes(p)||T.value||R.length<=0||Z.value)return;if(!h.value)return ae();m===void 0&&(m=n.hoveringIndex);let O=-1;p==="forward"?(O=m+1,O>=R.length&&(O=0)):p==="backward"&&(O=m-1,(O<0||O>=R.length)&&(O=R.length-1));const dt=R[O];if(dt.disabled||dt.type==="Group")return Le(p,O);Tt(O),ie(O)},Ya=()=>{if(h.value)~n.hoveringIndex&&z.value[n.hoveringIndex]&&Re(z.value[n.hoveringIndex],n.hoveringIndex,!1);else return ae()},Tt=p=>{n.hoveringIndex=p},we=()=>{n.hoveringIndex=-1},qa=()=>{var p;const m=u.value;m&&((p=m.focus)==null||p.call(m))},Ne=p=>{const m=p.target.value;if($t(m),n.displayInputValue.length>0&&!h.value&&(h.value=!0),n.calculatedWidth=S.value.getBoundingClientRect().width,t.multiple&&ne(),t.remote)Ie();else return Ae()},Ka=()=>(h.value=!1,Me()),Ua=()=>(n.inputValue=n.displayInputValue,at(()=>{~tt.value&&(Tt(tt.value),ie(n.hoveringIndex))})),ie=p=>{l.value.scrollToItem(p)},re=()=>{if(we(),t.multiple)if(t.modelValue.length>0){let p=!1;n.cachedOptions.length=0,n.previousValue=t.modelValue.toString(),t.modelValue.forEach(m=>{const R=z.value.findIndex(O=>bt(O)===m);~R&&(n.cachedOptions.push(z.value[R]),p||Tt(R),p=!0)})}else n.cachedOptions=[],n.previousValue=void 0;else if(A.value){n.previousValue=t.modelValue;const p=z.value,m=p.findIndex(R=>bt(R)===bt(t.modelValue));~m?(n.selectedLabel=p[m].label,Tt(m)):n.selectedLabel=`${t.modelValue}`}else n.selectedLabel="",n.previousValue=void 0;F(),Q()};return ut(h,p=>{var m,R;e("visible-change",p),p?(R=(m=y.value).update)==null||R.call(m):(n.displayInputValue="",n.previousQuery=null,Y(""))}),ut(()=>t.modelValue,(p,m)=>{var R;(!p||p.toString()!==n.previousValue)&&re(),!je(p,m)&&t.validateEvent&&((R=d==null?void 0:d.validate)==null||R.call(d,"change").catch(O=>In()))},{deep:!0}),ut(()=>t.options,()=>{const p=u.value;(!p||p&&document.activeElement!==p)&&re()},{deep:!0}),ut(z,()=>at(l.value.resetScrollTop)),ut(()=>b.value,p=>{p||we()}),Ee(()=>{re()}),Cn(f,Se),{collapseTagSize:it,currentPlaceholder:ct,expanded:h,emptyText:$,popupHeight:D,debounce:w,filteredOptions:z,iconComponent:g,iconReverse:k,inputWrapperStyle:K,popperSize:c,dropdownMenuVisible:b,hasModelValue:A,shouldShowPlaceholder:_t,selectDisabled:T,selectSize:J,showClearBtn:B,states:n,tagMaxWidth:ft,nsSelectV2:i,nsInput:s,calculatorRef:S,controlRef:o,inputRef:u,menuRef:l,popper:y,selectRef:f,selectionRef:E,popperRef:ht,validateState:v,validateIcon:M,showTagList:V,collapseTagList:x,debouncedOnInputChange:Ie,deleteTag:Ga,getLabel:ka,getValueKey:bt,handleBlur:Me,handleClear:Xa,handleClickOutside:Ka,handleDel:Wa,handleEsc:Fa,handleFocus:$a,handleMenuEnter:Ua,handleResize:Se,toggleMenu:ae,scrollTo:ie,onInput:Ne,onKeyboardNavigate:Le,onKeyboardSelect:Ya,onSelect:Re,onHover:Tt,onUpdateInputValue:$t,handleCompositionStart:gt,handleCompositionEnd:Gt,handleCompositionUpdate:vt}},dr=mt({name:"ElSelectV2",components:{ElSelectMenu:er,ElTag:Ci,ElTooltip:Sn,ElIcon:ue},directives:{ClickOutside:Rn,ModelText:ca},props:Ui,emits:[ya,ma,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const a=C(()=>{const{modelValue:s,multiple:r}=t,d=r?[]:void 0;return zt(s)?r?s:d:r?d:s}),i=sr(jt({...Oe(t),modelValue:a}),e);return tn(Va,{props:jt({...Oe(t),height:i.popupHeight,modelValue:a}),popper:i.popper,onSelect:i.onSelect,onHover:i.onHover,onKeyboardNavigate:i.onKeyboardNavigate,onKeyboardSelect:i.onKeyboardSelect}),{...i,modelValue:a}}}),or={key:0},lr=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],_r=["textContent"],cr=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],pr=["textContent"];function ur(t,e,a,i,s,r){const d=Wt("el-tag"),n=Wt("el-tooltip"),_=Wt("el-icon"),c=Wt("el-select-menu"),o=xe("model-text"),u=xe("click-outside");return Ot((N(),W("div",{ref:"selectRef",class:L([t.nsSelectV2.b(),t.nsSelectV2.m(t.selectSize)]),onClick:e[24]||(e[24]=j((...l)=>t.toggleMenu&&t.toggleMenu(...l),["stop"])),onMouseenter:e[25]||(e[25]=l=>t.states.comboBoxHovering=!0),onMouseleave:e[26]||(e[26]=l=>t.states.comboBoxHovering=!1)},[U(n,{ref:"popper",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelectV2.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:e[23]||(e[23]=l=>t.states.inputValue=t.states.displayInputValue)},{default:q(()=>[G("div",{ref:"selectionRef",class:L([t.nsSelectV2.e("wrapper"),t.nsSelectV2.is("focused",t.states.isComposing||t.expanded),t.nsSelectV2.is("hovering",t.states.comboBoxHovering),t.nsSelectV2.is("filterable",t.filterable),t.nsSelectV2.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(N(),W("div",or,[Mt(t.$slots,"prefix")])):lt("v-if",!0),t.multiple?(N(),W("div",{key:1,class:L(t.nsSelectV2.e("selection"))},[t.collapseTags&&t.modelValue.length>0?(N(),W(Vt,{key:0},[(N(!0),W(Vt,null,se(t.showTagList,l=>(N(),W("div",{key:t.getValueKey(l),class:L(t.nsSelectV2.e("selected-item"))},[U(d,{closable:!t.selectDisabled&&!(l!=null&&l.disable),size:t.collapseTagSize,type:"info","disable-transitions":"",onClose:y=>t.deleteTag(y,l)},{default:q(()=>[G("span",{class:L(t.nsSelectV2.e("tags-text")),style:nt({maxWidth:`${t.tagMaxWidth}px`})},et(l==null?void 0:l.label),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),G("div",{class:L(t.nsSelectV2.e("selected-item"))},[t.modelValue.length>t.maxCollapseTags?(N(),rt(d,{key:0,closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""},{default:q(()=>[t.collapseTagsTooltip?(N(),rt(n,{key:0,disabled:t.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:!1},{default:q(()=>[G("span",{class:L(t.nsSelectV2.e("tags-text")),style:nt({maxWidth:`${t.tagMaxWidth}px`})},"+ "+et(t.modelValue.length-t.maxCollapseTags),7)]),content:q(()=>[G("div",{class:L(t.nsSelectV2.e("selection"))},[(N(!0),W(Vt,null,se(t.collapseTagList,l=>(N(),W("div",{key:t.getValueKey(l),class:L(t.nsSelectV2.e("selected-item"))},[U(d,{closable:!t.selectDisabled&&!l.disabled,size:t.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:y=>t.deleteTag(y,l)},{default:q(()=>[G("span",{class:L(t.nsSelectV2.e("tags-text")),style:nt({maxWidth:`${t.tagMaxWidth}px`})},et(t.getLabel(l)),7)]),_:2},1032,["closable","size","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect"])):(N(),W("span",{key:1,class:L(t.nsSelectV2.e("tags-text")),style:nt({maxWidth:`${t.tagMaxWidth}px`})},"+ "+et(t.modelValue.length-t.maxCollapseTags),7))]),_:1},8,["size"])):lt("v-if",!0)],2)],64)):(N(!0),W(Vt,{key:1},se(t.states.cachedOptions,l=>(N(),W("div",{key:t.getValueKey(l),class:L(t.nsSelectV2.e("selected-item"))},[U(d,{closable:!t.selectDisabled&&!l.disabled,size:t.collapseTagSize,type:"info","disable-transitions":"",onClose:y=>t.deleteTag(y,l)},{default:q(()=>[G("span",{class:L(t.nsSelectV2.e("tags-text")),style:nt({maxWidth:`${t.tagMaxWidth}px`})},et(t.getLabel(l)),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),G("div",{class:L([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-wrapper")]),style:nt(t.inputWrapperStyle)},[Ot(G("input",{id:t.id,ref:"inputRef",autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-labelledby":t.label,class:L([t.nsSelectV2.is(t.selectSize),t.nsSelectV2.e("combobox-input")]),disabled:t.disabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,unselectable:t.expanded?"on":void 0,"onUpdate:modelValue":e[0]||(e[0]=(...l)=>t.onUpdateInputValue&&t.onUpdateInputValue(...l)),onFocus:e[1]||(e[1]=(...l)=>t.handleFocus&&t.handleFocus(...l)),onBlur:e[2]||(e[2]=(...l)=>t.handleBlur&&t.handleBlur(...l)),onInput:e[3]||(e[3]=(...l)=>t.onInput&&t.onInput(...l)),onCompositionstart:e[4]||(e[4]=(...l)=>t.handleCompositionStart&&t.handleCompositionStart(...l)),onCompositionupdate:e[5]||(e[5]=(...l)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...l)),onCompositionend:e[6]||(e[6]=(...l)=>t.handleCompositionEnd&&t.handleCompositionEnd(...l)),onKeydown:[e[7]||(e[7]=pt(j(l=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[8]||(e[8]=pt(j(l=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[9]||(e[9]=pt(j((...l)=>t.onKeyboardSelect&&t.onKeyboardSelect(...l),["stop","prevent"]),["enter"])),e[10]||(e[10]=pt(j((...l)=>t.handleEsc&&t.handleEsc(...l),["stop","prevent"]),["esc"])),e[11]||(e[11]=pt(j((...l)=>t.handleDel&&t.handleDel(...l),["stop"]),["delete"]))]},null,42,lr),[[o,t.states.displayInputValue]]),t.filterable?(N(),W("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:L(t.nsSelectV2.e("input-calculator")),textContent:et(t.states.displayInputValue)},null,10,_r)):lt("v-if",!0)],6)],2)):(N(),W(Vt,{key:2},[G("div",{class:L([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-wrapper")])},[Ot(G("input",{id:t.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":t.label,"aria-expanded":t.expanded,autocapitalize:"off",autocomplete:t.autocomplete,class:L(t.nsSelectV2.e("combobox-input")),disabled:t.disabled,name:t.name,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",unselectable:t.expanded?"on":void 0,onCompositionstart:e[12]||(e[12]=(...l)=>t.handleCompositionStart&&t.handleCompositionStart(...l)),onCompositionupdate:e[13]||(e[13]=(...l)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...l)),onCompositionend:e[14]||(e[14]=(...l)=>t.handleCompositionEnd&&t.handleCompositionEnd(...l)),onFocus:e[15]||(e[15]=(...l)=>t.handleFocus&&t.handleFocus(...l)),onBlur:e[16]||(e[16]=(...l)=>t.handleBlur&&t.handleBlur(...l)),onInput:e[17]||(e[17]=(...l)=>t.onInput&&t.onInput(...l)),onKeydown:[e[18]||(e[18]=pt(j(l=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[19]||(e[19]=pt(j(l=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[20]||(e[20]=pt(j((...l)=>t.onKeyboardSelect&&t.onKeyboardSelect(...l),["stop","prevent"]),["enter"])),e[21]||(e[21]=pt(j((...l)=>t.handleEsc&&t.handleEsc(...l),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":e[22]||(e[22]=(...l)=>t.onUpdateInputValue&&t.onUpdateInputValue(...l))},null,42,cr),[[o,t.states.displayInputValue]])],2),t.filterable?(N(),W("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:L([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-calculator")]),textContent:et(t.states.displayInputValue)},null,10,pr)):lt("v-if",!0)],64)),t.shouldShowPlaceholder?(N(),W("span",{key:3,class:L([t.nsSelectV2.e("placeholder"),t.nsSelectV2.is("transparent",t.multiple?t.modelValue.length===0:!t.hasModelValue)])},et(t.currentPlaceholder),3)):lt("v-if",!0),G("span",{class:L(t.nsSelectV2.e("suffix"))},[t.iconComponent?Ot((N(),rt(_,{key:0,class:L([t.nsSelectV2.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:q(()=>[(N(),rt(xt(t.iconComponent)))]),_:1},8,["class"])),[[en,!t.showClearBtn]]):lt("v-if",!0),t.showClearBtn&&t.clearIcon?(N(),rt(_,{key:1,class:L([t.nsSelectV2.e("caret"),t.nsInput.e("icon")]),onClick:j(t.handleClear,["prevent","stop"])},{default:q(()=>[(N(),rt(xt(t.clearIcon)))]),_:1},8,["class","onClick"])):lt("v-if",!0),t.validateState&&t.validateIcon?(N(),rt(_,{key:2,class:L([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:q(()=>[(N(),rt(xt(t.validateIcon)))]),_:1},8,["class"])):lt("v-if",!0)],2)],2)]),content:q(()=>[U(c,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},{default:q(l=>[Mt(t.$slots,"default",an(nn(l)))]),empty:q(()=>[Mt(t.$slots,"empty",{},()=>[G("p",{class:L(t.nsSelectV2.e("empty"))},et(t.emptyText?t.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[u,t.handleClickOutside,t.popperRef]])}var Ut=te(dr,[["render",ur],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);Ut.install=t=>{t.component(Ut.name,Ut)};const yr=Ut,mr=yr;class Oa extends ee{constructor(e,a){super(),this.x=0,this.y=0,this.width=8,this.height=5,this.color="#919EAB",this.rotate=0,this.ctx=e,this.analysisOptions(a)}analysisOptions(e){Object.assign(this,e)}draw(){const{ctx:e,x:a,y:i,width:s,height:r,color:d,rotate:n}=this;e.save(),e.beginPath(),e.fillStyle=d,e.translate(a,i),n&&e.rotate(n*Math.PI/180),e.moveTo(-s/2,-r/2),e.lineTo(0,r/2),e.lineTo(s/2,-r/2),e.fill(),e.restore()}containsPoint(e,a=!1){var l;const{width:i,height:s,x:r,y:d}=this,{x:n,y:_}=e,c=this.getImageLines({tl:{x:r-i/2,y:d-s/2},tr:{x:r+i/2,y:d-s/2},bl:{x:r-i/2,y:d+s/2},br:{x:r+i/2,y:d+s/2}}),u=!!(this.findCrossPoints(n,_,c)%2);return u&&a&&((l=this.tiggerFunc)==null||l.call(this)),u}}class fr extends ee{constructor(e,a){super(),this.x=0,this.y=0,this.circleRadius=8,this.minus=!1,this.ctx=e,this.analysisOptions(a)}analysisOptions(e){this.x=e.x,this.y=e.y,this.minus=e.minus,this.borderColor=e.borderColor,this.textColor=e.textColor,this.tiggerFunc=e.tiggerFunc}draw(){const{ctx:e,x:a,y:i,borderColor:s,textColor:r,minus:d,circleRadius:n}=this;e.save(),e.beginPath(),e.strokeStyle=s,e.fillStyle="#ffffff",e.arc(a,i,n,0,260),e.fill(),e.stroke(),e.beginPath(),e.fillStyle=r,e.lineWidth=2,e.moveTo(a-4,i),e.lineTo(a+4,i),d||(e.moveTo(a,i-4),e.lineTo(a,i+4)),e.stroke(),e.restore()}containsPoint(e,a=!1){var u;const{circleRadius:i,x:s,y:r}=this,{x:d,y:n}=e,_=this.getImageLines({tl:{x:s-i,y:r-i},tr:{x:s+i,y:r-i},bl:{x:s-i,y:r+i},br:{x:s+i,y:r+i}}),o=!!(this.findCrossPoints(d,n,_)%2);return o&&a&&((u=this.tiggerFunc)==null||u.call(this)),o}}class hr extends ee{constructor(e,a){super(),this.width=260,this.height=0,this.titleHeight=30,this.titlePaddingX=12,this.titlePaddingY=8,this.borderColor="#0C64EB",this.textColor="#0C64EB",this.bgColor="#D0E2FF",this.attrHeight=24,this.borderWidth=1,this.datatypeIconWidth=14,this.expandLeft=!0,this.expandRight=!0,this.x=0,this.y=0,this.ctx=e,this.updateOptions(a)}analysisOptions(e){if(!e)return;const{x:a=0,y:i=0,id:s,enName:r,cnName:d,type:n,attributes:_,borderColor:c,textColor:o,bgColor:u}=e;Et(a)&&(this.x=a),Et(i)&&(this.y=i),s&&(this.id=s),r&&(this.enName=r),d&&(this.cnName=d),n&&(this.type=n),_&&(this.attributes=_),c&&(this.borderColor=c),o&&(this.textColor=o),u&&(this.bgColor=u)}updateOptions(e){this.analysisOptions(e),this.calcBoundingBox()}containsPoint(e,a=!1){var D,A;const{x:i,y:s}=e,{x:r,y:d,width:n,attrHeight:_,titleHeight:c,expandLeft:o,attributes:u,children:l}=this,y=o?c+_*u.length:c,f=this.getImageLines({tl:{x:r,y:d},tr:{x:r+n,y:d},bl:{x:r,y:d+y},br:{x:r+n,y:d+y}});if(!!!(this.findCrossPoints(i,s,f)%2))return!1;for(let B=0;B<l.length;B++){const g=l[B];if((D=g.containsPoint)==null?void 0:D.call(g,e,a))return this.id}const h=s-d,T=Math.floor((h-c)/_);return(A=u[T])==null?void 0:A.id}draw(e){var a;this.updateOptions(e),this.children=[],this.expandLeft&&this.drawBody(),this.drawTitle(),(a=this.attributes)!=null&&a.length&&this.drawDropDownIcon()}drawBody(){const{ctx:e,x:a,y:i,width:s,titleHeight:r,attrHeight:d,titlePaddingX:n,attributes:_,datatypeIconWidth:c}=this;e.save(),e.strokeStyle="#C1C7CD",e.fillStyle="#ffffff";const o=r+d*_.length;e.drawRoundedRect(a,i,s,o,4,4,4,4,!0,!0,!1,!1),e.translate(a,i+r),e.fillStyle="#161616",e.textBaseline="top",e.font="14px PingFang SC";const u=s-n*2;for(let l=0;l<_.length;l++){const y=_[l];e.moveTo(0,d*l),l&&e.lineTo(s,d*l);const f=e.fittingString(y.enName,u-c);this.drawDataType(y.type,n,d*l+(d-14)/2),e.fillText(f,n+c,d*l+(d-14)/2)}e.stroke(),e.restore()}drawDataType(e,a,i){const s=e.split(" ")[0].toLocaleUpperCase();let r;if(s in Mn?r=oe.get("date"):s in Ln?r=oe.get("number"):s in wn&&(r=oe.get("string")),!r)return!1;const{ctx:d}=this;d.drawImage(r,a-6,i-2)}drawTitle(){const{ctx:e,x:a,y:i,width:s,titleHeight:r,borderColor:d,bgColor:n,textColor:_,enName:c,titlePaddingX:o,titlePaddingY:u,expandLeft:l,attributes:y}=this;e.save(),e.strokeStyle=d,e.fillStyle=n;const f=l&&y.length?0:4;e.drawRoundedRect(a,i,s,r,4,4,f,f,!0,!0,!1,!1),e.textBaseline="top",e.font="14px PingFang SC",e.fillStyle=_;const E=s-o*2-4,S=e.fittingString(c,E);e.fillText(S,a+o+4,i+u),e.restore()}drawCircleIcon(){const{ctx:e,x:a,y:i,width:s,titleHeight:r,borderColor:d,textColor:n,expandRight:_}=this,c=a+s,o=i+r/2,u=new fr(e,{x:c,y:o,minus:_,borderColor:d,textColor:n,tiggerFunc:this.accordionRight.bind(this)});u.draw(),this.children.push(u)}drawDropDownIcon(){const{ctx:e,x:a,y:i,titleHeight:s,titlePaddingX:r,expandLeft:d}=this,n=a+r/2+2,_=i+s/2,c=new Oa(e,{x:n,y:_,rotate:d?0:180,tiggerFunc:this.accordionLeft.bind(this)});c.draw(),this.children.push(c)}accordionLeft(){return this.calcBoundingBox(),this.expandLeft=!this.expandLeft}accordionRight(){return this.expandRight=!this.expandRight}calcBoundingBox(){const{x:e,y:a,width:i,attrHeight:s,expandLeft:r,titleHeight:d,attributes:n}=this,_=this.height=r?d+s*n.length:d;this.boundingBox=[[e,a],[e+i,a],[e,a+_],[e+i,a+_]]}getLinePosition(e){const{x:a,y:i,titleHeight:s,expandLeft:r,attributes:d,attrHeight:n,id:_}=this,c={x:a,y:i};if(r&&e!==_){const o=d.findIndex(u=>u.id===e);c.y=i+s+n*(o+.5)}else c.y=i+s/2;return c}}const ia=(t,e,a,i,s)=>{const[r,d]=e,[n,_]=s,[c,o]=a,[u,l]=i,y=r*(1-t)*(1-t)*(1-t)+3*c*t*(1-t)*(1-t)+3*u*t*t*(1-t)+n*t*t*t,f=d*(1-t)*(1-t)*(1-t)+3*o*t*(1-t)*(1-t)+3*l*t*t*(1-t)+_*t*t*t;return[y,f]},ra=(t,e,a,i,s)=>{const r=-t+3*e-3*a+i,d=3*t-6*e+3*a,n=-3*t+3*e,_=t-s,c=Math.pow(d,2)-3*r*n,o=d*n-9*r*_,u=Math.pow(n,2)-3*d*_,l=Math.pow(o,2)-4*c*u;let y=-100,f=-100,E=-100;if(c===o&&c===0)return y=-d/(3*r),f=-n/d,E=-3*_/n,[y,f,E];if(l>0){const S=Math.pow(o,2)-4*c*u,h=S<0?-1:1,T=c*d+3*r*(-o+(S*h)**(1/2)*h)/2,D=c*d+3*r*(-o-(S*h)**(1/2)*h)/2,A=T<0?-1:1,B=D<0?-1:1;y=(-d-(T*A)**(1/3)*A-(D*B)**(1/3)*B)/(3*r)}if(l===0){const S=o/c;y=-d/r+S,f=E=-S/2}if(l<0){const S=c<0?-1:1,h=(2*c*d-3*r*o)/(2*(c*S)**(3/2)*S),T=Math.acos(h);c>0&&h<1&&h>-1&&(y=(-d-2*c**(1/2)*Math.cos(T/3))/(3*r),f=(-d+c**(1/2)*(Math.cos(T/3)+3**(1/2)*Math.sin(T/3)))/(3*r),E=(-d+c**(1/2)*(Math.cos(T/3)-3**(1/2)*Math.sin(T/3)))/(3*r))}return[y,f,E]},gr=(t,e,a)=>{const{startX:i,startY:s,cp1x:r,cp1y:d,cp2x:n,cp2y:_,endX:c,endY:o}=a,u=ra(i,r,n,c,t);for(let y=0;y<3;y++)if(u[y]<=1&&u[y]>=0){const f=ia(u[y],[i,s],[r,d],[n,_],[c,o]);if(Math.abs(f[1]-e)<8)return!0}const l=ra(s,d,_,o,e);for(let y=0;y<3;y++)if(l[y]<=1&&l[y]>=0){const f=ia(l[y],[i,s],[r,d],[n,_],[c,o]);if(Math.abs(f[0]-t)<8)return!0}return!1};class Ct extends ee{constructor(e,a){super(),this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.cp=60,this.cp1x=0,this.cp1y=0,this.cp2x=0,this.cp2y=0,this.strokeStyle="#0C64EB",this.lineWidth=1,this.ctx=e,this.analysisOptions(a),this.createBezierPath(),this.calcBoundingBox()}analysisOptions(e){if(!e)return;const{startX:a,startY:i,endX:s,endY:r,type:d,lineWidth:n=1,from:_,to:c,id:o}=e;o&&(this.id=o),_&&(this.from=_),c&&(this.to=c),Et(a)&&(this.startX=a),Et(i)&&(this.startY=i),Et(s)&&(this.endX=s),Et(r)&&(this.endY=r),d&&(this.type=d),n&&(this.lineWidth=n)}updateOptions(e){this.analysisOptions(e),this.calcBoundingBox()}createBezierPath(){const{cp:e,startX:a,startY:i,endX:s,endY:r}=this,d=this.cp1x=a+e,n=this.cp1y=i,_=this.cp2x=s-e,c=this.cp2y=r,o=this.path=new Path2D;o.moveTo(a,i),o.bezierCurveTo(d,n,_,c,s,r)}draw(e){this.analysisOptions(e),this.createBezierPath();const{ctx:a,strokeStyle:i,lineDash:s,lineWidth:r,path:d}=this;a.save(),a.strokeStyle=i,r&&(a.lineWidth=r),s&&a.setLineDash(s),a.stroke(d),a.restore(),this.drawArrow()}containsPoint(e){const{x:a,y:i}=e,{startX:s,startY:r,endX:d,endY:n,cp1x:_,cp1y:c,cp2x:o,cp2y:u,id:l}=this;return gr(a,i,{startX:s,startY:r,endX:d,endY:n,cp1x:_,cp1y:c,cp2x:o,cp2y:u})?l:!1}drawArrow(){const{ctx:e,endX:a,endY:i,strokeStyle:s}=this,r=10,d=6;new Oa(e,{x:a-d/2,y:i,width:r,height:d,rotate:270,color:s}).draw()}calcBoundingBox(){const{startX:e,startY:a,endX:i,endY:s}=this;this.boundingBox=[[e,a],[i,s]]}}class vr extends Nn{constructor(e){super(),this.graphStartX=20,this.graphStartY=20,Dn(),this.analysisOptions(e),this.initCanvasDom(),this.mountCanvasEvents(),this.mountPlugins(),Vn().then(()=>this.update())}analysisOptions(e){const{el:a,data:i={table:[],relationship:[]},editable:s=On.Edit,graphStartX:r,graphStartY:d,useThumbnail:n}=e;a&&(this.el=a),s&&(this.editable=s),Et(r)&&(this.graphStartX=r),Et(d)&&(this.graphStartY=d),i&&this.updateData(i),xn(n)&&(this.useThumbnail=n)}updateData(e){e&&(this.data=e,this.nodeMap=new Map,this.attrMap=new Map,this.lineMap=new Map,this.lineageMap=new Map,this.nodeMatrix=[])}initCanvasDom(){this.canvas=new Hn({mountEl:this.el,backgroundType:zn.Color})}mountCanvasEvents(){this._bindEventMousedown=this.onMouseDown.bind(this),this._bindEventMousemove=this.onMouseMove.bind(this),this._bindEventMouseup=this.onMouseUp.bind(this),this._bindEventResize=this.onResize.bind(this),this._bindEventWheel=this.onWheel.bind(this),this.canvas.on("canvas:resize",this._bindEventResize),this.canvas.on("canvas:wheel",this._bindEventWheel),this.canvas.on("canvas:mouseup",this._bindEventMouseup),this.canvas.on("canvas:mousedown",this._bindEventMousedown),this.canvas.on("canvas:mousemove",this._bindEventMousemove)}unmountCanvasEvents(){this.canvas.off("canvas:resize",this._bindEventResize),this.canvas.off("canvas:wheel",this._bindEventWheel),this.canvas.off("canvas:mouseup",this._bindEventMouseup),this.canvas.off("canvas:mousedown",this._bindEventMousedown),this.canvas.off("canvas:mousemove",this._bindEventMousemove)}freeVariable(){this.el=null,this.editable=null,this.data=null,this.nodeMap=null,this.attrMap=null,this.lineMap=null,this.canvas=null,this.hoverTargetId=null,this.activeTargets=[]}mountPlugins(){this.plugins=new Bn,this.useThumbnail&&this.plugins.use(Xe.Thumbnail,{mountEl:this.canvas.boxEl,mainCanvas:this.canvas})}unmountPlugins(){this.plugins.destroy()}update(e){this.canvas&&(this.updateData(e),this.canvas.clearCacheCanvas(),this.initNodes(),this.initLines(),this.makeNodeMatrix(),this.renderNodes(),this.renderLines(),this.canvas.update(),this.updateThumbnail())}async updateThumbnail(){const e=this.plugins.get(Xe.Thumbnail);if(!e)return!1;await kn();const{width:a,height:i}=this.canvas.getRenderSize();let s=0,r=0,d=a,n=i;this.nodeMap.forEach(_=>{const{x:c,y:o,width:u,height:l}=_;c<s&&(s=c),o<r&&(r=o),c+u>d&&(d=c+u),o+l>n&&(n=o+l)}),e.draw(s,r,d,n,_=>{this.nodeMap.forEach(c=>{const{x:o,y:u,width:l,height:y,bgColor:f,borderColor:E}=c;_.save(),_.fillStyle=f||"#fff",_.fillRect(o,u,l,y),_.strokeStyle=E||"#000",_.strokeRect(o,u,l,y),_.restore()})})}renderNodes(){const{nodeMatrix:e,nodeMap:a,graphStartX:i,graphStartY:s}=this;for(let r=0;r<e.length;r++){const d=e[r];let n=s;for(let _=0;_<d.length;_++){const c=d[_],o=a.get(c);o.updateOptions({x:(o.width+100)*r+i,y:n}),this.canvas.isVisible(o.boundingBox)&&o.draw(),n+=(o.expandLeft?o.attributes.length*o.attrHeight:0)+o.titleHeight+20}}}initNodes(){var a;const e=(a=this.data)==null?void 0:a.table;if(e!=null&&e.length)for(let i=0;i<e.length;i++){const s=e[i];let r=this.nodeMap.get(s.id);if(!r){r=new hr(this.canvas.cacheCtx,s),this.nodeMap.set(s.id,r);for(let d=0;d<r.attributes.length;d++){const n=r.attributes[d];this.attrMap.set(n.id,r)}}this.lineageMap.set(r.id,[])}}initLines(){const{nodeMap:e,attrMap:a,lineageMap:i,data:{relationship:s}}=this;if(s!=null&&s.length)for(let r=0;r<s.length;r++){const d=s[r];let n=this.lineMap.get(d.id);const _=e.get(d.from)||a.get(d.from),c=e.get(d.to)||a.get(d.to);if(!_||!c)continue;n||(n=new Ct(this.canvas.cacheCtx,d),this.lineMap.set(d.id,n));const o=i.get(c.id),u=o.includes(_.id),l=_.id===c.id;!u&&!l&&o.push(_.id)}}makeNodeMatrix(){const{nodeMatrix:e,lineageMap:a}=this;let i=!1;for(;!i;){i=!0;const s=e[e.length-1],r=[];for(const[d,n]of a)if(n.length){if(i=!1,!s)continue;for(let _=0;_<s.length;_++){const c=s[_],o=n.indexOf(c);o!==-1&&(n.splice(o,1),n.length||r.push(d))}}else s||r.push(d);if(r.length)e.push(r);else return i=!1}}renderLines(){const{nodeMap:e,attrMap:a,data:{relationship:i}}=this;if(i!=null&&i.length)for(let s=0;s<i.length;s++){const r=i[s],d=this.lineMap.get(r.id),n=e.get(r.from)||a.get(r.from),_=e.get(r.to)||a.get(r.to);if(!n||!_)continue;const c=n.getLinePosition(r.from),o=_.getLinePosition(r.to);d.updateOptions({startX:c.x+n.width,startY:c.y,endX:o.x,endY:o.y}),this.canvas.isVisible(d.boundingBox)&&d.draw()}}renderTemporaryEventCanvas(){const{activeTargets:e,hoverTargetId:a,lineMap:i,nodeMap:s,attrMap:r,canvas:d,data:n}=this;if(this.renderPermanentEventCanvas(),i.get(a)){const{startX:_,startY:c,endX:o,endY:u,type:l}=i.get(a);new Ct(d.eventCtx,{startX:_,startY:c,endX:o,endY:u,type:l,lineWidth:2}).draw()}else if(r.get(a)){if(e!=null&&e.includes(a))return;const _=r.get(a),c=_.attributes.findIndex(T=>T.id===a),{x:o,y:u,titleHeight:l,attrHeight:y,width:f,bgColor:E}=_,S=o,h=u+l+y*c;d.eventCtx.save(),d.eventCtx.fillStyle=`${E}4D`,d.eventCtx.moveTo(S,h),d.eventCtx.fillRect(S,h,f,y),d.eventCtx.fill(),d.eventCtx.restore();for(let T=0;T<n.relationship.length;T++){const D=n.relationship[T];if(D.from===a||D.to===a){const{startX:A,startY:B,endX:g,endY:k,type:v}=i.get(D.id);new Ct(d.eventCtx,{startX:A,startY:B,endX:g,endY:k,type:v,lineWidth:2}).draw()}}}else if(s.get(a)){const _=[a].concat(s.get(a).attributes.map(c=>c.id));for(let c=0;c<n.relationship.length;c++){const o=n.relationship[c];if(_.includes(o.from)||_.includes(o.to)){const{startX:u,startY:l,endX:y,endY:f,type:E}=i.get(o.id);new Ct(d.eventCtx,{startX:u,startY:l,endX:y,endY:f,type:E,lineWidth:2}).draw()}}}}renderPermanentEventCanvas(){const{activeTargets:e,canvas:a,attrMap:i,lineMap:s,data:r}=this;if(this.canvas.clearEventCanvas(),!!e)for(let d=0;d<e.length;d++){const n=e[d];if(i.get(n)){const _=i.get(n),c=_.attributes.findIndex(T=>T.id===n),{x:o,y:u,titleHeight:l,attrHeight:y,width:f,bgColor:E}=_,S=o,h=u+l+y*c;a.eventCtx.save(),a.eventCtx.fillStyle=`${E}4D`,a.eventCtx.moveTo(S,h),a.eventCtx.fillRect(S,h,f,y),a.eventCtx.fill(),a.eventCtx.restore();for(let T=0;T<r.relationship.length;T++){const D=r.relationship[T];if(D.from===n||D.to===n){const{startX:A,startY:B,endX:g,endY:k,type:v}=s.get(D.id);new Ct(a.eventCtx,{startX:A,startY:B,endX:g,endY:k,type:v,lineWidth:2}).draw()}}}}}findTarget(e,a,i=!1){const s=a.reverse();for(let r=0;r<s.length;r++){const d=s[r].id,n=this.nodeMap.get(d)||this.lineMap.get(d),_=n==null?void 0:n.containsPoint(e,i);if(_)return _}}getFabricWithId(e){const{lineMap:a,attrMap:i,nodeMap:s}=this;return a.get(e)||i.get(e)||s.get(e)}onMouseUp(){}onMouseDown(e,a){const{data:i,lineMap:s,attrMap:r,nodeMap:d}=this;this.activeTargets=[];const n=this.findTarget(a,[...i.table,...i.relationship],!0);if(n){let _;s.get(n)?_="line:click":r.get(n)?(_="node-attr:click",this.activeTargets=[n]):d.get(n)&&(_="node:click"),this.emit(_,n)}this.update(),this.renderPermanentEventCanvas()}onMouseMove(e,a){if(this.canvas.isMouseDown){this.canvas.setTranslate(e),this.canvas.clearEventCanvas();const i=this.canvas.getTranslate();this.emit("graph:move",i),this.update()}else{const i=this.findTarget(a,[...this.data.table,...this.data.relationship]);this.hoverTargetId=i,this.renderTemporaryEventCanvas(),i?this.canvas.eventEl.style.cursor="pointer":this.canvas.eventEl.style.cursor="default"}}onWheel(e){const{deltaY:a,deltaX:i,ctrlKey:s}=e;if((Math.abs(a)>2||Math.abs(i)>2)&&!s){const d=this.canvas.getTranslate();this.canvas.setTranslate({x:d.x-i,y:d.y-a}),this.canvas.clearEventCanvas(),this.update()}}onResize(){this.update()}zoom(e){const a=e/50;this.canvas.zoom(a),this.update(),this.renderPermanentEventCanvas()}fullscreen(){this.canvas.fullscreen()}destroy(){this.unmountPlugins(),this.unmountCanvasEvents(),this.canvas.destroy(),this.freeVariable()}viewTo(e){if(!e)return!1;const{nodeMap:a,attrMap:i,lineMap:s,canvas:{width:r,height:d}}=this,n=a.get(e)||i.get(e)||s.get(e);let _,c;n instanceof Ct?(_=-n.startX,c=-n.startY):(_=-n.x-n.width/2,c=-n.y-n.height/2),this.canvas.viewTo(_+r/2,c+d/2),this.update(),this.renderPermanentEventCanvas()}}const Er=[{ent_id:"20011",ent_type:"1",ent_name:"test non-attributes long titleeeeeeeeeeeeeee"},{ent_id:"2001",ent_type:"1",ent_name:"account abuse history"},{ent_id:"2002",ent_type:"1",ent_name:"account collec history"},{ent_id:"2003",ent_type:"1",ent_name:"account credit limit"},{ent_id:"2004",ent_type:"1",ent_name:"account legal history"},{ent_id:"2005",ent_type:"1",ent_name:"acct acct relationship"},{ent_id:"2006",ent_type:"0",ent_name:"agreement"},{ent_id:"2007",ent_type:"1",ent_name:"agreement asset"},{ent_id:"2008",ent_type:"1",ent_name:"default recovery history"},{ent_id:"2009",ent_type:"1",ent_name:"finance exposure agreement"},{ent_id:"2010",ent_type:"1",ent_name:"financial agreement"},{ent_id:"2011",ent_type:"1",ent_name:"legal action"},{ent_id:"2012",ent_type:"1",ent_name:"loan account"},{ent_id:"2013",ent_type:"1",ent_name:"loan review hist"},{ent_id:"2014",ent_type:"1",ent_name:"overdraft excess history"},{ent_id:"2015",ent_type:"1",ent_name:"account account group"},{ent_id:"2016",ent_type:"1",ent_name:"account group"},{ent_id:"2017",ent_type:"1",ent_name:"account group bal hist dd"},{ent_id:"2018",ent_type:"1",ent_name:"account group criterion"},{ent_id:"2019",ent_type:"1",ent_name:"account group feature"},{ent_id:"2020",ent_type:"1",ent_name:"account group limit hist"},{ent_id:"2021",ent_type:"1",ent_name:"account group reason type"},{ent_id:"2022",ent_type:"1",ent_name:"account group related"},{ent_id:"2023",ent_type:"1",ent_name:"account group risk grade"},{ent_id:"2024",ent_type:"1",ent_name:"account group risk hist"},{ent_id:"2025",ent_type:"1",ent_name:"account group risk type hist"},{ent_id:"2026",ent_type:"1",ent_name:"account group type"},{ent_id:"2027",ent_type:"1",ent_name:"account group type assoc"},{ent_id:"2028",ent_type:"1",ent_name:"acct group score dd"},{ent_id:"2029",ent_type:"1",ent_name:"feature"},{ent_id:"2030",ent_type:"1",ent_name:"acct collateral asset"},{ent_id:"2031",ent_type:"1",ent_name:"appl collateral asset"},{ent_id:"2032",ent_type:"1",ent_name:"application"},{ent_id:"2033",ent_type:"1",ent_name:"application asset"},{ent_id:"2034",ent_type:"1",ent_name:"customer asset"},{ent_id:"2035",ent_type:"2",ent_name:"quotation"},{ent_id:"2036",ent_type:"2",ent_name:"quotation asset"},{ent_id:"2037",ent_type:"1",ent_name:"quote collateral asset"},{ent_id:"2038",ent_type:"1",ent_name:"external direct debit"},{ent_id:"2039",ent_type:"1",ent_name:"external standing order"},{ent_id:"2040",ent_type:"1",ent_name:"internal direct debit"},{ent_id:"2041",ent_type:"1",ent_name:"internal standing order"},{ent_id:"2042",ent_type:"1",ent_name:"account card"},{ent_id:"2043",ent_type:"1",ent_name:"card"},{ent_id:"2044",ent_type:"1",ent_name:"card card rel"},{ent_id:"2045",ent_type:"1",ent_name:"card limit"},{ent_id:"2046",ent_type:"1",ent_name:"credit card"},{ent_id:"2047",ent_type:"2",ent_name:"party"},{ent_id:"2048",ent_type:"2",ent_name:"party card"},{ent_id:"2049",ent_type:"1",ent_name:"purchase card"},{ent_id:"2050",ent_type:"1",ent_name:"purchase card bus hist"}],br=[{ent_id:"2001",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1001"},{ent_id:"2001",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1002"},{ent_id:"2001",datatype:"SMALLINT",attr_name:"system_abuse_type_cd",attr_type:"",attr_id:"1003"},{ent_id:"2001",datatype:"DATE",attr_name:"account_abuse_dt",attr_type:"",attr_id:"1004"},{ent_id:"2001",datatype:"VARCHAR(50)",attr_name:"abuse_occurred_currency_cd",attr_type:"",attr_id:"1005"},{ent_id:"2001",datatype:"DECIMAL(18,4)",attr_name:"account_abuse_amt",attr_type:"",attr_id:"1006"},{ent_id:"2001",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_abuse_amt",attr_type:"",attr_id:"1007"},{ent_id:"2001",datatype:"DECIMAL(18,4)",attr_name:"occurred_crncy_acct_abuse_amt",attr_type:"",attr_id:"1008"},{ent_id:"2002",datatype:"DATE",attr_name:"collection_status_start_dt",attr_type:"",attr_id:"1009"},{ent_id:"2002",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1010"},{ent_id:"2002",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1011"},{ent_id:"2002",datatype:"SMALLINT",attr_name:"collection_status_cd",attr_type:"",attr_id:"1012"},{ent_id:"2002",datatype:"DECIMAL(18,4)",attr_name:"collection_cost_amt",attr_type:"",attr_id:"1013"},{ent_id:"2002",datatype:"INTEGER",attr_name:"days_past_due_cnt",attr_type:"",attr_id:"1014"},{ent_id:"2002",datatype:"DECIMAL(18,4)",attr_name:"past_due_amt",attr_type:"",attr_id:"1015"},{ent_id:"2002",datatype:"DATE",attr_name:"collection_status_end_dt",attr_type:"",attr_id:"1016"},{ent_id:"2002",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_past_due_amt",attr_type:"",attr_id:"1017"},{ent_id:"2003",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1018"},{ent_id:"2003",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1019"},{ent_id:"2003",datatype:"SMALLINT",attr_name:"limit_type_cd",attr_type:"",attr_id:"1020"},{ent_id:"2003",datatype:"DATE",attr_name:"credit_limit_start_dt",attr_type:"",attr_id:"1021"},{ent_id:"2003",datatype:"SMALLINT",attr_name:"limit_change_reason_cd",attr_type:"",attr_id:"1022"},{ent_id:"2003",datatype:"DECIMAL(18,4)",attr_name:"credit_limit_amt",attr_type:"",attr_id:"1023"},{ent_id:"2003",datatype:"DATE",attr_name:"credit_limit_end_dt",attr_type:"",attr_id:"1024"},{ent_id:"2003",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_credit_limit_amt",attr_type:"",attr_id:"1025"},{ent_id:"2004",datatype:"INTEGER",attr_name:"legal_action_id",attr_type:"",attr_id:"1026"},{ent_id:"2004",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1027"},{ent_id:"2004",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1028"},{ent_id:"2004",datatype:"DECIMAL(18,4)",attr_name:"judgement_amt",attr_type:"",attr_id:"1029"},{ent_id:"2004",datatype:"DATE",attr_name:"judgement_dt",attr_type:"",attr_id:"1030"},{ent_id:"2004",datatype:"DATE",attr_name:"court_judgement_appl_dt",attr_type:"",attr_id:"1031"},{ent_id:"2005",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1032"},{ent_id:"2005",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1033"},{ent_id:"2005",datatype:"CHAR(18)",attr_name:"related_account_num",attr_type:"",attr_id:"1034"},{ent_id:"2005",datatype:"CHAR(18)",attr_name:"related_account_modifier_num",attr_type:"",attr_id:"1035"},{ent_id:"2005",datatype:"SMALLINT",attr_name:"acct_relationship_type_cd",attr_type:"",attr_id:"1036"},{ent_id:"2005",datatype:"DATE",attr_name:"relationship_start_dt",attr_type:"",attr_id:"1037"},{ent_id:"2005",datatype:"DATE",attr_name:"relationship_end_dt",attr_type:"",attr_id:"1038"},{ent_id:"2006",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1039"},{ent_id:"2006",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1040"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"account_type_cd",attr_type:"",attr_id:"1041"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"account_source_cd",attr_type:"",attr_id:"1042"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"acct_status_type_cd",attr_type:"",attr_id:"1043"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"acct_status_reason_cd",attr_type:"",attr_id:"1044"},{ent_id:"2006",datatype:"INTEGER",attr_name:"campaign_id",attr_type:"",attr_id:"1045"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"statement_cycle_cd",attr_type:"",attr_id:"1046"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"statement_mail_type_cd",attr_type:"",attr_id:"1047"},{ent_id:"2006",datatype:"INTEGER",attr_name:"product_id",attr_type:"",attr_id:"1048"},{ent_id:"2006",datatype:"DATE",attr_name:"account_open_dt",attr_type:"",attr_id:"1049"},{ent_id:"2006",datatype:"DATE",attr_name:"account_close_dt",attr_type:"",attr_id:"1050"},{ent_id:"2006",datatype:"DATE",attr_name:"current_product_start_dt",attr_type:"",attr_id:"1051"},{ent_id:"2006",datatype:"DATE",attr_name:"last_statement_dt",attr_type:"",attr_id:"1052"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"acct_obtained_cd",attr_type:"",attr_id:"1053"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"acct_categ_cd",attr_type:"",attr_id:"1054"},{ent_id:"2006",datatype:"INTEGER",attr_name:"application_id",attr_type:"",attr_id:"1055"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"fund_source_type_cd",attr_type:"",attr_id:"1056"},{ent_id:"2006",datatype:"DATE",attr_name:"account_processing_dt",attr_type:"",attr_id:"1057"},{ent_id:"2006",datatype:"INTEGER",attr_name:"package_product_id",attr_type:"",attr_id:"1058"},{ent_id:"2006",datatype:"DATE",attr_name:"account_signed_dt",attr_type:"",attr_id:"1059"},{ent_id:"2006",datatype:"VARCHAR(50)",attr_name:"contract_name",attr_type:"",attr_id:"1060"},{ent_id:"2006",datatype:"DATE",attr_name:"contract_expiration_dt",attr_type:"",attr_id:"1061"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"balance_sheet_cd",attr_type:"",attr_id:"1062"},{ent_id:"2007",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1063"},{ent_id:"2007",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1064"},{ent_id:"2007",datatype:"SMALLINT",attr_name:"asset_contract_role_cd",attr_type:"",attr_id:"1065"},{ent_id:"2007",datatype:"INTEGER",attr_name:"customer_asset_id",attr_type:"",attr_id:"1066"},{ent_id:"2007",datatype:"DATE",attr_name:"agreement_asset_start_dt",attr_type:"",attr_id:"1067"},{ent_id:"2007",datatype:"DATE",attr_name:"agreement_asset_end_dt",attr_type:"",attr_id:"1068"},{ent_id:"2008",datatype:"DATE",attr_name:"recovery_dt",attr_type:"",attr_id:"1069"},{ent_id:"2008",datatype:"VARCHAR(50)",attr_name:"recovery_source_type_cd",attr_type:"",attr_id:"1070"},{ent_id:"2008",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1071"},{ent_id:"2008",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1072"},{ent_id:"2008",datatype:"SMALLINT",attr_name:"time_period_cd",attr_type:"",attr_id:"1073"},{ent_id:"2008",datatype:"INTEGER",attr_name:"time_period_unit_cnt",attr_type:"",attr_id:"1074"},{ent_id:"2008",datatype:"DATE",attr_name:"cost_of_recovery_receipt_dt",attr_type:"",attr_id:"1075"},{ent_id:"2008",datatype:"DATE",attr_name:"default_dt_dd",attr_type:"",attr_id:"1076"},{ent_id:"2008",datatype:"DECIMAL(18,4)",attr_name:"recovery_amt",attr_type:"",attr_id:"1077"},{ent_id:"2008",datatype:"DECIMAL(18,4)",attr_name:"cost_of_recovery_amt",attr_type:"",attr_id:"1078"},{ent_id:"2009",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1079"},{ent_id:"2009",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1080"},{ent_id:"2009",datatype:"VARCHAR(50)",attr_name:"current_basel_ii_treatment_cd",attr_type:"",attr_id:"1081"},{ent_id:"2009",datatype:"VARCHAR(50)",attr_name:"basel_ii_exposure_sub_type_cd",attr_type:"",attr_id:"1082"},{ent_id:"2009",datatype:"VARCHAR(50)",attr_name:"basel_ii_exposure_type_cd",attr_type:"",attr_id:"1083"},{ent_id:"2009",datatype:"SMALLINT",attr_name:"risk_review_time_period_cd",attr_type:"",attr_id:"1084"},{ent_id:"2009",datatype:"INTEGER",attr_name:"reaging_cnt",attr_type:"",attr_id:"1085"},{ent_id:"2009",datatype:"DECIMAL(5,2)",attr_name:"securitization_rate",attr_type:"",attr_id:"1086"},{ent_id:"2010",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1087"},{ent_id:"2010",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1088"},{ent_id:"2010",datatype:"VARCHAR(50)",attr_name:"financial_agreement_categ_cd",attr_type:"",attr_id:"1089"},{ent_id:"2010",datatype:"SMALLINT",attr_name:"asset_liability_cd",attr_type:"",attr_id:"1090"},{ent_id:"2010",datatype:"DATE",attr_name:"last_reprice_dt",attr_type:"",attr_id:"1091"},{ent_id:"2010",datatype:"DATE",attr_name:"next_reprice_dt",attr_type:"",attr_id:"1092"},{ent_id:"2010",datatype:"SMALLINT",attr_name:"acct_comp_freq_time_period_cd",attr_type:"",attr_id:"1093"},{ent_id:"2010",datatype:"INTEGER",attr_name:"acct_comp_freq_unit_num",attr_type:"",attr_id:"1094"},{ent_id:"2010",datatype:"CHAR(3)",attr_name:"credit_risk_ind",attr_type:"",attr_id:"1095"},{ent_id:"2010",datatype:"VARCHAR(50)",attr_name:"market_risk_type_cd",attr_type:"",attr_id:"1096"},{ent_id:"2011",datatype:"INTEGER",attr_name:"legal_action_id",attr_type:"",attr_id:"1097"},{ent_id:"2011",datatype:"VARCHAR(35)",attr_name:"legal_action_desc",attr_type:"",attr_id:"1098"},{ent_id:"2011",datatype:"VARCHAR(20)",attr_name:"legal_action_suit_num",attr_type:"",attr_id:"1099"},{ent_id:"2011",datatype:"DATE",attr_name:"legal_action_start_dt",attr_type:"",attr_id:"1100"},{ent_id:"2011",datatype:"DATE",attr_name:"legal_action_end_dt",attr_type:"",attr_id:"1101"},{ent_id:"2011",datatype:"INTEGER",attr_name:"court_location_address_id",attr_type:"",attr_id:"1102"},{ent_id:"2012",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1103"},{ent_id:"2012",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1104"},{ent_id:"2012",datatype:"SMALLINT",attr_name:"security_type_cd",attr_type:"",attr_id:"1105"},{ent_id:"2012",datatype:"SMALLINT",attr_name:"maturity_cd",attr_type:"",attr_id:"1106"},{ent_id:"2012",datatype:"INTEGER",attr_name:"due_day_num",attr_type:"",attr_id:"1107"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"realizable_collateral_val_amt",attr_type:"",attr_id:"1108"},{ent_id:"2012",datatype:"DATE",attr_name:"loan_last_pmt_dt_dd",attr_type:"",attr_id:"1109"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"loan_last_pmt_amt_dd",attr_type:"",attr_id:"1110"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"loan_past_due_amt",attr_type:"",attr_id:"1111"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"loan_charge_off_amt",attr_type:"",attr_id:"1112"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"loan_payoff_amt",attr_type:"",attr_id:"1113"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_real_collat_amt",attr_type:"",attr_id:"1114"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_last_pmt_amt",attr_type:"",attr_id:"1115"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_charge_off_amt",attr_type:"",attr_id:"1116"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_past_due_amt",attr_type:"",attr_id:"1117"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_loan_payoff_amt",attr_type:"",attr_id:"1118"},{ent_id:"2013",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1119"},{ent_id:"2013",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1120"},{ent_id:"2013",datatype:"SMALLINT",attr_name:"loan_review_categ_cd",attr_type:"",attr_id:"1121"},{ent_id:"2013",datatype:"INTEGER",attr_name:"loan_review_party_id",attr_type:"",attr_id:"1122"},{ent_id:"2013",datatype:"DATE",attr_name:"account_review_dt",attr_type:"",attr_id:"1123"},{ent_id:"2013",datatype:"SMALLINT",attr_name:"loan_review_result_cd",attr_type:"",attr_id:"1124"},{ent_id:"2013",datatype:"VARCHAR(256)",attr_name:"loan_review_comment_txt",attr_type:"",attr_id:"1125"},{ent_id:"2014",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1126"},{ent_id:"2014",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1127"},{ent_id:"2014",datatype:"DATE",attr_name:"overdraft_excess_start_dt",attr_type:"",attr_id:"1128"},{ent_id:"2014",datatype:"DATE",attr_name:"overdraft_excess_end_dt",attr_type:"",attr_id:"1129"},{ent_id:"2015",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1130"},{ent_id:"2015",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1131"},{ent_id:"2015",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1132"},{ent_id:"2015",datatype:"DATE",attr_name:"account_assoc_start_dt",attr_type:"",attr_id:"1133"},{ent_id:"2015",datatype:"DATE",attr_name:"account_assoc_end_dt",attr_type:"",attr_id:"1134"},{ent_id:"2016",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1135"},{ent_id:"2016",datatype:"DATE",attr_name:"account_group_start_dt",attr_type:"",attr_id:"1136"},{ent_id:"2016",datatype:"DATE",attr_name:"account_group_end_dt",attr_type:"",attr_id:"1137"},{ent_id:"2016",datatype:"VARCHAR(30)",attr_name:"account_group_desc",attr_type:"",attr_id:"1138"},{ent_id:"2016",datatype:"INTEGER",attr_name:"analytical_model_id",attr_type:"",attr_id:"1139"},{ent_id:"2016",datatype:"VARCHAR(50)",attr_name:"account_group_reason_type_cd",attr_type:"",attr_id:"1140"},{ent_id:"2016",datatype:"INTEGER",attr_name:"parent_account_group_id",attr_type:"",attr_id:"1141"},{ent_id:"2017",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1142"},{ent_id:"2017",datatype:"DATE",attr_name:"account_group_summary_dt",attr_type:"",attr_id:"1143"},{ent_id:"2017",datatype:"SMALLINT",attr_name:"balance_category_type_cd",attr_type:"",attr_id:"1144"},{ent_id:"2017",datatype:"SMALLINT",attr_name:"time_period_cd",attr_type:"",attr_id:"1145"},{ent_id:"2017",datatype:"DECIMAL(18,4)",attr_name:"account_group_ledger_bal_amt",attr_type:"",attr_id:"1146"},{ent_id:"2018",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1147"},{ent_id:"2018",datatype:"INTEGER",attr_name:"selection_criterion_id",attr_type:"",attr_id:"1148"},{ent_id:"2019",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1149"},{ent_id:"2019",datatype:"INTEGER",attr_name:"feature_id",attr_type:"",attr_id:"1150"},{ent_id:"2019",datatype:"DATE",attr_name:"account_group_feature_start_dt",attr_type:"",attr_id:"1151"},{ent_id:"2019",datatype:"DATE",attr_name:"account_group_feature_end_dt",attr_type:"",attr_id:"1152"},{ent_id:"2020",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1153"},{ent_id:"2020",datatype:"SMALLINT",attr_name:"limit_type_cd",attr_type:"",attr_id:"1154"},{ent_id:"2020",datatype:"DATE",attr_name:"account_group_limit_start_dt",attr_type:"",attr_id:"1155"},{ent_id:"2020",datatype:"SMALLINT",attr_name:"limit_change_reason_cd",attr_type:"",attr_id:"1156"},{ent_id:"2020",datatype:"DATE",attr_name:"account_group_limit_end_dt",attr_type:"",attr_id:"1157"},{ent_id:"2020",datatype:"DECIMAL(18,4)",attr_name:"account_group_credit_limit_amt",attr_type:"",attr_id:"1158"},{ent_id:"2021",datatype:"VARCHAR(50)",attr_name:"account_group_reason_type_cd",attr_type:"",attr_id:"1159"},{ent_id:"2021",datatype:"VARCHAR(250)",attr_name:"account_group_reason_type_desc",attr_type:"",attr_id:"1160"},{ent_id:"2022",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1161"},{ent_id:"2022",datatype:"INTEGER",attr_name:"related_account_group_id",attr_type:"",attr_id:"1162"},{ent_id:"2022",datatype:"CHAR(18)",attr_name:"account_group_related_role_cd",attr_type:"",attr_id:"1163"},{ent_id:"2022",datatype:"CHAR(18)",attr_name:"account_group_related_start_dt",attr_type:"",attr_id:"1164"},{ent_id:"2022",datatype:"CHAR(18)",attr_name:"account_group_related_end_dt",attr_type:"",attr_id:"1165"},{ent_id:"2023",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1166"},{ent_id:"2023",datatype:"SMALLINT",attr_name:"risk_rating_type_cd",attr_type:"",attr_id:"1167"},{ent_id:"2023",datatype:"INTEGER",attr_name:"risk_rating_method_id",attr_type:"",attr_id:"1168"},{ent_id:"2023",datatype:"DATE",attr_name:"account_group_risk_start_dt",attr_type:"",attr_id:"1169"},{ent_id:"2023",datatype:"VARCHAR(50)",attr_name:"risk_rating_cd",attr_type:"",attr_id:"1170"},{ent_id:"2023",datatype:"DATE",attr_name:"account_group_risk_end_dt",attr_type:"",attr_id:"1171"},{ent_id:"2023",datatype:"VARCHAR(50)",attr_name:"account_group_rating_num",attr_type:"",attr_id:"1172"},{ent_id:"2023",datatype:"DATE",attr_name:"account_group_next_review_dt",attr_type:"",attr_id:"1173"},{ent_id:"2024",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1174"},{ent_id:"2024",datatype:"DATE",attr_name:"acct_group_risk_calc_dt",attr_type:"",attr_id:"1175"},{ent_id:"2024",datatype:"DECIMAL(5,2)",attr_name:"acct_grp_loss_given_deflt_rate",attr_type:"",attr_id:"1176"},{ent_id:"2024",datatype:"DECIMAL(5,2)",attr_name:"acct_grp_prob_default_rate",attr_type:"",attr_id:"1177"},{ent_id:"2024",datatype:"INTEGER",attr_name:"acct_grp_eff_maturity_cnt",attr_type:"",attr_id:"1178"},{ent_id:"2024",datatype:"DECIMAL(5,2)",attr_name:"acct_grp_dilutn_exp_loss_rate",attr_type:"",attr_id:"1179"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_dilution_exp_loss_amt",attr_type:"",attr_id:"1180"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_default_guarantee_amt",attr_type:"",attr_id:"1181"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_dilution_guarant_amt",attr_type:"",attr_id:"1182"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_exposure_at_dflt_amt",attr_type:"",attr_id:"1183"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_capital_reqmt_amt",attr_type:"",attr_id:"1184"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_nominal_exposure_amt",attr_type:"",attr_id:"1185"},{ent_id:"2024",datatype:"DECIMAL(5,2)",attr_name:"acct_grp_securitization_rate",attr_type:"",attr_id:"1186"},{ent_id:"2024",datatype:"DECIMAL(5,2)",attr_name:"acct_grp_cr_enhance_lvl_rate",attr_type:"",attr_id:"1187"},{ent_id:"2024",datatype:"DECIMAL(5,2)",attr_name:"acct_grp_lgd_weighted_avg_rate",attr_type:"",attr_id:"1188"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_suprvisry_capital_amt",attr_type:"",attr_id:"1189"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_provision_limit_amt",attr_type:"",attr_id:"1190"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_loss_provision_amt",attr_type:"",attr_id:"1191"},{ent_id:"2025",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1192"},{ent_id:"2025",datatype:"VARCHAR(50)",attr_name:"risk_metric_type_cd",attr_type:"",attr_id:"1193"},{ent_id:"2025",datatype:"DATE",attr_name:"account_group_risk_calc_dt",attr_type:"",attr_id:"1194"},{ent_id:"2025",datatype:"DECIMAL(18,4)",attr_name:"account_group_risk_metric_amt",attr_type:"",attr_id:"1195"},{ent_id:"2025",datatype:"DECIMAL(5,2)",attr_name:"account_group_risk_metric_rate",attr_type:"",attr_id:"1196"},{ent_id:"2025",datatype:"INTEGER",attr_name:"account_group_risk_metric_cnt",attr_type:"",attr_id:"1197"},{ent_id:"2026",datatype:"VARCHAR(50)",attr_name:"account_group_type_cd",attr_type:"",attr_id:"1198"},{ent_id:"2026",datatype:"VARCHAR(250)",attr_name:"account_group_type_desc",attr_type:"",attr_id:"1199"},{ent_id:"2027",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1200"},{ent_id:"2027",datatype:"VARCHAR(50)",attr_name:"account_group_type_cd",attr_type:"",attr_id:"1201"},{ent_id:"2027",datatype:"DATE",attr_name:"account_group_type_start_dt",attr_type:"",attr_id:"1202"},{ent_id:"2027",datatype:"DATE",attr_name:"account_group_type_end_dt",attr_type:"",attr_id:"1203"},{ent_id:"2028",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1204"},{ent_id:"2028",datatype:"DATE",attr_name:"account_group_score_calc_dt",attr_type:"",attr_id:"1205"},{ent_id:"2028",datatype:"INTEGER",attr_name:"analytical_model_id",attr_type:"",attr_id:"1206"},{ent_id:"2028",datatype:"INTEGER",attr_name:"model_run_id",attr_type:"",attr_id:"1207"},{ent_id:"2028",datatype:"VARCHAR(100)",attr_name:"account_group_score_val",attr_type:"",attr_id:"1208"},{ent_id:"2029",datatype:"INTEGER",attr_name:"feature_id",attr_type:"",attr_id:"1209"},{ent_id:"2029",datatype:"SMALLINT",attr_name:"feature_type_cd",attr_type:"",attr_id:"1210"},{ent_id:"2029",datatype:"SMALLINT",attr_name:"feature_classification_cd",attr_type:"",attr_id:"1211"},{ent_id:"2029",datatype:"VARCHAR(30)",attr_name:"feature_desc",attr_type:"",attr_id:"1212"},{ent_id:"2029",datatype:"VARCHAR(50)",attr_name:"feature_name",attr_type:"",attr_id:"1213"},{ent_id:"2029",datatype:"CHAR(6)",attr_name:"common_feature_name",attr_type:"",attr_id:"1214"},{ent_id:"2029",datatype:"VARCHAR(50)",attr_name:"feature_category_type_cd",attr_type:"",attr_id:"1215"},{ent_id:"2030",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1216"},{ent_id:"2030",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1217"},{ent_id:"2030",datatype:"INTEGER",attr_name:"customer_asset_id",attr_type:"",attr_id:"1218"},{ent_id:"2030",datatype:"SMALLINT",attr_name:"asset_contract_role_cd",attr_type:"",attr_id:"1219"},{ent_id:"2030",datatype:"DATE",attr_name:"agreement_asset_start_dt",attr_type:"",attr_id:"1220"},{ent_id:"2031",datatype:"INTEGER",attr_name:"customer_asset_id",attr_type:"",attr_id:"1221"},{ent_id:"2031",datatype:"INTEGER",attr_name:"application_id",attr_type:"",attr_id:"1222"},{ent_id:"2031",datatype:"DATE",attr_name:"application_asset_start_dt",attr_type:"",attr_id:"1223"},{ent_id:"2031",datatype:"SMALLINT",attr_name:"asset_contract_role_cd",attr_type:"",attr_id:"1224"},{ent_id:"2031",datatype:"DECIMAL(18)",attr_name:"appl_collateral_asset_amt",attr_type:"",attr_id:"1225"},{ent_id:"2031",datatype:"DECIMAL(18)",attr_name:"acct_crncy_appl_collat_ast_amt",attr_type:"",attr_id:"1226"},{ent_id:"2032",datatype:"INTEGER",attr_name:"application_id",attr_type:"",attr_id:"1227"},{ent_id:"2032",datatype:"INTEGER",attr_name:"product_id",attr_type:"",attr_id:"1228"},{ent_id:"2032",datatype:"INTEGER",attr_name:"application_form_id",attr_type:"",attr_id:"1229"},{ent_id:"2032",datatype:"DATE",attr_name:"application_completed_dt",attr_type:"",attr_id:"1230"},{ent_id:"2032",datatype:"INTEGER",attr_name:"promo_id",attr_type:"",attr_id:"1231"},{ent_id:"2032",datatype:"DATE",attr_name:"planned_acct_open_dt",attr_type:"",attr_id:"1232"},{ent_id:"2033",datatype:"INTEGER",attr_name:"customer_asset_id",attr_type:"",attr_id:"1233"},{ent_id:"2033",datatype:"INTEGER",attr_name:"application_id",attr_type:"",attr_id:"1234"},{ent_id:"2033",datatype:"DATE",attr_name:"application_asset_start_dt",attr_type:"",attr_id:"1235"},{ent_id:"2033",datatype:"SMALLINT",attr_name:"asset_contract_role_cd",attr_type:"",attr_id:"1236"},{ent_id:"2034",datatype:"INTEGER",attr_name:"customer_asset_id",attr_type:"",attr_id:"1237"},{ent_id:"2034",datatype:"INTEGER",attr_name:"mm_object_id",attr_type:"",attr_id:"1238"},{ent_id:"2034",datatype:"SMALLINT",attr_name:"asset_insurance_hist_type_cd",attr_type:"",attr_id:"1239"},{ent_id:"2034",datatype:"INTEGER",attr_name:"address_id",attr_type:"",attr_id:"1240"},{ent_id:"2034",datatype:"SMALLINT",attr_name:"asset_type_cd",attr_type:"",attr_id:"1241"},{ent_id:"2034",datatype:"DATE",attr_name:"asset_last_validation_dt",attr_type:"",attr_id:"1242"},{ent_id:"2034",datatype:"VARCHAR(30)",attr_name:"asset_desc",attr_type:"",attr_id:"1243"},{ent_id:"2034",datatype:"INTEGER",attr_name:"asset_acct_num",attr_type:"",attr_id:"1244"},{ent_id:"2034",datatype:"SMALLINT",attr_name:"validation_time_period_cd",attr_type:"",attr_id:"1245"},{ent_id:"2034",datatype:"DATE",attr_name:"asset_next_valuation_dt",attr_type:"",attr_id:"1246"},{ent_id:"2034",datatype:"DATE",attr_name:"asset_next_inspection_dt",attr_type:"",attr_id:"1247"},{ent_id:"2035",datatype:"INTEGER",attr_name:"quotation_id",attr_type:"",attr_id:"1248"},{ent_id:"2035",datatype:"SMALLINT",attr_name:"contract_categ_cd",attr_type:"",attr_id:"1249"},{ent_id:"2035",datatype:"SMALLINT",attr_name:"discount_cd",attr_type:"",attr_id:"1250"},{ent_id:"2035",datatype:"INTEGER",attr_name:"campaign_id",attr_type:"",attr_id:"1251"},{ent_id:"2035",datatype:"INTEGER",attr_name:"package_product_id",attr_type:"",attr_id:"1252"},{ent_id:"2035",datatype:"INTEGER",attr_name:"product_id",attr_type:"",attr_id:"1253"},{ent_id:"2035",datatype:"SMALLINT",attr_name:"quote_status_type_cd",attr_type:"",attr_id:"1254"},{ent_id:"2035",datatype:"SMALLINT",attr_name:"quote_origin_cd",attr_type:"",attr_id:"1255"},{ent_id:"2035",datatype:"SMALLINT",attr_name:"quote_close_reason_cd",attr_type:"",attr_id:"1256"},{ent_id:"2035",datatype:"INTEGER",attr_name:"application_id",attr_type:"",attr_id:"1257"},{ent_id:"2035",datatype:"DECIMAL(18,2)",attr_name:"quotation_amt",attr_type:"",attr_id:"1258"},{ent_id:"2035",datatype:"DATE",attr_name:"current_quote_status_start_dt",attr_type:"",attr_id:"1259"},{ent_id:"2035",datatype:"DATE",attr_name:"quotation_open_dt",attr_type:"",attr_id:"1260"},{ent_id:"2035",datatype:"DATE",attr_name:"quotation_expiration_dt",attr_type:"",attr_id:"1261"},{ent_id:"2035",datatype:"DATE",attr_name:"quotation_close_dt",attr_type:"",attr_id:"1262"},{ent_id:"2035",datatype:"DECIMAL(18,2)",attr_name:"quote_ceiling_amt",attr_type:"",attr_id:"1263"},{ent_id:"2035",datatype:"DECIMAL(18,2)",attr_name:"acct_crncy_quote_amt",attr_type:"",attr_id:"1264"},{ent_id:"2035",datatype:"DECIMAL(18,2)",attr_name:"acct_crncy_ceiling_amt",attr_type:"",attr_id:"1265"},{ent_id:"2035",datatype:"DATE",attr_name:"account_open_dt",attr_type:"",attr_id:"1266"},{ent_id:"2035",datatype:"DATE",attr_name:"account_close_dt",attr_type:"",attr_id:"1267"},{ent_id:"2036",datatype:"INTEGER",attr_name:"customer_asset_id",attr_type:"",attr_id:"1268"},{ent_id:"2036",datatype:"INTEGER",attr_name:"quotation_id",attr_type:"",attr_id:"1269"},{ent_id:"2036",datatype:"DATE",attr_name:"quotation_asset_start_dt",attr_type:"",attr_id:"1270"},{ent_id:"2036",datatype:"SMALLINT",attr_name:"asset_contract_role_cd",attr_type:"",attr_id:"1271"},{ent_id:"2037",datatype:"INTEGER",attr_name:"customer_asset_id",attr_type:"",attr_id:"1272"},{ent_id:"2037",datatype:"INTEGER",attr_name:"quotation_id",attr_type:"",attr_id:"1273"},{ent_id:"2037",datatype:"DATE",attr_name:"quotation_asset_start_dt",attr_type:"",attr_id:"1274"},{ent_id:"2037",datatype:"SMALLINT",attr_name:"asset_contract_role_cd",attr_type:"",attr_id:"1275"},{ent_id:"2037",datatype:"DECIMAL(18)",attr_name:"quote_collateral_asset_amt",attr_type:"",attr_id:"1276"},{ent_id:"2037",datatype:"DECIMAL(18)",attr_name:"acct_crncy_qte_collat_ast_amt",attr_type:"",attr_id:"1277"},{ent_id:"2038",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1278"},{ent_id:"2038",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1279"},{ent_id:"2038",datatype:"DATE",attr_name:"ext_direct_debit_start_dt",attr_type:"",attr_id:"1280"},{ent_id:"2038",datatype:"INTEGER",attr_name:"business_party_id",attr_type:"",attr_id:"1281"},{ent_id:"2038",datatype:"INTEGER",attr_name:"external_account_id",attr_type:"",attr_id:"1282"},{ent_id:"2038",datatype:"DECIMAL(9,2)",attr_name:"ext_direct_debit_allowed_amt",attr_type:"",attr_id:"1283"},{ent_id:"2038",datatype:"VARCHAR(50)",attr_name:"currency_cd",attr_type:"",attr_id:"1284"},{ent_id:"2038",datatype:"SMALLINT",attr_name:"time_period_cd",attr_type:"",attr_id:"1285"},{ent_id:"2038",datatype:"SMALLINT",attr_name:"ext_debit_time_period_num",attr_type:"",attr_id:"1286"},{ent_id:"2038",datatype:"DATE",attr_name:"ext_direct_debit_end_dt",attr_type:"",attr_id:"1287"},{ent_id:"2039",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1288"},{ent_id:"2039",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1289"},{ent_id:"2039",datatype:"DATE",attr_name:"ext_order_start_dt",attr_type:"",attr_id:"1290"},{ent_id:"2039",datatype:"INTEGER",attr_name:"business_party_id",attr_type:"",attr_id:"1291"},{ent_id:"2039",datatype:"INTEGER",attr_name:"to_account_id",attr_type:"",attr_id:"1292"},{ent_id:"2039",datatype:"SMALLINT",attr_name:"ext_standing_order_due_day_num",attr_type:"",attr_id:"1293"},{ent_id:"2039",datatype:"DECIMAL(9,2)",attr_name:"ext_standing_order_due_amt",attr_type:"",attr_id:"1294"},{ent_id:"2039",datatype:"VARCHAR(50)",attr_name:"currency_cd",attr_type:"",attr_id:"1295"},{ent_id:"2039",datatype:"SMALLINT",attr_name:"external_order_txf_freq_cd",attr_type:"",attr_id:"1296"},{ent_id:"2039",datatype:"DATE",attr_name:"ext_order_end_dt",attr_type:"",attr_id:"1297"},{ent_id:"2040",datatype:"CHAR(18)",attr_name:"to_account_num",attr_type:"",attr_id:"1298"},{ent_id:"2040",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1299"},{ent_id:"2040",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1300"},{ent_id:"2040",datatype:"CHAR(18)",attr_name:"to_account_modifier_num",attr_type:"",attr_id:"1301"},{ent_id:"2040",datatype:"DATE",attr_name:"int_direct_debit_start_dt",attr_type:"",attr_id:"1302"},{ent_id:"2040",datatype:"SMALLINT",attr_name:"time_period_cd",attr_type:"",attr_id:"1303"},{ent_id:"2040",datatype:"SMALLINT",attr_name:"internal_debit_time_period_num",attr_type:"",attr_id:"1304"},{ent_id:"2040",datatype:"DECIMAL(9,2)",attr_name:"internal_debit_allowed_amt",attr_type:"",attr_id:"1305"},{ent_id:"2040",datatype:"VARCHAR(50)",attr_name:"currency_cd",attr_type:"",attr_id:"1306"},{ent_id:"2040",datatype:"DATE",attr_name:"int_direct_debit_end_dt",attr_type:"",attr_id:"1307"},{ent_id:"2041",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1308"},{ent_id:"2041",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1309"},{ent_id:"2041",datatype:"CHAR(18)",attr_name:"to_account_num",attr_type:"",attr_id:"1310"},{ent_id:"2041",datatype:"CHAR(18)",attr_name:"to_account_modifier_num",attr_type:"",attr_id:"1311"},{ent_id:"2041",datatype:"DATE",attr_name:"internal_order_start_dt",attr_type:"",attr_id:"1312"},{ent_id:"2041",datatype:"VARCHAR(50)",attr_name:"currency_cd",attr_type:"",attr_id:"1313"},{ent_id:"2041",datatype:"SMALLINT",attr_name:"internal_order_txf_freq_cd",attr_type:"",attr_id:"1314"},{ent_id:"2041",datatype:"SMALLINT",attr_name:"internal_order_due_day_num",attr_type:"",attr_id:"1315"},{ent_id:"2041",datatype:"DECIMAL(9,2)",attr_name:"internal_order_due_amt",attr_type:"",attr_id:"1316"},{ent_id:"2041",datatype:"DATE",attr_name:"internal_order_end_dt",attr_type:"",attr_id:"1317"},{ent_id:"2042",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1318"},{ent_id:"2042",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1319"},{ent_id:"2042",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1320"},{ent_id:"2042",datatype:"DATE",attr_name:"account_card_start_dt",attr_type:"",attr_id:"1321"},{ent_id:"2042",datatype:"DATE",attr_name:"account_card_end_dt",attr_type:"",attr_id:"1322"},{ent_id:"2043",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1323"},{ent_id:"2043",datatype:"SMALLINT",attr_name:"card_type_cd",attr_type:"",attr_id:"1324"},{ent_id:"2043",datatype:"SMALLINT",attr_name:"card_status_cd",attr_type:"",attr_id:"1325"},{ent_id:"2043",datatype:"SMALLINT",attr_name:"technology_type_cd",attr_type:"",attr_id:"1326"},{ent_id:"2043",datatype:"CHAR(16)",attr_name:"card_num",attr_type:"",attr_id:"1327"},{ent_id:"2043",datatype:"DATE",attr_name:"expiration_dt",attr_type:"",attr_id:"1328"},{ent_id:"2043",datatype:"DATE",attr_name:"card_issue_dt",attr_type:"",attr_id:"1329"},{ent_id:"2043",datatype:"DATE",attr_name:"card_activation_dt",attr_type:"",attr_id:"1330"},{ent_id:"2043",datatype:"DATE",attr_name:"card_deactivation_dt",attr_type:"",attr_id:"1331"},{ent_id:"2044",datatype:"INTEGER",attr_name:"related_card_id",attr_type:"",attr_id:"1332"},{ent_id:"2044",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1333"},{ent_id:"2044",datatype:"SMALLINT",attr_name:"card_relationship_type_cd",attr_type:"",attr_id:"1334"},{ent_id:"2044",datatype:"DATE",attr_name:"card_rel_start_dt",attr_type:"",attr_id:"1335"},{ent_id:"2044",datatype:"DATE",attr_name:"card_rel_end_dt",attr_type:"",attr_id:"1336"},{ent_id:"2045",datatype:"SMALLINT",attr_name:"limit_type_cd",attr_type:"",attr_id:"1337"},{ent_id:"2045",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1338"},{ent_id:"2045",datatype:"DATE",attr_name:"card_limit_start_dt",attr_type:"",attr_id:"1339"},{ent_id:"2045",datatype:"VARCHAR(50)",attr_name:"currency_cd",attr_type:"",attr_id:"1340"},{ent_id:"2045",datatype:"DECIMAL(12,2)",attr_name:"card_limit_val",attr_type:"",attr_id:"1341"},{ent_id:"2045",datatype:"DATE",attr_name:"card_limit_end_dt",attr_type:"",attr_id:"1342"},{ent_id:"2046",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1343"},{ent_id:"2046",datatype:"SMALLINT",attr_name:"credit_card_type_cd",attr_type:"",attr_id:"1344"},{ent_id:"2047",datatype:"INTEGER",attr_name:"party_id",attr_type:"",attr_id:"1345"},{ent_id:"2047",datatype:"VARCHAR(50)",attr_name:"party_type_cd",attr_type:"",attr_id:"1346"},{ent_id:"2047",datatype:"VARCHAR(50)",attr_name:"party_info_source_type_cd",attr_type:"",attr_id:"1347"},{ent_id:"2047",datatype:"DATE",attr_name:"party_start_dt",attr_type:"",attr_id:"1348"},{ent_id:"2047",datatype:"DATE",attr_name:"party_end_dt",attr_type:"",attr_id:"1349"},{ent_id:"2047",datatype:"SMALLINT",attr_name:"lifecycle_cd",attr_type:"",attr_id:"1350"},{ent_id:"2047",datatype:"VARCHAR(30)",attr_name:"party_host_num",attr_type:"",attr_id:"1351"},{ent_id:"2047",datatype:"SMALLINT",attr_name:"provider_ind",attr_type:"",attr_id:"1352"},{ent_id:"2047",datatype:"SMALLINT",attr_name:"customer_prospect_ind",attr_type:"",attr_id:"1353"},{ent_id:"2048",datatype:"INTEGER",attr_name:"party_id",attr_type:"",attr_id:"1354"},{ent_id:"2048",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1355"},{ent_id:"2048",datatype:"SMALLINT",attr_name:"party_card_role_cd",attr_type:"",attr_id:"1356"},{ent_id:"2048",datatype:"DATE",attr_name:"party_card_rel_start_dt",attr_type:"",attr_id:"1357"},{ent_id:"2048",datatype:"DATE",attr_name:"party_card_rel_end_dt",attr_type:"",attr_id:"1358"},{ent_id:"2049",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1359"},{ent_id:"2049",datatype:"SMALLINT",attr_name:"purchase_type_cd",attr_type:"",attr_id:"1360"},{ent_id:"2050",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1361"},{ent_id:"2050",datatype:"DATE",attr_name:"pcard_bus_type_start_dt",attr_type:"",attr_id:"1362"},{ent_id:"2050",datatype:"VARCHAR(50)",attr_name:"org_business_type_cd",attr_type:"",attr_id:"1363"},{ent_id:"2050",datatype:"DATE",attr_name:"pcard_bus_type_end_dt",attr_type:"",attr_id:"1364"}],Tr=[{rela_source:"2001",rela_target:"2002",rela_type:"0",rela_id:"1"},{rela_source:"2001",rela_target:"2005",rela_type:"0",rela_id:"2"},{rela_source:"2002",rela_target:"2005",rela_type:"0",rela_id:"3"},{rela_source:"2002",rela_target:"2004",rela_type:"0",rela_id:"4"},{rela_source:"1008",rela_target:"1002",rela_type:"0",rela_id:"5"},{rela_source:"1019",rela_target:"1064",rela_type:"0",rela_id:"6"},{rela_source:"1069",rela_target:"1020",rela_type:"0",rela_id:"7"},{rela_source:"1011",rela_target:"1037",rela_type:"0",rela_id:"8"},{rela_source:"1026",rela_target:"1041",rela_type:"0",rela_id:"9"},{rela_source:"1011",rela_target:"1026",rela_type:"0",rela_id:"10"}].map((t,e)=>({...t,rela_id:String(e)})),xa=Er.map((t,e)=>({id:t.ent_id,enName:t.ent_name,type:t.ent_type,attributes:[],borderColor:e===2?"#24A148":"",textColor:e===2?"#24A148":"",bgColor:e===2?"#DEFBE6":""}));br.forEach(t=>{var a;const e=xa.find(i=>i.id===t.ent_id);e==null||e.attributes.push({id:t.attr_id,enName:t.attr_name,type:(a=t.datatype)==null?void 0:a.replace(/\(.*\)/,"").toLocaleUpperCase()})});const Ar=Tr.map((t,e)=>({from:t.rela_source,to:t.rela_target,id:e,type:t.rela_type})),ce={table:xa,relationship:Ar},Ir={class:"lineage"},Cr={class:"toobar"},Sr=G("div",{id:"canvas",class:"canvas"},null,-1),Ha=mt({__name:"Lineage",setup(t){const e=P("50"),a=P("");let i;const s=()=>{const c=document.getElementById("canvas");i=new vr({el:c,data:ce,graphStartX:40,graphStartY:40,useThumbnail:!0}),i.on("line:click",o=>console.log("line:click",o)),i.on("node:click",o=>console.log("node:click",o)),i.on("node-attr:click",o=>console.log("node-attr:click",o)),i.on("graph:move",o=>console.log("graph:move",o))},r=()=>{i.destroy()},d=()=>{i.fullscreen()},n=P([]),_=()=>{const c=[];for(let o=0;o<ce.table.length;o++){const u=ce.table[o];c.push({value:u.id,label:u.enName});for(let l=0;l<u.attributes.length;l++){const y=u.attributes[l];c.push({value:y.id,label:y.enName})}}n.value=c};return ut(()=>a.value,c=>i.viewTo(c)),ut(()=>e.value,c=>i.zoom(c)),Ee(()=>{s(),_()}),_a(r),(c,o)=>(N(),W("div",Ir,[G("div",Cr,[U(I(mr),{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=u=>a.value=u),options:n.value,filterable:"",clearable:"",size:"small",placeholder:"",style:{width:"300px","margin-right":"6px"}},null,8,["modelValue","options"]),U(I(Pn),{type:"primary",size:"small",onClick:d},{default:q(()=>[rn("FullScreen")]),_:1}),Ot(G("input",{"onUpdate:modelValue":o[1]||(o[1]=u=>e.value=u),type:"range",min:"1",max:"100",step:"1"},null,512),[[ca,e.value]]),G("span",null,et(e.value),1)]),Sr]))}});Ha.__docgenInfo={exportName:"default",displayName:"Lineage",description:"",tags:{},sourceFiles:["/home/runner/work/renderer2d/renderer2d/stories/lineage/Lineage.vue"]};const Lr={title:"Example/Lineage",component:Ha},qt={};var sa,da,oa;qt.parameters={...qt.parameters,docs:{...(sa=qt.parameters)==null?void 0:sa.docs,source:{originalSource:"{}",...(oa=(da=qt.parameters)==null?void 0:da.docs)==null?void 0:oa.source}}};const wr=["Primary"];export{qt as Primary,wr as __namedExportsOrder,Lr as default};
//# sourceMappingURL=Lineage.stories-7d959695.js.map

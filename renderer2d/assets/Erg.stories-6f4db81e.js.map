{"version":3,"file":"Erg.stories-6f4db81e.js","sources":["../../node_modules/element-plus/es/utils/dom/position.mjs","../../node_modules/lodash-es/identity.js","../../node_modules/lodash-es/_baseCreate.js","../../node_modules/lodash-es/_apply.js","../../node_modules/lodash-es/_copyArray.js","../../node_modules/lodash-es/_shortOut.js","../../node_modules/lodash-es/constant.js","../../node_modules/lodash-es/_defineProperty.js","../../node_modules/lodash-es/_baseSetToString.js","../../node_modules/lodash-es/_setToString.js","../../node_modules/lodash-es/_arrayEach.js","../../node_modules/lodash-es/_baseAssignValue.js","../../node_modules/lodash-es/_assignValue.js","../../node_modules/lodash-es/_copyObject.js","../../node_modules/lodash-es/_overRest.js","../../node_modules/lodash-es/_nativeKeysIn.js","../../node_modules/lodash-es/_baseKeysIn.js","../../node_modules/lodash-es/keysIn.js","../../node_modules/lodash-es/_isFlattenable.js","../../node_modules/lodash-es/_baseFlatten.js","../../node_modules/lodash-es/flatten.js","../../node_modules/lodash-es/_flatRest.js","../../node_modules/lodash-es/_getPrototype.js","../../node_modules/lodash-es/_baseAssign.js","../../node_modules/lodash-es/_baseAssignIn.js","../../node_modules/lodash-es/_cloneBuffer.js","../../node_modules/lodash-es/_copySymbols.js","../../node_modules/lodash-es/_getSymbolsIn.js","../../node_modules/lodash-es/_copySymbolsIn.js","../../node_modules/lodash-es/_getAllKeysIn.js","../../node_modules/lodash-es/_initCloneArray.js","../../node_modules/lodash-es/_cloneArrayBuffer.js","../../node_modules/lodash-es/_cloneDataView.js","../../node_modules/lodash-es/_cloneRegExp.js","../../node_modules/lodash-es/_cloneSymbol.js","../../node_modules/lodash-es/_cloneTypedArray.js","../../node_modules/lodash-es/_initCloneByTag.js","../../node_modules/lodash-es/_initCloneObject.js","../../node_modules/lodash-es/_baseIsMap.js","../../node_modules/lodash-es/isMap.js","../../node_modules/lodash-es/_baseIsSet.js","../../node_modules/lodash-es/isSet.js","../../node_modules/lodash-es/_baseClone.js","../../node_modules/lodash-es/cloneDeep.js","../../node_modules/lodash-es/_baseHasIn.js","../../node_modules/lodash-es/_hasPath.js","../../node_modules/lodash-es/hasIn.js","../../node_modules/lodash-es/isBoolean.js","../../node_modules/lodash-es/_baseSet.js","../../node_modules/lodash-es/_basePickBy.js","../../node_modules/lodash-es/_basePick.js","../../node_modules/lodash-es/pick.js","../../node_modules/element-plus/es/utils/dom/scroll.mjs","../../node_modules/element-plus/es/utils/vue/refs.mjs","../../node_modules/element-plus/es/utils/vue/size.mjs","../../node_modules/element-plus/es/utils/vue/vnode.mjs","../../node_modules/element-plus/es/hooks/use-attrs/index.mjs","../../node_modules/element-plus/es/hooks/use-draggable/index.mjs","../../node_modules/element-plus/es/hooks/use-focus/index.mjs","../../node_modules/element-plus/es/hooks/use-lockscreen/index.mjs","../../node_modules/element-plus/es/hooks/use-same-target/index.mjs","../../node_modules/element-plus/es/hooks/use-cursor/index.mjs","../../node_modules/element-plus/es/components/input/src/utils.mjs","../../node_modules/element-plus/es/components/input/src/input.mjs","../../node_modules/element-plus/es/components/input/src/input2.mjs","../../node_modules/element-plus/es/components/input/index.mjs","../../node_modules/element-plus/es/components/scrollbar/src/constants.mjs","../../node_modules/element-plus/es/components/scrollbar/src/thumb.mjs","../../node_modules/element-plus/es/components/scrollbar/src/thumb2.mjs","../../node_modules/element-plus/es/components/scrollbar/src/bar.mjs","../../node_modules/element-plus/es/components/scrollbar/src/bar2.mjs","../../node_modules/element-plus/es/components/scrollbar/src/scrollbar.mjs","../../node_modules/element-plus/es/components/scrollbar/src/scrollbar2.mjs","../../node_modules/element-plus/es/components/scrollbar/index.mjs","../../node_modules/element-plus/es/components/color-picker/src/props/alpha-slider.mjs","../../node_modules/element-plus/es/components/color-picker/src/utils/draggable.mjs","../../node_modules/element-plus/es/components/color-picker/src/composables/use-alpha-slider.mjs","../../node_modules/element-plus/es/components/color-picker/src/components/alpha-slider.mjs","../../node_modules/element-plus/es/components/color-picker/src/components/hue-slider.mjs","../../node_modules/element-plus/es/components/color-picker/src/color-picker.mjs","../../node_modules/element-plus/es/components/color-picker/src/utils/color.mjs","../../node_modules/element-plus/es/components/color-picker/src/components/predefine.mjs","../../node_modules/element-plus/es/components/color-picker/src/components/sv-panel.mjs","../../node_modules/element-plus/es/components/color-picker/src/color-picker2.mjs","../../node_modules/element-plus/es/components/color-picker/index.mjs","../../node_modules/element-plus/es/components/overlay/src/overlay.mjs","../../node_modules/element-plus/es/components/overlay/index.mjs","../../node_modules/element-plus/es/components/dialog/src/constants.mjs","../../node_modules/element-plus/es/components/dialog/src/dialog-content.mjs","../../node_modules/element-plus/es/components/dialog/src/dialog-content2.mjs","../../node_modules/element-plus/es/components/dialog/src/dialog.mjs","../../node_modules/element-plus/es/components/dialog/src/use-dialog.mjs","../../node_modules/element-plus/es/components/dialog/src/dialog2.mjs","../../node_modules/element-plus/es/components/dialog/index.mjs","../../node_modules/element-plus/es/components/divider/src/divider.mjs","../../node_modules/element-plus/es/components/divider/src/divider2.mjs","../../node_modules/element-plus/es/components/divider/index.mjs","../../node_modules/element-plus/es/components/select/src/token.mjs","../../node_modules/element-plus/es/components/select/src/useOption.mjs","../../node_modules/element-plus/es/components/select/src/option.mjs","../../node_modules/element-plus/es/components/select/src/select-dropdown.mjs","../../node_modules/element-plus/es/components/select/src/useSelect.mjs","../../node_modules/element-plus/es/components/select/src/options.mjs","../../node_modules/element-plus/es/components/select/src/select.mjs","../../node_modules/element-plus/es/components/select/src/option-group.mjs","../../node_modules/element-plus/es/components/select/index.mjs","../../src/core/materials/icon/lock.ts","../../src/core/utils/color.ts","../../src/core/utils/uuid.ts","../../src/core/materials/node/node-erwin.ts","../../src/core/materials/node/node-rect.ts","../../src/core/utils/fx.ts","../../src/core/materials/line/line-erwin.ts","../../src/core/utils/math.ts","../../src/erg/hooks/data-handler.ts","../../src/core/materials/text/text-base.ts","../../src/core/materials/frame/frame-resize.ts","../../src/core/materials/frame/frame-hover.ts","../../src/erg/hooks/event.ts","../../src/erg/hooks/layout/utils/tree.ts","../../src/erg/hooks/layout/utils/conf.ts","../../src/core/utils/string.ts","../../src/erg/hooks/layout/utils/auto-size.ts","../../src/erg/hooks/layout/hierarchical.ts","../../src/erg/index.ts","../../stories/erg/assets/js/mock.ts","../../stories/erg/assets/icon/symbol-defs.svg","../../stories/erg/Base.vue","../../stories/erg/assets/js/right-menu.ts","../../stories/erg/components/parent-association.vue","../../stories/erg/RightMenu.vue","../../stories/erg/ExtraDrawing.vue","../../stories/erg/ExportData.vue"],"sourcesContent":["import '../browser.mjs';\nimport { isClient } from '@vueuse/core';\n\nconst isInContainer = (el, container) => {\n  if (!isClient || !el || !container)\n    return false;\n  const elRect = el.getBoundingClientRect();\n  let containerRect;\n  if (container instanceof Element) {\n    containerRect = container.getBoundingClientRect();\n  } else {\n    containerRect = {\n      top: 0,\n      right: window.innerWidth,\n      bottom: window.innerHeight,\n      left: 0\n    };\n  }\n  return elRect.top < containerRect.bottom && elRect.bottom > containerRect.top && elRect.right > containerRect.left && elRect.left < containerRect.right;\n};\nconst getOffsetTop = (el) => {\n  let offset = 0;\n  let parent = el;\n  while (parent) {\n    offset += parent.offsetTop;\n    parent = parent.offsetParent;\n  }\n  return offset;\n};\nconst getOffsetTopDistance = (el, containerEl) => {\n  return Math.abs(getOffsetTop(el) - getOffsetTop(containerEl));\n};\nconst getClientXY = (event) => {\n  let clientX;\n  let clientY;\n  if (event.type === \"touchend\") {\n    clientY = event.changedTouches[0].clientY;\n    clientX = event.changedTouches[0].clientX;\n  } else if (event.type.startsWith(\"touch\")) {\n    clientY = event.touches[0].clientY;\n    clientX = event.touches[0].clientX;\n  } else {\n    clientY = event.clientY;\n    clientX = event.clientX;\n  }\n  return {\n    clientX,\n    clientY\n  };\n};\n\nexport { getClientXY, getOffsetTop, getOffsetTopDistance, isInContainer };\n//# sourceMappingURL=position.mjs.map\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","import baseFlatten from './_baseFlatten.js';\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nexport default flatten;\n","import flatten from './flatten.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nexport default flatRest;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","import copyObject from './_copyObject.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nexport default baseAssign;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nexport default baseAssignIn;\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","import copyObject from './_copyObject.js';\nimport getSymbols from './_getSymbols.js';\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nexport default copySymbols;\n","import arrayPush from './_arrayPush.js';\nimport getPrototype from './_getPrototype.js';\nimport getSymbols from './_getSymbols.js';\nimport stubArray from './stubArray.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nexport default getSymbolsIn;\n","import copyObject from './_copyObject.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nexport default copySymbolsIn;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nexport default getAllKeysIn;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nexport default initCloneArray;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nexport default cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nexport default cloneRegExp;\n","import Symbol from './_Symbol.js';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nexport default cloneSymbol;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\nimport cloneDataView from './_cloneDataView.js';\nimport cloneRegExp from './_cloneRegExp.js';\nimport cloneSymbol from './_cloneSymbol.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nexport default initCloneByTag;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nexport default baseIsMap;\n","import baseIsMap from './_baseIsMap.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nexport default isMap;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nexport default baseIsSet;\n","import baseIsSet from './_baseIsSet.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nexport default isSet;\n","import Stack from './_Stack.js';\nimport arrayEach from './_arrayEach.js';\nimport assignValue from './_assignValue.js';\nimport baseAssign from './_baseAssign.js';\nimport baseAssignIn from './_baseAssignIn.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport copyArray from './_copyArray.js';\nimport copySymbols from './_copySymbols.js';\nimport copySymbolsIn from './_copySymbolsIn.js';\nimport getAllKeys from './_getAllKeys.js';\nimport getAllKeysIn from './_getAllKeysIn.js';\nimport getTag from './_getTag.js';\nimport initCloneArray from './_initCloneArray.js';\nimport initCloneByTag from './_initCloneByTag.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isMap from './isMap.js';\nimport isObject from './isObject.js';\nimport isSet from './isSet.js';\nimport keys from './keys.js';\nimport keysIn from './keysIn.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nexport default baseClone;\n","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nexport default cloneDeep;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nexport default baseHasIn;\n","import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nexport default hasPath;\n","import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nexport default hasIn;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]';\n\n/**\n * Checks if `value` is classified as a boolean primitive or object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n * @example\n *\n * _.isBoolean(false);\n * // => true\n *\n * _.isBoolean(null);\n * // => false\n */\nfunction isBoolean(value) {\n  return value === true || value === false ||\n    (isObjectLike(value) && baseGetTag(value) == boolTag);\n}\n\nexport default isBoolean;\n","import assignValue from './_assignValue.js';\nimport castPath from './_castPath.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nexport default baseSet;\n","import baseGet from './_baseGet.js';\nimport baseSet from './_baseSet.js';\nimport castPath from './_castPath.js';\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nexport default basePickBy;\n","import basePickBy from './_basePickBy.js';\nimport hasIn from './hasIn.js';\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nexport default basePick;\n","import basePick from './_basePick.js';\nimport flatRest from './_flatRest.js';\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nexport default pick;\n","import '../browser.mjs';\nimport { getStyle } from './style.mjs';\nimport { isClient } from '@vueuse/core';\n\nconst isScroll = (el, isVertical) => {\n  if (!isClient)\n    return false;\n  const key = {\n    undefined: \"overflow\",\n    true: \"overflow-y\",\n    false: \"overflow-x\"\n  }[String(isVertical)];\n  const overflow = getStyle(el, key);\n  return [\"scroll\", \"auto\", \"overlay\"].some((s) => overflow.includes(s));\n};\nconst getScrollContainer = (el, isVertical) => {\n  if (!isClient)\n    return;\n  let parent = el;\n  while (parent) {\n    if ([window, document, document.documentElement].includes(parent))\n      return window;\n    if (isScroll(parent, isVertical))\n      return parent;\n    parent = parent.parentNode;\n  }\n  return parent;\n};\nlet scrollBarWidth;\nconst getScrollBarWidth = (namespace) => {\n  var _a;\n  if (!isClient)\n    return 0;\n  if (scrollBarWidth !== void 0)\n    return scrollBarWidth;\n  const outer = document.createElement(\"div\");\n  outer.className = `${namespace}-scrollbar__wrap`;\n  outer.style.visibility = \"hidden\";\n  outer.style.width = \"100px\";\n  outer.style.position = \"absolute\";\n  outer.style.top = \"-9999px\";\n  document.body.appendChild(outer);\n  const widthNoScroll = outer.offsetWidth;\n  outer.style.overflow = \"scroll\";\n  const inner = document.createElement(\"div\");\n  inner.style.width = \"100%\";\n  outer.appendChild(inner);\n  const widthWithScroll = inner.offsetWidth;\n  (_a = outer.parentNode) == null ? void 0 : _a.removeChild(outer);\n  scrollBarWidth = widthNoScroll - widthWithScroll;\n  return scrollBarWidth;\n};\nfunction scrollIntoView(container, selected) {\n  if (!isClient)\n    return;\n  if (!selected) {\n    container.scrollTop = 0;\n    return;\n  }\n  const offsetParents = [];\n  let pointer = selected.offsetParent;\n  while (pointer !== null && container !== pointer && container.contains(pointer)) {\n    offsetParents.push(pointer);\n    pointer = pointer.offsetParent;\n  }\n  const top = selected.offsetTop + offsetParents.reduce((prev, curr) => prev + curr.offsetTop, 0);\n  const bottom = top + selected.offsetHeight;\n  const viewRectTop = container.scrollTop;\n  const viewRectBottom = viewRectTop + container.clientHeight;\n  if (top < viewRectTop) {\n    container.scrollTop = top;\n  } else if (bottom > viewRectBottom) {\n    container.scrollTop = bottom - container.clientHeight;\n  }\n}\n\nexport { getScrollBarWidth, getScrollContainer, isScroll, scrollIntoView };\n//# sourceMappingURL=scroll.mjs.map\n","import '../types.mjs';\nimport { isFunction } from '@vue/shared';\n\nconst composeRefs = (...refs) => {\n  return (el) => {\n    refs.forEach((ref) => {\n      if (isFunction(ref)) {\n        ref(el);\n      } else {\n        ref.value = el;\n      }\n    });\n  };\n};\n\nexport { composeRefs };\n//# sourceMappingURL=refs.mjs.map\n","import '../../constants/index.mjs';\nimport { componentSizeMap } from '../../constants/size.mjs';\n\nconst getComponentSize = (size) => {\n  return componentSizeMap[size || \"default\"];\n};\n\nexport { getComponentSize };\n//# sourceMappingURL=size.mjs.map\n","import { isVNode, Fragment, Text, Comment, openBlock, createBlock, createCommentVNode } from 'vue';\nimport { hasOwn, camelize, isArray } from '@vue/shared';\nimport '../objects.mjs';\nimport { debugWarn } from '../error.mjs';\n\nconst SCOPE = \"utils/vue/vnode\";\nvar PatchFlags = /* @__PURE__ */ ((PatchFlags2) => {\n  PatchFlags2[PatchFlags2[\"TEXT\"] = 1] = \"TEXT\";\n  PatchFlags2[PatchFlags2[\"CLASS\"] = 2] = \"CLASS\";\n  PatchFlags2[PatchFlags2[\"STYLE\"] = 4] = \"STYLE\";\n  PatchFlags2[PatchFlags2[\"PROPS\"] = 8] = \"PROPS\";\n  PatchFlags2[PatchFlags2[\"FULL_PROPS\"] = 16] = \"FULL_PROPS\";\n  PatchFlags2[PatchFlags2[\"HYDRATE_EVENTS\"] = 32] = \"HYDRATE_EVENTS\";\n  PatchFlags2[PatchFlags2[\"STABLE_FRAGMENT\"] = 64] = \"STABLE_FRAGMENT\";\n  PatchFlags2[PatchFlags2[\"KEYED_FRAGMENT\"] = 128] = \"KEYED_FRAGMENT\";\n  PatchFlags2[PatchFlags2[\"UNKEYED_FRAGMENT\"] = 256] = \"UNKEYED_FRAGMENT\";\n  PatchFlags2[PatchFlags2[\"NEED_PATCH\"] = 512] = \"NEED_PATCH\";\n  PatchFlags2[PatchFlags2[\"DYNAMIC_SLOTS\"] = 1024] = \"DYNAMIC_SLOTS\";\n  PatchFlags2[PatchFlags2[\"HOISTED\"] = -1] = \"HOISTED\";\n  PatchFlags2[PatchFlags2[\"BAIL\"] = -2] = \"BAIL\";\n  return PatchFlags2;\n})(PatchFlags || {});\nfunction isFragment(node) {\n  return isVNode(node) && node.type === Fragment;\n}\nfunction isText(node) {\n  return isVNode(node) && node.type === Text;\n}\nfunction isComment(node) {\n  return isVNode(node) && node.type === Comment;\n}\nconst TEMPLATE = \"template\";\nfunction isTemplate(node) {\n  return isVNode(node) && node.type === TEMPLATE;\n}\nfunction isValidElementNode(node) {\n  return isVNode(node) && !isFragment(node) && !isComment(node);\n}\nfunction getChildren(node, depth) {\n  if (isComment(node))\n    return;\n  if (isFragment(node) || isTemplate(node)) {\n    return depth > 0 ? getFirstValidNode(node.children, depth - 1) : void 0;\n  }\n  return node;\n}\nconst getFirstValidNode = (nodes, maxDepth = 3) => {\n  if (Array.isArray(nodes)) {\n    return getChildren(nodes[0], maxDepth);\n  } else {\n    return getChildren(nodes, maxDepth);\n  }\n};\nfunction renderIf(condition, ...args) {\n  return condition ? renderBlock(...args) : createCommentVNode(\"v-if\", true);\n}\nfunction renderBlock(...args) {\n  return openBlock(), createBlock(...args);\n}\nconst getNormalizedProps = (node) => {\n  if (!isVNode(node)) {\n    debugWarn(SCOPE, \"[getNormalizedProps] must be a VNode\");\n    return {};\n  }\n  const raw = node.props || {};\n  const type = (isVNode(node.type) ? node.type.props : void 0) || {};\n  const props = {};\n  Object.keys(type).forEach((key) => {\n    if (hasOwn(type[key], \"default\")) {\n      props[key] = type[key].default;\n    }\n  });\n  Object.keys(raw).forEach((key) => {\n    props[camelize(key)] = raw[key];\n  });\n  return props;\n};\nconst ensureOnlyChild = (children) => {\n  if (!isArray(children) || children.length > 1) {\n    throw new Error(\"expect to receive a single Vue element child\");\n  }\n  return children[0];\n};\nconst flattedChildren = (children) => {\n  const vNodes = isArray(children) ? children : [children];\n  const result = [];\n  vNodes.forEach((child) => {\n    var _a;\n    if (isArray(child)) {\n      result.push(...flattedChildren(child));\n    } else if (isVNode(child) && isArray(child.children)) {\n      result.push(...flattedChildren(child.children));\n    } else {\n      result.push(child);\n      if (isVNode(child) && ((_a = child.component) == null ? void 0 : _a.subTree)) {\n        result.push(...flattedChildren(child.component.subTree));\n      }\n    }\n  });\n  return result;\n};\n\nexport { PatchFlags, ensureOnlyChild, flattedChildren, getFirstValidNode, getNormalizedProps, isComment, isFragment, isTemplate, isText, isValidElementNode, renderBlock, renderIf };\n//# sourceMappingURL=vnode.mjs.map\n","import { computed, getCurrentInstance } from 'vue';\nimport { fromPairs } from 'lodash-unified';\nimport '../../utils/index.mjs';\nimport { debugWarn } from '../../utils/error.mjs';\n\nconst DEFAULT_EXCLUDE_KEYS = [\"class\", \"style\"];\nconst LISTENER_PREFIX = /^on[A-Z]/;\nconst useAttrs = (params = {}) => {\n  const { excludeListeners = false, excludeKeys } = params;\n  const allExcludeKeys = computed(() => {\n    return ((excludeKeys == null ? void 0 : excludeKeys.value) || []).concat(DEFAULT_EXCLUDE_KEYS);\n  });\n  const instance = getCurrentInstance();\n  if (!instance) {\n    debugWarn(\"use-attrs\", \"getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function\");\n    return computed(() => ({}));\n  }\n  return computed(() => {\n    var _a;\n    return fromPairs(Object.entries((_a = instance.proxy) == null ? void 0 : _a.$attrs).filter(([key]) => !allExcludeKeys.value.includes(key) && !(excludeListeners && LISTENER_PREFIX.test(key))));\n  });\n};\n\nexport { useAttrs };\n//# sourceMappingURL=index.mjs.map\n","import { onMounted, watchEffect, onBeforeUnmount } from 'vue';\nimport '../../utils/index.mjs';\nimport { addUnit } from '../../utils/dom/style.mjs';\n\nconst useDraggable = (targetRef, dragRef, draggable) => {\n  let transform = {\n    offsetX: 0,\n    offsetY: 0\n  };\n  const onMousedown = (e) => {\n    const downX = e.clientX;\n    const downY = e.clientY;\n    const { offsetX, offsetY } = transform;\n    const targetRect = targetRef.value.getBoundingClientRect();\n    const targetLeft = targetRect.left;\n    const targetTop = targetRect.top;\n    const targetWidth = targetRect.width;\n    const targetHeight = targetRect.height;\n    const clientWidth = document.documentElement.clientWidth;\n    const clientHeight = document.documentElement.clientHeight;\n    const minLeft = -targetLeft + offsetX;\n    const minTop = -targetTop + offsetY;\n    const maxLeft = clientWidth - targetLeft - targetWidth + offsetX;\n    const maxTop = clientHeight - targetTop - targetHeight + offsetY;\n    const onMousemove = (e2) => {\n      const moveX = Math.min(Math.max(offsetX + e2.clientX - downX, minLeft), maxLeft);\n      const moveY = Math.min(Math.max(offsetY + e2.clientY - downY, minTop), maxTop);\n      transform = {\n        offsetX: moveX,\n        offsetY: moveY\n      };\n      targetRef.value.style.transform = `translate(${addUnit(moveX)}, ${addUnit(moveY)})`;\n    };\n    const onMouseup = () => {\n      document.removeEventListener(\"mousemove\", onMousemove);\n      document.removeEventListener(\"mouseup\", onMouseup);\n    };\n    document.addEventListener(\"mousemove\", onMousemove);\n    document.addEventListener(\"mouseup\", onMouseup);\n  };\n  const onDraggable = () => {\n    if (dragRef.value && targetRef.value) {\n      dragRef.value.addEventListener(\"mousedown\", onMousedown);\n    }\n  };\n  const offDraggable = () => {\n    if (dragRef.value && targetRef.value) {\n      dragRef.value.removeEventListener(\"mousedown\", onMousedown);\n    }\n  };\n  onMounted(() => {\n    watchEffect(() => {\n      if (draggable.value) {\n        onDraggable();\n      } else {\n        offDraggable();\n      }\n    });\n  });\n  onBeforeUnmount(() => {\n    offDraggable();\n  });\n};\n\nexport { useDraggable };\n//# sourceMappingURL=index.mjs.map\n","const useFocus = (el) => {\n  return {\n    focus: () => {\n      var _a, _b;\n      (_b = (_a = el.value) == null ? void 0 : _a.focus) == null ? void 0 : _b.call(_a);\n    }\n  };\n};\n\nexport { useFocus };\n//# sourceMappingURL=index.mjs.map\n","import { isRef, watch, onScopeDispose } from 'vue';\nimport { computed } from '@vue/reactivity';\nimport '../../utils/index.mjs';\nimport { useNamespace } from '../use-namespace/index.mjs';\nimport { throwError } from '../../utils/error.mjs';\nimport { isClient } from '@vueuse/core';\nimport { hasClass, removeClass, getStyle, addClass } from '../../utils/dom/style.mjs';\nimport { getScrollBarWidth } from '../../utils/dom/scroll.mjs';\n\nconst useLockscreen = (trigger, options = {}) => {\n  if (!isRef(trigger)) {\n    throwError(\"[useLockscreen]\", \"You need to pass a ref param to this function\");\n  }\n  const ns = options.ns || useNamespace(\"popup\");\n  const hiddenCls = computed(() => ns.bm(\"parent\", \"hidden\"));\n  if (!isClient || hasClass(document.body, hiddenCls.value)) {\n    return;\n  }\n  let scrollBarWidth = 0;\n  let withoutHiddenClass = false;\n  let bodyWidth = \"0\";\n  const cleanup = () => {\n    setTimeout(() => {\n      removeClass(document == null ? void 0 : document.body, hiddenCls.value);\n      if (withoutHiddenClass && document) {\n        document.body.style.width = bodyWidth;\n      }\n    }, 200);\n  };\n  watch(trigger, (val) => {\n    if (!val) {\n      cleanup();\n      return;\n    }\n    withoutHiddenClass = !hasClass(document.body, hiddenCls.value);\n    if (withoutHiddenClass) {\n      bodyWidth = document.body.style.width;\n    }\n    scrollBarWidth = getScrollBarWidth(ns.namespace.value);\n    const bodyHasOverflow = document.documentElement.clientHeight < document.body.scrollHeight;\n    const bodyOverflowY = getStyle(document.body, \"overflowY\");\n    if (scrollBarWidth > 0 && (bodyHasOverflow || bodyOverflowY === \"scroll\") && withoutHiddenClass) {\n      document.body.style.width = `calc(100% - ${scrollBarWidth}px)`;\n    }\n    addClass(document.body, hiddenCls.value);\n  });\n  onScopeDispose(() => cleanup());\n};\n\nexport { useLockscreen };\n//# sourceMappingURL=index.mjs.map\n","import { NOOP } from '@vue/shared';\n\nconst useSameTarget = (handleClick) => {\n  if (!handleClick) {\n    return { onClick: NOOP, onMousedown: NOOP, onMouseup: NOOP };\n  }\n  let mousedownTarget = false;\n  let mouseupTarget = false;\n  const onClick = (e) => {\n    if (mousedownTarget && mouseupTarget) {\n      handleClick(e);\n    }\n    mousedownTarget = mouseupTarget = false;\n  };\n  const onMousedown = (e) => {\n    mousedownTarget = e.target === e.currentTarget;\n  };\n  const onMouseup = (e) => {\n    mouseupTarget = e.target === e.currentTarget;\n  };\n  return { onClick, onMousedown, onMouseup };\n};\n\nexport { useSameTarget };\n//# sourceMappingURL=index.mjs.map\n","import { ref } from 'vue';\n\nfunction useCursor(input) {\n  const selectionRef = ref();\n  function recordCursor() {\n    if (input.value == void 0)\n      return;\n    const { selectionStart, selectionEnd, value } = input.value;\n    if (selectionStart == null || selectionEnd == null)\n      return;\n    const beforeTxt = value.slice(0, Math.max(0, selectionStart));\n    const afterTxt = value.slice(Math.max(0, selectionEnd));\n    selectionRef.value = {\n      selectionStart,\n      selectionEnd,\n      value,\n      beforeTxt,\n      afterTxt\n    };\n  }\n  function setCursor() {\n    if (input.value == void 0 || selectionRef.value == void 0)\n      return;\n    const { value } = input.value;\n    const { beforeTxt, afterTxt, selectionStart } = selectionRef.value;\n    if (beforeTxt == void 0 || afterTxt == void 0 || selectionStart == void 0)\n      return;\n    let startPos = value.length;\n    if (value.endsWith(afterTxt)) {\n      startPos = value.length - afterTxt.length;\n    } else if (value.startsWith(beforeTxt)) {\n      startPos = beforeTxt.length;\n    } else {\n      const beforeLastChar = beforeTxt[selectionStart - 1];\n      const newIndex = value.indexOf(beforeLastChar, selectionStart - 1);\n      if (newIndex !== -1) {\n        startPos = newIndex + 1;\n      }\n    }\n    input.value.setSelectionRange(startPos, startPos);\n  }\n  return [recordCursor, setCursor];\n}\n\nexport { useCursor };\n//# sourceMappingURL=index.mjs.map\n","import '../../../utils/index.mjs';\nimport { isFirefox } from '../../../utils/browser.mjs';\nimport { isNumber } from '../../../utils/types.mjs';\n\nlet hiddenTextarea = void 0;\nconst HIDDEN_STYLE = `\n  height:0 !important;\n  visibility:hidden !important;\n  ${isFirefox() ? \"\" : \"overflow:hidden !important;\"}\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n`;\nconst CONTEXT_STYLE = [\n  \"letter-spacing\",\n  \"line-height\",\n  \"padding-top\",\n  \"padding-bottom\",\n  \"font-family\",\n  \"font-weight\",\n  \"font-size\",\n  \"text-rendering\",\n  \"text-transform\",\n  \"width\",\n  \"text-indent\",\n  \"padding-left\",\n  \"padding-right\",\n  \"border-width\",\n  \"box-sizing\"\n];\nfunction calculateNodeStyling(targetElement) {\n  const style = window.getComputedStyle(targetElement);\n  const boxSizing = style.getPropertyValue(\"box-sizing\");\n  const paddingSize = Number.parseFloat(style.getPropertyValue(\"padding-bottom\")) + Number.parseFloat(style.getPropertyValue(\"padding-top\"));\n  const borderSize = Number.parseFloat(style.getPropertyValue(\"border-bottom-width\")) + Number.parseFloat(style.getPropertyValue(\"border-top-width\"));\n  const contextStyle = CONTEXT_STYLE.map((name) => `${name}:${style.getPropertyValue(name)}`).join(\";\");\n  return { contextStyle, paddingSize, borderSize, boxSizing };\n}\nfunction calcTextareaHeight(targetElement, minRows = 1, maxRows) {\n  var _a;\n  if (!hiddenTextarea) {\n    hiddenTextarea = document.createElement(\"textarea\");\n    document.body.appendChild(hiddenTextarea);\n  }\n  const { paddingSize, borderSize, boxSizing, contextStyle } = calculateNodeStyling(targetElement);\n  hiddenTextarea.setAttribute(\"style\", `${contextStyle};${HIDDEN_STYLE}`);\n  hiddenTextarea.value = targetElement.value || targetElement.placeholder || \"\";\n  let height = hiddenTextarea.scrollHeight;\n  const result = {};\n  if (boxSizing === \"border-box\") {\n    height = height + borderSize;\n  } else if (boxSizing === \"content-box\") {\n    height = height - paddingSize;\n  }\n  hiddenTextarea.value = \"\";\n  const singleRowHeight = hiddenTextarea.scrollHeight - paddingSize;\n  if (isNumber(minRows)) {\n    let minHeight = singleRowHeight * minRows;\n    if (boxSizing === \"border-box\") {\n      minHeight = minHeight + paddingSize + borderSize;\n    }\n    height = Math.max(minHeight, height);\n    result.minHeight = `${minHeight}px`;\n  }\n  if (isNumber(maxRows)) {\n    let maxHeight = singleRowHeight * maxRows;\n    if (boxSizing === \"border-box\") {\n      maxHeight = maxHeight + paddingSize + borderSize;\n    }\n    height = Math.min(maxHeight, height);\n  }\n  result.height = `${height}px`;\n  (_a = hiddenTextarea.parentNode) == null ? void 0 : _a.removeChild(hiddenTextarea);\n  hiddenTextarea = void 0;\n  return result;\n}\n\nexport { calcTextareaHeight };\n//# sourceMappingURL=utils.mjs.map\n","import { isString } from '@vue/shared';\nimport '../../../utils/index.mjs';\nimport '../../../constants/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { useSizeProp } from '../../../hooks/use-size/index.mjs';\nimport { iconPropType } from '../../../utils/vue/icon.mjs';\nimport { mutable } from '../../../utils/typescript.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\n\nconst inputProps = buildProps({\n  id: {\n    type: String,\n    default: void 0\n  },\n  size: useSizeProp,\n  disabled: Boolean,\n  modelValue: {\n    type: definePropType([\n      String,\n      Number,\n      Object\n    ]),\n    default: \"\"\n  },\n  type: {\n    type: String,\n    default: \"text\"\n  },\n  resize: {\n    type: String,\n    values: [\"none\", \"both\", \"horizontal\", \"vertical\"]\n  },\n  autosize: {\n    type: definePropType([Boolean, Object]),\n    default: false\n  },\n  autocomplete: {\n    type: String,\n    default: \"off\"\n  },\n  formatter: {\n    type: Function\n  },\n  parser: {\n    type: Function\n  },\n  placeholder: {\n    type: String\n  },\n  form: {\n    type: String\n  },\n  readonly: {\n    type: Boolean,\n    default: false\n  },\n  clearable: {\n    type: Boolean,\n    default: false\n  },\n  showPassword: {\n    type: Boolean,\n    default: false\n  },\n  showWordLimit: {\n    type: Boolean,\n    default: false\n  },\n  suffixIcon: {\n    type: iconPropType\n  },\n  prefixIcon: {\n    type: iconPropType\n  },\n  containerRole: {\n    type: String,\n    default: void 0\n  },\n  label: {\n    type: String,\n    default: void 0\n  },\n  tabindex: {\n    type: [String, Number],\n    default: 0\n  },\n  validateEvent: {\n    type: Boolean,\n    default: true\n  },\n  inputStyle: {\n    type: definePropType([Object, Array, String]),\n    default: () => mutable({})\n  }\n});\nconst inputEmits = {\n  [UPDATE_MODEL_EVENT]: (value) => isString(value),\n  input: (value) => isString(value),\n  change: (value) => isString(value),\n  focus: (evt) => evt instanceof FocusEvent,\n  blur: (evt) => evt instanceof FocusEvent,\n  clear: () => true,\n  mouseleave: (evt) => evt instanceof MouseEvent,\n  mouseenter: (evt) => evt instanceof MouseEvent,\n  keydown: (evt) => evt instanceof Event,\n  compositionstart: (evt) => evt instanceof CompositionEvent,\n  compositionupdate: (evt) => evt instanceof CompositionEvent,\n  compositionend: (evt) => evt instanceof CompositionEvent\n};\n\nexport { inputEmits, inputProps };\n//# sourceMappingURL=input.mjs.map\n","import { defineComponent, useAttrs, useSlots, computed, shallowRef, ref, nextTick, watch, onMounted, toRef, withDirectives, openBlock, createElementBlock, mergeProps, unref, createCommentVNode, Fragment, normalizeClass, renderSlot, createElementVNode, createBlock, withCtx, resolveDynamicComponent, withModifiers, createVNode, toDisplayString, normalizeStyle, vShow } from 'vue';\nimport { useResizeObserver, isClient } from '@vueuse/core';\nimport { isNil } from 'lodash-unified';\nimport { ElIcon } from '../../icon/index.mjs';\nimport { View, Hide, CircleClose } from '@element-plus/icons-vue';\nimport '../../form/index.mjs';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../constants/index.mjs';\nimport { calcTextareaHeight } from './utils.mjs';\nimport { inputProps, inputEmits } from './input.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useAttrs as useAttrs$1 } from '../../../hooks/use-attrs/index.mjs';\nimport { useFormItem, useFormItemInputId } from '../../form/src/hooks/use-form-item.mjs';\nimport { useFormSize, useFormDisabled } from '../../form/src/hooks/use-form-common-props.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { ValidateComponentsMap } from '../../../utils/vue/icon.mjs';\nimport { useCursor } from '../../../hooks/use-cursor/index.mjs';\nimport { isObject, NOOP } from '@vue/shared';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { isKorean } from '../../../utils/i18n.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\n\nconst _hoisted_1 = [\"role\"];\nconst _hoisted_2 = [\"id\", \"type\", \"disabled\", \"formatter\", \"parser\", \"readonly\", \"autocomplete\", \"tabindex\", \"aria-label\", \"placeholder\", \"form\"];\nconst _hoisted_3 = [\"id\", \"tabindex\", \"disabled\", \"readonly\", \"autocomplete\", \"aria-label\", \"placeholder\", \"form\"];\nconst __default__ = defineComponent({\n  name: \"ElInput\",\n  inheritAttrs: false\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: inputProps,\n  emits: inputEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const rawAttrs = useAttrs();\n    const slots = useSlots();\n    const containerAttrs = computed(() => {\n      const comboBoxAttrs = {};\n      if (props.containerRole === \"combobox\") {\n        comboBoxAttrs[\"aria-haspopup\"] = rawAttrs[\"aria-haspopup\"];\n        comboBoxAttrs[\"aria-owns\"] = rawAttrs[\"aria-owns\"];\n        comboBoxAttrs[\"aria-expanded\"] = rawAttrs[\"aria-expanded\"];\n      }\n      return comboBoxAttrs;\n    });\n    const containerKls = computed(() => [\n      props.type === \"textarea\" ? nsTextarea.b() : nsInput.b(),\n      nsInput.m(inputSize.value),\n      nsInput.is(\"disabled\", inputDisabled.value),\n      nsInput.is(\"exceed\", inputExceed.value),\n      {\n        [nsInput.b(\"group\")]: slots.prepend || slots.append,\n        [nsInput.bm(\"group\", \"append\")]: slots.append,\n        [nsInput.bm(\"group\", \"prepend\")]: slots.prepend,\n        [nsInput.m(\"prefix\")]: slots.prefix || props.prefixIcon,\n        [nsInput.m(\"suffix\")]: slots.suffix || props.suffixIcon || props.clearable || props.showPassword,\n        [nsInput.bm(\"suffix\", \"password-clear\")]: showClear.value && showPwdVisible.value\n      },\n      rawAttrs.class\n    ]);\n    const wrapperKls = computed(() => [\n      nsInput.e(\"wrapper\"),\n      nsInput.is(\"focus\", focused.value)\n    ]);\n    const attrs = useAttrs$1({\n      excludeKeys: computed(() => {\n        return Object.keys(containerAttrs.value);\n      })\n    });\n    const { form, formItem } = useFormItem();\n    const { inputId } = useFormItemInputId(props, {\n      formItemContext: formItem\n    });\n    const inputSize = useFormSize();\n    const inputDisabled = useFormDisabled();\n    const nsInput = useNamespace(\"input\");\n    const nsTextarea = useNamespace(\"textarea\");\n    const input = shallowRef();\n    const textarea = shallowRef();\n    const focused = ref(false);\n    const hovering = ref(false);\n    const isComposing = ref(false);\n    const passwordVisible = ref(false);\n    const countStyle = ref();\n    const textareaCalcStyle = shallowRef(props.inputStyle);\n    const _ref = computed(() => input.value || textarea.value);\n    const needStatusIcon = computed(() => {\n      var _a;\n      return (_a = form == null ? void 0 : form.statusIcon) != null ? _a : false;\n    });\n    const validateState = computed(() => (formItem == null ? void 0 : formItem.validateState) || \"\");\n    const validateIcon = computed(() => validateState.value && ValidateComponentsMap[validateState.value]);\n    const passwordIcon = computed(() => passwordVisible.value ? View : Hide);\n    const containerStyle = computed(() => [\n      rawAttrs.style,\n      props.inputStyle\n    ]);\n    const textareaStyle = computed(() => [\n      props.inputStyle,\n      textareaCalcStyle.value,\n      { resize: props.resize }\n    ]);\n    const nativeInputValue = computed(() => isNil(props.modelValue) ? \"\" : String(props.modelValue));\n    const showClear = computed(() => props.clearable && !inputDisabled.value && !props.readonly && !!nativeInputValue.value && (focused.value || hovering.value));\n    const showPwdVisible = computed(() => props.showPassword && !inputDisabled.value && !props.readonly && !!nativeInputValue.value && (!!nativeInputValue.value || focused.value));\n    const isWordLimitVisible = computed(() => props.showWordLimit && !!attrs.value.maxlength && (props.type === \"text\" || props.type === \"textarea\") && !inputDisabled.value && !props.readonly && !props.showPassword);\n    const textLength = computed(() => nativeInputValue.value.length);\n    const inputExceed = computed(() => !!isWordLimitVisible.value && textLength.value > Number(attrs.value.maxlength));\n    const suffixVisible = computed(() => !!slots.suffix || !!props.suffixIcon || showClear.value || props.showPassword || isWordLimitVisible.value || !!validateState.value && needStatusIcon.value);\n    const [recordCursor, setCursor] = useCursor(input);\n    useResizeObserver(textarea, (entries) => {\n      onceInitSizeTextarea();\n      if (!isWordLimitVisible.value || props.resize !== \"both\")\n        return;\n      const entry = entries[0];\n      const { width } = entry.contentRect;\n      countStyle.value = {\n        right: `calc(100% - ${width + 15 + 6}px)`\n      };\n    });\n    const resizeTextarea = () => {\n      const { type, autosize } = props;\n      if (!isClient || type !== \"textarea\" || !textarea.value)\n        return;\n      if (autosize) {\n        const minRows = isObject(autosize) ? autosize.minRows : void 0;\n        const maxRows = isObject(autosize) ? autosize.maxRows : void 0;\n        const textareaStyle2 = calcTextareaHeight(textarea.value, minRows, maxRows);\n        textareaCalcStyle.value = {\n          overflowY: \"hidden\",\n          ...textareaStyle2\n        };\n        nextTick(() => {\n          textarea.value.offsetHeight;\n          textareaCalcStyle.value = textareaStyle2;\n        });\n      } else {\n        textareaCalcStyle.value = {\n          minHeight: calcTextareaHeight(textarea.value).minHeight\n        };\n      }\n    };\n    const createOnceInitResize = (resizeTextarea2) => {\n      let isInit = false;\n      return () => {\n        var _a;\n        if (isInit || !props.autosize)\n          return;\n        const isElHidden = ((_a = textarea.value) == null ? void 0 : _a.offsetParent) === null;\n        if (!isElHidden) {\n          resizeTextarea2();\n          isInit = true;\n        }\n      };\n    };\n    const onceInitSizeTextarea = createOnceInitResize(resizeTextarea);\n    const setNativeInputValue = () => {\n      const input2 = _ref.value;\n      if (!input2 || input2.value === nativeInputValue.value)\n        return;\n      input2.value = nativeInputValue.value;\n    };\n    const handleInput = async (event) => {\n      recordCursor();\n      let { value } = event.target;\n      if (props.formatter) {\n        value = props.parser ? props.parser(value) : value;\n        value = props.formatter(value);\n      }\n      if (isComposing.value)\n        return;\n      if (value === nativeInputValue.value) {\n        setNativeInputValue();\n        return;\n      }\n      emit(UPDATE_MODEL_EVENT, value);\n      emit(\"input\", value);\n      await nextTick();\n      setNativeInputValue();\n      setCursor();\n    };\n    const handleChange = (event) => {\n      emit(\"change\", event.target.value);\n    };\n    const handleCompositionStart = (event) => {\n      emit(\"compositionstart\", event);\n      isComposing.value = true;\n    };\n    const handleCompositionUpdate = (event) => {\n      var _a;\n      emit(\"compositionupdate\", event);\n      const text = (_a = event.target) == null ? void 0 : _a.value;\n      const lastCharacter = text[text.length - 1] || \"\";\n      isComposing.value = !isKorean(lastCharacter);\n    };\n    const handleCompositionEnd = (event) => {\n      emit(\"compositionend\", event);\n      if (isComposing.value) {\n        isComposing.value = false;\n        handleInput(event);\n      }\n    };\n    const handlePasswordVisible = () => {\n      passwordVisible.value = !passwordVisible.value;\n      focus();\n    };\n    const focus = async () => {\n      var _a;\n      await nextTick();\n      (_a = _ref.value) == null ? void 0 : _a.focus();\n    };\n    const blur = () => {\n      var _a;\n      return (_a = _ref.value) == null ? void 0 : _a.blur();\n    };\n    const handleFocus = (event) => {\n      focused.value = true;\n      emit(\"focus\", event);\n    };\n    const handleBlur = (event) => {\n      var _a;\n      focused.value = false;\n      emit(\"blur\", event);\n      if (props.validateEvent) {\n        (_a = formItem == null ? void 0 : formItem.validate) == null ? void 0 : _a.call(formItem, \"blur\").catch((err) => debugWarn(err));\n      }\n    };\n    const handleMouseLeave = (evt) => {\n      hovering.value = false;\n      emit(\"mouseleave\", evt);\n    };\n    const handleMouseEnter = (evt) => {\n      hovering.value = true;\n      emit(\"mouseenter\", evt);\n    };\n    const handleKeydown = (evt) => {\n      emit(\"keydown\", evt);\n    };\n    const select = () => {\n      var _a;\n      (_a = _ref.value) == null ? void 0 : _a.select();\n    };\n    const clear = () => {\n      emit(UPDATE_MODEL_EVENT, \"\");\n      emit(\"change\", \"\");\n      emit(\"clear\");\n      emit(\"input\", \"\");\n    };\n    watch(() => props.modelValue, () => {\n      var _a;\n      nextTick(() => resizeTextarea());\n      if (props.validateEvent) {\n        (_a = formItem == null ? void 0 : formItem.validate) == null ? void 0 : _a.call(formItem, \"change\").catch((err) => debugWarn(err));\n      }\n    });\n    watch(nativeInputValue, () => setNativeInputValue());\n    watch(() => props.type, async () => {\n      await nextTick();\n      setNativeInputValue();\n      resizeTextarea();\n    });\n    onMounted(() => {\n      if (!props.formatter && props.parser) {\n        debugWarn(\"ElInput\", \"If you set the parser, you also need to set the formatter.\");\n      }\n      setNativeInputValue();\n      nextTick(resizeTextarea);\n    });\n    expose({\n      input,\n      textarea,\n      ref: _ref,\n      textareaStyle,\n      autosize: toRef(props, \"autosize\"),\n      focus,\n      blur,\n      select,\n      clear,\n      resizeTextarea\n    });\n    return (_ctx, _cache) => {\n      return withDirectives((openBlock(), createElementBlock(\"div\", mergeProps(unref(containerAttrs), {\n        class: unref(containerKls),\n        style: unref(containerStyle),\n        role: _ctx.containerRole,\n        onMouseenter: handleMouseEnter,\n        onMouseleave: handleMouseLeave\n      }), [\n        createCommentVNode(\" input \"),\n        _ctx.type !== \"textarea\" ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          createCommentVNode(\" prepend slot \"),\n          _ctx.$slots.prepend ? (openBlock(), createElementBlock(\"div\", {\n            key: 0,\n            class: normalizeClass(unref(nsInput).be(\"group\", \"prepend\"))\n          }, [\n            renderSlot(_ctx.$slots, \"prepend\")\n          ], 2)) : createCommentVNode(\"v-if\", true),\n          createElementVNode(\"div\", {\n            class: normalizeClass(unref(wrapperKls))\n          }, [\n            createCommentVNode(\" prefix slot \"),\n            _ctx.$slots.prefix || _ctx.prefixIcon ? (openBlock(), createElementBlock(\"span\", {\n              key: 0,\n              class: normalizeClass(unref(nsInput).e(\"prefix\"))\n            }, [\n              createElementVNode(\"span\", {\n                class: normalizeClass(unref(nsInput).e(\"prefix-inner\")),\n                onClick: focus\n              }, [\n                renderSlot(_ctx.$slots, \"prefix\"),\n                _ctx.prefixIcon ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 0,\n                  class: normalizeClass(unref(nsInput).e(\"icon\"))\n                }, {\n                  default: withCtx(() => [\n                    (openBlock(), createBlock(resolveDynamicComponent(_ctx.prefixIcon)))\n                  ]),\n                  _: 1\n                }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n              ], 2)\n            ], 2)) : createCommentVNode(\"v-if\", true),\n            createElementVNode(\"input\", mergeProps({\n              id: unref(inputId),\n              ref_key: \"input\",\n              ref: input,\n              class: unref(nsInput).e(\"inner\")\n            }, unref(attrs), {\n              type: _ctx.showPassword ? passwordVisible.value ? \"text\" : \"password\" : _ctx.type,\n              disabled: unref(inputDisabled),\n              formatter: _ctx.formatter,\n              parser: _ctx.parser,\n              readonly: _ctx.readonly,\n              autocomplete: _ctx.autocomplete,\n              tabindex: _ctx.tabindex,\n              \"aria-label\": _ctx.label,\n              placeholder: _ctx.placeholder,\n              style: _ctx.inputStyle,\n              form: props.form,\n              onCompositionstart: handleCompositionStart,\n              onCompositionupdate: handleCompositionUpdate,\n              onCompositionend: handleCompositionEnd,\n              onInput: handleInput,\n              onFocus: handleFocus,\n              onBlur: handleBlur,\n              onChange: handleChange,\n              onKeydown: handleKeydown\n            }), null, 16, _hoisted_2),\n            createCommentVNode(\" suffix slot \"),\n            unref(suffixVisible) ? (openBlock(), createElementBlock(\"span\", {\n              key: 1,\n              class: normalizeClass(unref(nsInput).e(\"suffix\"))\n            }, [\n              createElementVNode(\"span\", {\n                class: normalizeClass(unref(nsInput).e(\"suffix-inner\")),\n                onClick: focus\n              }, [\n                !unref(showClear) || !unref(showPwdVisible) || !unref(isWordLimitVisible) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n                  renderSlot(_ctx.$slots, \"suffix\"),\n                  _ctx.suffixIcon ? (openBlock(), createBlock(unref(ElIcon), {\n                    key: 0,\n                    class: normalizeClass(unref(nsInput).e(\"icon\"))\n                  }, {\n                    default: withCtx(() => [\n                      (openBlock(), createBlock(resolveDynamicComponent(_ctx.suffixIcon)))\n                    ]),\n                    _: 1\n                  }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n                ], 64)) : createCommentVNode(\"v-if\", true),\n                unref(showClear) ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 1,\n                  class: normalizeClass([unref(nsInput).e(\"icon\"), unref(nsInput).e(\"clear\")]),\n                  onMousedown: withModifiers(unref(NOOP), [\"prevent\"]),\n                  onClick: clear\n                }, {\n                  default: withCtx(() => [\n                    createVNode(unref(CircleClose))\n                  ]),\n                  _: 1\n                }, 8, [\"class\", \"onMousedown\"])) : createCommentVNode(\"v-if\", true),\n                unref(showPwdVisible) ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 2,\n                  class: normalizeClass([unref(nsInput).e(\"icon\"), unref(nsInput).e(\"password\")]),\n                  onClick: handlePasswordVisible\n                }, {\n                  default: withCtx(() => [\n                    (openBlock(), createBlock(resolveDynamicComponent(unref(passwordIcon))))\n                  ]),\n                  _: 1\n                }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true),\n                unref(isWordLimitVisible) ? (openBlock(), createElementBlock(\"span\", {\n                  key: 3,\n                  class: normalizeClass(unref(nsInput).e(\"count\"))\n                }, [\n                  createElementVNode(\"span\", {\n                    class: normalizeClass(unref(nsInput).e(\"count-inner\"))\n                  }, toDisplayString(unref(textLength)) + \" / \" + toDisplayString(unref(attrs).maxlength), 3)\n                ], 2)) : createCommentVNode(\"v-if\", true),\n                unref(validateState) && unref(validateIcon) && unref(needStatusIcon) ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 4,\n                  class: normalizeClass([\n                    unref(nsInput).e(\"icon\"),\n                    unref(nsInput).e(\"validateIcon\"),\n                    unref(nsInput).is(\"loading\", unref(validateState) === \"validating\")\n                  ])\n                }, {\n                  default: withCtx(() => [\n                    (openBlock(), createBlock(resolveDynamicComponent(unref(validateIcon))))\n                  ]),\n                  _: 1\n                }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n              ], 2)\n            ], 2)) : createCommentVNode(\"v-if\", true)\n          ], 2),\n          createCommentVNode(\" append slot \"),\n          _ctx.$slots.append ? (openBlock(), createElementBlock(\"div\", {\n            key: 1,\n            class: normalizeClass(unref(nsInput).be(\"group\", \"append\"))\n          }, [\n            renderSlot(_ctx.$slots, \"append\")\n          ], 2)) : createCommentVNode(\"v-if\", true)\n        ], 64)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n          createCommentVNode(\" textarea \"),\n          createElementVNode(\"textarea\", mergeProps({\n            id: unref(inputId),\n            ref_key: \"textarea\",\n            ref: textarea,\n            class: unref(nsTextarea).e(\"inner\")\n          }, unref(attrs), {\n            tabindex: _ctx.tabindex,\n            disabled: unref(inputDisabled),\n            readonly: _ctx.readonly,\n            autocomplete: _ctx.autocomplete,\n            style: unref(textareaStyle),\n            \"aria-label\": _ctx.label,\n            placeholder: _ctx.placeholder,\n            form: props.form,\n            onCompositionstart: handleCompositionStart,\n            onCompositionupdate: handleCompositionUpdate,\n            onCompositionend: handleCompositionEnd,\n            onInput: handleInput,\n            onFocus: handleFocus,\n            onBlur: handleBlur,\n            onChange: handleChange,\n            onKeydown: handleKeydown\n          }), null, 16, _hoisted_3),\n          unref(isWordLimitVisible) ? (openBlock(), createElementBlock(\"span\", {\n            key: 0,\n            style: normalizeStyle(countStyle.value),\n            class: normalizeClass(unref(nsInput).e(\"count\"))\n          }, toDisplayString(unref(textLength)) + \" / \" + toDisplayString(unref(attrs).maxlength), 7)) : createCommentVNode(\"v-if\", true)\n        ], 64))\n      ], 16, _hoisted_1)), [\n        [vShow, _ctx.type !== \"hidden\"]\n      ]);\n    };\n  }\n});\nvar Input = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue\"]]);\n\nexport { Input as default };\n//# sourceMappingURL=input2.mjs.map\n","import '../../utils/index.mjs';\nimport Input from './src/input2.mjs';\nexport { inputEmits, inputProps } from './src/input.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElInput = withInstall(Input);\n\nexport { ElInput, ElInput as default };\n//# sourceMappingURL=index.mjs.map\n","const scrollbarContextKey = Symbol(\"scrollbarContextKey\");\n\nexport { scrollbarContextKey };\n//# sourceMappingURL=constants.mjs.map\n","import '../../../utils/index.mjs';\nimport { buildProps } from '../../../utils/vue/props/runtime.mjs';\n\nconst thumbProps = buildProps({\n  vertical: Boolean,\n  size: String,\n  move: Number,\n  ratio: {\n    type: Number,\n    required: true\n  },\n  always: Boolean\n});\n\nexport { thumbProps };\n//# sourceMappingURL=thumb.mjs.map\n","import { defineComponent, inject, ref, computed, onBeforeUnmount, toRef, openBlock, createBlock, Transition, unref, withCtx, withDirectives, createElementVNode, normalizeClass, normalizeStyle, vShow } from 'vue';\nimport { isClient, useEventListener } from '@vueuse/core';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { scrollbarContextKey } from './constants.mjs';\nimport { BAR_MAP, renderThumbStyle } from './util.mjs';\nimport { thumbProps } from './thumb.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { throwError } from '../../../utils/error.mjs';\n\nconst COMPONENT_NAME = \"Thumb\";\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"thumb\",\n  props: thumbProps,\n  setup(__props) {\n    const props = __props;\n    const scrollbar = inject(scrollbarContextKey);\n    const ns = useNamespace(\"scrollbar\");\n    if (!scrollbar)\n      throwError(COMPONENT_NAME, \"can not inject scrollbar context\");\n    const instance = ref();\n    const thumb = ref();\n    const thumbState = ref({});\n    const visible = ref(false);\n    let cursorDown = false;\n    let cursorLeave = false;\n    let originalOnSelectStart = isClient ? document.onselectstart : null;\n    const bar = computed(() => BAR_MAP[props.vertical ? \"vertical\" : \"horizontal\"]);\n    const thumbStyle = computed(() => renderThumbStyle({\n      size: props.size,\n      move: props.move,\n      bar: bar.value\n    }));\n    const offsetRatio = computed(() => instance.value[bar.value.offset] ** 2 / scrollbar.wrapElement[bar.value.scrollSize] / props.ratio / thumb.value[bar.value.offset]);\n    const clickThumbHandler = (e) => {\n      var _a;\n      e.stopPropagation();\n      if (e.ctrlKey || [1, 2].includes(e.button))\n        return;\n      (_a = window.getSelection()) == null ? void 0 : _a.removeAllRanges();\n      startDrag(e);\n      const el = e.currentTarget;\n      if (!el)\n        return;\n      thumbState.value[bar.value.axis] = el[bar.value.offset] - (e[bar.value.client] - el.getBoundingClientRect()[bar.value.direction]);\n    };\n    const clickTrackHandler = (e) => {\n      if (!thumb.value || !instance.value || !scrollbar.wrapElement)\n        return;\n      const offset = Math.abs(e.target.getBoundingClientRect()[bar.value.direction] - e[bar.value.client]);\n      const thumbHalf = thumb.value[bar.value.offset] / 2;\n      const thumbPositionPercentage = (offset - thumbHalf) * 100 * offsetRatio.value / instance.value[bar.value.offset];\n      scrollbar.wrapElement[bar.value.scroll] = thumbPositionPercentage * scrollbar.wrapElement[bar.value.scrollSize] / 100;\n    };\n    const startDrag = (e) => {\n      e.stopImmediatePropagation();\n      cursorDown = true;\n      document.addEventListener(\"mousemove\", mouseMoveDocumentHandler);\n      document.addEventListener(\"mouseup\", mouseUpDocumentHandler);\n      originalOnSelectStart = document.onselectstart;\n      document.onselectstart = () => false;\n    };\n    const mouseMoveDocumentHandler = (e) => {\n      if (!instance.value || !thumb.value)\n        return;\n      if (cursorDown === false)\n        return;\n      const prevPage = thumbState.value[bar.value.axis];\n      if (!prevPage)\n        return;\n      const offset = (instance.value.getBoundingClientRect()[bar.value.direction] - e[bar.value.client]) * -1;\n      const thumbClickPosition = thumb.value[bar.value.offset] - prevPage;\n      const thumbPositionPercentage = (offset - thumbClickPosition) * 100 * offsetRatio.value / instance.value[bar.value.offset];\n      scrollbar.wrapElement[bar.value.scroll] = thumbPositionPercentage * scrollbar.wrapElement[bar.value.scrollSize] / 100;\n    };\n    const mouseUpDocumentHandler = () => {\n      cursorDown = false;\n      thumbState.value[bar.value.axis] = 0;\n      document.removeEventListener(\"mousemove\", mouseMoveDocumentHandler);\n      document.removeEventListener(\"mouseup\", mouseUpDocumentHandler);\n      restoreOnselectstart();\n      if (cursorLeave)\n        visible.value = false;\n    };\n    const mouseMoveScrollbarHandler = () => {\n      cursorLeave = false;\n      visible.value = !!props.size;\n    };\n    const mouseLeaveScrollbarHandler = () => {\n      cursorLeave = true;\n      visible.value = cursorDown;\n    };\n    onBeforeUnmount(() => {\n      restoreOnselectstart();\n      document.removeEventListener(\"mouseup\", mouseUpDocumentHandler);\n    });\n    const restoreOnselectstart = () => {\n      if (document.onselectstart !== originalOnSelectStart)\n        document.onselectstart = originalOnSelectStart;\n    };\n    useEventListener(toRef(scrollbar, \"scrollbarElement\"), \"mousemove\", mouseMoveScrollbarHandler);\n    useEventListener(toRef(scrollbar, \"scrollbarElement\"), \"mouseleave\", mouseLeaveScrollbarHandler);\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(Transition, {\n        name: unref(ns).b(\"fade\"),\n        persisted: \"\"\n      }, {\n        default: withCtx(() => [\n          withDirectives(createElementVNode(\"div\", {\n            ref_key: \"instance\",\n            ref: instance,\n            class: normalizeClass([unref(ns).e(\"bar\"), unref(ns).is(unref(bar).key)]),\n            onMousedown: clickTrackHandler\n          }, [\n            createElementVNode(\"div\", {\n              ref_key: \"thumb\",\n              ref: thumb,\n              class: normalizeClass(unref(ns).e(\"thumb\")),\n              style: normalizeStyle(unref(thumbStyle)),\n              onMousedown: clickThumbHandler\n            }, null, 38)\n          ], 34), [\n            [vShow, _ctx.always || visible.value]\n          ])\n        ]),\n        _: 1\n      }, 8, [\"name\"]);\n    };\n  }\n});\nvar Thumb = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue\"]]);\n\nexport { Thumb as default };\n//# sourceMappingURL=thumb2.mjs.map\n","import '../../../utils/index.mjs';\nimport { buildProps } from '../../../utils/vue/props/runtime.mjs';\n\nconst barProps = buildProps({\n  always: {\n    type: Boolean,\n    default: true\n  },\n  width: String,\n  height: String,\n  ratioX: {\n    type: Number,\n    default: 1\n  },\n  ratioY: {\n    type: Number,\n    default: 1\n  }\n});\n\nexport { barProps };\n//# sourceMappingURL=bar.mjs.map\n","import { defineComponent, ref, openBlock, createElementBlock, Fragment, createVNode } from 'vue';\nimport { GAP } from './util.mjs';\nimport Thumb from './thumb2.mjs';\nimport { barProps } from './bar.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"bar\",\n  props: barProps,\n  setup(__props, { expose }) {\n    const props = __props;\n    const moveX = ref(0);\n    const moveY = ref(0);\n    const handleScroll = (wrap) => {\n      if (wrap) {\n        const offsetHeight = wrap.offsetHeight - GAP;\n        const offsetWidth = wrap.offsetWidth - GAP;\n        moveY.value = wrap.scrollTop * 100 / offsetHeight * props.ratioY;\n        moveX.value = wrap.scrollLeft * 100 / offsetWidth * props.ratioX;\n      }\n    };\n    expose({\n      handleScroll\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createVNode(Thumb, {\n          move: moveX.value,\n          ratio: _ctx.ratioX,\n          size: _ctx.width,\n          always: _ctx.always\n        }, null, 8, [\"move\", \"ratio\", \"size\", \"always\"]),\n        createVNode(Thumb, {\n          move: moveY.value,\n          ratio: _ctx.ratioY,\n          size: _ctx.height,\n          vertical: \"\",\n          always: _ctx.always\n        }, null, 8, [\"move\", \"ratio\", \"size\", \"always\"])\n      ], 64);\n    };\n  }\n});\nvar Bar = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue\"]]);\n\nexport { Bar as default };\n//# sourceMappingURL=bar2.mjs.map\n","import '../../../utils/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { isNumber } from '../../../utils/types.mjs';\n\nconst scrollbarProps = buildProps({\n  height: {\n    type: [String, Number],\n    default: \"\"\n  },\n  maxHeight: {\n    type: [String, Number],\n    default: \"\"\n  },\n  native: {\n    type: Boolean,\n    default: false\n  },\n  wrapStyle: {\n    type: definePropType([String, Object, Array]),\n    default: \"\"\n  },\n  wrapClass: {\n    type: [String, Array],\n    default: \"\"\n  },\n  viewClass: {\n    type: [String, Array],\n    default: \"\"\n  },\n  viewStyle: {\n    type: [String, Array, Object],\n    default: \"\"\n  },\n  noresize: Boolean,\n  tag: {\n    type: String,\n    default: \"div\"\n  },\n  always: Boolean,\n  minSize: {\n    type: Number,\n    default: 20\n  }\n});\nconst scrollbarEmits = {\n  scroll: ({\n    scrollTop,\n    scrollLeft\n  }) => [scrollTop, scrollLeft].every(isNumber)\n};\n\nexport { scrollbarEmits, scrollbarProps };\n//# sourceMappingURL=scrollbar.mjs.map\n","import { defineComponent, ref, computed, watch, nextTick, provide, reactive, onMounted, onUpdated, openBlock, createElementBlock, normalizeClass, unref, createElementVNode, normalizeStyle, createBlock, resolveDynamicComponent, withCtx, renderSlot, createCommentVNode } from 'vue';\nimport { useResizeObserver, useEventListener } from '@vueuse/core';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { GAP } from './util.mjs';\nimport Bar from './bar2.mjs';\nimport { scrollbarContextKey } from './constants.mjs';\nimport { scrollbarProps, scrollbarEmits } from './scrollbar.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { addUnit } from '../../../utils/dom/style.mjs';\nimport { isObject } from '@vue/shared';\nimport { isNumber } from '../../../utils/types.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\n\nconst COMPONENT_NAME = \"ElScrollbar\";\nconst __default__ = defineComponent({\n  name: COMPONENT_NAME\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: scrollbarProps,\n  emits: scrollbarEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const ns = useNamespace(\"scrollbar\");\n    let stopResizeObserver = void 0;\n    let stopResizeListener = void 0;\n    const scrollbarRef = ref();\n    const wrapRef = ref();\n    const resizeRef = ref();\n    const sizeWidth = ref(\"0\");\n    const sizeHeight = ref(\"0\");\n    const barRef = ref();\n    const ratioY = ref(1);\n    const ratioX = ref(1);\n    const style = computed(() => {\n      const style2 = {};\n      if (props.height)\n        style2.height = addUnit(props.height);\n      if (props.maxHeight)\n        style2.maxHeight = addUnit(props.maxHeight);\n      return [props.wrapStyle, style2];\n    });\n    const wrapKls = computed(() => {\n      return [\n        props.wrapClass,\n        ns.e(\"wrap\"),\n        { [ns.em(\"wrap\", \"hidden-default\")]: !props.native }\n      ];\n    });\n    const resizeKls = computed(() => {\n      return [ns.e(\"view\"), props.viewClass];\n    });\n    const handleScroll = () => {\n      var _a;\n      if (wrapRef.value) {\n        (_a = barRef.value) == null ? void 0 : _a.handleScroll(wrapRef.value);\n        emit(\"scroll\", {\n          scrollTop: wrapRef.value.scrollTop,\n          scrollLeft: wrapRef.value.scrollLeft\n        });\n      }\n    };\n    function scrollTo(arg1, arg2) {\n      if (isObject(arg1)) {\n        wrapRef.value.scrollTo(arg1);\n      } else if (isNumber(arg1) && isNumber(arg2)) {\n        wrapRef.value.scrollTo(arg1, arg2);\n      }\n    }\n    const setScrollTop = (value) => {\n      if (!isNumber(value)) {\n        debugWarn(COMPONENT_NAME, \"value must be a number\");\n        return;\n      }\n      wrapRef.value.scrollTop = value;\n    };\n    const setScrollLeft = (value) => {\n      if (!isNumber(value)) {\n        debugWarn(COMPONENT_NAME, \"value must be a number\");\n        return;\n      }\n      wrapRef.value.scrollLeft = value;\n    };\n    const update = () => {\n      if (!wrapRef.value)\n        return;\n      const offsetHeight = wrapRef.value.offsetHeight - GAP;\n      const offsetWidth = wrapRef.value.offsetWidth - GAP;\n      const originalHeight = offsetHeight ** 2 / wrapRef.value.scrollHeight;\n      const originalWidth = offsetWidth ** 2 / wrapRef.value.scrollWidth;\n      const height = Math.max(originalHeight, props.minSize);\n      const width = Math.max(originalWidth, props.minSize);\n      ratioY.value = originalHeight / (offsetHeight - originalHeight) / (height / (offsetHeight - height));\n      ratioX.value = originalWidth / (offsetWidth - originalWidth) / (width / (offsetWidth - width));\n      sizeHeight.value = height + GAP < offsetHeight ? `${height}px` : \"\";\n      sizeWidth.value = width + GAP < offsetWidth ? `${width}px` : \"\";\n    };\n    watch(() => props.noresize, (noresize) => {\n      if (noresize) {\n        stopResizeObserver == null ? void 0 : stopResizeObserver();\n        stopResizeListener == null ? void 0 : stopResizeListener();\n      } else {\n        ;\n        ({ stop: stopResizeObserver } = useResizeObserver(resizeRef, update));\n        stopResizeListener = useEventListener(\"resize\", update);\n      }\n    }, { immediate: true });\n    watch(() => [props.maxHeight, props.height], () => {\n      if (!props.native)\n        nextTick(() => {\n          var _a;\n          update();\n          if (wrapRef.value) {\n            (_a = barRef.value) == null ? void 0 : _a.handleScroll(wrapRef.value);\n          }\n        });\n    });\n    provide(scrollbarContextKey, reactive({\n      scrollbarElement: scrollbarRef,\n      wrapElement: wrapRef\n    }));\n    onMounted(() => {\n      if (!props.native)\n        nextTick(() => {\n          update();\n        });\n    });\n    onUpdated(() => update());\n    expose({\n      wrapRef,\n      update,\n      scrollTo,\n      setScrollTop,\n      setScrollLeft,\n      handleScroll\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"scrollbarRef\",\n        ref: scrollbarRef,\n        class: normalizeClass(unref(ns).b())\n      }, [\n        createElementVNode(\"div\", {\n          ref_key: \"wrapRef\",\n          ref: wrapRef,\n          class: normalizeClass(unref(wrapKls)),\n          style: normalizeStyle(unref(style)),\n          onScroll: handleScroll\n        }, [\n          (openBlock(), createBlock(resolveDynamicComponent(_ctx.tag), {\n            ref_key: \"resizeRef\",\n            ref: resizeRef,\n            class: normalizeClass(unref(resizeKls)),\n            style: normalizeStyle(_ctx.viewStyle)\n          }, {\n            default: withCtx(() => [\n              renderSlot(_ctx.$slots, \"default\")\n            ]),\n            _: 3\n          }, 8, [\"class\", \"style\"]))\n        ], 38),\n        !_ctx.native ? (openBlock(), createBlock(Bar, {\n          key: 0,\n          ref_key: \"barRef\",\n          ref: barRef,\n          height: sizeHeight.value,\n          width: sizeWidth.value,\n          always: _ctx.always,\n          \"ratio-x\": ratioX.value,\n          \"ratio-y\": ratioY.value\n        }, null, 8, [\"height\", \"width\", \"always\", \"ratio-x\", \"ratio-y\"])) : createCommentVNode(\"v-if\", true)\n      ], 2);\n    };\n  }\n});\nvar Scrollbar = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue\"]]);\n\nexport { Scrollbar as default };\n//# sourceMappingURL=scrollbar2.mjs.map\n","import '../../utils/index.mjs';\nimport Scrollbar from './src/scrollbar2.mjs';\nexport { BAR_MAP, GAP, renderThumbStyle } from './src/util.mjs';\nexport { scrollbarEmits, scrollbarProps } from './src/scrollbar.mjs';\nexport { thumbProps } from './src/thumb.mjs';\nexport { scrollbarContextKey } from './src/constants.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElScrollbar = withInstall(Scrollbar);\n\nexport { ElScrollbar, ElScrollbar as default };\n//# sourceMappingURL=index.mjs.map\n","import '../../../../utils/index.mjs';\nimport { buildProps, definePropType } from '../../../../utils/vue/props/runtime.mjs';\n\nconst alphaSliderProps = buildProps({\n  color: {\n    type: definePropType(Object),\n    required: true\n  },\n  vertical: {\n    type: Boolean,\n    default: false\n  }\n});\n\nexport { alphaSliderProps };\n//# sourceMappingURL=alpha-slider.mjs.map\n","import '../../../../utils/index.mjs';\nimport { isClient } from '@vueuse/core';\n\nlet isDragging = false;\nfunction draggable(element, options) {\n  if (!isClient)\n    return;\n  const moveFn = function(event) {\n    var _a;\n    (_a = options.drag) == null ? void 0 : _a.call(options, event);\n  };\n  const upFn = function(event) {\n    var _a;\n    document.removeEventListener(\"mousemove\", moveFn);\n    document.removeEventListener(\"mouseup\", upFn);\n    document.removeEventListener(\"touchmove\", moveFn);\n    document.removeEventListener(\"touchend\", upFn);\n    document.onselectstart = null;\n    document.ondragstart = null;\n    isDragging = false;\n    (_a = options.end) == null ? void 0 : _a.call(options, event);\n  };\n  const downFn = function(event) {\n    var _a;\n    if (isDragging)\n      return;\n    event.preventDefault();\n    document.onselectstart = () => false;\n    document.ondragstart = () => false;\n    document.addEventListener(\"mousemove\", moveFn);\n    document.addEventListener(\"mouseup\", upFn);\n    document.addEventListener(\"touchmove\", moveFn);\n    document.addEventListener(\"touchend\", upFn);\n    isDragging = true;\n    (_a = options.start) == null ? void 0 : _a.call(options, event);\n  };\n  element.addEventListener(\"mousedown\", downFn);\n  element.addEventListener(\"touchstart\", downFn);\n}\n\nexport { draggable };\n//# sourceMappingURL=draggable.mjs.map\n","import { getCurrentInstance, shallowRef, ref, onMounted, watch, computed } from 'vue';\nimport '../../../../utils/index.mjs';\nimport '../../../../hooks/index.mjs';\nimport { draggable } from '../utils/draggable.mjs';\nimport { getClientXY } from '../../../../utils/dom/position.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nimport { addUnit } from '../../../../utils/dom/style.mjs';\n\nconst useAlphaSlider = (props) => {\n  const instance = getCurrentInstance();\n  const thumb = shallowRef();\n  const bar = shallowRef();\n  function handleClick(event) {\n    const target = event.target;\n    if (target !== thumb.value) {\n      handleDrag(event);\n    }\n  }\n  function handleDrag(event) {\n    if (!bar.value || !thumb.value)\n      return;\n    const el = instance.vnode.el;\n    const rect = el.getBoundingClientRect();\n    const { clientX, clientY } = getClientXY(event);\n    if (!props.vertical) {\n      let left = clientX - rect.left;\n      left = Math.max(thumb.value.offsetWidth / 2, left);\n      left = Math.min(left, rect.width - thumb.value.offsetWidth / 2);\n      props.color.set(\"alpha\", Math.round((left - thumb.value.offsetWidth / 2) / (rect.width - thumb.value.offsetWidth) * 100));\n    } else {\n      let top = clientY - rect.top;\n      top = Math.max(thumb.value.offsetHeight / 2, top);\n      top = Math.min(top, rect.height - thumb.value.offsetHeight / 2);\n      props.color.set(\"alpha\", Math.round((top - thumb.value.offsetHeight / 2) / (rect.height - thumb.value.offsetHeight) * 100));\n    }\n  }\n  return {\n    thumb,\n    bar,\n    handleDrag,\n    handleClick\n  };\n};\nconst useAlphaSliderDOM = (props, {\n  bar,\n  thumb,\n  handleDrag\n}) => {\n  const instance = getCurrentInstance();\n  const ns = useNamespace(\"color-alpha-slider\");\n  const thumbLeft = ref(0);\n  const thumbTop = ref(0);\n  const background = ref();\n  function getThumbLeft() {\n    if (!thumb.value)\n      return 0;\n    if (props.vertical)\n      return 0;\n    const el = instance.vnode.el;\n    const alpha = props.color.get(\"alpha\");\n    if (!el)\n      return 0;\n    return Math.round(alpha * (el.offsetWidth - thumb.value.offsetWidth / 2) / 100);\n  }\n  function getThumbTop() {\n    if (!thumb.value)\n      return 0;\n    const el = instance.vnode.el;\n    if (!props.vertical)\n      return 0;\n    const alpha = props.color.get(\"alpha\");\n    if (!el)\n      return 0;\n    return Math.round(alpha * (el.offsetHeight - thumb.value.offsetHeight / 2) / 100);\n  }\n  function getBackground() {\n    if (props.color && props.color.value) {\n      const { r, g, b } = props.color.toRgb();\n      return `linear-gradient(to right, rgba(${r}, ${g}, ${b}, 0) 0%, rgba(${r}, ${g}, ${b}, 1) 100%)`;\n    }\n    return \"\";\n  }\n  function update() {\n    thumbLeft.value = getThumbLeft();\n    thumbTop.value = getThumbTop();\n    background.value = getBackground();\n  }\n  onMounted(() => {\n    if (!bar.value || !thumb.value)\n      return;\n    const dragConfig = {\n      drag: (event) => {\n        handleDrag(event);\n      },\n      end: (event) => {\n        handleDrag(event);\n      }\n    };\n    draggable(bar.value, dragConfig);\n    draggable(thumb.value, dragConfig);\n    update();\n  });\n  watch(() => props.color.get(\"alpha\"), () => update());\n  watch(() => props.color.value, () => update());\n  const rootKls = computed(() => [ns.b(), ns.is(\"vertical\", props.vertical)]);\n  const barKls = computed(() => ns.e(\"bar\"));\n  const thumbKls = computed(() => ns.e(\"thumb\"));\n  const barStyle = computed(() => ({ background: background.value }));\n  const thumbStyle = computed(() => ({\n    left: addUnit(thumbLeft.value),\n    top: addUnit(thumbTop.value)\n  }));\n  return { rootKls, barKls, barStyle, thumbKls, thumbStyle, update };\n};\n\nexport { useAlphaSlider, useAlphaSliderDOM };\n//# sourceMappingURL=use-alpha-slider.mjs.map\n","import { defineComponent, openBlock, createElementBlock, normalizeClass, unref, createElementVNode, normalizeStyle } from 'vue';\nimport { alphaSliderProps } from '../props/alpha-slider.mjs';\nimport { useAlphaSlider, useAlphaSliderDOM } from '../composables/use-alpha-slider.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\n\nconst COMPONENT_NAME = \"ElColorAlphaSlider\";\nconst __default__ = defineComponent({\n  name: COMPONENT_NAME\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: alphaSliderProps,\n  setup(__props, { expose }) {\n    const props = __props;\n    const { bar, thumb, handleDrag, handleClick } = useAlphaSlider(props);\n    const { rootKls, barKls, barStyle, thumbKls, thumbStyle, update } = useAlphaSliderDOM(props, {\n      bar,\n      thumb,\n      handleDrag\n    });\n    expose({\n      update,\n      bar,\n      thumb\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass(unref(rootKls))\n      }, [\n        createElementVNode(\"div\", {\n          ref_key: \"bar\",\n          ref: bar,\n          class: normalizeClass(unref(barKls)),\n          style: normalizeStyle(unref(barStyle)),\n          onClick: _cache[0] || (_cache[0] = (...args) => unref(handleClick) && unref(handleClick)(...args))\n        }, null, 6),\n        createElementVNode(\"div\", {\n          ref_key: \"thumb\",\n          ref: thumb,\n          class: normalizeClass(unref(thumbKls)),\n          style: normalizeStyle(unref(thumbStyle))\n        }, null, 6)\n      ], 2);\n    };\n  }\n});\nvar AlphaSlider = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue\"]]);\n\nexport { AlphaSlider as default };\n//# sourceMappingURL=alpha-slider.mjs.map\n","import { defineComponent, getCurrentInstance, ref, computed, watch, onMounted, openBlock, createElementBlock, normalizeClass, createElementVNode, normalizeStyle } from 'vue';\nimport '../../../../utils/index.mjs';\nimport '../../../../hooks/index.mjs';\nimport { draggable } from '../utils/draggable.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nimport { getClientXY } from '../../../../utils/dom/position.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElColorHueSlider\",\n  props: {\n    color: {\n      type: Object,\n      required: true\n    },\n    vertical: Boolean\n  },\n  setup(props) {\n    const ns = useNamespace(\"color-hue-slider\");\n    const instance = getCurrentInstance();\n    const thumb = ref();\n    const bar = ref();\n    const thumbLeft = ref(0);\n    const thumbTop = ref(0);\n    const hueValue = computed(() => {\n      return props.color.get(\"hue\");\n    });\n    watch(() => hueValue.value, () => {\n      update();\n    });\n    function handleClick(event) {\n      const target = event.target;\n      if (target !== thumb.value) {\n        handleDrag(event);\n      }\n    }\n    function handleDrag(event) {\n      if (!bar.value || !thumb.value)\n        return;\n      const el = instance.vnode.el;\n      const rect = el.getBoundingClientRect();\n      const { clientX, clientY } = getClientXY(event);\n      let hue;\n      if (!props.vertical) {\n        let left = clientX - rect.left;\n        left = Math.min(left, rect.width - thumb.value.offsetWidth / 2);\n        left = Math.max(thumb.value.offsetWidth / 2, left);\n        hue = Math.round((left - thumb.value.offsetWidth / 2) / (rect.width - thumb.value.offsetWidth) * 360);\n      } else {\n        let top = clientY - rect.top;\n        top = Math.min(top, rect.height - thumb.value.offsetHeight / 2);\n        top = Math.max(thumb.value.offsetHeight / 2, top);\n        hue = Math.round((top - thumb.value.offsetHeight / 2) / (rect.height - thumb.value.offsetHeight) * 360);\n      }\n      props.color.set(\"hue\", hue);\n    }\n    function getThumbLeft() {\n      if (!thumb.value)\n        return 0;\n      const el = instance.vnode.el;\n      if (props.vertical)\n        return 0;\n      const hue = props.color.get(\"hue\");\n      if (!el)\n        return 0;\n      return Math.round(hue * (el.offsetWidth - thumb.value.offsetWidth / 2) / 360);\n    }\n    function getThumbTop() {\n      if (!thumb.value)\n        return 0;\n      const el = instance.vnode.el;\n      if (!props.vertical)\n        return 0;\n      const hue = props.color.get(\"hue\");\n      if (!el)\n        return 0;\n      return Math.round(hue * (el.offsetHeight - thumb.value.offsetHeight / 2) / 360);\n    }\n    function update() {\n      thumbLeft.value = getThumbLeft();\n      thumbTop.value = getThumbTop();\n    }\n    onMounted(() => {\n      if (!bar.value || !thumb.value)\n        return;\n      const dragConfig = {\n        drag: (event) => {\n          handleDrag(event);\n        },\n        end: (event) => {\n          handleDrag(event);\n        }\n      };\n      draggable(bar.value, dragConfig);\n      draggable(thumb.value, dragConfig);\n      update();\n    });\n    return {\n      bar,\n      thumb,\n      thumbLeft,\n      thumbTop,\n      hueValue,\n      handleClick,\n      update,\n      ns\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([_ctx.ns.b(), _ctx.ns.is(\"vertical\", _ctx.vertical)])\n  }, [\n    createElementVNode(\"div\", {\n      ref: \"bar\",\n      class: normalizeClass(_ctx.ns.e(\"bar\")),\n      onClick: _cache[0] || (_cache[0] = (...args) => _ctx.handleClick && _ctx.handleClick(...args))\n    }, null, 2),\n    createElementVNode(\"div\", {\n      ref: \"thumb\",\n      class: normalizeClass(_ctx.ns.e(\"thumb\")),\n      style: normalizeStyle({\n        left: _ctx.thumbLeft + \"px\",\n        top: _ctx.thumbTop + \"px\"\n      })\n    }, null, 6)\n  ], 2);\n}\nvar HueSlider = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue\"]]);\n\nexport { HueSlider as default };\n//# sourceMappingURL=hue-slider.mjs.map\n","import { isNil } from 'lodash-unified';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../constants/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { useSizeProp } from '../../../hooks/use-size/index.mjs';\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT } from '../../../constants/event.mjs';\nimport { isString } from '@vue/shared';\n\nconst colorPickerProps = buildProps({\n  modelValue: String,\n  id: String,\n  showAlpha: Boolean,\n  colorFormat: String,\n  disabled: Boolean,\n  size: useSizeProp,\n  popperClass: {\n    type: String,\n    default: \"\"\n  },\n  label: {\n    type: String,\n    default: void 0\n  },\n  tabindex: {\n    type: [String, Number],\n    default: 0\n  },\n  predefine: {\n    type: definePropType(Array)\n  },\n  validateEvent: {\n    type: Boolean,\n    default: true\n  }\n});\nconst colorPickerEmits = {\n  [UPDATE_MODEL_EVENT]: (val) => isString(val) || isNil(val),\n  [CHANGE_EVENT]: (val) => isString(val) || isNil(val),\n  activeChange: (val) => isString(val) || isNil(val)\n};\nconst colorPickerContextKey = Symbol(\"colorPickerContextKey\");\n\nexport { colorPickerContextKey, colorPickerEmits, colorPickerProps };\n//# sourceMappingURL=color-picker.mjs.map\n","import '../../../../utils/index.mjs';\nimport { hasOwn } from '@vue/shared';\n\nconst hsv2hsl = function(hue, sat, val) {\n  return [\n    hue,\n    sat * val / ((hue = (2 - sat) * val) < 1 ? hue : 2 - hue) || 0,\n    hue / 2\n  ];\n};\nconst isOnePointZero = function(n) {\n  return typeof n === \"string\" && n.includes(\".\") && Number.parseFloat(n) === 1;\n};\nconst isPercentage = function(n) {\n  return typeof n === \"string\" && n.includes(\"%\");\n};\nconst bound01 = function(value, max) {\n  if (isOnePointZero(value))\n    value = \"100%\";\n  const processPercent = isPercentage(value);\n  value = Math.min(max, Math.max(0, Number.parseFloat(`${value}`)));\n  if (processPercent) {\n    value = Number.parseInt(`${value * max}`, 10) / 100;\n  }\n  if (Math.abs(value - max) < 1e-6) {\n    return 1;\n  }\n  return value % max / Number.parseFloat(max);\n};\nconst INT_HEX_MAP = {\n  10: \"A\",\n  11: \"B\",\n  12: \"C\",\n  13: \"D\",\n  14: \"E\",\n  15: \"F\"\n};\nconst hexOne = (value) => {\n  value = Math.min(Math.round(value), 255);\n  const high = Math.floor(value / 16);\n  const low = value % 16;\n  return `${INT_HEX_MAP[high] || high}${INT_HEX_MAP[low] || low}`;\n};\nconst toHex = function({ r, g, b }) {\n  if (Number.isNaN(+r) || Number.isNaN(+g) || Number.isNaN(+b))\n    return \"\";\n  return `#${hexOne(r)}${hexOne(g)}${hexOne(b)}`;\n};\nconst HEX_INT_MAP = {\n  A: 10,\n  B: 11,\n  C: 12,\n  D: 13,\n  E: 14,\n  F: 15\n};\nconst parseHexChannel = function(hex) {\n  if (hex.length === 2) {\n    return (HEX_INT_MAP[hex[0].toUpperCase()] || +hex[0]) * 16 + (HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1]);\n  }\n  return HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1];\n};\nconst hsl2hsv = function(hue, sat, light) {\n  sat = sat / 100;\n  light = light / 100;\n  let smin = sat;\n  const lmin = Math.max(light, 0.01);\n  light *= 2;\n  sat *= light <= 1 ? light : 2 - light;\n  smin *= lmin <= 1 ? lmin : 2 - lmin;\n  const v = (light + sat) / 2;\n  const sv = light === 0 ? 2 * smin / (lmin + smin) : 2 * sat / (light + sat);\n  return {\n    h: hue,\n    s: sv * 100,\n    v: v * 100\n  };\n};\nconst rgb2hsv = (r, g, b) => {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  let h;\n  const v = max;\n  const d = max - min;\n  const s = max === 0 ? 0 : d / max;\n  if (max === min) {\n    h = 0;\n  } else {\n    switch (max) {\n      case r: {\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      }\n      case g: {\n        h = (b - r) / d + 2;\n        break;\n      }\n      case b: {\n        h = (r - g) / d + 4;\n        break;\n      }\n    }\n    h /= 6;\n  }\n  return { h: h * 360, s: s * 100, v: v * 100 };\n};\nconst hsv2rgb = function(h, s, v) {\n  h = bound01(h, 360) * 6;\n  s = bound01(s, 100);\n  v = bound01(v, 100);\n  const i = Math.floor(h);\n  const f = h - i;\n  const p = v * (1 - s);\n  const q = v * (1 - f * s);\n  const t = v * (1 - (1 - f) * s);\n  const mod = i % 6;\n  const r = [v, q, p, p, t, v][mod];\n  const g = [t, v, v, q, p, p][mod];\n  const b = [p, p, t, v, v, q][mod];\n  return {\n    r: Math.round(r * 255),\n    g: Math.round(g * 255),\n    b: Math.round(b * 255)\n  };\n};\nclass Color {\n  constructor(options = {}) {\n    this._hue = 0;\n    this._saturation = 100;\n    this._value = 100;\n    this._alpha = 100;\n    this.enableAlpha = false;\n    this.format = \"hex\";\n    this.value = \"\";\n    for (const option in options) {\n      if (hasOwn(options, option)) {\n        this[option] = options[option];\n      }\n    }\n    if (options.value) {\n      this.fromString(options.value);\n    } else {\n      this.doOnChange();\n    }\n  }\n  set(prop, value) {\n    if (arguments.length === 1 && typeof prop === \"object\") {\n      for (const p in prop) {\n        if (hasOwn(prop, p)) {\n          this.set(p, prop[p]);\n        }\n      }\n      return;\n    }\n    ;\n    this[`_${prop}`] = value;\n    this.doOnChange();\n  }\n  get(prop) {\n    if (prop === \"alpha\") {\n      return Math.floor(this[`_${prop}`]);\n    }\n    return this[`_${prop}`];\n  }\n  toRgb() {\n    return hsv2rgb(this._hue, this._saturation, this._value);\n  }\n  fromString(value) {\n    if (!value) {\n      this._hue = 0;\n      this._saturation = 100;\n      this._value = 100;\n      this.doOnChange();\n      return;\n    }\n    const fromHSV = (h, s, v) => {\n      this._hue = Math.max(0, Math.min(360, h));\n      this._saturation = Math.max(0, Math.min(100, s));\n      this._value = Math.max(0, Math.min(100, v));\n      this.doOnChange();\n    };\n    if (value.includes(\"hsl\")) {\n      const parts = value.replace(/hsla|hsl|\\(|\\)/gm, \"\").split(/\\s|,/g).filter((val) => val !== \"\").map((val, index) => index > 2 ? Number.parseFloat(val) : Number.parseInt(val, 10));\n      if (parts.length === 4) {\n        this._alpha = Number.parseFloat(parts[3]) * 100;\n      } else if (parts.length === 3) {\n        this._alpha = 100;\n      }\n      if (parts.length >= 3) {\n        const { h, s, v } = hsl2hsv(parts[0], parts[1], parts[2]);\n        fromHSV(h, s, v);\n      }\n    } else if (value.includes(\"hsv\")) {\n      const parts = value.replace(/hsva|hsv|\\(|\\)/gm, \"\").split(/\\s|,/g).filter((val) => val !== \"\").map((val, index) => index > 2 ? Number.parseFloat(val) : Number.parseInt(val, 10));\n      if (parts.length === 4) {\n        this._alpha = Number.parseFloat(parts[3]) * 100;\n      } else if (parts.length === 3) {\n        this._alpha = 100;\n      }\n      if (parts.length >= 3) {\n        fromHSV(parts[0], parts[1], parts[2]);\n      }\n    } else if (value.includes(\"rgb\")) {\n      const parts = value.replace(/rgba|rgb|\\(|\\)/gm, \"\").split(/\\s|,/g).filter((val) => val !== \"\").map((val, index) => index > 2 ? Number.parseFloat(val) : Number.parseInt(val, 10));\n      if (parts.length === 4) {\n        this._alpha = Number.parseFloat(parts[3]) * 100;\n      } else if (parts.length === 3) {\n        this._alpha = 100;\n      }\n      if (parts.length >= 3) {\n        const { h, s, v } = rgb2hsv(parts[0], parts[1], parts[2]);\n        fromHSV(h, s, v);\n      }\n    } else if (value.includes(\"#\")) {\n      const hex = value.replace(\"#\", \"\").trim();\n      if (!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(hex))\n        return;\n      let r, g, b;\n      if (hex.length === 3) {\n        r = parseHexChannel(hex[0] + hex[0]);\n        g = parseHexChannel(hex[1] + hex[1]);\n        b = parseHexChannel(hex[2] + hex[2]);\n      } else if (hex.length === 6 || hex.length === 8) {\n        r = parseHexChannel(hex.slice(0, 2));\n        g = parseHexChannel(hex.slice(2, 4));\n        b = parseHexChannel(hex.slice(4, 6));\n      }\n      if (hex.length === 8) {\n        this._alpha = parseHexChannel(hex.slice(6)) / 255 * 100;\n      } else if (hex.length === 3 || hex.length === 6) {\n        this._alpha = 100;\n      }\n      const { h, s, v } = rgb2hsv(r, g, b);\n      fromHSV(h, s, v);\n    }\n  }\n  compare(color) {\n    return Math.abs(color._hue - this._hue) < 2 && Math.abs(color._saturation - this._saturation) < 1 && Math.abs(color._value - this._value) < 1 && Math.abs(color._alpha - this._alpha) < 1;\n  }\n  doOnChange() {\n    const { _hue, _saturation, _value, _alpha, format } = this;\n    if (this.enableAlpha) {\n      switch (format) {\n        case \"hsl\": {\n          const hsl = hsv2hsl(_hue, _saturation / 100, _value / 100);\n          this.value = `hsla(${_hue}, ${Math.round(hsl[1] * 100)}%, ${Math.round(hsl[2] * 100)}%, ${this.get(\"alpha\") / 100})`;\n          break;\n        }\n        case \"hsv\": {\n          this.value = `hsva(${_hue}, ${Math.round(_saturation)}%, ${Math.round(_value)}%, ${this.get(\"alpha\") / 100})`;\n          break;\n        }\n        case \"hex\": {\n          this.value = `${toHex(hsv2rgb(_hue, _saturation, _value))}${hexOne(_alpha * 255 / 100)}`;\n          break;\n        }\n        default: {\n          const { r, g, b } = hsv2rgb(_hue, _saturation, _value);\n          this.value = `rgba(${r}, ${g}, ${b}, ${this.get(\"alpha\") / 100})`;\n        }\n      }\n    } else {\n      switch (format) {\n        case \"hsl\": {\n          const hsl = hsv2hsl(_hue, _saturation / 100, _value / 100);\n          this.value = `hsl(${_hue}, ${Math.round(hsl[1] * 100)}%, ${Math.round(hsl[2] * 100)}%)`;\n          break;\n        }\n        case \"hsv\": {\n          this.value = `hsv(${_hue}, ${Math.round(_saturation)}%, ${Math.round(_value)}%)`;\n          break;\n        }\n        case \"rgb\": {\n          const { r, g, b } = hsv2rgb(_hue, _saturation, _value);\n          this.value = `rgb(${r}, ${g}, ${b})`;\n          break;\n        }\n        default: {\n          this.value = toHex(hsv2rgb(_hue, _saturation, _value));\n        }\n      }\n    }\n  }\n}\n\nexport { Color as default };\n//# sourceMappingURL=color.mjs.map\n","import { defineComponent, inject, ref, watch, watchEffect, openBlock, createElementBlock, normalizeClass, createElementVNode, Fragment, renderList, normalizeStyle } from 'vue';\nimport '../../../../hooks/index.mjs';\nimport { colorPickerContextKey } from '../color-picker.mjs';\nimport Color from '../utils/color.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\n\nconst _sfc_main = defineComponent({\n  props: {\n    colors: {\n      type: Array,\n      required: true\n    },\n    color: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const ns = useNamespace(\"color-predefine\");\n    const { currentColor } = inject(colorPickerContextKey);\n    const rgbaColors = ref(parseColors(props.colors, props.color));\n    watch(() => currentColor.value, (val) => {\n      const color = new Color();\n      color.fromString(val);\n      rgbaColors.value.forEach((item) => {\n        item.selected = color.compare(item);\n      });\n    });\n    watchEffect(() => {\n      rgbaColors.value = parseColors(props.colors, props.color);\n    });\n    function handleSelect(index) {\n      props.color.fromString(props.colors[index]);\n    }\n    function parseColors(colors, color) {\n      return colors.map((value) => {\n        const c = new Color();\n        c.enableAlpha = true;\n        c.format = \"rgba\";\n        c.fromString(value);\n        c.selected = c.value === color.value;\n        return c;\n      });\n    }\n    return {\n      rgbaColors,\n      handleSelect,\n      ns\n    };\n  }\n});\nconst _hoisted_1 = [\"onClick\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass(_ctx.ns.b())\n  }, [\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.ns.e(\"colors\"))\n    }, [\n      (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.rgbaColors, (item, index) => {\n        return openBlock(), createElementBlock(\"div\", {\n          key: _ctx.colors[index],\n          class: normalizeClass([\n            _ctx.ns.e(\"color-selector\"),\n            _ctx.ns.is(\"alpha\", item._alpha < 100),\n            { selected: item.selected }\n          ]),\n          onClick: ($event) => _ctx.handleSelect(index)\n        }, [\n          createElementVNode(\"div\", {\n            style: normalizeStyle({ backgroundColor: item.value })\n          }, null, 4)\n        ], 10, _hoisted_1);\n      }), 128))\n    ], 2)\n  ], 2);\n}\nvar Predefine = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue\"]]);\n\nexport { Predefine as default };\n//# sourceMappingURL=predefine.mjs.map\n","import { defineComponent, getCurrentInstance, ref, computed, watch, onMounted, createElementVNode, openBlock, createElementBlock, normalizeClass, normalizeStyle } from 'vue';\nimport '../../../../utils/index.mjs';\nimport '../../../../hooks/index.mjs';\nimport { draggable } from '../utils/draggable.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nimport { getClientXY } from '../../../../utils/dom/position.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElSlPanel\",\n  props: {\n    color: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const ns = useNamespace(\"color-svpanel\");\n    const instance = getCurrentInstance();\n    const cursorTop = ref(0);\n    const cursorLeft = ref(0);\n    const background = ref(\"hsl(0, 100%, 50%)\");\n    const colorValue = computed(() => {\n      const hue = props.color.get(\"hue\");\n      const value = props.color.get(\"value\");\n      return { hue, value };\n    });\n    function update() {\n      const saturation = props.color.get(\"saturation\");\n      const value = props.color.get(\"value\");\n      const el = instance.vnode.el;\n      const { clientWidth: width, clientHeight: height } = el;\n      cursorLeft.value = saturation * width / 100;\n      cursorTop.value = (100 - value) * height / 100;\n      background.value = `hsl(${props.color.get(\"hue\")}, 100%, 50%)`;\n    }\n    function handleDrag(event) {\n      const el = instance.vnode.el;\n      const rect = el.getBoundingClientRect();\n      const { clientX, clientY } = getClientXY(event);\n      let left = clientX - rect.left;\n      let top = clientY - rect.top;\n      left = Math.max(0, left);\n      left = Math.min(left, rect.width);\n      top = Math.max(0, top);\n      top = Math.min(top, rect.height);\n      cursorLeft.value = left;\n      cursorTop.value = top;\n      props.color.set({\n        saturation: left / rect.width * 100,\n        value: 100 - top / rect.height * 100\n      });\n    }\n    watch(() => colorValue.value, () => {\n      update();\n    });\n    onMounted(() => {\n      draggable(instance.vnode.el, {\n        drag: (event) => {\n          handleDrag(event);\n        },\n        end: (event) => {\n          handleDrag(event);\n        }\n      });\n      update();\n    });\n    return {\n      cursorTop,\n      cursorLeft,\n      background,\n      colorValue,\n      handleDrag,\n      update,\n      ns\n    };\n  }\n});\nconst _hoisted_1 = /* @__PURE__ */ createElementVNode(\"div\", null, null, -1);\nconst _hoisted_2 = [\n  _hoisted_1\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass(_ctx.ns.b()),\n    style: normalizeStyle({\n      backgroundColor: _ctx.background\n    })\n  }, [\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.ns.e(\"white\"))\n    }, null, 2),\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.ns.e(\"black\"))\n    }, null, 2),\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.ns.e(\"cursor\")),\n      style: normalizeStyle({\n        top: _ctx.cursorTop + \"px\",\n        left: _ctx.cursorLeft + \"px\"\n      })\n    }, _hoisted_2, 6)\n  ], 6);\n}\nvar SvPanel = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue\"]]);\n\nexport { SvPanel as default };\n//# sourceMappingURL=sv-panel.mjs.map\n","import { defineComponent, ref, reactive, computed, nextTick, onMounted, watch, provide, openBlock, createBlock, unref, withCtx, withDirectives, createElementBlock, createElementVNode, normalizeClass, createVNode, createCommentVNode, withKeys, createTextVNode, toDisplayString, normalizeStyle, vShow } from 'vue';\nimport { debounce } from 'lodash-unified';\nimport { ElButton } from '../../button/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport '../../../directives/index.mjs';\nimport { ElTooltip } from '../../tooltip/index.mjs';\nimport { ElInput } from '../../input/index.mjs';\nimport '../../form/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../constants/index.mjs';\nimport '../../../utils/index.mjs';\nimport { ArrowDown, Close } from '@element-plus/icons-vue';\nimport AlphaSlider from './components/alpha-slider.mjs';\nimport HueSlider from './components/hue-slider.mjs';\nimport Predefine from './components/predefine.mjs';\nimport SvPanel from './components/sv-panel.mjs';\nimport Color from './utils/color.mjs';\nimport { colorPickerProps, colorPickerEmits, colorPickerContextKey } from './color-picker.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useFormItem, useFormItemInputId } from '../../form/src/hooks/use-form-item.mjs';\nimport { useFormSize, useFormDisabled } from '../../form/src/hooks/use-form-common-props.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\nimport ClickOutside from '../../../directives/click-outside/index.mjs';\n\nconst _hoisted_1 = [\"id\", \"aria-label\", \"aria-labelledby\", \"aria-description\", \"tabindex\", \"onKeydown\"];\nconst __default__ = defineComponent({\n  name: \"ElColorPicker\"\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: colorPickerProps,\n  emits: colorPickerEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const { t } = useLocale();\n    const ns = useNamespace(\"color\");\n    const { formItem } = useFormItem();\n    const colorSize = useFormSize();\n    const colorDisabled = useFormDisabled();\n    const { inputId: buttonId, isLabeledByFormItem } = useFormItemInputId(props, {\n      formItemContext: formItem\n    });\n    const hue = ref();\n    const sv = ref();\n    const alpha = ref();\n    const popper = ref();\n    let shouldActiveChange = true;\n    const color = reactive(new Color({\n      enableAlpha: props.showAlpha,\n      format: props.colorFormat || \"\",\n      value: props.modelValue\n    }));\n    const showPicker = ref(false);\n    const showPanelColor = ref(false);\n    const customInput = ref(\"\");\n    const displayedColor = computed(() => {\n      if (!props.modelValue && !showPanelColor.value) {\n        return \"transparent\";\n      }\n      return displayedRgb(color, props.showAlpha);\n    });\n    const currentColor = computed(() => {\n      return !props.modelValue && !showPanelColor.value ? \"\" : color.value;\n    });\n    const buttonAriaLabel = computed(() => {\n      return !isLabeledByFormItem.value ? props.label || t(\"el.colorpicker.defaultLabel\") : void 0;\n    });\n    const buttonAriaLabelledby = computed(() => {\n      return isLabeledByFormItem.value ? formItem == null ? void 0 : formItem.labelId : void 0;\n    });\n    const btnKls = computed(() => {\n      return [\n        ns.b(\"picker\"),\n        ns.is(\"disabled\", colorDisabled.value),\n        ns.bm(\"picker\", colorSize.value)\n      ];\n    });\n    function displayedRgb(color2, showAlpha) {\n      if (!(color2 instanceof Color)) {\n        throw new TypeError(\"color should be instance of _color Class\");\n      }\n      const { r, g, b } = color2.toRgb();\n      return showAlpha ? `rgba(${r}, ${g}, ${b}, ${color2.get(\"alpha\") / 100})` : `rgb(${r}, ${g}, ${b})`;\n    }\n    function setShowPicker(value) {\n      showPicker.value = value;\n    }\n    const debounceSetShowPicker = debounce(setShowPicker, 100);\n    function show() {\n      if (colorDisabled.value)\n        return;\n      setShowPicker(true);\n    }\n    function hide() {\n      debounceSetShowPicker(false);\n      resetColor();\n    }\n    function resetColor() {\n      nextTick(() => {\n        if (props.modelValue) {\n          color.fromString(props.modelValue);\n        } else {\n          color.value = \"\";\n          nextTick(() => {\n            showPanelColor.value = false;\n          });\n        }\n      });\n    }\n    function handleTrigger() {\n      if (colorDisabled.value)\n        return;\n      debounceSetShowPicker(!showPicker.value);\n    }\n    function handleConfirm() {\n      color.fromString(customInput.value);\n    }\n    function confirmValue() {\n      const value = color.value;\n      emit(UPDATE_MODEL_EVENT, value);\n      emit(\"change\", value);\n      if (props.validateEvent) {\n        formItem == null ? void 0 : formItem.validate(\"change\").catch((err) => debugWarn(err));\n      }\n      debounceSetShowPicker(false);\n      nextTick(() => {\n        const newColor = new Color({\n          enableAlpha: props.showAlpha,\n          format: props.colorFormat || \"\",\n          value: props.modelValue\n        });\n        if (!color.compare(newColor)) {\n          resetColor();\n        }\n      });\n    }\n    function clear() {\n      debounceSetShowPicker(false);\n      emit(UPDATE_MODEL_EVENT, null);\n      emit(\"change\", null);\n      if (props.modelValue !== null && props.validateEvent) {\n        formItem == null ? void 0 : formItem.validate(\"change\").catch((err) => debugWarn(err));\n      }\n      resetColor();\n    }\n    onMounted(() => {\n      if (props.modelValue) {\n        customInput.value = currentColor.value;\n      }\n    });\n    watch(() => props.modelValue, (newVal) => {\n      if (!newVal) {\n        showPanelColor.value = false;\n      } else if (newVal && newVal !== color.value) {\n        shouldActiveChange = false;\n        color.fromString(newVal);\n      }\n    });\n    watch(() => currentColor.value, (val) => {\n      customInput.value = val;\n      shouldActiveChange && emit(\"activeChange\", val);\n      shouldActiveChange = true;\n    });\n    watch(() => color.value, () => {\n      if (!props.modelValue && !showPanelColor.value) {\n        showPanelColor.value = true;\n      }\n    });\n    watch(() => showPicker.value, () => {\n      nextTick(() => {\n        var _a, _b, _c;\n        (_a = hue.value) == null ? void 0 : _a.update();\n        (_b = sv.value) == null ? void 0 : _b.update();\n        (_c = alpha.value) == null ? void 0 : _c.update();\n      });\n    });\n    provide(colorPickerContextKey, {\n      currentColor\n    });\n    expose({\n      color,\n      show,\n      hide\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(ElTooltip), {\n        ref_key: \"popper\",\n        ref: popper,\n        visible: showPicker.value,\n        \"show-arrow\": false,\n        \"fallback-placements\": [\"bottom\", \"top\", \"right\", \"left\"],\n        offset: 0,\n        \"gpu-acceleration\": false,\n        \"popper-class\": [unref(ns).be(\"picker\", \"panel\"), unref(ns).b(\"dropdown\"), _ctx.popperClass],\n        \"stop-popper-mouse-event\": false,\n        effect: \"light\",\n        trigger: \"click\",\n        transition: `${unref(ns).namespace.value}-zoom-in-top`,\n        persistent: \"\"\n      }, {\n        content: withCtx(() => [\n          withDirectives((openBlock(), createElementBlock(\"div\", null, [\n            createElementVNode(\"div\", {\n              class: normalizeClass(unref(ns).be(\"dropdown\", \"main-wrapper\"))\n            }, [\n              createVNode(HueSlider, {\n                ref_key: \"hue\",\n                ref: hue,\n                class: \"hue-slider\",\n                color: unref(color),\n                vertical: \"\"\n              }, null, 8, [\"color\"]),\n              createVNode(SvPanel, {\n                ref: \"svPanel\",\n                color: unref(color)\n              }, null, 8, [\"color\"])\n            ], 2),\n            _ctx.showAlpha ? (openBlock(), createBlock(AlphaSlider, {\n              key: 0,\n              ref_key: \"alpha\",\n              ref: alpha,\n              color: unref(color)\n            }, null, 8, [\"color\"])) : createCommentVNode(\"v-if\", true),\n            _ctx.predefine ? (openBlock(), createBlock(Predefine, {\n              key: 1,\n              ref: \"predefine\",\n              color: unref(color),\n              colors: _ctx.predefine\n            }, null, 8, [\"color\", \"colors\"])) : createCommentVNode(\"v-if\", true),\n            createElementVNode(\"div\", {\n              class: normalizeClass(unref(ns).be(\"dropdown\", \"btns\"))\n            }, [\n              createElementVNode(\"span\", {\n                class: normalizeClass(unref(ns).be(\"dropdown\", \"value\"))\n              }, [\n                createVNode(unref(ElInput), {\n                  modelValue: customInput.value,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => customInput.value = $event),\n                  \"validate-event\": false,\n                  size: \"small\",\n                  onKeyup: withKeys(handleConfirm, [\"enter\"]),\n                  onBlur: handleConfirm\n                }, null, 8, [\"modelValue\", \"onKeyup\"])\n              ], 2),\n              createVNode(unref(ElButton), {\n                class: normalizeClass(unref(ns).be(\"dropdown\", \"link-btn\")),\n                text: \"\",\n                size: \"small\",\n                onClick: clear\n              }, {\n                default: withCtx(() => [\n                  createTextVNode(toDisplayString(unref(t)(\"el.colorpicker.clear\")), 1)\n                ]),\n                _: 1\n              }, 8, [\"class\"]),\n              createVNode(unref(ElButton), {\n                plain: \"\",\n                size: \"small\",\n                class: normalizeClass(unref(ns).be(\"dropdown\", \"btn\")),\n                onClick: confirmValue\n              }, {\n                default: withCtx(() => [\n                  createTextVNode(toDisplayString(unref(t)(\"el.colorpicker.confirm\")), 1)\n                ]),\n                _: 1\n              }, 8, [\"class\"])\n            ], 2)\n          ])), [\n            [unref(ClickOutside), hide]\n          ])\n        ]),\n        default: withCtx(() => [\n          createElementVNode(\"div\", {\n            id: unref(buttonId),\n            class: normalizeClass(unref(btnKls)),\n            role: \"button\",\n            \"aria-label\": unref(buttonAriaLabel),\n            \"aria-labelledby\": unref(buttonAriaLabelledby),\n            \"aria-description\": unref(t)(\"el.colorpicker.description\", { color: _ctx.modelValue || \"\" }),\n            tabindex: _ctx.tabindex,\n            onKeydown: withKeys(handleTrigger, [\"enter\"])\n          }, [\n            unref(colorDisabled) ? (openBlock(), createElementBlock(\"div\", {\n              key: 0,\n              class: normalizeClass(unref(ns).be(\"picker\", \"mask\"))\n            }, null, 2)) : createCommentVNode(\"v-if\", true),\n            createElementVNode(\"div\", {\n              class: normalizeClass(unref(ns).be(\"picker\", \"trigger\")),\n              onClick: handleTrigger\n            }, [\n              createElementVNode(\"span\", {\n                class: normalizeClass([unref(ns).be(\"picker\", \"color\"), unref(ns).is(\"alpha\", _ctx.showAlpha)])\n              }, [\n                createElementVNode(\"span\", {\n                  class: normalizeClass(unref(ns).be(\"picker\", \"color-inner\")),\n                  style: normalizeStyle({\n                    backgroundColor: unref(displayedColor)\n                  })\n                }, [\n                  withDirectives(createVNode(unref(ElIcon), {\n                    class: normalizeClass([unref(ns).be(\"picker\", \"icon\"), unref(ns).is(\"icon-arrow-down\")])\n                  }, {\n                    default: withCtx(() => [\n                      createVNode(unref(ArrowDown))\n                    ]),\n                    _: 1\n                  }, 8, [\"class\"]), [\n                    [vShow, _ctx.modelValue || showPanelColor.value]\n                  ]),\n                  !_ctx.modelValue && !showPanelColor.value ? (openBlock(), createBlock(unref(ElIcon), {\n                    key: 0,\n                    class: normalizeClass([unref(ns).be(\"picker\", \"empty\"), unref(ns).is(\"icon-close\")])\n                  }, {\n                    default: withCtx(() => [\n                      createVNode(unref(Close))\n                    ]),\n                    _: 1\n                  }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n                ], 6)\n              ], 2)\n            ], 2)\n          ], 42, _hoisted_1)\n        ]),\n        _: 1\n      }, 8, [\"visible\", \"popper-class\", \"transition\"]);\n    };\n  }\n});\nvar ColorPicker = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue\"]]);\n\nexport { ColorPicker as default };\n//# sourceMappingURL=color-picker2.mjs.map\n","import '../../utils/index.mjs';\nimport ColorPicker from './src/color-picker2.mjs';\nexport { colorPickerContextKey, colorPickerEmits, colorPickerProps } from './src/color-picker.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElColorPicker = withInstall(ColorPicker);\n\nexport { ElColorPicker, ElColorPicker as default };\n//# sourceMappingURL=index.mjs.map\n","import { defineComponent, createVNode, renderSlot, h } from 'vue';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useSameTarget } from '../../../hooks/use-same-target/index.mjs';\nimport { PatchFlags } from '../../../utils/vue/vnode.mjs';\n\nconst overlayProps = buildProps({\n  mask: {\n    type: Boolean,\n    default: true\n  },\n  customMaskEvent: {\n    type: Boolean,\n    default: false\n  },\n  overlayClass: {\n    type: definePropType([\n      String,\n      Array,\n      Object\n    ])\n  },\n  zIndex: {\n    type: definePropType([String, Number])\n  }\n});\nconst overlayEmits = {\n  click: (evt) => evt instanceof MouseEvent\n};\nconst BLOCK = \"overlay\";\nvar Overlay = defineComponent({\n  name: \"ElOverlay\",\n  props: overlayProps,\n  emits: overlayEmits,\n  setup(props, { slots, emit }) {\n    const ns = useNamespace(BLOCK);\n    const onMaskClick = (e) => {\n      emit(\"click\", e);\n    };\n    const { onClick, onMousedown, onMouseup } = useSameTarget(props.customMaskEvent ? void 0 : onMaskClick);\n    return () => {\n      return props.mask ? createVNode(\"div\", {\n        class: [ns.b(), props.overlayClass],\n        style: {\n          zIndex: props.zIndex\n        },\n        onClick,\n        onMousedown,\n        onMouseup\n      }, [renderSlot(slots, \"default\")], PatchFlags.STYLE | PatchFlags.CLASS | PatchFlags.PROPS, [\"onClick\", \"onMouseup\", \"onMousedown\"]) : h(\"div\", {\n        class: props.overlayClass,\n        style: {\n          zIndex: props.zIndex,\n          position: \"fixed\",\n          top: \"0px\",\n          right: \"0px\",\n          bottom: \"0px\",\n          left: \"0px\"\n        }\n      }, [renderSlot(slots, \"default\")]);\n    };\n  }\n});\n\nexport { Overlay as default, overlayEmits, overlayProps };\n//# sourceMappingURL=overlay.mjs.map\n","import Overlay from './src/overlay.mjs';\nexport { overlayEmits, overlayProps } from './src/overlay.mjs';\n\nconst ElOverlay = Overlay;\n\nexport { ElOverlay, ElOverlay as default };\n//# sourceMappingURL=index.mjs.map\n","const dialogInjectionKey = Symbol(\"dialogInjectionKey\");\n\nexport { dialogInjectionKey };\n//# sourceMappingURL=constants.mjs.map\n","import '../../../utils/index.mjs';\nimport { buildProps } from '../../../utils/vue/props/runtime.mjs';\nimport { iconPropType } from '../../../utils/vue/icon.mjs';\n\nconst dialogContentProps = buildProps({\n  center: {\n    type: Boolean,\n    default: false\n  },\n  alignCenter: {\n    type: Boolean,\n    default: false\n  },\n  closeIcon: {\n    type: iconPropType\n  },\n  customClass: {\n    type: String,\n    default: \"\"\n  },\n  draggable: {\n    type: Boolean,\n    default: false\n  },\n  fullscreen: {\n    type: Boolean,\n    default: false\n  },\n  showClose: {\n    type: Boolean,\n    default: true\n  },\n  title: {\n    type: String,\n    default: \"\"\n  }\n});\nconst dialogContentEmits = {\n  close: () => true\n};\n\nexport { dialogContentEmits, dialogContentProps };\n//# sourceMappingURL=dialog-content.mjs.map\n","import { defineComponent, inject, computed, openBlock, createElementBlock, unref, normalizeClass, normalizeStyle, createElementVNode, renderSlot, toDisplayString, createVNode, withCtx, createBlock, resolveDynamicComponent, createCommentVNode } from 'vue';\nimport { ElIcon } from '../../icon/index.mjs';\nimport '../../focus-trap/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../utils/index.mjs';\nimport { dialogInjectionKey } from './constants.mjs';\nimport { dialogContentProps, dialogContentEmits } from './dialog-content.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { CloseComponents } from '../../../utils/vue/icon.mjs';\nimport { FOCUS_TRAP_INJECTION_KEY } from '../../focus-trap/src/tokens.mjs';\nimport { composeRefs } from '../../../utils/vue/refs.mjs';\nimport { useDraggable } from '../../../hooks/use-draggable/index.mjs';\n\nconst _hoisted_1 = [\"aria-label\"];\nconst _hoisted_2 = [\"id\"];\nconst __default__ = defineComponent({ name: \"ElDialogContent\" });\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: dialogContentProps,\n  emits: dialogContentEmits,\n  setup(__props) {\n    const props = __props;\n    const { t } = useLocale();\n    const { Close } = CloseComponents;\n    const { dialogRef, headerRef, bodyId, ns, style } = inject(dialogInjectionKey);\n    const { focusTrapRef } = inject(FOCUS_TRAP_INJECTION_KEY);\n    const composedDialogRef = composeRefs(focusTrapRef, dialogRef);\n    const draggable = computed(() => props.draggable);\n    useDraggable(dialogRef, headerRef, draggable);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref: unref(composedDialogRef),\n        class: normalizeClass([\n          unref(ns).b(),\n          unref(ns).is(\"fullscreen\", _ctx.fullscreen),\n          unref(ns).is(\"draggable\", unref(draggable)),\n          unref(ns).is(\"align-center\", _ctx.alignCenter),\n          { [unref(ns).m(\"center\")]: _ctx.center },\n          _ctx.customClass\n        ]),\n        style: normalizeStyle(unref(style)),\n        tabindex: \"-1\"\n      }, [\n        createElementVNode(\"header\", {\n          ref_key: \"headerRef\",\n          ref: headerRef,\n          class: normalizeClass(unref(ns).e(\"header\"))\n        }, [\n          renderSlot(_ctx.$slots, \"header\", {}, () => [\n            createElementVNode(\"span\", {\n              role: \"heading\",\n              class: normalizeClass(unref(ns).e(\"title\"))\n            }, toDisplayString(_ctx.title), 3)\n          ]),\n          _ctx.showClose ? (openBlock(), createElementBlock(\"button\", {\n            key: 0,\n            \"aria-label\": unref(t)(\"el.dialog.close\"),\n            class: normalizeClass(unref(ns).e(\"headerbtn\")),\n            type: \"button\",\n            onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"close\"))\n          }, [\n            createVNode(unref(ElIcon), {\n              class: normalizeClass(unref(ns).e(\"close\"))\n            }, {\n              default: withCtx(() => [\n                (openBlock(), createBlock(resolveDynamicComponent(_ctx.closeIcon || unref(Close))))\n              ]),\n              _: 1\n            }, 8, [\"class\"])\n          ], 10, _hoisted_1)) : createCommentVNode(\"v-if\", true)\n        ], 2),\n        createElementVNode(\"div\", {\n          id: unref(bodyId),\n          class: normalizeClass(unref(ns).e(\"body\"))\n        }, [\n          renderSlot(_ctx.$slots, \"default\")\n        ], 10, _hoisted_2),\n        _ctx.$slots.footer ? (openBlock(), createElementBlock(\"footer\", {\n          key: 0,\n          class: normalizeClass(unref(ns).e(\"footer\"))\n        }, [\n          renderSlot(_ctx.$slots, \"footer\")\n        ], 2)) : createCommentVNode(\"v-if\", true)\n      ], 6);\n    };\n  }\n});\nvar ElDialogContent = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue\"]]);\n\nexport { ElDialogContent as default };\n//# sourceMappingURL=dialog-content2.mjs.map\n","import '../../../utils/index.mjs';\nimport '../../../constants/index.mjs';\nimport { dialogContentProps } from './dialog-content.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { isBoolean } from '../../../utils/types.mjs';\n\nconst dialogProps = buildProps({\n  ...dialogContentProps,\n  appendToBody: {\n    type: Boolean,\n    default: false\n  },\n  beforeClose: {\n    type: definePropType(Function)\n  },\n  destroyOnClose: {\n    type: Boolean,\n    default: false\n  },\n  closeOnClickModal: {\n    type: Boolean,\n    default: true\n  },\n  closeOnPressEscape: {\n    type: Boolean,\n    default: true\n  },\n  lockScroll: {\n    type: Boolean,\n    default: true\n  },\n  modal: {\n    type: Boolean,\n    default: true\n  },\n  openDelay: {\n    type: Number,\n    default: 0\n  },\n  closeDelay: {\n    type: Number,\n    default: 0\n  },\n  top: {\n    type: String\n  },\n  modelValue: {\n    type: Boolean,\n    default: false\n  },\n  modalClass: String,\n  width: {\n    type: [String, Number]\n  },\n  zIndex: {\n    type: Number\n  },\n  trapFocus: {\n    type: Boolean,\n    default: false\n  }\n});\nconst dialogEmits = {\n  open: () => true,\n  opened: () => true,\n  close: () => true,\n  closed: () => true,\n  [UPDATE_MODEL_EVENT]: (value) => isBoolean(value),\n  openAutoFocus: () => true,\n  closeAutoFocus: () => true\n};\n\nexport { dialogEmits, dialogProps };\n//# sourceMappingURL=dialog.mjs.map\n","import { getCurrentInstance, ref, computed, watch, nextTick, onMounted } from 'vue';\nimport { useTimeoutFn, isClient } from '@vueuse/core';\nimport '../../../hooks/index.mjs';\nimport '../../../constants/index.mjs';\nimport '../../../utils/index.mjs';\nimport '../../config-provider/index.mjs';\nimport { useZIndex } from '../../../hooks/use-z-index/index.mjs';\nimport { useId } from '../../../hooks/use-id/index.mjs';\nimport { useGlobalConfig } from '../../config-provider/src/hooks/use-global-config.mjs';\nimport { defaultNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { addUnit } from '../../../utils/dom/style.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { useLockscreen } from '../../../hooks/use-lockscreen/index.mjs';\n\nconst useDialog = (props, targetRef) => {\n  const instance = getCurrentInstance();\n  const emit = instance.emit;\n  const { nextZIndex } = useZIndex();\n  let lastPosition = \"\";\n  const titleId = useId();\n  const bodyId = useId();\n  const visible = ref(false);\n  const closed = ref(false);\n  const rendered = ref(false);\n  const zIndex = ref(props.zIndex || nextZIndex());\n  let openTimer = void 0;\n  let closeTimer = void 0;\n  const namespace = useGlobalConfig(\"namespace\", defaultNamespace);\n  const style = computed(() => {\n    const style2 = {};\n    const varPrefix = `--${namespace.value}-dialog`;\n    if (!props.fullscreen) {\n      if (props.top) {\n        style2[`${varPrefix}-margin-top`] = props.top;\n      }\n      if (props.width) {\n        style2[`${varPrefix}-width`] = addUnit(props.width);\n      }\n    }\n    return style2;\n  });\n  const overlayDialogStyle = computed(() => {\n    if (props.alignCenter) {\n      return { display: \"flex\" };\n    }\n    return {};\n  });\n  function afterEnter() {\n    emit(\"opened\");\n  }\n  function afterLeave() {\n    emit(\"closed\");\n    emit(UPDATE_MODEL_EVENT, false);\n    if (props.destroyOnClose) {\n      rendered.value = false;\n    }\n  }\n  function beforeLeave() {\n    emit(\"close\");\n  }\n  function open() {\n    closeTimer == null ? void 0 : closeTimer();\n    openTimer == null ? void 0 : openTimer();\n    if (props.openDelay && props.openDelay > 0) {\n      ;\n      ({ stop: openTimer } = useTimeoutFn(() => doOpen(), props.openDelay));\n    } else {\n      doOpen();\n    }\n  }\n  function close() {\n    openTimer == null ? void 0 : openTimer();\n    closeTimer == null ? void 0 : closeTimer();\n    if (props.closeDelay && props.closeDelay > 0) {\n      ;\n      ({ stop: closeTimer } = useTimeoutFn(() => doClose(), props.closeDelay));\n    } else {\n      doClose();\n    }\n  }\n  function handleClose() {\n    function hide(shouldCancel) {\n      if (shouldCancel)\n        return;\n      closed.value = true;\n      visible.value = false;\n    }\n    if (props.beforeClose) {\n      props.beforeClose(hide);\n    } else {\n      close();\n    }\n  }\n  function onModalClick() {\n    if (props.closeOnClickModal) {\n      handleClose();\n    }\n  }\n  function doOpen() {\n    if (!isClient)\n      return;\n    visible.value = true;\n  }\n  function doClose() {\n    visible.value = false;\n  }\n  function onOpenAutoFocus() {\n    emit(\"openAutoFocus\");\n  }\n  function onCloseAutoFocus() {\n    emit(\"closeAutoFocus\");\n  }\n  function onFocusoutPrevented(event) {\n    var _a;\n    if (((_a = event.detail) == null ? void 0 : _a.focusReason) === \"pointer\") {\n      event.preventDefault();\n    }\n  }\n  if (props.lockScroll) {\n    useLockscreen(visible);\n  }\n  function onCloseRequested() {\n    if (props.closeOnPressEscape) {\n      handleClose();\n    }\n  }\n  watch(() => props.modelValue, (val) => {\n    if (val) {\n      closed.value = false;\n      open();\n      rendered.value = true;\n      zIndex.value = props.zIndex ? zIndex.value++ : nextZIndex();\n      nextTick(() => {\n        emit(\"open\");\n        if (targetRef.value) {\n          targetRef.value.scrollTop = 0;\n        }\n      });\n    } else {\n      if (visible.value) {\n        close();\n      }\n    }\n  });\n  watch(() => props.fullscreen, (val) => {\n    if (!targetRef.value)\n      return;\n    if (val) {\n      lastPosition = targetRef.value.style.transform;\n      targetRef.value.style.transform = \"\";\n    } else {\n      targetRef.value.style.transform = lastPosition;\n    }\n  });\n  onMounted(() => {\n    if (props.modelValue) {\n      visible.value = true;\n      rendered.value = true;\n      open();\n    }\n  });\n  return {\n    afterEnter,\n    afterLeave,\n    beforeLeave,\n    handleClose,\n    onModalClick,\n    close,\n    doClose,\n    onOpenAutoFocus,\n    onCloseAutoFocus,\n    onCloseRequested,\n    onFocusoutPrevented,\n    titleId,\n    bodyId,\n    closed,\n    style,\n    overlayDialogStyle,\n    rendered,\n    visible,\n    zIndex\n  };\n};\n\nexport { useDialog };\n//# sourceMappingURL=use-dialog.mjs.map\n","import { defineComponent, useSlots, computed, ref, provide, openBlock, createBlock, Teleport, createVNode, Transition, unref, withCtx, withDirectives, createElementVNode, normalizeClass, normalizeStyle, mergeProps, createSlots, renderSlot, createCommentVNode, vShow } from 'vue';\nimport { ElOverlay } from '../../overlay/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../focus-trap/index.mjs';\nimport ElDialogContent from './dialog-content2.mjs';\nimport { dialogInjectionKey } from './constants.mjs';\nimport { dialogProps, dialogEmits } from './dialog.mjs';\nimport { useDialog } from './use-dialog.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useDeprecated } from '../../../hooks/use-deprecated/index.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useSameTarget } from '../../../hooks/use-same-target/index.mjs';\nimport ElFocusTrap from '../../focus-trap/src/focus-trap.mjs';\n\nconst _hoisted_1 = [\"aria-label\", \"aria-labelledby\", \"aria-describedby\"];\nconst __default__ = defineComponent({\n  name: \"ElDialog\",\n  inheritAttrs: false\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: dialogProps,\n  emits: dialogEmits,\n  setup(__props, { expose }) {\n    const props = __props;\n    const slots = useSlots();\n    useDeprecated({\n      scope: \"el-dialog\",\n      from: \"the title slot\",\n      replacement: \"the header slot\",\n      version: \"3.0.0\",\n      ref: \"https://element-plus.org/en-US/component/dialog.html#slots\"\n    }, computed(() => !!slots.title));\n    useDeprecated({\n      scope: \"el-dialog\",\n      from: \"custom-class\",\n      replacement: \"class\",\n      version: \"2.3.0\",\n      ref: \"https://element-plus.org/en-US/component/dialog.html#attributes\",\n      type: \"Attribute\"\n    }, computed(() => !!props.customClass));\n    const ns = useNamespace(\"dialog\");\n    const dialogRef = ref();\n    const headerRef = ref();\n    const dialogContentRef = ref();\n    const {\n      visible,\n      titleId,\n      bodyId,\n      style,\n      overlayDialogStyle,\n      rendered,\n      zIndex,\n      afterEnter,\n      afterLeave,\n      beforeLeave,\n      handleClose,\n      onModalClick,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      onCloseRequested,\n      onFocusoutPrevented\n    } = useDialog(props, dialogRef);\n    provide(dialogInjectionKey, {\n      dialogRef,\n      headerRef,\n      bodyId,\n      ns,\n      rendered,\n      style\n    });\n    const overlayEvent = useSameTarget(onModalClick);\n    const draggable = computed(() => props.draggable && !props.fullscreen);\n    expose({\n      visible,\n      dialogContentRef\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(Teleport, {\n        to: \"body\",\n        disabled: !_ctx.appendToBody\n      }, [\n        createVNode(Transition, {\n          name: \"dialog-fade\",\n          onAfterEnter: unref(afterEnter),\n          onAfterLeave: unref(afterLeave),\n          onBeforeLeave: unref(beforeLeave),\n          persisted: \"\"\n        }, {\n          default: withCtx(() => [\n            withDirectives(createVNode(unref(ElOverlay), {\n              \"custom-mask-event\": \"\",\n              mask: _ctx.modal,\n              \"overlay-class\": _ctx.modalClass,\n              \"z-index\": unref(zIndex)\n            }, {\n              default: withCtx(() => [\n                createElementVNode(\"div\", {\n                  role: \"dialog\",\n                  \"aria-modal\": \"true\",\n                  \"aria-label\": _ctx.title || void 0,\n                  \"aria-labelledby\": !_ctx.title ? unref(titleId) : void 0,\n                  \"aria-describedby\": unref(bodyId),\n                  class: normalizeClass(`${unref(ns).namespace.value}-overlay-dialog`),\n                  style: normalizeStyle(unref(overlayDialogStyle)),\n                  onClick: _cache[0] || (_cache[0] = (...args) => unref(overlayEvent).onClick && unref(overlayEvent).onClick(...args)),\n                  onMousedown: _cache[1] || (_cache[1] = (...args) => unref(overlayEvent).onMousedown && unref(overlayEvent).onMousedown(...args)),\n                  onMouseup: _cache[2] || (_cache[2] = (...args) => unref(overlayEvent).onMouseup && unref(overlayEvent).onMouseup(...args))\n                }, [\n                  createVNode(unref(ElFocusTrap), {\n                    loop: \"\",\n                    trapped: unref(visible),\n                    \"focus-start-el\": \"container\",\n                    onFocusAfterTrapped: unref(onOpenAutoFocus),\n                    onFocusAfterReleased: unref(onCloseAutoFocus),\n                    onFocusoutPrevented: unref(onFocusoutPrevented),\n                    onReleaseRequested: unref(onCloseRequested)\n                  }, {\n                    default: withCtx(() => [\n                      unref(rendered) ? (openBlock(), createBlock(ElDialogContent, mergeProps({\n                        key: 0,\n                        ref_key: \"dialogContentRef\",\n                        ref: dialogContentRef\n                      }, _ctx.$attrs, {\n                        \"custom-class\": _ctx.customClass,\n                        center: _ctx.center,\n                        \"align-center\": _ctx.alignCenter,\n                        \"close-icon\": _ctx.closeIcon,\n                        draggable: unref(draggable),\n                        fullscreen: _ctx.fullscreen,\n                        \"show-close\": _ctx.showClose,\n                        title: _ctx.title,\n                        onClose: unref(handleClose)\n                      }), createSlots({\n                        header: withCtx(() => [\n                          !_ctx.$slots.title ? renderSlot(_ctx.$slots, \"header\", {\n                            key: 0,\n                            close: unref(handleClose),\n                            titleId: unref(titleId),\n                            titleClass: unref(ns).e(\"title\")\n                          }) : renderSlot(_ctx.$slots, \"title\", { key: 1 })\n                        ]),\n                        default: withCtx(() => [\n                          renderSlot(_ctx.$slots, \"default\")\n                        ]),\n                        _: 2\n                      }, [\n                        _ctx.$slots.footer ? {\n                          name: \"footer\",\n                          fn: withCtx(() => [\n                            renderSlot(_ctx.$slots, \"footer\")\n                          ])\n                        } : void 0\n                      ]), 1040, [\"custom-class\", \"center\", \"align-center\", \"close-icon\", \"draggable\", \"fullscreen\", \"show-close\", \"title\", \"onClose\"])) : createCommentVNode(\"v-if\", true)\n                    ]),\n                    _: 3\n                  }, 8, [\"trapped\", \"onFocusAfterTrapped\", \"onFocusAfterReleased\", \"onFocusoutPrevented\", \"onReleaseRequested\"])\n                ], 46, _hoisted_1)\n              ]),\n              _: 3\n            }, 8, [\"mask\", \"overlay-class\", \"z-index\"]), [\n              [vShow, unref(visible)]\n            ])\n          ]),\n          _: 3\n        }, 8, [\"onAfterEnter\", \"onAfterLeave\", \"onBeforeLeave\"])\n      ], 8, [\"disabled\"]);\n    };\n  }\n});\nvar Dialog = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue\"]]);\n\nexport { Dialog as default };\n//# sourceMappingURL=dialog2.mjs.map\n","import '../../utils/index.mjs';\nimport Dialog from './src/dialog2.mjs';\nexport { useDialog } from './src/use-dialog.mjs';\nexport { dialogEmits, dialogProps } from './src/dialog.mjs';\nexport { dialogInjectionKey } from './src/constants.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElDialog = withInstall(Dialog);\n\nexport { ElDialog, ElDialog as default };\n//# sourceMappingURL=index.mjs.map\n","import '../../../utils/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\n\nconst dividerProps = buildProps({\n  direction: {\n    type: String,\n    values: [\"horizontal\", \"vertical\"],\n    default: \"horizontal\"\n  },\n  contentPosition: {\n    type: String,\n    values: [\"left\", \"center\", \"right\"],\n    default: \"center\"\n  },\n  borderStyle: {\n    type: definePropType(String),\n    default: \"solid\"\n  }\n});\n\nexport { dividerProps };\n//# sourceMappingURL=divider.mjs.map\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, unref, normalizeStyle, renderSlot, createCommentVNode } from 'vue';\nimport '../../../hooks/index.mjs';\nimport { dividerProps } from './divider.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst __default__ = defineComponent({\n  name: \"ElDivider\"\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: dividerProps,\n  setup(__props) {\n    const props = __props;\n    const ns = useNamespace(\"divider\");\n    const dividerStyle = computed(() => {\n      return ns.cssVar({\n        \"border-style\": props.borderStyle\n      });\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([unref(ns).b(), unref(ns).m(_ctx.direction)]),\n        style: normalizeStyle(unref(dividerStyle)),\n        role: \"separator\"\n      }, [\n        _ctx.$slots.default && _ctx.direction !== \"vertical\" ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          class: normalizeClass([unref(ns).e(\"text\"), unref(ns).is(_ctx.contentPosition)])\n        }, [\n          renderSlot(_ctx.$slots, \"default\")\n        ], 2)) : createCommentVNode(\"v-if\", true)\n      ], 6);\n    };\n  }\n});\nvar Divider = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue\"]]);\n\nexport { Divider as default };\n//# sourceMappingURL=divider2.mjs.map\n","import '../../utils/index.mjs';\nimport Divider from './src/divider2.mjs';\nexport { dividerProps } from './src/divider.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElDivider = withInstall(Divider);\n\nexport { ElDivider, ElDivider as default };\n//# sourceMappingURL=index.mjs.map\n","const selectGroupKey = Symbol(\"ElSelectGroup\");\nconst selectKey = Symbol(\"ElSelect\");\n\nexport { selectGroupKey, selectKey };\n//# sourceMappingURL=token.mjs.map\n","import { inject, computed, getCurrentInstance, toRaw, watch, unref } from 'vue';\nimport { get } from 'lodash-unified';\nimport '../../../utils/index.mjs';\nimport { selectKey, selectGroupKey } from './token.mjs';\nimport { escapeStringRegexp } from '../../../utils/strings.mjs';\n\nfunction useOption(props, states) {\n  const select = inject(selectKey);\n  const selectGroup = inject(selectGroupKey, { disabled: false });\n  const isObject = computed(() => {\n    return Object.prototype.toString.call(props.value).toLowerCase() === \"[object object]\";\n  });\n  const itemSelected = computed(() => {\n    if (!select.props.multiple) {\n      return isEqual(props.value, select.props.modelValue);\n    } else {\n      return contains(select.props.modelValue, props.value);\n    }\n  });\n  const limitReached = computed(() => {\n    if (select.props.multiple) {\n      const modelValue = select.props.modelValue || [];\n      return !itemSelected.value && modelValue.length >= select.props.multipleLimit && select.props.multipleLimit > 0;\n    } else {\n      return false;\n    }\n  });\n  const currentLabel = computed(() => {\n    return props.label || (isObject.value ? \"\" : props.value);\n  });\n  const currentValue = computed(() => {\n    return props.value || props.label || \"\";\n  });\n  const isDisabled = computed(() => {\n    return props.disabled || states.groupDisabled || limitReached.value;\n  });\n  const instance = getCurrentInstance();\n  const contains = (arr = [], target) => {\n    if (!isObject.value) {\n      return arr && arr.includes(target);\n    } else {\n      const valueKey = select.props.valueKey;\n      return arr && arr.some((item) => {\n        return toRaw(get(item, valueKey)) === get(target, valueKey);\n      });\n    }\n  };\n  const isEqual = (a, b) => {\n    if (!isObject.value) {\n      return a === b;\n    } else {\n      const { valueKey } = select.props;\n      return get(a, valueKey) === get(b, valueKey);\n    }\n  };\n  const hoverItem = () => {\n    if (!props.disabled && !selectGroup.disabled) {\n      select.hoverIndex = select.optionsArray.indexOf(instance.proxy);\n    }\n  };\n  watch(() => currentLabel.value, () => {\n    if (!props.created && !select.props.remote)\n      select.setSelected();\n  });\n  watch(() => props.value, (val, oldVal) => {\n    const { remote, valueKey } = select.props;\n    if (!Object.is(val, oldVal)) {\n      select.onOptionDestroy(oldVal, instance.proxy);\n      select.onOptionCreate(instance.proxy);\n    }\n    if (!props.created && !remote) {\n      if (valueKey && typeof val === \"object\" && typeof oldVal === \"object\" && val[valueKey] === oldVal[valueKey]) {\n        return;\n      }\n      select.setSelected();\n    }\n  });\n  watch(() => selectGroup.disabled, () => {\n    states.groupDisabled = selectGroup.disabled;\n  }, { immediate: true });\n  const { queryChange } = toRaw(select);\n  watch(queryChange, (changes) => {\n    const { query } = unref(changes);\n    const regexp = new RegExp(escapeStringRegexp(query), \"i\");\n    states.visible = regexp.test(currentLabel.value) || props.created;\n    if (!states.visible) {\n      select.filteredOptionsCount--;\n    }\n  }, { immediate: true });\n  return {\n    select,\n    currentLabel,\n    currentValue,\n    itemSelected,\n    isDisabled,\n    hoverItem\n  };\n}\n\nexport { useOption };\n//# sourceMappingURL=useOption.mjs.map\n","import { defineComponent, reactive, toRefs, getCurrentInstance, onBeforeUnmount, nextTick, withDirectives, openBlock, createElementBlock, normalizeClass, withModifiers, renderSlot, createElementVNode, toDisplayString, vShow } from 'vue';\nimport '../../../hooks/index.mjs';\nimport { useOption } from './useOption.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElOption\",\n  componentName: \"ElOption\",\n  props: {\n    value: {\n      required: true,\n      type: [String, Number, Boolean, Object]\n    },\n    label: [String, Number],\n    created: Boolean,\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    const ns = useNamespace(\"select\");\n    const states = reactive({\n      index: -1,\n      groupDisabled: false,\n      visible: true,\n      hitState: false,\n      hover: false\n    });\n    const { currentLabel, itemSelected, isDisabled, select, hoverItem } = useOption(props, states);\n    const { visible, hover } = toRefs(states);\n    const vm = getCurrentInstance().proxy;\n    select.onOptionCreate(vm);\n    onBeforeUnmount(() => {\n      const key = vm.value;\n      const { selected } = select;\n      const selectedOptions = select.props.multiple ? selected : [selected];\n      const doesSelected = selectedOptions.some((item) => {\n        return item.value === vm.value;\n      });\n      nextTick(() => {\n        if (select.cachedOptions.get(key) === vm && !doesSelected) {\n          select.cachedOptions.delete(key);\n        }\n      });\n      select.onOptionDestroy(key, vm);\n    });\n    function selectOptionClick() {\n      if (props.disabled !== true && states.groupDisabled !== true) {\n        select.handleOptionSelect(vm, true);\n      }\n    }\n    return {\n      ns,\n      currentLabel,\n      itemSelected,\n      isDisabled,\n      select,\n      hoverItem,\n      visible,\n      hover,\n      selectOptionClick,\n      states\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return withDirectives((openBlock(), createElementBlock(\"li\", {\n    class: normalizeClass([\n      _ctx.ns.be(\"dropdown\", \"item\"),\n      _ctx.ns.is(\"disabled\", _ctx.isDisabled),\n      {\n        selected: _ctx.itemSelected,\n        hover: _ctx.hover\n      }\n    ]),\n    onMouseenter: _cache[0] || (_cache[0] = (...args) => _ctx.hoverItem && _ctx.hoverItem(...args)),\n    onClick: _cache[1] || (_cache[1] = withModifiers((...args) => _ctx.selectOptionClick && _ctx.selectOptionClick(...args), [\"stop\"]))\n  }, [\n    renderSlot(_ctx.$slots, \"default\", {}, () => [\n      createElementVNode(\"span\", null, toDisplayString(_ctx.currentLabel), 1)\n    ])\n  ], 34)), [\n    [vShow, _ctx.visible]\n  ]);\n}\nvar Option = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue\"]]);\n\nexport { Option as default };\n//# sourceMappingURL=option.mjs.map\n","import { defineComponent, inject, computed, ref, onMounted, openBlock, createElementBlock, normalizeClass, normalizeStyle, renderSlot } from 'vue';\nimport { useResizeObserver } from '@vueuse/core';\nimport '../../../hooks/index.mjs';\nimport { selectKey } from './token.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElSelectDropdown\",\n  componentName: \"ElSelectDropdown\",\n  setup() {\n    const select = inject(selectKey);\n    const ns = useNamespace(\"select\");\n    const popperClass = computed(() => select.props.popperClass);\n    const isMultiple = computed(() => select.props.multiple);\n    const isFitInputWidth = computed(() => select.props.fitInputWidth);\n    const minWidth = ref(\"\");\n    function updateMinWidth() {\n      var _a;\n      minWidth.value = `${(_a = select.selectWrapper) == null ? void 0 : _a.offsetWidth}px`;\n    }\n    onMounted(() => {\n      updateMinWidth();\n      useResizeObserver(select.selectWrapper, updateMinWidth);\n    });\n    return {\n      ns,\n      minWidth,\n      popperClass,\n      isMultiple,\n      isFitInputWidth\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([_ctx.ns.b(\"dropdown\"), _ctx.ns.is(\"multiple\", _ctx.isMultiple), _ctx.popperClass]),\n    style: normalizeStyle({ [_ctx.isFitInputWidth ? \"width\" : \"minWidth\"]: _ctx.minWidth })\n  }, [\n    renderSlot(_ctx.$slots, \"default\")\n  ], 6);\n}\nvar ElSelectMenu = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue\"]]);\n\nexport { ElSelectMenu as default };\n//# sourceMappingURL=select-dropdown.mjs.map\n","import { reactive, computed, ref, shallowRef, watch, nextTick, triggerRef, toRaw } from 'vue';\nimport { isFunction, toRawType, isString, isObject } from '@vue/shared';\nimport { isEqual, get, debounce } from 'lodash-unified';\nimport '../../../constants/index.mjs';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../form/index.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useDeprecated } from '../../../hooks/use-deprecated/index.mjs';\nimport { useFormItem } from '../../form/src/hooks/use-form-item.mjs';\nimport { useFormSize } from '../../form/src/hooks/use-form-common-props.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\nimport { isClient } from '@vueuse/core';\nimport { isNumber } from '../../../utils/types.mjs';\nimport { getComponentSize } from '../../../utils/vue/size.mjs';\nimport { CHANGE_EVENT, UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { EVENT_CODE } from '../../../constants/aria.mjs';\nimport { scrollIntoView } from '../../../utils/dom/scroll.mjs';\nimport { isKorean } from '../../../utils/i18n.mjs';\n\nfunction useSelectStates(props) {\n  const { t } = useLocale();\n  return reactive({\n    options: /* @__PURE__ */ new Map(),\n    cachedOptions: /* @__PURE__ */ new Map(),\n    createdLabel: null,\n    createdSelected: false,\n    selected: props.multiple ? [] : {},\n    inputLength: 20,\n    inputWidth: 0,\n    optionsCount: 0,\n    filteredOptionsCount: 0,\n    visible: false,\n    softFocus: false,\n    selectedLabel: \"\",\n    hoverIndex: -1,\n    query: \"\",\n    previousQuery: null,\n    inputHovering: false,\n    cachedPlaceHolder: \"\",\n    currentPlaceholder: t(\"el.select.placeholder\"),\n    menuVisibleOnFocus: false,\n    isOnComposition: false,\n    isSilentBlur: false,\n    prefixWidth: 11,\n    tagInMultiLine: false,\n    mouseEnter: false\n  });\n}\nconst useSelect = (props, states, ctx) => {\n  const { t } = useLocale();\n  const ns = useNamespace(\"select\");\n  useDeprecated({\n    from: \"suffixTransition\",\n    replacement: \"override style scheme\",\n    version: \"2.3.0\",\n    scope: \"props\",\n    ref: \"https://element-plus.org/en-US/component/select.html#select-attributes\"\n  }, computed(() => props.suffixTransition === false));\n  const reference = ref(null);\n  const input = ref(null);\n  const iOSInput = ref(null);\n  const tooltipRef = ref(null);\n  const tags = ref(null);\n  const selectWrapper = ref(null);\n  const scrollbar = ref(null);\n  const hoverOption = ref(-1);\n  const queryChange = shallowRef({ query: \"\" });\n  const groupQueryChange = shallowRef(\"\");\n  const optionList = ref([]);\n  let originClientHeight = 0;\n  const { form, formItem } = useFormItem();\n  const readonly = computed(() => !props.filterable || props.multiple || !states.visible);\n  const selectDisabled = computed(() => props.disabled || (form == null ? void 0 : form.disabled));\n  const showClose = computed(() => {\n    const hasValue = props.multiple ? Array.isArray(props.modelValue) && props.modelValue.length > 0 : props.modelValue !== void 0 && props.modelValue !== null && props.modelValue !== \"\";\n    const criteria = props.clearable && !selectDisabled.value && states.inputHovering && hasValue;\n    return criteria;\n  });\n  const iconComponent = computed(() => props.remote && props.filterable && !props.remoteShowSuffix ? \"\" : props.suffixIcon);\n  const iconReverse = computed(() => ns.is(\"reverse\", iconComponent.value && states.visible && props.suffixTransition));\n  const debounce$1 = computed(() => props.remote ? 300 : 0);\n  const emptyText = computed(() => {\n    if (props.loading) {\n      return props.loadingText || t(\"el.select.loading\");\n    } else {\n      if (props.remote && states.query === \"\" && states.options.size === 0)\n        return false;\n      if (props.filterable && states.query && states.options.size > 0 && states.filteredOptionsCount === 0) {\n        return props.noMatchText || t(\"el.select.noMatch\");\n      }\n      if (states.options.size === 0) {\n        return props.noDataText || t(\"el.select.noData\");\n      }\n    }\n    return null;\n  });\n  const optionsArray = computed(() => {\n    const list = Array.from(states.options.values());\n    const newList = [];\n    optionList.value.forEach((item) => {\n      const index = list.findIndex((i) => i.currentLabel === item);\n      if (index > -1) {\n        newList.push(list[index]);\n      }\n    });\n    return newList.length ? newList : list;\n  });\n  const cachedOptionsArray = computed(() => Array.from(states.cachedOptions.values()));\n  const showNewOption = computed(() => {\n    const hasExistingOption = optionsArray.value.filter((option) => {\n      return !option.created;\n    }).some((option) => {\n      return option.currentLabel === states.query;\n    });\n    return props.filterable && props.allowCreate && states.query !== \"\" && !hasExistingOption;\n  });\n  const selectSize = useFormSize();\n  const collapseTagSize = computed(() => [\"small\"].includes(selectSize.value) ? \"small\" : \"default\");\n  const dropMenuVisible = computed({\n    get() {\n      return states.visible && emptyText.value !== false;\n    },\n    set(val) {\n      states.visible = val;\n    }\n  });\n  watch([() => selectDisabled.value, () => selectSize.value, () => form == null ? void 0 : form.size], () => {\n    nextTick(() => {\n      resetInputHeight();\n    });\n  });\n  watch(() => props.placeholder, (val) => {\n    states.cachedPlaceHolder = states.currentPlaceholder = val;\n  });\n  watch(() => props.modelValue, (val, oldVal) => {\n    if (props.multiple) {\n      resetInputHeight();\n      if (val && val.length > 0 || input.value && states.query !== \"\") {\n        states.currentPlaceholder = \"\";\n      } else {\n        states.currentPlaceholder = states.cachedPlaceHolder;\n      }\n      if (props.filterable && !props.reserveKeyword) {\n        states.query = \"\";\n        handleQueryChange(states.query);\n      }\n    }\n    setSelected();\n    if (props.filterable && !props.multiple) {\n      states.inputLength = 20;\n    }\n    if (!isEqual(val, oldVal) && props.validateEvent) {\n      formItem == null ? void 0 : formItem.validate(\"change\").catch((err) => debugWarn(err));\n    }\n  }, {\n    flush: \"post\",\n    deep: true\n  });\n  watch(() => states.visible, (val) => {\n    var _a, _b, _c, _d, _e;\n    if (!val) {\n      if (props.filterable) {\n        if (isFunction(props.filterMethod)) {\n          props.filterMethod(\"\");\n        }\n        if (isFunction(props.remoteMethod)) {\n          props.remoteMethod(\"\");\n        }\n      }\n      input.value && input.value.blur();\n      states.query = \"\";\n      states.previousQuery = null;\n      states.selectedLabel = \"\";\n      states.inputLength = 20;\n      states.menuVisibleOnFocus = false;\n      resetHoverIndex();\n      nextTick(() => {\n        if (input.value && input.value.value === \"\" && states.selected.length === 0) {\n          states.currentPlaceholder = states.cachedPlaceHolder;\n        }\n      });\n      if (!props.multiple) {\n        if (states.selected) {\n          if (props.filterable && props.allowCreate && states.createdSelected && states.createdLabel) {\n            states.selectedLabel = states.createdLabel;\n          } else {\n            states.selectedLabel = states.selected.currentLabel;\n          }\n          if (props.filterable)\n            states.query = states.selectedLabel;\n        }\n        if (props.filterable) {\n          states.currentPlaceholder = states.cachedPlaceHolder;\n        }\n      }\n    } else {\n      (_b = (_a = tooltipRef.value) == null ? void 0 : _a.updatePopper) == null ? void 0 : _b.call(_a);\n      if (props.filterable) {\n        states.filteredOptionsCount = states.optionsCount;\n        states.query = props.remote ? \"\" : states.selectedLabel;\n        (_d = (_c = iOSInput.value) == null ? void 0 : _c.focus) == null ? void 0 : _d.call(_c);\n        if (props.multiple) {\n          (_e = input.value) == null ? void 0 : _e.focus();\n        } else {\n          if (states.selectedLabel) {\n            states.currentPlaceholder = `${states.selectedLabel}`;\n            states.selectedLabel = \"\";\n          }\n        }\n        handleQueryChange(states.query);\n        if (!props.multiple && !props.remote) {\n          queryChange.value.query = \"\";\n          triggerRef(queryChange);\n          triggerRef(groupQueryChange);\n        }\n      }\n    }\n    ctx.emit(\"visible-change\", val);\n  });\n  watch(() => states.options.entries(), () => {\n    var _a, _b, _c;\n    if (!isClient)\n      return;\n    (_b = (_a = tooltipRef.value) == null ? void 0 : _a.updatePopper) == null ? void 0 : _b.call(_a);\n    if (props.multiple) {\n      resetInputHeight();\n    }\n    const inputs = ((_c = selectWrapper.value) == null ? void 0 : _c.querySelectorAll(\"input\")) || [];\n    if (!Array.from(inputs).includes(document.activeElement)) {\n      setSelected();\n    }\n    if (props.defaultFirstOption && (props.filterable || props.remote) && states.filteredOptionsCount) {\n      checkDefaultFirstOption();\n    }\n  }, {\n    flush: \"post\"\n  });\n  watch(() => states.hoverIndex, (val) => {\n    if (isNumber(val) && val > -1) {\n      hoverOption.value = optionsArray.value[val] || {};\n    } else {\n      hoverOption.value = {};\n    }\n    optionsArray.value.forEach((option) => {\n      option.hover = hoverOption.value === option;\n    });\n  });\n  const resetInputHeight = () => {\n    nextTick(() => {\n      var _a, _b;\n      if (!reference.value)\n        return;\n      const input2 = reference.value.$el.querySelector(\"input\");\n      originClientHeight = originClientHeight || (input2.clientHeight > 0 ? input2.clientHeight + 2 : 0);\n      const _tags = tags.value;\n      const gotSize = getComponentSize(selectSize.value || (form == null ? void 0 : form.size));\n      const sizeInMap = selectSize.value || gotSize === originClientHeight || originClientHeight <= 0 ? gotSize : originClientHeight;\n      const isElHidden = input2.offsetParent === null;\n      !isElHidden && (input2.style.height = `${(states.selected.length === 0 ? sizeInMap : Math.max(_tags ? _tags.clientHeight + (_tags.clientHeight > sizeInMap ? 6 : 0) : 0, sizeInMap)) - 2}px`);\n      states.tagInMultiLine = Number.parseFloat(input2.style.height) >= sizeInMap;\n      if (states.visible && emptyText.value !== false) {\n        (_b = (_a = tooltipRef.value) == null ? void 0 : _a.updatePopper) == null ? void 0 : _b.call(_a);\n      }\n    });\n  };\n  const handleQueryChange = async (val) => {\n    if (states.previousQuery === val || states.isOnComposition)\n      return;\n    if (states.previousQuery === null && (isFunction(props.filterMethod) || isFunction(props.remoteMethod))) {\n      states.previousQuery = val;\n      return;\n    }\n    states.previousQuery = val;\n    nextTick(() => {\n      var _a, _b;\n      if (states.visible)\n        (_b = (_a = tooltipRef.value) == null ? void 0 : _a.updatePopper) == null ? void 0 : _b.call(_a);\n    });\n    states.hoverIndex = -1;\n    if (props.multiple && props.filterable) {\n      nextTick(() => {\n        const length = input.value.value.length * 15 + 20;\n        states.inputLength = props.collapseTags ? Math.min(50, length) : length;\n        managePlaceholder();\n        resetInputHeight();\n      });\n    }\n    if (props.remote && isFunction(props.remoteMethod)) {\n      states.hoverIndex = -1;\n      props.remoteMethod(val);\n    } else if (isFunction(props.filterMethod)) {\n      props.filterMethod(val);\n      triggerRef(groupQueryChange);\n    } else {\n      states.filteredOptionsCount = states.optionsCount;\n      queryChange.value.query = val;\n      triggerRef(queryChange);\n      triggerRef(groupQueryChange);\n    }\n    if (props.defaultFirstOption && (props.filterable || props.remote) && states.filteredOptionsCount) {\n      await nextTick();\n      checkDefaultFirstOption();\n    }\n  };\n  const managePlaceholder = () => {\n    if (states.currentPlaceholder !== \"\") {\n      states.currentPlaceholder = input.value.value ? \"\" : states.cachedPlaceHolder;\n    }\n  };\n  const checkDefaultFirstOption = () => {\n    const optionsInDropdown = optionsArray.value.filter((n) => n.visible && !n.disabled && !n.states.groupDisabled);\n    const userCreatedOption = optionsInDropdown.find((n) => n.created);\n    const firstOriginOption = optionsInDropdown[0];\n    states.hoverIndex = getValueIndex(optionsArray.value, userCreatedOption || firstOriginOption);\n  };\n  const setSelected = () => {\n    var _a;\n    if (!props.multiple) {\n      const option = getOption(props.modelValue);\n      if ((_a = option.props) == null ? void 0 : _a.created) {\n        states.createdLabel = option.props.value;\n        states.createdSelected = true;\n      } else {\n        states.createdSelected = false;\n      }\n      states.selectedLabel = option.currentLabel;\n      states.selected = option;\n      if (props.filterable)\n        states.query = states.selectedLabel;\n      return;\n    } else {\n      states.selectedLabel = \"\";\n    }\n    const result = [];\n    if (Array.isArray(props.modelValue)) {\n      props.modelValue.forEach((value) => {\n        result.push(getOption(value));\n      });\n    }\n    states.selected = result;\n    nextTick(() => {\n      resetInputHeight();\n    });\n  };\n  const getOption = (value) => {\n    let option;\n    const isObjectValue = toRawType(value).toLowerCase() === \"object\";\n    const isNull = toRawType(value).toLowerCase() === \"null\";\n    const isUndefined = toRawType(value).toLowerCase() === \"undefined\";\n    for (let i = states.cachedOptions.size - 1; i >= 0; i--) {\n      const cachedOption = cachedOptionsArray.value[i];\n      const isEqualValue = isObjectValue ? get(cachedOption.value, props.valueKey) === get(value, props.valueKey) : cachedOption.value === value;\n      if (isEqualValue) {\n        option = {\n          value,\n          currentLabel: cachedOption.currentLabel,\n          isDisabled: cachedOption.isDisabled\n        };\n        break;\n      }\n    }\n    if (option)\n      return option;\n    const label = isObjectValue ? value.label : !isNull && !isUndefined ? value : \"\";\n    const newOption = {\n      value,\n      currentLabel: label\n    };\n    if (props.multiple) {\n      ;\n      newOption.hitState = false;\n    }\n    return newOption;\n  };\n  const resetHoverIndex = () => {\n    setTimeout(() => {\n      const valueKey = props.valueKey;\n      if (!props.multiple) {\n        states.hoverIndex = optionsArray.value.findIndex((item) => {\n          return getValueKey(item) === getValueKey(states.selected);\n        });\n      } else {\n        if (states.selected.length > 0) {\n          states.hoverIndex = Math.min.apply(null, states.selected.map((selected) => {\n            return optionsArray.value.findIndex((item) => {\n              return get(item, valueKey) === get(selected, valueKey);\n            });\n          }));\n        } else {\n          states.hoverIndex = -1;\n        }\n      }\n    }, 300);\n  };\n  const handleResize = () => {\n    var _a, _b;\n    resetInputWidth();\n    (_b = (_a = tooltipRef.value) == null ? void 0 : _a.updatePopper) == null ? void 0 : _b.call(_a);\n    if (props.multiple)\n      resetInputHeight();\n  };\n  const resetInputWidth = () => {\n    var _a;\n    states.inputWidth = (_a = reference.value) == null ? void 0 : _a.$el.offsetWidth;\n  };\n  const onInputChange = () => {\n    if (props.filterable && states.query !== states.selectedLabel) {\n      states.query = states.selectedLabel;\n      handleQueryChange(states.query);\n    }\n  };\n  const debouncedOnInputChange = debounce(() => {\n    onInputChange();\n  }, debounce$1.value);\n  const debouncedQueryChange = debounce((e) => {\n    handleQueryChange(e.target.value);\n  }, debounce$1.value);\n  const emitChange = (val) => {\n    if (!isEqual(props.modelValue, val)) {\n      ctx.emit(CHANGE_EVENT, val);\n    }\n  };\n  const deletePrevTag = (e) => {\n    if (e.code === EVENT_CODE.delete)\n      return;\n    if (e.target.value.length <= 0 && !toggleLastOptionHitState()) {\n      const value = props.modelValue.slice();\n      value.pop();\n      ctx.emit(UPDATE_MODEL_EVENT, value);\n      emitChange(value);\n    }\n    if (e.target.value.length === 1 && props.modelValue.length === 0) {\n      states.currentPlaceholder = states.cachedPlaceHolder;\n    }\n  };\n  const deleteTag = (event, tag) => {\n    const index = states.selected.indexOf(tag);\n    if (index > -1 && !selectDisabled.value) {\n      const value = props.modelValue.slice();\n      value.splice(index, 1);\n      ctx.emit(UPDATE_MODEL_EVENT, value);\n      emitChange(value);\n      ctx.emit(\"remove-tag\", tag.value);\n    }\n    event.stopPropagation();\n  };\n  const deleteSelected = (event) => {\n    event.stopPropagation();\n    const value = props.multiple ? [] : \"\";\n    if (!isString(value)) {\n      for (const item of states.selected) {\n        if (item.isDisabled)\n          value.push(item.value);\n      }\n    }\n    ctx.emit(UPDATE_MODEL_EVENT, value);\n    emitChange(value);\n    states.hoverIndex = -1;\n    states.visible = false;\n    ctx.emit(\"clear\");\n  };\n  const handleOptionSelect = (option, byClick) => {\n    var _a;\n    if (props.multiple) {\n      const value = (props.modelValue || []).slice();\n      const optionIndex = getValueIndex(value, option.value);\n      if (optionIndex > -1) {\n        value.splice(optionIndex, 1);\n      } else if (props.multipleLimit <= 0 || value.length < props.multipleLimit) {\n        value.push(option.value);\n      }\n      ctx.emit(UPDATE_MODEL_EVENT, value);\n      emitChange(value);\n      if (option.created) {\n        states.query = \"\";\n        handleQueryChange(\"\");\n        states.inputLength = 20;\n      }\n      if (props.filterable)\n        (_a = input.value) == null ? void 0 : _a.focus();\n    } else {\n      ctx.emit(UPDATE_MODEL_EVENT, option.value);\n      emitChange(option.value);\n      states.visible = false;\n    }\n    states.isSilentBlur = byClick;\n    setSoftFocus();\n    if (states.visible)\n      return;\n    nextTick(() => {\n      scrollToOption(option);\n    });\n  };\n  const getValueIndex = (arr = [], value) => {\n    if (!isObject(value))\n      return arr.indexOf(value);\n    const valueKey = props.valueKey;\n    let index = -1;\n    arr.some((item, i) => {\n      if (toRaw(get(item, valueKey)) === get(value, valueKey)) {\n        index = i;\n        return true;\n      }\n      return false;\n    });\n    return index;\n  };\n  const setSoftFocus = () => {\n    states.softFocus = true;\n    const _input = input.value || reference.value;\n    if (_input) {\n      _input == null ? void 0 : _input.focus();\n    }\n  };\n  const scrollToOption = (option) => {\n    var _a, _b, _c, _d, _e;\n    const targetOption = Array.isArray(option) ? option[0] : option;\n    let target = null;\n    if (targetOption == null ? void 0 : targetOption.value) {\n      const options = optionsArray.value.filter((item) => item.value === targetOption.value);\n      if (options.length > 0) {\n        target = options[0].$el;\n      }\n    }\n    if (tooltipRef.value && target) {\n      const menu = (_d = (_c = (_b = (_a = tooltipRef.value) == null ? void 0 : _a.popperRef) == null ? void 0 : _b.contentRef) == null ? void 0 : _c.querySelector) == null ? void 0 : _d.call(_c, `.${ns.be(\"dropdown\", \"wrap\")}`);\n      if (menu) {\n        scrollIntoView(menu, target);\n      }\n    }\n    (_e = scrollbar.value) == null ? void 0 : _e.handleScroll();\n  };\n  const onOptionCreate = (vm) => {\n    states.optionsCount++;\n    states.filteredOptionsCount++;\n    states.options.set(vm.value, vm);\n    states.cachedOptions.set(vm.value, vm);\n  };\n  const onOptionDestroy = (key, vm) => {\n    if (states.options.get(key) === vm) {\n      states.optionsCount--;\n      states.filteredOptionsCount--;\n      states.options.delete(key);\n    }\n  };\n  const resetInputState = (e) => {\n    if (e.code !== EVENT_CODE.backspace)\n      toggleLastOptionHitState(false);\n    states.inputLength = input.value.value.length * 15 + 20;\n    resetInputHeight();\n  };\n  const toggleLastOptionHitState = (hit) => {\n    if (!Array.isArray(states.selected))\n      return;\n    const option = states.selected[states.selected.length - 1];\n    if (!option)\n      return;\n    if (hit === true || hit === false) {\n      option.hitState = hit;\n      return hit;\n    }\n    option.hitState = !option.hitState;\n    return option.hitState;\n  };\n  const handleComposition = (event) => {\n    const text = event.target.value;\n    if (event.type === \"compositionend\") {\n      states.isOnComposition = false;\n      nextTick(() => handleQueryChange(text));\n    } else {\n      const lastCharacter = text[text.length - 1] || \"\";\n      states.isOnComposition = !isKorean(lastCharacter);\n    }\n  };\n  const handleMenuEnter = () => {\n    nextTick(() => scrollToOption(states.selected));\n  };\n  const handleFocus = (event) => {\n    if (!states.softFocus) {\n      if (props.automaticDropdown || props.filterable) {\n        if (props.filterable && !states.visible) {\n          states.menuVisibleOnFocus = true;\n        }\n        states.visible = true;\n      }\n      ctx.emit(\"focus\", event);\n    } else {\n      states.softFocus = false;\n    }\n  };\n  const blur = () => {\n    var _a, _b, _c;\n    states.visible = false;\n    (_a = reference.value) == null ? void 0 : _a.blur();\n    (_c = (_b = iOSInput.value) == null ? void 0 : _b.blur) == null ? void 0 : _c.call(_b);\n  };\n  const handleBlur = (event) => {\n    nextTick(() => {\n      if (states.isSilentBlur) {\n        states.isSilentBlur = false;\n      } else {\n        ctx.emit(\"blur\", event);\n      }\n    });\n    states.softFocus = false;\n  };\n  const handleClearClick = (event) => {\n    deleteSelected(event);\n  };\n  const handleClose = () => {\n    states.visible = false;\n  };\n  const handleKeydownEscape = (event) => {\n    if (states.visible) {\n      event.preventDefault();\n      event.stopPropagation();\n      states.visible = false;\n    }\n  };\n  const toggleMenu = (e) => {\n    var _a;\n    if (e && !states.mouseEnter) {\n      return;\n    }\n    if (!selectDisabled.value) {\n      if (states.menuVisibleOnFocus) {\n        states.menuVisibleOnFocus = false;\n      } else {\n        if (!tooltipRef.value || !tooltipRef.value.isFocusInsideContent()) {\n          states.visible = !states.visible;\n        }\n      }\n      if (states.visible) {\n        ;\n        (_a = input.value || reference.value) == null ? void 0 : _a.focus();\n      }\n    }\n  };\n  const selectOption = () => {\n    if (!states.visible) {\n      toggleMenu();\n    } else {\n      if (optionsArray.value[states.hoverIndex]) {\n        handleOptionSelect(optionsArray.value[states.hoverIndex], void 0);\n      }\n    }\n  };\n  const getValueKey = (item) => {\n    return isObject(item.value) ? get(item.value, props.valueKey) : item.value;\n  };\n  const optionsAllDisabled = computed(() => optionsArray.value.filter((option) => option.visible).every((option) => option.disabled));\n  const showTagList = computed(() => states.selected.slice(0, props.maxCollapseTags));\n  const collapseTagList = computed(() => states.selected.slice(props.maxCollapseTags));\n  const navigateOptions = (direction) => {\n    if (!states.visible) {\n      states.visible = true;\n      return;\n    }\n    if (states.options.size === 0 || states.filteredOptionsCount === 0)\n      return;\n    if (states.isOnComposition)\n      return;\n    if (!optionsAllDisabled.value) {\n      if (direction === \"next\") {\n        states.hoverIndex++;\n        if (states.hoverIndex === states.options.size) {\n          states.hoverIndex = 0;\n        }\n      } else if (direction === \"prev\") {\n        states.hoverIndex--;\n        if (states.hoverIndex < 0) {\n          states.hoverIndex = states.options.size - 1;\n        }\n      }\n      const option = optionsArray.value[states.hoverIndex];\n      if (option.disabled === true || option.states.groupDisabled === true || !option.visible) {\n        navigateOptions(direction);\n      }\n      nextTick(() => scrollToOption(hoverOption.value));\n    }\n  };\n  const handleMouseEnter = () => {\n    states.mouseEnter = true;\n  };\n  const handleMouseLeave = () => {\n    states.mouseEnter = false;\n  };\n  return {\n    optionList,\n    optionsArray,\n    selectSize,\n    handleResize,\n    debouncedOnInputChange,\n    debouncedQueryChange,\n    deletePrevTag,\n    deleteTag,\n    deleteSelected,\n    handleOptionSelect,\n    scrollToOption,\n    readonly,\n    resetInputHeight,\n    showClose,\n    iconComponent,\n    iconReverse,\n    showNewOption,\n    collapseTagSize,\n    setSelected,\n    managePlaceholder,\n    selectDisabled,\n    emptyText,\n    toggleLastOptionHitState,\n    resetInputState,\n    handleComposition,\n    onOptionCreate,\n    onOptionDestroy,\n    handleMenuEnter,\n    handleFocus,\n    blur,\n    handleBlur,\n    handleClearClick,\n    handleClose,\n    handleKeydownEscape,\n    toggleMenu,\n    selectOption,\n    getValueKey,\n    navigateOptions,\n    dropMenuVisible,\n    queryChange,\n    groupQueryChange,\n    showTagList,\n    collapseTagList,\n    reference,\n    input,\n    iOSInput,\n    tooltipRef,\n    tags,\n    selectWrapper,\n    scrollbar,\n    handleMouseEnter,\n    handleMouseLeave\n  };\n};\n\nexport { useSelect, useSelectStates };\n//# sourceMappingURL=useSelect.mjs.map\n","import { defineComponent } from 'vue';\nimport '../../../utils/index.mjs';\nimport { isString, isFunction } from '@vue/shared';\n\nvar ElOptions = defineComponent({\n  name: \"ElOptions\",\n  emits: [\"update-options\"],\n  setup(_, { slots, emit }) {\n    let cachedOptions = [];\n    function isSameOptions(a, b) {\n      if (a.length !== b.length)\n        return false;\n      for (const [index] of a.entries()) {\n        if (a[index] != b[index]) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return () => {\n      var _a, _b;\n      const children = (_a = slots.default) == null ? void 0 : _a.call(slots);\n      const filteredOptions = [];\n      function filterOptions(children2) {\n        if (!Array.isArray(children2))\n          return;\n        children2.forEach((item) => {\n          var _a2, _b2, _c, _d;\n          const name = (_a2 = (item == null ? void 0 : item.type) || {}) == null ? void 0 : _a2.name;\n          if (name === \"ElOptionGroup\") {\n            filterOptions(!isString(item.children) && !Array.isArray(item.children) && isFunction((_b2 = item.children) == null ? void 0 : _b2.default) ? (_c = item.children) == null ? void 0 : _c.default() : item.children);\n          } else if (name === \"ElOption\") {\n            filteredOptions.push((_d = item.props) == null ? void 0 : _d.label);\n          } else if (Array.isArray(item.children)) {\n            filterOptions(item.children);\n          }\n        });\n      }\n      if (children.length) {\n        filterOptions((_b = children[0]) == null ? void 0 : _b.children);\n      }\n      if (!isSameOptions(filteredOptions, cachedOptions)) {\n        cachedOptions = filteredOptions;\n        emit(\"update-options\", filteredOptions);\n      }\n      return children;\n    };\n  }\n});\n\nexport { ElOptions as default };\n//# sourceMappingURL=options.mjs.map\n","import { defineComponent, toRefs, computed, unref, provide, reactive, onMounted, nextTick, resolveComponent, resolveDirective, withDirectives, openBlock, createElementBlock, normalizeClass, withModifiers, createVNode, withCtx, createElementVNode, normalizeStyle, createBlock, Transition, Fragment, renderList, toDisplayString, createCommentVNode, withKeys, vModelText, createSlots, resolveDynamicComponent, renderSlot, vShow } from 'vue';\nimport { useResizeObserver, isIOS } from '@vueuse/core';\nimport { placements } from '@popperjs/core';\nimport '../../../directives/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { ElInput } from '../../input/index.mjs';\nimport { ElTooltip } from '../../tooltip/index.mjs';\nimport { ElScrollbar } from '../../scrollbar/index.mjs';\nimport { ElTag } from '../../tag/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport '../../../constants/index.mjs';\nimport '../../../utils/index.mjs';\nimport { CircleClose, ArrowDown } from '@element-plus/icons-vue';\nimport Option from './option.mjs';\nimport ElSelectMenu from './select-dropdown.mjs';\nimport { useSelectStates, useSelect } from './useSelect.mjs';\nimport { selectKey } from './token.mjs';\nimport ElOptions from './options.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport ClickOutside from '../../../directives/click-outside/index.mjs';\nimport { isValidComponentSize } from '../../../utils/vue/validator.mjs';\nimport { useTooltipContentProps } from '../../tooltip/src/content.mjs';\nimport { iconPropType } from '../../../utils/vue/icon.mjs';\nimport { tagProps } from '../../tag/src/tag.mjs';\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT } from '../../../constants/event.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { useFocus } from '../../../hooks/use-focus/index.mjs';\n\nconst COMPONENT_NAME = \"ElSelect\";\nconst _sfc_main = defineComponent({\n  name: COMPONENT_NAME,\n  componentName: COMPONENT_NAME,\n  components: {\n    ElInput,\n    ElSelectMenu,\n    ElOption: Option,\n    ElOptions,\n    ElTag,\n    ElScrollbar,\n    ElTooltip,\n    ElIcon\n  },\n  directives: { ClickOutside },\n  props: {\n    name: String,\n    id: String,\n    modelValue: {\n      type: [Array, String, Number, Boolean, Object],\n      default: void 0\n    },\n    autocomplete: {\n      type: String,\n      default: \"off\"\n    },\n    automaticDropdown: Boolean,\n    size: {\n      type: String,\n      validator: isValidComponentSize\n    },\n    effect: {\n      type: String,\n      default: \"light\"\n    },\n    disabled: Boolean,\n    clearable: Boolean,\n    filterable: Boolean,\n    allowCreate: Boolean,\n    loading: Boolean,\n    popperClass: {\n      type: String,\n      default: \"\"\n    },\n    popperOptions: {\n      type: Object,\n      default: () => ({})\n    },\n    remote: Boolean,\n    loadingText: String,\n    noMatchText: String,\n    noDataText: String,\n    remoteMethod: Function,\n    filterMethod: Function,\n    multiple: Boolean,\n    multipleLimit: {\n      type: Number,\n      default: 0\n    },\n    placeholder: {\n      type: String\n    },\n    defaultFirstOption: Boolean,\n    reserveKeyword: {\n      type: Boolean,\n      default: true\n    },\n    valueKey: {\n      type: String,\n      default: \"value\"\n    },\n    collapseTags: Boolean,\n    collapseTagsTooltip: {\n      type: Boolean,\n      default: false\n    },\n    maxCollapseTags: {\n      type: Number,\n      default: 1\n    },\n    teleported: useTooltipContentProps.teleported,\n    persistent: {\n      type: Boolean,\n      default: true\n    },\n    clearIcon: {\n      type: iconPropType,\n      default: CircleClose\n    },\n    fitInputWidth: {\n      type: Boolean,\n      default: false\n    },\n    suffixIcon: {\n      type: iconPropType,\n      default: ArrowDown\n    },\n    tagType: { ...tagProps.type, default: \"info\" },\n    validateEvent: {\n      type: Boolean,\n      default: true\n    },\n    remoteShowSuffix: {\n      type: Boolean,\n      default: false\n    },\n    suffixTransition: {\n      type: Boolean,\n      default: true\n    },\n    placement: {\n      type: String,\n      values: placements,\n      default: \"bottom-start\"\n    }\n  },\n  emits: [\n    UPDATE_MODEL_EVENT,\n    CHANGE_EVENT,\n    \"remove-tag\",\n    \"clear\",\n    \"visible-change\",\n    \"focus\",\n    \"blur\"\n  ],\n  setup(props, ctx) {\n    const nsSelect = useNamespace(\"select\");\n    const nsInput = useNamespace(\"input\");\n    const { t } = useLocale();\n    const states = useSelectStates(props);\n    const {\n      optionList,\n      optionsArray,\n      selectSize,\n      readonly,\n      handleResize,\n      collapseTagSize,\n      debouncedOnInputChange,\n      debouncedQueryChange,\n      deletePrevTag,\n      deleteTag,\n      deleteSelected,\n      handleOptionSelect,\n      scrollToOption,\n      setSelected,\n      resetInputHeight,\n      managePlaceholder,\n      showClose,\n      selectDisabled,\n      iconComponent,\n      iconReverse,\n      showNewOption,\n      emptyText,\n      toggleLastOptionHitState,\n      resetInputState,\n      handleComposition,\n      onOptionCreate,\n      onOptionDestroy,\n      handleMenuEnter,\n      handleFocus,\n      blur,\n      handleBlur,\n      handleClearClick,\n      handleClose,\n      handleKeydownEscape,\n      toggleMenu,\n      selectOption,\n      getValueKey,\n      navigateOptions,\n      dropMenuVisible,\n      reference,\n      input,\n      iOSInput,\n      tooltipRef,\n      tags,\n      selectWrapper,\n      scrollbar,\n      queryChange,\n      groupQueryChange,\n      handleMouseEnter,\n      handleMouseLeave,\n      showTagList,\n      collapseTagList\n    } = useSelect(props, states, ctx);\n    const { focus } = useFocus(reference);\n    const {\n      inputWidth,\n      selected,\n      inputLength,\n      filteredOptionsCount,\n      visible,\n      softFocus,\n      selectedLabel,\n      hoverIndex,\n      query,\n      inputHovering,\n      currentPlaceholder,\n      menuVisibleOnFocus,\n      isOnComposition,\n      isSilentBlur,\n      options,\n      cachedOptions,\n      optionsCount,\n      prefixWidth,\n      tagInMultiLine\n    } = toRefs(states);\n    const wrapperKls = computed(() => {\n      const classList = [nsSelect.b()];\n      const _selectSize = unref(selectSize);\n      if (_selectSize) {\n        classList.push(nsSelect.m(_selectSize));\n      }\n      if (props.disabled) {\n        classList.push(nsSelect.m(\"disabled\"));\n      }\n      return classList;\n    });\n    const selectTagsStyle = computed(() => ({\n      maxWidth: `${unref(inputWidth) - 32}px`,\n      width: \"100%\"\n    }));\n    const tagTextStyle = computed(() => {\n      const maxWidth = unref(inputWidth) > 123 ? unref(inputWidth) - 123 : unref(inputWidth) - 75;\n      return { maxWidth: `${maxWidth}px` };\n    });\n    provide(selectKey, reactive({\n      props,\n      options,\n      optionsArray,\n      cachedOptions,\n      optionsCount,\n      filteredOptionsCount,\n      hoverIndex,\n      handleOptionSelect,\n      onOptionCreate,\n      onOptionDestroy,\n      selectWrapper,\n      selected,\n      setSelected,\n      queryChange,\n      groupQueryChange\n    }));\n    onMounted(() => {\n      states.cachedPlaceHolder = currentPlaceholder.value = props.placeholder || (() => t(\"el.select.placeholder\"));\n      if (props.multiple && Array.isArray(props.modelValue) && props.modelValue.length > 0) {\n        currentPlaceholder.value = \"\";\n      }\n      useResizeObserver(selectWrapper, handleResize);\n      if (props.remote && props.multiple) {\n        resetInputHeight();\n      }\n      nextTick(() => {\n        const refEl = reference.value && reference.value.$el;\n        if (!refEl)\n          return;\n        inputWidth.value = refEl.getBoundingClientRect().width;\n        if (ctx.slots.prefix) {\n          const prefix = refEl.querySelector(`.${nsInput.e(\"prefix\")}`);\n          prefixWidth.value = Math.max(prefix.getBoundingClientRect().width + 5, 30);\n        }\n      });\n      setSelected();\n    });\n    if (props.multiple && !Array.isArray(props.modelValue)) {\n      ctx.emit(UPDATE_MODEL_EVENT, []);\n    }\n    if (!props.multiple && Array.isArray(props.modelValue)) {\n      ctx.emit(UPDATE_MODEL_EVENT, \"\");\n    }\n    const popperPaneRef = computed(() => {\n      var _a, _b;\n      return (_b = (_a = tooltipRef.value) == null ? void 0 : _a.popperRef) == null ? void 0 : _b.contentRef;\n    });\n    const onOptionsRendered = (v) => {\n      optionList.value = v;\n    };\n    return {\n      isIOS,\n      onOptionsRendered,\n      tagInMultiLine,\n      prefixWidth,\n      selectSize,\n      readonly,\n      handleResize,\n      collapseTagSize,\n      debouncedOnInputChange,\n      debouncedQueryChange,\n      deletePrevTag,\n      deleteTag,\n      deleteSelected,\n      handleOptionSelect,\n      scrollToOption,\n      inputWidth,\n      selected,\n      inputLength,\n      filteredOptionsCount,\n      visible,\n      softFocus,\n      selectedLabel,\n      hoverIndex,\n      query,\n      inputHovering,\n      currentPlaceholder,\n      menuVisibleOnFocus,\n      isOnComposition,\n      isSilentBlur,\n      options,\n      resetInputHeight,\n      managePlaceholder,\n      showClose,\n      selectDisabled,\n      iconComponent,\n      iconReverse,\n      showNewOption,\n      emptyText,\n      toggleLastOptionHitState,\n      resetInputState,\n      handleComposition,\n      handleMenuEnter,\n      handleFocus,\n      blur,\n      handleBlur,\n      handleClearClick,\n      handleClose,\n      handleKeydownEscape,\n      toggleMenu,\n      selectOption,\n      getValueKey,\n      navigateOptions,\n      dropMenuVisible,\n      focus,\n      reference,\n      input,\n      iOSInput,\n      tooltipRef,\n      popperPaneRef,\n      tags,\n      selectWrapper,\n      scrollbar,\n      wrapperKls,\n      selectTagsStyle,\n      nsSelect,\n      tagTextStyle,\n      handleMouseEnter,\n      handleMouseLeave,\n      showTagList,\n      collapseTagList\n    };\n  }\n});\nconst _hoisted_1 = [\"disabled\", \"autocomplete\"];\nconst _hoisted_2 = [\"disabled\"];\nconst _hoisted_3 = { style: { \"height\": \"100%\", \"display\": \"flex\", \"justify-content\": \"center\", \"align-items\": \"center\" } };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tag = resolveComponent(\"el-tag\");\n  const _component_el_tooltip = resolveComponent(\"el-tooltip\");\n  const _component_el_icon = resolveComponent(\"el-icon\");\n  const _component_el_input = resolveComponent(\"el-input\");\n  const _component_el_option = resolveComponent(\"el-option\");\n  const _component_el_options = resolveComponent(\"el-options\");\n  const _component_el_scrollbar = resolveComponent(\"el-scrollbar\");\n  const _component_el_select_menu = resolveComponent(\"el-select-menu\");\n  const _directive_click_outside = resolveDirective(\"click-outside\");\n  return withDirectives((openBlock(), createElementBlock(\"div\", {\n    ref: \"selectWrapper\",\n    class: normalizeClass(_ctx.wrapperKls),\n    onMouseenter: _cache[21] || (_cache[21] = (...args) => _ctx.handleMouseEnter && _ctx.handleMouseEnter(...args)),\n    onMouseleave: _cache[22] || (_cache[22] = (...args) => _ctx.handleMouseLeave && _ctx.handleMouseLeave(...args)),\n    onClick: _cache[23] || (_cache[23] = withModifiers((...args) => _ctx.toggleMenu && _ctx.toggleMenu(...args), [\"stop\"]))\n  }, [\n    createVNode(_component_el_tooltip, {\n      ref: \"tooltipRef\",\n      visible: _ctx.dropMenuVisible,\n      placement: _ctx.placement,\n      teleported: _ctx.teleported,\n      \"popper-class\": [_ctx.nsSelect.e(\"popper\"), _ctx.popperClass],\n      \"popper-options\": _ctx.popperOptions,\n      \"fallback-placements\": [\"bottom-start\", \"top-start\", \"right\", \"left\"],\n      effect: _ctx.effect,\n      pure: \"\",\n      trigger: \"click\",\n      transition: `${_ctx.nsSelect.namespace.value}-zoom-in-top`,\n      \"stop-popper-mouse-event\": false,\n      \"gpu-acceleration\": false,\n      persistent: _ctx.persistent,\n      onShow: _ctx.handleMenuEnter\n    }, {\n      default: withCtx(() => [\n        createElementVNode(\"div\", {\n          class: \"select-trigger\",\n          onMouseenter: _cache[19] || (_cache[19] = ($event) => _ctx.inputHovering = true),\n          onMouseleave: _cache[20] || (_cache[20] = ($event) => _ctx.inputHovering = false)\n        }, [\n          _ctx.multiple ? (openBlock(), createElementBlock(\"div\", {\n            key: 0,\n            ref: \"tags\",\n            class: normalizeClass([\n              _ctx.nsSelect.e(\"tags\"),\n              _ctx.nsSelect.is(\"disabled\", _ctx.selectDisabled)\n            ]),\n            style: normalizeStyle(_ctx.selectTagsStyle)\n          }, [\n            _ctx.collapseTags && _ctx.selected.length ? (openBlock(), createBlock(Transition, {\n              key: 0,\n              onAfterLeave: _ctx.resetInputHeight\n            }, {\n              default: withCtx(() => [\n                createElementVNode(\"span\", {\n                  class: normalizeClass([\n                    _ctx.nsSelect.b(\"tags-wrapper\"),\n                    { \"has-prefix\": _ctx.prefixWidth && _ctx.selected.length }\n                  ])\n                }, [\n                  (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.showTagList, (item) => {\n                    return openBlock(), createBlock(_component_el_tag, {\n                      key: _ctx.getValueKey(item),\n                      closable: !_ctx.selectDisabled && !item.isDisabled,\n                      size: _ctx.collapseTagSize,\n                      hit: item.hitState,\n                      type: _ctx.tagType,\n                      \"disable-transitions\": \"\",\n                      onClose: ($event) => _ctx.deleteTag($event, item)\n                    }, {\n                      default: withCtx(() => [\n                        createElementVNode(\"span\", {\n                          class: normalizeClass(_ctx.nsSelect.e(\"tags-text\")),\n                          style: normalizeStyle(_ctx.tagTextStyle)\n                        }, toDisplayString(item.currentLabel), 7)\n                      ]),\n                      _: 2\n                    }, 1032, [\"closable\", \"size\", \"hit\", \"type\", \"onClose\"]);\n                  }), 128)),\n                  _ctx.selected.length > _ctx.maxCollapseTags ? (openBlock(), createBlock(_component_el_tag, {\n                    key: 0,\n                    closable: false,\n                    size: _ctx.collapseTagSize,\n                    type: _ctx.tagType,\n                    \"disable-transitions\": \"\"\n                  }, {\n                    default: withCtx(() => [\n                      _ctx.collapseTagsTooltip ? (openBlock(), createBlock(_component_el_tooltip, {\n                        key: 0,\n                        disabled: _ctx.dropMenuVisible,\n                        \"fallback-placements\": [\"bottom\", \"top\", \"right\", \"left\"],\n                        effect: _ctx.effect,\n                        placement: \"bottom\",\n                        teleported: _ctx.teleported\n                      }, {\n                        default: withCtx(() => [\n                          createElementVNode(\"span\", {\n                            class: normalizeClass(_ctx.nsSelect.e(\"tags-text\"))\n                          }, \"+ \" + toDisplayString(_ctx.selected.length - _ctx.maxCollapseTags), 3)\n                        ]),\n                        content: withCtx(() => [\n                          createElementVNode(\"div\", {\n                            class: normalizeClass(_ctx.nsSelect.e(\"collapse-tags\"))\n                          }, [\n                            (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.collapseTagList, (item) => {\n                              return openBlock(), createElementBlock(\"div\", {\n                                key: _ctx.getValueKey(item),\n                                class: normalizeClass(_ctx.nsSelect.e(\"collapse-tag\"))\n                              }, [\n                                createVNode(_component_el_tag, {\n                                  class: \"in-tooltip\",\n                                  closable: !_ctx.selectDisabled && !item.isDisabled,\n                                  size: _ctx.collapseTagSize,\n                                  hit: item.hitState,\n                                  type: _ctx.tagType,\n                                  \"disable-transitions\": \"\",\n                                  style: { margin: \"2px\" },\n                                  onClose: ($event) => _ctx.deleteTag($event, item)\n                                }, {\n                                  default: withCtx(() => [\n                                    createElementVNode(\"span\", {\n                                      class: normalizeClass(_ctx.nsSelect.e(\"tags-text\")),\n                                      style: normalizeStyle({\n                                        maxWidth: _ctx.inputWidth - 75 + \"px\"\n                                      })\n                                    }, toDisplayString(item.currentLabel), 7)\n                                  ]),\n                                  _: 2\n                                }, 1032, [\"closable\", \"size\", \"hit\", \"type\", \"onClose\"])\n                              ], 2);\n                            }), 128))\n                          ], 2)\n                        ]),\n                        _: 1\n                      }, 8, [\"disabled\", \"effect\", \"teleported\"])) : (openBlock(), createElementBlock(\"span\", {\n                        key: 1,\n                        class: normalizeClass(_ctx.nsSelect.e(\"tags-text\"))\n                      }, \"+ \" + toDisplayString(_ctx.selected.length - _ctx.maxCollapseTags), 3))\n                    ]),\n                    _: 1\n                  }, 8, [\"size\", \"type\"])) : createCommentVNode(\"v-if\", true)\n                ], 2)\n              ]),\n              _: 1\n            }, 8, [\"onAfterLeave\"])) : createCommentVNode(\"v-if\", true),\n            !_ctx.collapseTags ? (openBlock(), createBlock(Transition, {\n              key: 1,\n              onAfterLeave: _ctx.resetInputHeight\n            }, {\n              default: withCtx(() => [\n                createElementVNode(\"span\", {\n                  class: normalizeClass([\n                    _ctx.nsSelect.b(\"tags-wrapper\"),\n                    { \"has-prefix\": _ctx.prefixWidth && _ctx.selected.length }\n                  ])\n                }, [\n                  (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.selected, (item) => {\n                    return openBlock(), createBlock(_component_el_tag, {\n                      key: _ctx.getValueKey(item),\n                      closable: !_ctx.selectDisabled && !item.isDisabled,\n                      size: _ctx.collapseTagSize,\n                      hit: item.hitState,\n                      type: _ctx.tagType,\n                      \"disable-transitions\": \"\",\n                      onClose: ($event) => _ctx.deleteTag($event, item)\n                    }, {\n                      default: withCtx(() => [\n                        createElementVNode(\"span\", {\n                          class: normalizeClass(_ctx.nsSelect.e(\"tags-text\")),\n                          style: normalizeStyle({ maxWidth: _ctx.inputWidth - 75 + \"px\" })\n                        }, toDisplayString(item.currentLabel), 7)\n                      ]),\n                      _: 2\n                    }, 1032, [\"closable\", \"size\", \"hit\", \"type\", \"onClose\"]);\n                  }), 128))\n                ], 2)\n              ]),\n              _: 1\n            }, 8, [\"onAfterLeave\"])) : createCommentVNode(\"v-if\", true),\n            _ctx.filterable ? withDirectives((openBlock(), createElementBlock(\"input\", {\n              key: 2,\n              ref: \"input\",\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => _ctx.query = $event),\n              type: \"text\",\n              class: normalizeClass([\n                _ctx.nsSelect.e(\"input\"),\n                _ctx.nsSelect.is(_ctx.selectSize),\n                _ctx.nsSelect.is(\"disabled\", _ctx.selectDisabled)\n              ]),\n              disabled: _ctx.selectDisabled,\n              autocomplete: _ctx.autocomplete,\n              style: normalizeStyle({\n                marginLeft: _ctx.prefixWidth && !_ctx.selected.length || _ctx.tagInMultiLine ? `${_ctx.prefixWidth}px` : \"\",\n                flexGrow: 1,\n                width: `${_ctx.inputLength / (_ctx.inputWidth - 32)}%`,\n                maxWidth: `${_ctx.inputWidth - 42}px`\n              }),\n              onFocus: _cache[1] || (_cache[1] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args)),\n              onBlur: _cache[2] || (_cache[2] = (...args) => _ctx.handleBlur && _ctx.handleBlur(...args)),\n              onKeyup: _cache[3] || (_cache[3] = (...args) => _ctx.managePlaceholder && _ctx.managePlaceholder(...args)),\n              onKeydown: [\n                _cache[4] || (_cache[4] = (...args) => _ctx.resetInputState && _ctx.resetInputState(...args)),\n                _cache[5] || (_cache[5] = withKeys(withModifiers(($event) => _ctx.navigateOptions(\"next\"), [\"prevent\"]), [\"down\"])),\n                _cache[6] || (_cache[6] = withKeys(withModifiers(($event) => _ctx.navigateOptions(\"prev\"), [\"prevent\"]), [\"up\"])),\n                _cache[7] || (_cache[7] = withKeys((...args) => _ctx.handleKeydownEscape && _ctx.handleKeydownEscape(...args), [\"esc\"])),\n                _cache[8] || (_cache[8] = withKeys(withModifiers((...args) => _ctx.selectOption && _ctx.selectOption(...args), [\"stop\", \"prevent\"]), [\"enter\"])),\n                _cache[9] || (_cache[9] = withKeys((...args) => _ctx.deletePrevTag && _ctx.deletePrevTag(...args), [\"delete\"])),\n                _cache[10] || (_cache[10] = withKeys(($event) => _ctx.visible = false, [\"tab\"]))\n              ],\n              onCompositionstart: _cache[11] || (_cache[11] = (...args) => _ctx.handleComposition && _ctx.handleComposition(...args)),\n              onCompositionupdate: _cache[12] || (_cache[12] = (...args) => _ctx.handleComposition && _ctx.handleComposition(...args)),\n              onCompositionend: _cache[13] || (_cache[13] = (...args) => _ctx.handleComposition && _ctx.handleComposition(...args)),\n              onInput: _cache[14] || (_cache[14] = (...args) => _ctx.debouncedQueryChange && _ctx.debouncedQueryChange(...args))\n            }, null, 46, _hoisted_1)), [\n              [vModelText, _ctx.query]\n            ]) : createCommentVNode(\"v-if\", true)\n          ], 6)) : createCommentVNode(\"v-if\", true),\n          createCommentVNode(\" fix: https://github.com/element-plus/element-plus/issues/11415 \"),\n          _ctx.isIOS && !_ctx.multiple && _ctx.filterable && _ctx.readonly ? (openBlock(), createElementBlock(\"input\", {\n            key: 1,\n            ref: \"iOSInput\",\n            class: normalizeClass([\n              _ctx.nsSelect.e(\"input\"),\n              _ctx.nsSelect.is(_ctx.selectSize),\n              _ctx.nsSelect.em(\"input\", \"iOS\")\n            ]),\n            disabled: _ctx.selectDisabled,\n            type: \"text\"\n          }, null, 10, _hoisted_2)) : createCommentVNode(\"v-if\", true),\n          createVNode(_component_el_input, {\n            id: _ctx.id,\n            ref: \"reference\",\n            modelValue: _ctx.selectedLabel,\n            \"onUpdate:modelValue\": _cache[15] || (_cache[15] = ($event) => _ctx.selectedLabel = $event),\n            type: \"text\",\n            placeholder: typeof _ctx.currentPlaceholder === \"function\" ? _ctx.currentPlaceholder() : _ctx.currentPlaceholder,\n            name: _ctx.name,\n            autocomplete: _ctx.autocomplete,\n            size: _ctx.selectSize,\n            disabled: _ctx.selectDisabled,\n            readonly: _ctx.readonly,\n            \"validate-event\": false,\n            class: normalizeClass([_ctx.nsSelect.is(\"focus\", _ctx.visible)]),\n            tabindex: _ctx.multiple && _ctx.filterable ? -1 : void 0,\n            onFocus: _ctx.handleFocus,\n            onBlur: _ctx.handleBlur,\n            onInput: _ctx.debouncedOnInputChange,\n            onPaste: _ctx.debouncedOnInputChange,\n            onCompositionstart: _ctx.handleComposition,\n            onCompositionupdate: _ctx.handleComposition,\n            onCompositionend: _ctx.handleComposition,\n            onKeydown: [\n              _cache[16] || (_cache[16] = withKeys(withModifiers(($event) => _ctx.navigateOptions(\"next\"), [\"stop\", \"prevent\"]), [\"down\"])),\n              _cache[17] || (_cache[17] = withKeys(withModifiers(($event) => _ctx.navigateOptions(\"prev\"), [\"stop\", \"prevent\"]), [\"up\"])),\n              withKeys(withModifiers(_ctx.selectOption, [\"stop\", \"prevent\"]), [\"enter\"]),\n              withKeys(_ctx.handleKeydownEscape, [\"esc\"]),\n              _cache[18] || (_cache[18] = withKeys(($event) => _ctx.visible = false, [\"tab\"]))\n            ]\n          }, createSlots({\n            suffix: withCtx(() => [\n              _ctx.iconComponent && !_ctx.showClose ? (openBlock(), createBlock(_component_el_icon, {\n                key: 0,\n                class: normalizeClass([_ctx.nsSelect.e(\"caret\"), _ctx.nsSelect.e(\"icon\"), _ctx.iconReverse])\n              }, {\n                default: withCtx(() => [\n                  (openBlock(), createBlock(resolveDynamicComponent(_ctx.iconComponent)))\n                ]),\n                _: 1\n              }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true),\n              _ctx.showClose && _ctx.clearIcon ? (openBlock(), createBlock(_component_el_icon, {\n                key: 1,\n                class: normalizeClass([_ctx.nsSelect.e(\"caret\"), _ctx.nsSelect.e(\"icon\")]),\n                onClick: _ctx.handleClearClick\n              }, {\n                default: withCtx(() => [\n                  (openBlock(), createBlock(resolveDynamicComponent(_ctx.clearIcon)))\n                ]),\n                _: 1\n              }, 8, [\"class\", \"onClick\"])) : createCommentVNode(\"v-if\", true)\n            ]),\n            _: 2\n          }, [\n            _ctx.$slots.prefix ? {\n              name: \"prefix\",\n              fn: withCtx(() => [\n                createElementVNode(\"div\", _hoisted_3, [\n                  renderSlot(_ctx.$slots, \"prefix\")\n                ])\n              ])\n            } : void 0\n          ]), 1032, [\"id\", \"modelValue\", \"placeholder\", \"name\", \"autocomplete\", \"size\", \"disabled\", \"readonly\", \"class\", \"tabindex\", \"onFocus\", \"onBlur\", \"onInput\", \"onPaste\", \"onCompositionstart\", \"onCompositionupdate\", \"onCompositionend\", \"onKeydown\"])\n        ], 32)\n      ]),\n      content: withCtx(() => [\n        createVNode(_component_el_select_menu, null, {\n          default: withCtx(() => [\n            withDirectives(createVNode(_component_el_scrollbar, {\n              ref: \"scrollbar\",\n              tag: \"ul\",\n              \"wrap-class\": _ctx.nsSelect.be(\"dropdown\", \"wrap\"),\n              \"view-class\": _ctx.nsSelect.be(\"dropdown\", \"list\"),\n              class: normalizeClass([\n                _ctx.nsSelect.is(\"empty\", !_ctx.allowCreate && Boolean(_ctx.query) && _ctx.filteredOptionsCount === 0)\n              ])\n            }, {\n              default: withCtx(() => [\n                _ctx.showNewOption ? (openBlock(), createBlock(_component_el_option, {\n                  key: 0,\n                  value: _ctx.query,\n                  created: true\n                }, null, 8, [\"value\"])) : createCommentVNode(\"v-if\", true),\n                createVNode(_component_el_options, { onUpdateOptions: _ctx.onOptionsRendered }, {\n                  default: withCtx(() => [\n                    renderSlot(_ctx.$slots, \"default\")\n                  ]),\n                  _: 3\n                }, 8, [\"onUpdateOptions\"])\n              ]),\n              _: 3\n            }, 8, [\"wrap-class\", \"view-class\", \"class\"]), [\n              [vShow, _ctx.options.size > 0 && !_ctx.loading]\n            ]),\n            _ctx.emptyText && (!_ctx.allowCreate || _ctx.loading || _ctx.allowCreate && _ctx.options.size === 0) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n              _ctx.$slots.empty ? renderSlot(_ctx.$slots, \"empty\", { key: 0 }) : (openBlock(), createElementBlock(\"p\", {\n                key: 1,\n                class: normalizeClass(_ctx.nsSelect.be(\"dropdown\", \"empty\"))\n              }, toDisplayString(_ctx.emptyText), 3))\n            ], 64)) : createCommentVNode(\"v-if\", true)\n          ]),\n          _: 3\n        })\n      ]),\n      _: 3\n    }, 8, [\"visible\", \"placement\", \"teleported\", \"popper-class\", \"popper-options\", \"effect\", \"transition\", \"persistent\", \"onShow\"])\n  ], 34)), [\n    [_directive_click_outside, _ctx.handleClose, _ctx.popperPaneRef]\n  ]);\n}\nvar Select = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue\"]]);\n\nexport { Select as default };\n//# sourceMappingURL=select.mjs.map\n","import { defineComponent, ref, getCurrentInstance, provide, reactive, toRefs, inject, onMounted, toRaw, watch, withDirectives, openBlock, createElementBlock, normalizeClass, createElementVNode, toDisplayString, renderSlot, vShow } from 'vue';\nimport '../../../hooks/index.mjs';\nimport { selectGroupKey, selectKey } from './token.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElOptionGroup\",\n  componentName: \"ElOptionGroup\",\n  props: {\n    label: String,\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    const ns = useNamespace(\"select\");\n    const visible = ref(true);\n    const instance = getCurrentInstance();\n    const children = ref([]);\n    provide(selectGroupKey, reactive({\n      ...toRefs(props)\n    }));\n    const select = inject(selectKey);\n    onMounted(() => {\n      children.value = flattedChildren(instance.subTree);\n    });\n    const flattedChildren = (node) => {\n      const children2 = [];\n      if (Array.isArray(node.children)) {\n        node.children.forEach((child) => {\n          var _a;\n          if (child.type && child.type.name === \"ElOption\" && child.component && child.component.proxy) {\n            children2.push(child.component.proxy);\n          } else if ((_a = child.children) == null ? void 0 : _a.length) {\n            children2.push(...flattedChildren(child));\n          }\n        });\n      }\n      return children2;\n    };\n    const { groupQueryChange } = toRaw(select);\n    watch(groupQueryChange, () => {\n      visible.value = children.value.some((option) => option.visible === true);\n    }, { flush: \"post\" });\n    return {\n      visible,\n      ns\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return withDirectives((openBlock(), createElementBlock(\"ul\", {\n    class: normalizeClass(_ctx.ns.be(\"group\", \"wrap\"))\n  }, [\n    createElementVNode(\"li\", {\n      class: normalizeClass(_ctx.ns.be(\"group\", \"title\"))\n    }, toDisplayString(_ctx.label), 3),\n    createElementVNode(\"li\", null, [\n      createElementVNode(\"ul\", {\n        class: normalizeClass(_ctx.ns.b(\"group\"))\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 2)\n    ])\n  ], 2)), [\n    [vShow, _ctx.visible]\n  ]);\n}\nvar OptionGroup = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue\"]]);\n\nexport { OptionGroup as default };\n//# sourceMappingURL=option-group.mjs.map\n","import '../../utils/index.mjs';\nimport Select from './src/select.mjs';\nimport Option from './src/option.mjs';\nimport OptionGroup from './src/option-group.mjs';\nexport { selectGroupKey, selectKey } from './src/token.mjs';\nimport { withInstall, withNoopInstall } from '../../utils/vue/install.mjs';\n\nconst ElSelect = withInstall(Select, {\n  Option,\n  OptionGroup\n});\nconst ElOption = withNoopInstall(Option);\nconst ElOptionGroup = withNoopInstall(OptionGroup);\n\nexport { ElOption, ElOptionGroup, ElSelect, ElSelect as default };\n//# sourceMappingURL=index.mjs.map\n","import { FabricObject } from '../../shared/fabric'\n\ninterface Options {\n  x: number\n  y: number\n  w?: number\n  h?: number\n  fillStyle?: string\n  strokeStyle?: string\n  tiggerFunc?: () => void\n}\n\nexport class LockIcon extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  private x = 0\n  private y = 0\n  private w = 20\n  private h = 14\n  private fillStyle = '#eeb174'\n  private strokeStyle = '#333'\n  private tiggerFunc: () => void\n\n  constructor(ctx: CanvasRenderingContext2D, options: Options) {\n    super()\n    this.ctx = ctx\n    this.analysisOptions(options)\n  }\n\n  private analysisOptions(options) {\n    if (options.x) this.x = options.x\n    if (options.y) this.y = options.y\n    if (options.w) this.w = options.w\n    if (options.h) this.h = options.h\n    if (options.fillStyle) this.fillStyle = options.fillStyle\n    if (options.strokeStyle) this.strokeStyle = options.strokeStyle\n    if (options.tiggerFunc) this.tiggerFunc = options.tiggerFunc\n  }\n\n  public draw() {\n    const { ctx, x, y, w, h, fillStyle, strokeStyle } = this\n    ctx.save()\n    ctx.fillStyle = fillStyle\n    ctx.strokeStyle = strokeStyle\n    ctx.lineWidth = 3\n    ctx.beginPath()\n    ctx.arc(x + w / 2, y - 3, w / 3, 0, Math.PI, true)\n    ctx.stroke()\n    ctx.drawRoundedRect(x, y, w, h, 2, 2, 2, 2, true, true, false, false)\n    ctx.restore()\n  }\n\n  public containsPoint(e: MouseEvent, trigger = false) {\n    const { x, y, w, h } = this\n    const { x: ex, y: ey } = e\n    const lines = this.getImageLines({\n      tl: { x: x, y: y },\n      tr: { x: x + w, y: y },\n      bl: { x: x, y: y + h },\n      br: { x: x + w, y: y + h },\n    })\n\n    const xpoints = this.findCrossPoints(ex, ey, lines)\n    const isContains = Boolean(xpoints % 2)\n\n    if (isContains && trigger) this.tiggerFunc?.()\n    return isContains\n  }\n}\n","/**\n * hex色值转换为rgb颜色\n * @param {String} hex    hex色值\n *\n * @return {String} rgb() 转换后的RGB色值\n */\nexport const hexToRgb = function (hex) {\n  //把诸如#fff转为#ffffff\n  hex.length === 4 &&\n    (hex =\n      hex.slice(0, 2) +\n      hex.slice(1, 2) +\n      hex.slice(2, 3) +\n      hex.slice(2, 3) +\n      hex.slice(3, 4) +\n      hex.slice(3, 4))\n\n  return (\n    'rgb(' +\n    parseInt('0x' + hex.slice(1, 3)) +\n    ',' +\n    parseInt('0x' + hex.slice(3, 5)) +\n    ',' +\n    parseInt('0x' + hex.slice(5, 7)) +\n    ')'\n  )\n}\n\n/**\n * 判断是否是浅色系\n * @param {String} color 要判断的颜色（接受hex/rgb颜色\n *\n * @return {Boolean}     true -> 是浅色系；false -> 是深色系；\n */\nexport const isLightColor = function (color) {\n  const rgbStr = color.includes('rgb') ? color : hexToRgb(color)\n  const rgbArr = rgbStr.replace(/rgb\\(|rgba\\(|\\)/g, '').split(',')\n\n  return 0.213 * rgbArr[0] + 0.715 * rgbArr[1] + 0.072 * rgbArr[2] > 255 / 2\n}\n","const prefix = 'L'\nfunction S4(): string {\n  return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n}\n\nexport function uuid(): string {\n  return `${prefix}${S4()}${S4()}-${S4()}-${S4()}-${S4()}-${S4()}${S4()}${S4()}`\n}\n\nexport function uuname(prefix: string, force = false): string {\n  if (force) return prefix\n  return `${prefix}-${S4()}${S4()}`\n}\n","import { FabricObject } from '../../shared/fabric'\nimport { Table, Attribute, CanvasEvent, Id } from '../../../types'\nimport {\n  DataTypeDate,\n  DataTypeNumber,\n  DataTypeString,\n} from '../../../types/enum'\nimport { imageMap } from '../../shared/image'\nimport { isBoolean, isNumber } from '../../utils/verify'\nimport { isLightColor } from '../../utils/color'\nimport { uuid } from '../../utils/uuid'\n\n/**\n * 待优化：\n * 1.属性超出画布无需渲染\n */\ninterface NodeInput extends Table {\n  x?: number\n  y?: number\n  width?: number\n  height?: number\n  bgC?: string\n  bdC?: string\n  quotePrimaryKey?: boolean\n  physicalTables?: boolean\n  manualChange?: boolean\n  activeAttributeId?: Id\n}\nexport class NodeErwin extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public width = 100\n  public height = 50\n  public titleHeight = 24\n  private fontSize = 12\n  private padding = 10\n\n  public attrHeight = 14\n  private borderWidth = 1\n  private datatypeIconWidth = 14\n\n  public x = 0\n  public y = 0\n  public id: Id\n  public enName: string\n  public cnName: string\n  public type: string\n  public attributes: Attribute[] = []\n  public attributesPrimary: Attribute[] = []\n  public attributesPrimaryNon: Attribute[] = []\n  private expandAttrs = []\n\n  private activeAttributeId: Id\n\n  public borderColor = '#000000'\n  public textColor = '#000000'\n  public bgColor = '#FFFFFF'\n  private hoverColor = '#477DE9'\n  public attrFocusStyle = {\n    color: '#fff',\n    backgroundColor: '#0000ff',\n  }\n\n  private quotePrimaryKey = false\n  private physicalTables = false\n  private manualChange = false\n\n  constructor(ctx: CanvasRenderingContext2D, input: NodeInput) {\n    super()\n    this.ctx = ctx\n    this.updateOptions(input)\n  }\n\n  private analysisOptions(input: NodeInput) {\n    if (!input) return\n\n    const {\n      x,\n      y,\n      width,\n      height,\n      id,\n      enName,\n      cnName,\n      type,\n      attributes,\n      bgC,\n      bdC,\n      quotePrimaryKey,\n      physicalTables,\n      manualChange,\n      activeAttributeId,\n    } = input\n\n    if (isNumber(x)) this.x = x\n    if (isNumber(y)) this.y = y\n    if (id) this.id = id\n    if (enName) this.enName = enName\n    if (cnName) this.cnName = cnName\n    if (isNumber(width)) this.width = width\n    if (isNumber(height)) this.height = height\n    if (type) this.type = type\n    if (activeAttributeId) this.activeAttributeId = activeAttributeId\n    if (attributes) {\n      this.attributes = attributes\n      this.attributesPartition()\n    }\n    if (bgC) this.bgColor = bgC\n    if (bdC) this.borderColor = bdC\n    if (isBoolean(quotePrimaryKey)) this.quotePrimaryKey = quotePrimaryKey\n    if (isBoolean(physicalTables)) this.physicalTables = physicalTables\n    if (isBoolean(manualChange)) this.manualChange = manualChange\n  }\n\n  public updateOptions(input: NodeInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public containsPoint(e: CanvasEvent) {\n    const { x: ex, y: ey } = e\n    const { x, y, width: w, height: h, attrHeight } = this\n\n    // 是否节点触发\n    const linesForNode = this.getImageLines({\n      tl: { x, y: y },\n      tr: { x: x + w, y: y },\n      bl: { x, y: y + h },\n      br: { x: x + w, y: y + h },\n    })\n    const xpointsNode = this.findCrossPoints(ex, ey, linesForNode)\n    const isContainsNode = Boolean(xpointsNode % 2)\n    if (!isContainsNode) return false\n\n    // return true\n\n    // 属性触发\n    const relativeH =\n      ey - y - this.padding - (this.attributesPrimary.length ? 0 : attrHeight)\n    const attrIndex = Math.floor(relativeH / attrHeight)\n    const attrId = [\n      ...this.attributesPrimary,\n      {},\n      ...this.attributesPrimaryNon,\n    ][attrIndex]?.id\n    // this.activeAttributeId = attrId\n    return attrId ?? true\n  }\n\n  public draw(input?: NodeInput) {\n    this.updateOptions(input)\n\n    this.drawContainer()\n    this.drawTitle()\n    this.drawbody()\n  }\n\n  private drawContainer() {\n    const {\n      ctx,\n      x,\n      y,\n      width: w,\n      height: h,\n      type,\n      bgColor,\n      borderColor,\n      quotePrimaryKey,\n      physicalTables,\n    } = this\n\n    ctx.save()\n    ctx.strokeStyle = borderColor\n    ctx.fillStyle = bgColor\n    //分支节点\n    if (['exclusive', 'inclusive'].includes(type)) {\n      ctx.beginPath()\n      ctx.arc(x + w / 2, y + w / 2, w / 2, 0, Math.PI, true)\n      ctx.closePath()\n      ctx.fill()\n      ctx.stroke()\n\n      if (type === 'exclusive') {\n        ctx.moveTo(x + 12, y + 6)\n        ctx.lineTo(x + w - 12, y + h - 3)\n        ctx.moveTo(x + w - 12, y + 6)\n        ctx.lineTo(x + 12, y + h - 3)\n        ctx.stroke()\n      }\n    }\n    //圆角矩形\n    else {\n      const roundedDeg = quotePrimaryKey ? 4 : 0\n      ctx.drawRoundedRect(\n        x,\n        y,\n        w,\n        h,\n        roundedDeg,\n        roundedDeg,\n        roundedDeg,\n        roundedDeg,\n        true,\n        true,\n        physicalTables,\n        true,\n      )\n    }\n\n    // //绘制表体文字\n    // attributes && this._drawBody(item)\n\n    //绘制聚焦节点标识\n    // if (this.focusTarget.includes(item) && !['exclusive', 'inclusive'].includes(item.type)) this._drawFocus(x, y, w, h)\n\n    ctx.restore()\n  }\n\n  private drawDataType(\n    datatype: DataTypeDate | DataTypeNumber | DataTypeString,\n    x: number,\n    y: number,\n  ) {\n    const datatypeUpper = datatype?.replace(/\\(.*\\)/g, '')?.toLocaleUpperCase()\n    let img\n    if (datatypeUpper in DataTypeDate) {\n      img = imageMap.get('date')\n    } else if (datatypeUpper in DataTypeNumber) {\n      img = imageMap.get('number')\n    } else if (datatypeUpper in DataTypeString) {\n      img = imageMap.get('string')\n    }\n\n    const { ctx } = this\n    if (!img) {\n      ctx.save()\n      ctx.fillStyle = '#808080'\n      ctx.fillText('?', x, y, this.fontSize)\n      ctx.restore()\n      return false\n    }\n    ctx.drawImage(img, x, y, this.fontSize, this.fontSize)\n  }\n\n  private drawTitle() {\n    const { ctx, textColor, enName, width, x, y, titleHeight, fontSize } = this\n\n    ctx.save()\n    // 设置字体\n    ctx.font = `${fontSize}px`\n    // 设置颜色\n    ctx.fillStyle = textColor\n    // 设置水平对齐方式\n    ctx.textAlign = 'left'\n    // 设置垂直对齐方式\n    ctx.textBaseline = 'top'\n    ctx.fillText(ctx.fittingString(enName, width - 14), x, y - titleHeight)\n    ctx.restore()\n  }\n\n  private drawbody() {\n    const {\n      ctx,\n      x,\n      y,\n      bgColor: bgC,\n      fontSize,\n      padding,\n      attrHeight,\n      attributesPrimary,\n      attributesPrimaryNon,\n    } = this\n\n    ctx.save()\n    // 设置字体\n    ctx.font = `${fontSize}px Arial`\n    // 设置字体颜色\n    ctx.fillStyle = isLightColor(bgC) ? '#000' : '#fff'\n    // 设置水平对齐方式\n    ctx.textAlign = 'left'\n    // 设置垂直对齐方式\n    ctx.textBaseline = 'top'\n\n    const curX = padding + x\n    let curY = y + padding - attrHeight\n\n    //绘制主键\n    for (let i = 0; i < attributesPrimary.length; i++) {\n      const item = attributesPrimary[i]\n      curY = this.drawAttrRow(item, curX, curY)\n    }\n\n    //绘制主键/非主键分割线\n    curY = this.drawSplitLine(curY)\n\n    //绘制非主键\n    for (let i = 0; i < attributesPrimaryNon.length; i++) {\n      const item = attributesPrimaryNon[i]\n      curY = this.drawAttrRow(item, curX, curY)\n    }\n\n    ctx.restore()\n  }\n\n  private drawAttrRow(attrItem, curX, curY) {\n    const {\n      ctx,\n      attrHeight,\n      padding,\n      fontSize,\n      x,\n      y,\n      width: w,\n      height: h,\n      attrFocusStyle,\n    } = this\n\n    curY += attrHeight\n\n    // 判断是否超出实体框\n    if (curY + 16 > h + y) return\n\n    // 判断是否超出可视范围\n    // if (!this.canvas.isVisible([[curX, curY], [curX + w, curY + fontSize]])) return\n\n    if (this.activeAttributeId === attrItem.id) {\n      ctx.save()\n      ctx.fillStyle = attrFocusStyle.backgroundColor\n      ctx.fillRect(\n        curX + fontSize,\n        curY - 1,\n        w - (curX - x) - padding - fontSize,\n        attrHeight,\n      )\n      ctx.restore()\n    }\n\n    this.drawDataType(attrItem.type, curX, curY)\n\n    // 绘制FK标识\n    const addText = attrItem.foreignKey ? '(FK)' : ''\n    const finalText = ctx.fittingString(\n      attrItem.name + addText,\n      w - (curX - x) - padding - fontSize,\n    )\n    // 开始绘制主键\n    ctx.fillText(finalText, curX + fontSize, curY)\n\n    // this.drawFocusAttr({\n    //   attrItem,\n    //   finalText,\n    //   curX,\n    //   curY,\n    //   fullWidth: w - (curX - x),\n    //   nodePadding: padding,\n    // })\n\n    // 绘制尾部icon\n    const textWidth = curX + ctx.measureText(finalText).width + fontSize\n    this.drawIcons(attrItem.icons, textWidth, curY)\n\n    if (attrItem.children?.length) {\n      // 是否是展开状态\n      const isExpand = this.expandAttrs.includes(attrItem)\n\n      // 绘制树结构箭头\n      this.drawTreeExpandArrow.call(this, {\n        x: curX,\n        y: curY,\n        size: fontSize,\n        expand: isExpand,\n      })\n\n      // 绘制子节点\n      isExpand &&\n        attrItem.children.forEach((attrItem) => {\n          curY = this.drawAttrRow(attrItem, curX + 10, curY)\n        })\n    }\n\n    return curY\n  }\n\n  private drawIcons(icons = [], startX: number, startY: number) {\n    const { fontSize, x, width, padding } = this\n    for (let i = 0; i < icons.length; i++) {\n      const icon = icons[i]\n      const iconX = startX + fontSize * 0.7 + i * (fontSize * 1.2)\n\n      if (iconX + (fontSize / 2) * 3 > x + width + padding) return\n      this.drawIcon(icon, iconX, startY)\n    }\n  }\n\n  private drawIcon(icon, startX: number, startY: number) {\n    const { ctx, attrHeight, fontSize } = this\n\n    ctx.save()\n    /**\n     * 开始绘制背景圆圈\n     */\n    ctx.beginPath()\n    ctx.strokeStyle = icon.bdC || '#0C64EB'\n    ctx.fillStyle = icon.bgC || '#ECF5FF'\n    ctx.arc(\n      startX,\n      startY + Math.floor(attrHeight / 2) - 1,\n      fontSize / 2,\n      0,\n      2 * Math.PI,\n    )\n    ctx.fill()\n    ctx.stroke()\n\n    /**\n     * 开始绘制文字\n     */\n    ctx.fillStyle = icon.color || '#0C64EB'\n    ctx.font = `${Math.ceil(fontSize / 1.2)}px Arial`\n    // 设置水平对齐方式\n    ctx.textAlign = 'center'\n    ctx.fillText(icon.text, startX, startY + (attrHeight - fontSize) / 2 + 1)\n    ctx.restore()\n  }\n\n  private drawSplitLine(curY) {\n    const {\n      ctx,\n      attributesPrimary,\n      attrHeight,\n      x,\n      y,\n      width: w,\n      height: h,\n    } = this\n    curY += (attributesPrimary.length ? 1 : 2) * attrHeight\n\n    ctx.save()\n    if (curY < h + y) {\n      ctx.beginPath()\n      ctx.strokeStyle = '#000'\n      ctx.moveTo(x + 0.5, curY + attrHeight / 3 + 0.5)\n      ctx.lineTo(x + w + 0.5, curY + attrHeight / 3 + 0.5)\n      ctx.stroke()\n    }\n    ctx.restore()\n    return curY\n  }\n\n  private drawTreeExpandArrow({ x, y, size, expand }) {\n    const { ctx } = this\n\n    ctx.save()\n    ctx.beginPath()\n    ctx.translate(x - 4, y + size / 2)\n    expand && ctx.rotate((90 * Math.PI) / 180)\n    ctx.moveTo(-2, -4)\n    ctx.lineTo(-2, 4)\n    ctx.lineTo(2, 0)\n    ctx.fill()\n    ctx.restore()\n  }\n\n  private drawFocusAttr({\n    attrItem,\n    finalText,\n    curX,\n    curY,\n    fullWidth,\n    nodePadding,\n  }) {\n    // if (this.focusAttr !== attrItem) return\n\n    const { ctx, attrFocusStyle } = this\n    const backgroundStartX = attrItem?.children?.length\n      ? curX\n      : curX - nodePadding / 2\n    const backgroundWidth = attrItem?.children?.length\n      ? fullWidth - nodePadding / 2\n      : fullWidth\n\n    ctx.save()\n    ctx.fillStyle = attrFocusStyle.backgroundColor\n    ctx.fillRect(backgroundStartX, curY - 1, backgroundWidth, 16)\n\n    ctx.fillStyle = attrFocusStyle.color\n    ctx.fillText(finalText, curX, curY)\n\n    ctx.restore()\n  }\n\n  // 分裂主键非主键\n  private attributesPartition() {\n    this.attributesPrimary = []\n    this.attributesPrimaryNon = []\n\n    const { attributes, attributesPrimary, attributesPrimaryNon } = this\n    for (let i = 0; i < attributes.length; i++) {\n      const item = attributes[i]\n      item.primaryKey\n        ? attributesPrimary.push(item)\n        : attributesPrimaryNon.push(item)\n      // 补属性id\n      if (!item.id) item.id = uuid()\n    }\n  }\n\n  public getAttributeInfo(attributeId: Id) {\n    const {\n      attributesPrimary,\n      attributesPrimaryNon,\n      x,\n      y,\n      width,\n      height,\n      padding,\n      attrHeight,\n    } = this\n    const attributesOrder = [\n      ...attributesPrimary,\n      { id: null },\n      ...attributesPrimaryNon,\n    ]\n    const attrIndex = attributesOrder.findIndex((i) => i.id === attributeId)\n\n    const info = {\n      x: x + padding,\n      y:\n        y +\n        padding +\n        (attributesPrimary.length ? attrIndex : attrIndex + 1) * attrHeight,\n      width: width - 2 * padding,\n      height: attrHeight,\n      info: attributesOrder[attrIndex],\n    }\n    return info\n  }\n\n  private calcBoundingBox() {\n    const { x, y, width, height } = this\n\n    this.boundingBox = [\n      [x, y],\n      [x + width, y],\n      [x, y + height],\n      [x + width, y + height],\n    ]\n  }\n}\n","import { FabricObject } from '../../shared/fabric'\nimport { Table, Attribute, CanvasEvent, Id } from '../../../types'\nimport { isBoolean, isNumber } from '../../utils/verify'\n\n/**\n * 待优化：\n * 1.属性超出画布无需渲染\n */\ninterface NodeInput extends Table {\n  x?: number\n  y?: number\n  width?: number\n  height?: number\n  bgC?: string\n  bdC?: string\n  quotePrimaryKey?: boolean\n  physicalTables?: boolean\n  manualChange?: boolean\n}\nexport class NodeRect extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public width = 100\n  public height = 50\n\n  private borderWidth = 2\n\n  public x = 0\n  public y = 0\n  public id: Id\n\n  private borderColor = '#000000'\n  private bgColor: string\n\n  constructor(ctx: CanvasRenderingContext2D, input: NodeInput) {\n    super()\n    this.ctx = ctx\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  private analysisOptions(input: NodeInput) {\n    if (!input) return\n\n    const { x, y, width, height, id, bgC, bdC } = input\n\n    if (isNumber(x)) this.x = x\n    if (isNumber(y)) this.y = y\n    if (id) this.id = id\n    if (isNumber(width)) this.width = width\n    if (isNumber(height)) this.height = height\n    if (bgC) this.bgColor = bgC\n    if (bdC) this.borderColor = bdC\n  }\n\n  public updateOptions(input: NodeInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public containsPoint(e: CanvasEvent) {\n    const { x: ex, y: ey } = e\n    const { x, y, width: w, height: h } = this\n\n    // 是否节点触发\n    const linesForNode = this.getImageLines({\n      tl: { x, y: y },\n      tr: { x: x + w, y: y },\n      bl: { x, y: y + h },\n      br: { x: x + w, y: y + h },\n    })\n    const xpointsNode = this.findCrossPoints(ex, ey, linesForNode)\n    const isContainsNode = Boolean(xpointsNode % 2)\n    if (!isContainsNode) return false\n\n    return true\n    // const relativeH = ey - y\n\n    // // 属性触发\n    // const attrIndex = Math.floor((relativeH - titleHeight) / attrHeight)\n    // return attributes[attrIndex]?.id\n  }\n\n  public draw(input?: NodeInput) {\n    this.analysisOptions(input)\n    this.drawRect()\n  }\n\n  private drawRect() {\n    const {\n      ctx,\n      x,\n      y,\n      width: w,\n      height: h,\n      bgColor,\n      borderColor,\n      borderWidth,\n    } = this\n    // console.log(bgColor,\"bgColor\")\n    ctx.save()\n    ctx.lineWidth = borderWidth\n    ctx.strokeStyle = borderColor || '#000000'\n    ctx.fillStyle = bgColor || '#ffffff'\n    ctx.strokeRect(x, y, w, h)\n    ctx.restore()\n\n    //记录最大宽高\n    // if(x+w > this.maxWidth) this.maxWidth = x+w\n    // if(y+h > this.maxHeight) this.maxHeight = y+h\n\n    // if(this.focusTarget.has(markInfo)) this._drawFocus(x, y, w, h)\n  }\n\n  private calcBoundingBox() {\n    const { x, y, width, height } = this\n\n    this.boundingBox = [\n      [x, y],\n      [x + width, y],\n      [x, y + height],\n      [x + width, y + height],\n    ]\n  }\n}\n","interface Point {\n  x: number\n  y: number\n}\n\n/**\n * 检测点是否在线段上\n * @param point 检测点\n * @param segments 端点集合\n * @param tolerance 容差\n * @returns\n */\nexport const isPointOnLineSegments = (\n  point: Point,\n  segments: Point[],\n  tolerance = 0,\n): boolean | number => {\n  const { x, y } = point\n  const xTolerance = tolerance || 0\n  const yTolerance = tolerance || 0\n  for (let i = 0; i < segments.length - 1; i++) {\n    const p1 = segments[i]\n    const p2 = segments[i + 1]\n    const a = p1.y - p2.y\n    const b = p2.x - p1.x\n    const c = p1.x * p2.y - p2.x * p1.y\n    const distance = Math.abs(a * x + b * y + c) / Math.sqrt(a * a + b * b)\n    if (\n      distance <= xTolerance &&\n      x >= Math.min(p1.x, p2.x) - xTolerance &&\n      x <= Math.max(p1.x, p2.x) + xTolerance &&\n      y >= Math.min(p1.y, p2.y) - yTolerance &&\n      y <= Math.max(p1.y, p2.y) + yTolerance\n    ) {\n      return i\n    }\n  }\n  return false\n}\n","import { CanvasEvent, Id } from '../../../types'\nimport { FabricObject } from '../../shared/fabric'\nimport { isPointOnLineSegments } from '../../utils/fx'\nimport { isNumber } from '../../utils/verify'\n\nexport enum LineType {\n  foreignKey = 'foreignKey',\n}\nexport type NumLineTypes = 1 | 2 | 3 | 4\n\ninterface point {\n  x: number\n  y: number\n}\nexport type Points = point[]\n\ninterface LineInput {\n  id: Id\n  pos: Points\n  from: Id\n  to: Id\n  type?: LineType\n  numLineTypes?: NumLineTypes\n  lineWidth?: number\n  remark?: string\n  strokeStyle?: string\n}\n\nexport class LineErwin extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public id: Id\n  public from: Id\n  public to: Id\n  public type: LineType\n  public numLineTypes: NumLineTypes\n  public pos: Points = []\n  public remark: string\n  public lineWidth = 1\n  private strokeStyle = '#000000'\n\n  constructor(ctx: CanvasRenderingContext2D, input: LineInput) {\n    super()\n    this.ctx = ctx\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  private analysisOptions(input) {\n    if (!input) return\n\n    const { pos, type, from, to, id, lineWidth, numLineTypes, strokeStyle } =\n      input\n\n    if (id) this.id = id\n    if (from) this.from = from\n    if (to) this.to = to\n    if (pos) this.pos = pos\n    if (type) this.type = type\n    if (numLineTypes) this.numLineTypes = numLineTypes\n    if (lineWidth) this.lineWidth = lineWidth\n    if (strokeStyle) this.strokeStyle = strokeStyle\n  }\n\n  public updateOptions(input: LineInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public draw(input?: LineInput) {\n    this.analysisOptions(input)\n\n    this.drawLine()\n    this.drawEnds()\n    this.drawNote()\n  }\n\n  public containsPoint(e: CanvasEvent) {\n    const { pos } = this\n\n    const isOnline = isNumber(isPointOnLineSegments(e, pos, 5))\n\n    return isOnline\n  }\n\n  public getIndexInPos(e) {\n    return isPointOnLineSegments(e, this.pos, 5)\n  }\n\n  private drawLine() {\n    const { ctx, strokeStyle, lineWidth, type, pos } = this\n\n    ctx.save()\n\n    ctx.strokeStyle = strokeStyle\n    ctx.lineWidth = lineWidth\n\n    // 根据是否是外键判断是否需要绘制虚线\n    if (type === LineType.foreignKey) ctx.setLineDash([8, 5])\n\n    pos.forEach((pointItem, pointIdx) => {\n      if (pointIdx === 0) {\n        ctx.beginPath()\n        ctx.moveTo(pointItem.x, pointItem.y)\n      } else {\n        ctx.lineTo(pointItem.x, pointItem.y)\n      }\n    })\n\n    ctx.stroke()\n    ctx.restore()\n  }\n\n  private drawEnds() {\n    const { ctx, pos, strokeStyle, lineWidth, numLineTypes } = this\n    const w = 15,\n      posLen = pos.length || 0\n\n    if (posLen < 2) return\n\n    ctx.save()\n    ctx.beginPath()\n    ctx.setLineDash([0, 0])\n    ctx.strokeStyle = strokeStyle\n    ctx.lineWidth = lineWidth\n\n    //绘制起点标志\n    //竖线\n    if (pos[0].x === pos[1].x) {\n      const dis = pos[1].y - pos[0].y\n      const y =\n        Math.abs(dis) < 10\n          ? dis < 0\n            ? pos[0].y - 1\n            : pos[0].y + 1\n          : dis < 0\n          ? pos[0].y - 10\n          : pos[0].y + 10\n      ctx.moveTo(pos[0].x - w / 2, y)\n      ctx.lineTo(pos[0].x + w / 2, y)\n    }\n    //横线\n    else {\n      const dis = pos[1].x - pos[0].x\n      const x =\n        Math.abs(dis) < 10\n          ? dis < 0\n            ? pos[0].x - 1\n            : pos[0].x + 1\n          : dis < 0\n          ? pos[0].x - 10\n          : pos[0].x + 10\n      ctx.moveTo(x, pos[0].y - w / 2)\n      ctx.lineTo(x, pos[0].y + w / 2)\n    }\n\n    //绘制终点标志\n    //竖线\n    if (pos[posLen - 2].x === pos[posLen - 1].x) {\n      const dis = pos[posLen - 1].y - pos[posLen - 2].y\n      const y =\n        Math.abs(dis) < 10\n          ? dis < 0\n            ? pos[posLen - 1].y + 1\n            : pos[posLen - 1].y - 1\n          : dis < 0\n          ? pos[posLen - 1].y + 10\n          : pos[posLen - 1].y - 10\n      ctx.moveTo(pos[posLen - 1].x - w / 2, y)\n      ctx.lineTo(pos[posLen - 1].x + w / 2, y)\n      ctx.stroke()\n      //绘制分叉\n      if ([1, 2].includes(numLineTypes)) {\n        ctx.moveTo(pos[posLen - 1].x - w / 2, pos[posLen - 1].y)\n        ctx.lineTo(pos[posLen - 1].x, y)\n        ctx.lineTo(pos[posLen - 1].x + w / 2, pos[posLen - 1].y)\n        ctx.stroke()\n      }\n      //绘制圆圈\n      if ([1, 4].includes(numLineTypes)) {\n        ctx.beginPath()\n        const arcX = pos[posLen - 1].x\n        const arcY = dis < 0 ? y + w / 2 : y - w / 2\n        ctx.arc(arcX, arcY, (w - 2) / 2, 0, 360, false)\n        ctx.fillStyle = '#fff'\n        ctx.fill()\n        ctx.stroke()\n      }\n    }\n    //横线\n    else {\n      const dis = pos[posLen - 1].x - pos[posLen - 2].x\n      const x =\n        Math.abs(dis) < 10\n          ? dis < 0\n            ? pos[posLen - 1].x + 1\n            : pos[posLen - 1].x - 1\n          : dis < 0\n          ? pos[posLen - 1].x + 10\n          : pos[posLen - 1].x - 10\n      ctx.moveTo(x, pos[posLen - 1].y - w / 2)\n      ctx.lineTo(x, pos[posLen - 1].y + w / 2)\n      ctx.stroke()\n      //绘制分叉\n      if ([1, 2].includes(numLineTypes)) {\n        ctx.moveTo(pos[posLen - 1].x, pos[posLen - 1].y - w / 2)\n        ctx.lineTo(x, pos[posLen - 1].y)\n        ctx.lineTo(pos[posLen - 1].x, pos[posLen - 1].y + w / 2)\n        ctx.stroke()\n      }\n      //绘制圆圈\n      if ([1, 4].includes(numLineTypes)) {\n        ctx.beginPath()\n        const arcX = dis < 0 ? x + w / 2 : x - w / 2\n        const arcY = pos[posLen - 1].y\n        ctx.arc(arcX, arcY, (w - 2) / 2, 0, 360, false)\n        ctx.fillStyle = '#fff'\n        ctx.fill()\n        ctx.stroke()\n      }\n    }\n\n    ctx.restore()\n  }\n\n  private drawNote() {\n    const { ctx, pos, remark } = this\n\n    if (!remark) return\n\n    const middleIndex = Math.floor(pos.length / 2) - 1\n\n    let x, y, vertical\n    // 中间线是横线\n    if (pos[middleIndex].y === pos[middleIndex + 1].y) {\n      vertical = false\n      x =\n        Math.abs(pos[middleIndex + 1].x - pos[middleIndex].x) / 2 +\n        Math.min(pos[middleIndex + 1].x, pos[middleIndex].x)\n      y = pos[middleIndex].y - 10\n    }\n    // 中间线是竖线\n    else {\n      vertical = true\n      x = pos[middleIndex].x + 10\n      y =\n        Math.abs(pos[middleIndex + 1].y - pos[middleIndex].y) / 2 +\n        Math.min(pos[middleIndex + 1].y, pos[middleIndex].y) -\n        ctx.measureText(remark).width / 2\n    }\n\n    // 绘制文字\n    ctx.textAlign = 'center'\n    // ctx.textBaseline = 'center'\n    vertical\n      ? ctx.fillRowText(remark, x, y, 16, 16)\n      : ctx.fillText(remark, x, y)\n  }\n\n  private calcBoundingBox() {\n    const { pos } = this\n    const xPoints = [],\n      yPoints = []\n    for (let i = 0; i < pos.length; i++) {\n      const it = pos[i]\n      xPoints.push(it.x)\n      yPoints.push(it.y)\n    }\n\n    this.boundingBox = [\n      [Math.min(...xPoints), Math.min(...yPoints)],\n      [Math.max(...xPoints), Math.max(...yPoints)],\n    ]\n  }\n}\n","// 区间值\nexport const mathRange = (value: number, min = -Infinity, max = Infinity) =>\n  Math.max(Math.min(value, max), min)\n","import type { Erg } from '..'\nimport { uuid, uuname } from '../../core/utils/uuid'\nimport { Id } from '../../types'\nimport {\n  NodeEvent,\n  LineEvent,\n  MarkEvent,\n  NoteEvent,\n  GraphEvent,\n} from '../../core/types/event'\nimport type {\n  NodeData,\n  LineData,\n  MarkData,\n  NoteData,\n  Data,\n} from '../types/graph'\n\ninterface DataHandlerOptions {\n  context?: Erg\n  data: Data\n}\n\n/**\n * 可插拔的数据更新系统\n *  - 调用此类的mountAutoUpdate -> 渲染器直接修改原始数据\n *  - 不调用此类mountAutoUpdate -> 渲染器不修改原始数据，如需正确渲染，需要用户外部手动挂载监听修改数据\n */\nexport class DataHandler {\n  private context: Erg\n  public originData = {\n    nodeDataArray: [],\n    linkDataArray: [],\n    markDataArray: [],\n    noteDataArray: [],\n  }\n  public originDataMap: Map<Id, NodeData | LineData | MarkData | NoteData> =\n    new Map()\n\n  constructor(options: DataHandlerOptions) {\n    this.update(options)\n    this.mountAutoUpdate()\n  }\n\n  public update(options: DataHandlerOptions) {\n    this.analysisOptions(options)\n  }\n\n  private analysisOptions(options: DataHandlerOptions) {\n    const { data, context } = options\n    if (data) this.originData = data\n    if (context) this.context = context\n\n    this.initMap()\n  }\n\n  private initMap() {\n    const {\n      originData: {\n        nodeDataArray = [],\n        linkDataArray = [],\n        markDataArray = [],\n        noteDataArray = [],\n      },\n      originDataMap,\n    } = this\n\n    originDataMap.clear()\n    const elements = [\n      ...nodeDataArray,\n      ...linkDataArray,\n      ...markDataArray,\n      ...noteDataArray,\n    ]\n    for (let i = 0; i < elements.length; i++) {\n      const el = elements[i]\n      originDataMap.set(el.id, el)\n    }\n  }\n\n  private mountAutoUpdate() {\n    this.mountGraphEvent()\n    this.mountNodeEvent()\n    this.mountLineEvent()\n    this.mountMarkEvent()\n    this.mountNoteEvent()\n    // graph.on('line:click', (id) => console.log('line:click', id))\n    // graph.on('node:click', (id) => console.log('node:click', id))\n    // graph.on('node-attr:click', (id) => console.log('node-attr:click', id))\n  }\n\n  private mountGraphEvent() {\n    const { context } = this\n    context.on(GraphEvent.Paste, (materials: any[]) => {\n      materials.map((it) => {\n        context.emit(NodeEvent.New, it)\n      })\n    })\n  }\n\n  private mountNodeEvent() {\n    const { originDataMap, context } = this\n    context.on(NodeEvent.Move, (node) => {\n      const it = originDataMap.get(node.id) as NodeData\n      it.x = node.x\n      it.y = node.y\n      it.width = node.width\n      it.height = node.height\n    })\n    context.on(NodeEvent.Resize, (node) => {\n      const it = originDataMap.get(node.id) as NodeData\n      it.x = node.x\n      it.y = node.y\n      it.width = node.width\n      it.height = node.height\n    })\n    context.on(\n      NodeEvent.Delete,\n      function (node) {\n        const idx = this.originData.nodeDataArray.findIndex(\n          (it) => it.id === node.id,\n        )\n        if (idx === -1) return\n\n        this.originData.nodeDataArray.splice(idx, 1)\n        originDataMap.delete(node.id)\n      }.bind(this),\n    )\n    context.on(NodeEvent.New, (info) => {\n      Object.assign(info, {\n        id: uuid(),\n        name: uuname('Entity'),\n      })\n      this.originData.nodeDataArray.push(info)\n      this.originDataMap.set(info.id, info)\n    })\n  }\n\n  private mountLineEvent() {\n    const { originDataMap, context } = this\n    context.on(LineEvent.Move, (line) => {\n      const it = originDataMap.get(line.id) as LineData\n      it.pos = line.pos\n    })\n    context.on(\n      LineEvent.Delete,\n      function (line) {\n        const idx = this.originData.linkDataArray.findIndex(\n          (it) => it.id === line.id,\n        )\n        if (idx === -1) return\n\n        this.originData.linkDataArray.splice(idx, 1)\n        originDataMap.delete(line.id)\n      }.bind(this),\n    )\n\n    context.on(LineEvent.New, (info) => {\n      Object.assign(info, {\n        id: uuid(),\n      })\n      this.originData.linkDataArray.push(info)\n      this.originDataMap.set(info.id, info)\n    })\n  }\n\n  private mountMarkEvent() {\n    const { originDataMap, context } = this\n    context.on(MarkEvent.Move, (node) => {\n      const it = originDataMap.get(node.id) as MarkData\n      it.x = node.x\n      it.y = node.y\n      it.width = node.width\n      it.height = node.height\n    })\n    context.on(MarkEvent.Resize, (node) => {\n      const it = originDataMap.get(node.id) as MarkData\n      it.x = node.x\n      it.y = node.y\n      it.width = node.width\n      it.height = node.height\n    })\n    context.on(\n      MarkEvent.Delete,\n      function (mark) {\n        const idx = this.originData.markDataArray.findIndex(\n          (it) => it.id === mark.id,\n        )\n        if (idx === -1) return\n\n        this.originData.markDataArray.splice(idx, 1)\n        originDataMap.delete(mark.id)\n      }.bind(this),\n    )\n    context.on(MarkEvent.New, (info) => {\n      Object.assign(info, {\n        id: uuid(),\n      })\n      this.originData.markDataArray.push(info)\n      this.originDataMap.set(info.id, info)\n    })\n  }\n\n  private mountNoteEvent() {\n    const { originDataMap, context } = this\n    context.on(NoteEvent.Move, (note) => {\n      const it = originDataMap.get(note.id) as NoteData\n      it.x = note.x\n      it.y = note.y\n    })\n    context.on(\n      NoteEvent.Delete,\n      function (note) {\n        const idx = this.originData.noteDataArray.findIndex(\n          (it) => it.id === note.id,\n        )\n        if (idx === -1) return\n\n        this.originData.noteDataArray.splice(idx, 1)\n        originDataMap.delete(note.id)\n      }.bind(this),\n    )\n    context.on(NoteEvent.New, (info) => {\n      Object.assign(info, {\n        id: uuid(),\n        text: 'remark...',\n      })\n      this.originData.noteDataArray.push(info)\n      this.originDataMap.set(info.id, info)\n    })\n  }\n\n  private unmountAutoUpdate() {\n    const { context } = this\n    context.off()\n  }\n\n  private freeVariable() {\n    this.originData = null\n    this.originDataMap = null\n  }\n\n  public destroy() {\n    this.unmountAutoUpdate()\n    this.freeVariable()\n  }\n}\n","import { FabricObject } from '../../shared/fabric'\nimport { Id, CanvasEvent } from '../../../types'\nimport { isNumber } from '../../utils/verify'\n\ninterface TextBaseInput {\n  id?: Id\n  content?: string\n  x: number\n  y: number\n  borderColor?: string\n  textColor?: string\n  bgColor?: string\n  borderWidth?: number\n}\n\nexport class TextBase extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public x = 0\n  public y = 0\n  public width = 0\n  public height = 0\n  public borderColor = '#0C64EB'\n  public textColor = '#0C64EB'\n  public bgColor = '#D0E2FF'\n  public borderWidth = 1\n\n  public id: Id\n  public content: string\n\n  constructor(ctx: CanvasRenderingContext2D, input: TextBaseInput) {\n    super()\n    this.ctx = ctx\n    this.updateOptions(input)\n  }\n\n  private analysisOptions(input: TextBaseInput) {\n    if (!input) return\n\n    const {\n      x = 0,\n      y = 0,\n      id,\n      // width,\n      // height,\n      borderColor,\n      textColor,\n      bgColor,\n      borderWidth,\n      content,\n    } = input\n\n    if (isNumber(x)) this.x = x\n    if (isNumber(y)) this.y = y\n    // if (isNumber(width)) this.width = width\n    // if (isNumber(height)) this.height = height\n    if (id) this.id = id\n    if (borderColor) this.borderColor = borderColor\n    if (textColor) this.textColor = textColor\n    if (bgColor) this.bgColor = bgColor\n    if (isNumber(borderWidth)) this.borderWidth = borderWidth\n    if (content) this.content = content\n  }\n\n  public updateOptions(input: TextBaseInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public containsPoint(e: CanvasEvent) {\n    const { x: ex, y: ey } = e\n    const { x, y, width, height } = this\n\n    return ex >= x && ex <= x + width && ey >= y && ey <= y + height\n  }\n\n  public draw(input?: TextBaseInput) {\n    this.updateOptions(input)\n\n    const { ctx, content, x, y, textColor } = this\n    ctx.save()\n    ctx.textBaseline = 'top'\n    ctx.fillStyle = textColor\n    ctx.fillText(content, x, y)\n    ctx.restore()\n  }\n\n  private calcBoundingBox() {\n    const { x, y, ctx, content } = this\n    const textMetrics = ctx.measureText(content)\n    const width = (this.width = textMetrics.width)\n    const height = (this.height =\n      textMetrics.actualBoundingBoxAscent +\n      textMetrics.actualBoundingBoxDescent)\n    this.boundingBox = [\n      [x, y],\n      [x + width, y],\n      [x, y + height],\n      [x + width, y + height],\n    ]\n  }\n}\n","import { FabricObject } from '../../shared/fabric'\n\n/**\n * 待优化：\n * 1.属性超出画布无需渲染\n */\ninterface NodeInput {\n  x?: number\n  y?: number\n  width?: number\n  height?: number\n  bdC?: string\n  targetWidth?: number\n  targetBgColor?: string\n  targetBdColor?: string\n  lineWidth?: number\n}\nexport class FrameResize extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public width = 100\n  public height = 50\n  public x = 0\n  public y = 0\n  private lineWidth = 1\n  private borderColor = 'blue'\n\n  private targetWidth = 6\n  private targetBgColor = '#FFFFFF'\n  private targetBdColor = '#B4B4B4'\n\n  constructor(ctx: CanvasRenderingContext2D, input: NodeInput) {\n    super()\n    this.ctx = ctx\n    this.updateOptions(input)\n  }\n\n  private analysisOptions(input: NodeInput) {\n    if (!input) return\n\n    const {\n      x = 0,\n      y = 0,\n      width,\n      height,\n      targetBgColor,\n      targetBdColor,\n      bdC,\n      lineWidth,\n    } = input\n\n    if (x) this.x = x\n    if (y) this.y = y\n    if (width) this.width = width\n    if (height) this.height = height\n    if (targetBgColor) this.targetBgColor = targetBgColor\n    if (targetBdColor) this.targetBdColor = targetBdColor\n    if (bdC) this.borderColor = bdC\n    if (lineWidth) this.lineWidth = lineWidth\n  }\n\n  public updateOptions(input: NodeInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public containsPoint() {\n    return false\n  }\n\n  public draw(input?: NodeInput) {\n    this.updateOptions(input)\n\n    this.drawBorder()\n    this.drawTargets()\n  }\n\n  private drawBorder() {\n    const { ctx, borderColor, lineWidth, x, y, width, height } = this\n\n    ctx.save()\n    ctx.lineWidth = lineWidth\n    ctx.strokeStyle = borderColor\n    ctx.strokeRect(x, y, width, height)\n    ctx.restore()\n  }\n\n  private drawTargets() {\n    const {\n      ctx,\n      targetBdColor,\n      targetBgColor,\n      targetWidth,\n      x,\n      y,\n      width,\n      height,\n    } = this\n\n    const halfTargetWidth = targetWidth / 2\n    const fixX = x - halfTargetWidth\n    const fixY = y - halfTargetWidth\n\n    ctx.save()\n    ctx.strokeStyle = targetBdColor\n    ctx.fillStyle = targetBgColor\n\n    ctx.fillRect(fixX, fixY, targetWidth, targetWidth)\n    ctx.fillRect(fixX, fixY + height / 2, targetWidth, targetWidth)\n    ctx.fillRect(fixX, fixY + height, targetWidth, targetWidth)\n    ctx.fillRect(fixX + width / 2, fixY, targetWidth, targetWidth)\n    ctx.fillRect(fixX + width / 2, fixY + height, targetWidth, targetWidth)\n    ctx.fillRect(fixX + width, fixY, targetWidth, targetWidth)\n    ctx.fillRect(fixX + width, fixY + height / 2, targetWidth, targetWidth)\n    ctx.fillRect(fixX + width, fixY + height, targetWidth, targetWidth)\n\n    ctx.strokeRect(fixX, fixY, targetWidth, targetWidth)\n    ctx.strokeRect(fixX, fixY + height / 2, targetWidth, targetWidth)\n    ctx.strokeRect(fixX, fixY + height, targetWidth, targetWidth)\n    ctx.strokeRect(fixX + width / 2, fixY, targetWidth, targetWidth)\n    ctx.strokeRect(fixX + width / 2, fixY + height, targetWidth, targetWidth)\n    ctx.strokeRect(fixX + width, fixY, targetWidth, targetWidth)\n    ctx.strokeRect(fixX + width, fixY + height / 2, targetWidth, targetWidth)\n    ctx.strokeRect(fixX + width, fixY + height, targetWidth, targetWidth)\n\n    ctx.restore()\n  }\n\n  private calcBoundingBox() {\n    const { x, y, width, height } = this\n\n    this.boundingBox = [\n      [x, y],\n      [x + width, y],\n      [x, y + height],\n      [x + width, y + height],\n    ]\n  }\n}\n","import { FabricObject } from '../../shared/fabric'\n\n/**\n * 待优化：\n * 1.属性超出画布无需渲染\n */\ninterface NodeInput {\n  x?: number\n  y?: number\n  width?: number\n  height?: number\n  bdC?: string\n  lineWidth?: number\n}\nexport class FrameHover extends FabricObject {\n  private ctx: CanvasRenderingContext2D\n  public width = 100\n  public height = 50\n  public x = 0\n  public y = 0\n  private lineWidth = 2\n  private borderColor = 'blue'\n\n  constructor(ctx: CanvasRenderingContext2D, input: NodeInput) {\n    super()\n    this.ctx = ctx\n    this.updateOptions(input)\n  }\n\n  private analysisOptions(input: NodeInput) {\n    if (!input) return\n\n    const { x = 0, y = 0, width, height, bdC, lineWidth } = input\n\n    if (x) this.x = x\n    if (y) this.y = y\n    if (width) this.width = width\n    if (height) this.height = height\n    if (bdC) this.borderColor = bdC\n    if (bdC) this.lineWidth = lineWidth\n  }\n\n  public updateOptions(input: NodeInput) {\n    this.analysisOptions(input)\n    this.calcBoundingBox()\n  }\n\n  public containsPoint() {\n    return false\n  }\n\n  public draw(input?: NodeInput) {\n    this.updateOptions(input)\n\n    this.drawBorder()\n  }\n\n  private drawBorder() {\n    const { ctx, borderColor, lineWidth, x, y, width, height } = this\n\n    ctx.save()\n    ctx.lineWidth = lineWidth\n    // ctx.setLineDash([8, 5])\n    ctx.strokeStyle = borderColor\n    ctx.strokeRect(x, y, width, height)\n    ctx.restore()\n  }\n\n  private calcBoundingBox() {\n    const { x, y, width, height } = this\n\n    this.boundingBox = [\n      [x, y],\n      [x + width, y],\n      [x, y + height],\n      [x + width, y + height],\n    ]\n  }\n}\n","import { GraphStatus, Cursor, TargetDirection } from '../shared/enum'\nimport { NodeErwin } from '../../core/materials/node'\nimport { NodeRect } from '../../core/materials/node'\nimport { LineErwin } from '../../core/materials/line'\nimport { TextBase } from '../../core/materials/text'\nimport type { Erg } from '../index'\nimport { isBoolean, cloneDeep } from 'lodash-es'\nimport {\n  NodeEvent,\n  MarkEvent,\n  NoteEvent,\n  GraphEvent,\n  LineEvent,\n} from '../../core/types/event'\nimport { uuid } from '../../core/utils/uuid'\n\n/**\n * 是否到达八点框\n */\nconst ifAnchor = (target: unknown, canvasEv) => {\n  const ifLegalMaterials =\n    target instanceof NodeErwin || target instanceof NodeRect\n  if (!ifLegalMaterials) return false\n\n  // 是否八点框触发\n  const { x, y, width, height } = target\n  const middleX = x + width / 2\n  const middleY = y + height / 2\n  const fullX = x + width\n  const fullY = y + height\n  const tolerance = 5\n  let targetDirection = TargetDirection.NONE\n\n  if (\n    Math.abs(x - canvasEv.x) <= tolerance &&\n    Math.abs(y - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.LT\n  else if (\n    Math.abs(middleX - canvasEv.x) <= tolerance &&\n    Math.abs(y - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.TM\n  else if (\n    Math.abs(fullX - canvasEv.x) <= tolerance &&\n    Math.abs(y - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.RT\n  else if (\n    Math.abs(x - canvasEv.x) <= tolerance &&\n    Math.abs(middleY - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.LM\n  else if (\n    Math.abs(fullX - canvasEv.x) <= tolerance &&\n    Math.abs(middleY - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.RM\n  else if (\n    Math.abs(x - canvasEv.x) <= tolerance &&\n    Math.abs(fullY - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.LB\n  else if (\n    Math.abs(middleX - canvasEv.x) <= tolerance &&\n    Math.abs(fullY - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.BM\n  else if (\n    Math.abs(fullX - canvasEv.x) <= tolerance &&\n    Math.abs(fullY - canvasEv.y) <= tolerance\n  )\n    targetDirection = TargetDirection.RB\n\n  return targetDirection\n}\n\nexport const useMouseMove = function (this: Erg, e, canvasEv) {\n  /**\n   * 移动备注框\n   */\n  const moveMarkRect = () => {\n    const { eventObj } = this\n    const offsetOfMove = {\n      x: canvasEv.x - eventObj.targetOffsetX - eventObj.target.x,\n      y: canvasEv.y - eventObj.targetOffsetY - eventObj.target.y,\n    }\n    const newLoc = {\n      x: eventObj.target.x + offsetOfMove.x,\n      y: eventObj.target.y + offsetOfMove.y,\n    }\n\n    this.markMap.get(eventObj.target.id).updateOptions(newLoc)\n    this.emit(MarkEvent.Move, this.markMap.get(eventObj.target.id))\n    this.update()\n  }\n\n  /**\n   * 移动备注文字\n   */\n  const moveMarkText = () => {\n    const { eventObj } = this\n\n    const offsetOfMove = {\n      x: canvasEv.x - eventObj.targetOffsetX - eventObj.target.x,\n      y: canvasEv.y - eventObj.targetOffsetY - eventObj.target.y,\n    }\n\n    const newLoc = {\n      x: eventObj.target.x + offsetOfMove.x,\n      y: eventObj.target.y + offsetOfMove.y,\n    }\n    this.noteMap.get(eventObj.target.id).updateOptions(newLoc)\n\n    this.emit(NoteEvent.Move, eventObj.target)\n    this.update()\n  }\n\n  /**\n   * 修改实体尺寸\n   */\n  const resizeNode = () => {\n    const { eventObj } = this\n    // eventObj.target.manualChange = true\n    const { x, y } = canvasEv\n    if (eventObj.target.type === 'mark') {\n      this.resizeNode(x, y, eventObj, null)\n    } else {\n      this.resizeNode(x, y, eventObj)\n    }\n\n    this.update()\n  }\n\n  /**\n   * 移动实体\n   */\n  const moveNode = () => {\n    const { focusTarget, eventObj, nodeRelatedLineMap } = this\n\n    const offsetOfMove = {\n      x: canvasEv.x - eventObj.targetOffsetX - eventObj.target.x,\n      y: canvasEv.y - eventObj.targetOffsetY - eventObj.target.y,\n    }\n\n    focusTarget.forEach((focusItem) => {\n      if (!(focusItem instanceof NodeErwin)) return\n\n      const nodeNewLoc = {\n        x: focusItem.x + offsetOfMove.x,\n        y: focusItem.y + offsetOfMove.y,\n      }\n\n      // 节点相关线段移动\n      if (nodeRelatedLineMap.has(focusItem.id)) {\n        const involveLines = [\n          ...nodeRelatedLineMap.get(focusItem.id).from,\n          ...nodeRelatedLineMap.get(focusItem.id).to,\n        ]\n        involveLines.forEach((line) => {\n          line.from === line.to\n            ? this.moveLineForSameNode(line, { target: focusItem })\n            : this.moveLineForNode(line, { target: focusItem }, nodeNewLoc)\n        })\n      }\n\n      this.nodeMap.get(focusItem.id).updateOptions(nodeNewLoc)\n      this.emit(NodeEvent.Move, focusItem)\n    })\n\n    this.update()\n  }\n\n  /**\n   * 移动属性\n   */\n  const moveAttr = () => {\n    console.log('attr')\n    const { eventObj } = this\n    const sourceNode = eventObj.target\n    const sourceAttrId = eventObj.targetAttrId\n    const targetNode = null\n    const targetAttrId = ''\n    this.updateEventCanvas()\n  }\n\n  /**\n   * 移动连线\n   */\n  const moveLine = () => {\n    const { eventObj } = this\n\n    const idx = eventObj.target.getIndexInPos(eventObj.lastEvLoc)\n    eventObj.targetLineStartPointIdx = idx\n    eventObj.lastEvLoc = canvasEv\n    if (idx === false) return\n    this.moveLineForLine(eventObj, canvasEv)\n    this.update()\n  }\n\n  /**\n   * 移动画布\n   */\n  const moveCanvas = () => {\n    this.canvas.setTranslate(e)\n    this.canvas.clearEventCanvas()\n    const graphTranslate = this.canvas.getTranslate()\n    this.emit(GraphEvent.Move, graphTranslate)\n    this.update()\n  }\n\n  /**\n   * 改变指针样式\n   */\n  const changeMouseCursor = () => {\n    const { status, renderElements } = this\n\n    const cursorMap = {\n      [GraphStatus.addNode]: Cursor.cell,\n      [GraphStatus.primaryKey]: Cursor.crosshair,\n      [GraphStatus.foreignKey]: Cursor.crosshair,\n      [GraphStatus.branchLine]: Cursor.crosshair,\n      [GraphStatus.addMark]: Cursor.cell,\n      [GraphStatus.addNote]: Cursor.cell,\n      [GraphStatus.copy]: Cursor.copy,\n    }\n\n    const cursorState = cursorMap[status]\n    // 有指定操作：\n    if (cursorState)\n      return (this.canvas.eventEl.style.cursor = cursorState || Cursor.default)\n\n    let hoverTarget = null,\n      cursor = Cursor.grab\n\n    // 无指定操作：到达热点位置变换鼠标状态\n    for (let i = renderElements.length - 1; i >= 0; i--) {\n      const el = renderElements[i]\n      const isTarget = el.containsPoint(canvasEv) || ifAnchor(el, canvasEv)\n      if (isTarget) {\n        hoverTarget = el\n\n        cursor =\n          isTarget === TargetDirection.LT\n            ? Cursor.nwseResize\n            : isTarget === TargetDirection.TM\n            ? Cursor.nsResize\n            : isTarget === TargetDirection.RT\n            ? Cursor.neswResize\n            : isTarget === TargetDirection.LM\n            ? Cursor.ewResize\n            : isTarget === TargetDirection.RM\n            ? Cursor.ewResize\n            : isTarget === TargetDirection.LB\n            ? Cursor.neswResize\n            : isTarget === TargetDirection.BM\n            ? Cursor.nsResize\n            : isTarget === TargetDirection.RB\n            ? Cursor.nwseResize\n            : Cursor.move\n        break\n      }\n    }\n\n    // 触发通知\n    if (this.hoverTarget !== hoverTarget) {\n      const OldTargetEvent =\n        this.hoverTarget instanceof NodeErwin\n          ? NodeEvent\n          : this.hoverTarget instanceof LineErwin\n          ? LineEvent\n          : this.hoverTarget instanceof NodeRect\n          ? MarkEvent\n          : this.hoverTarget instanceof TextBase\n          ? NoteEvent\n          : null\n      const NewTargetEvent =\n        hoverTarget instanceof NodeErwin\n          ? NodeEvent\n          : hoverTarget instanceof LineErwin\n          ? LineEvent\n          : hoverTarget instanceof NodeRect\n          ? MarkEvent\n          : hoverTarget instanceof TextBase\n          ? NoteEvent\n          : null\n      OldTargetEvent && this.emit(OldTargetEvent.Leave, this.hoverTarget)\n      NewTargetEvent && this.emit(NewTargetEvent.Enter, hoverTarget)\n    }\n\n    // 无指定操作：未到达热点位置\n    this.hoverTarget = hoverTarget\n    this.canvas.eventEl.style.cursor = cursor\n    this.updateEventCanvas()\n  }\n\n  /**\n   * 移动元素\n   */\n  const moveElement = () => {\n    const { eventObj } = this\n\n    const isAttrMove = eventObj.targetAttrId\n    const isNodeResize = !!eventObj.targetDirection\n    const isNodeMove = eventObj.target instanceof NodeErwin\n    const isLineMove = eventObj.target instanceof LineErwin\n    const isMarkMove = eventObj.target instanceof NodeRect\n    const isNoteMove = eventObj.target instanceof TextBase\n\n    if (isAttrMove) return moveAttr()\n    if (isNodeResize) return resizeNode()\n    if (isNodeMove) return moveNode()\n    if (isLineMove) return moveLine()\n    if (isMarkMove) return moveMarkRect()\n    if (isNoteMove) return moveMarkText()\n  }\n\n  return {\n    changeMouseCursor,\n    moveCanvas,\n    moveElement,\n  }\n}\n\nexport const useMouseDown = function (this: Erg, e, canvasEv) {\n  const { x: evX, y: evY } = canvasEv\n\n  const execTask = () => {\n    const { status, defaultWidth, defaultHeight } = this\n    switch (status) {\n      case GraphStatus.copy: {\n        const focusNodes = cloneDeep(\n          [...this.focusTarget].filter((it) => !(it instanceof LineErwin)),\n        ) as NodeErwin[]\n        if (!focusNodes.length) break\n\n        const distanse = {\n          x: evX - focusNodes[0].x,\n          y: evY - focusNodes[0].y,\n        }\n\n        const fixLocNodes = focusNodes.map((node) => {\n          node.x = node.x + distanse.x\n          node.y = node.y + distanse.y\n          return node\n        })\n        this.emit(GraphEvent.Paste, fixLocNodes)\n        this.status = GraphStatus.None\n        this.canvas.eventEl.style.cursor = Cursor.default\n        this.update()\n        break\n      }\n      case GraphStatus.addNode: {\n        const newNode = {\n          x: evX - defaultWidth / 2,\n          y: evY - defaultHeight / 2,\n          width: defaultWidth,\n          height: defaultHeight,\n        }\n\n        this.emit(NodeEvent.New, newNode)\n        this.status = GraphStatus.None\n        this.canvas.eventEl.style.cursor = Cursor.default\n        this.update()\n        break\n      }\n      case GraphStatus.addMark: {\n        const newMark = {\n          id: uuid(),\n          x: evX,\n          y: evY,\n          width: defaultWidth,\n          height: defaultHeight,\n          type: 'mark',\n        }\n\n        this.emit(MarkEvent.New, newMark)\n        this.status = GraphStatus.None\n        this.canvas.eventEl.style.cursor = Cursor.default\n        this.update()\n        break\n      }\n      case GraphStatus.addNote: {\n        const newNote = {\n          id: uuid(),\n          x: evX,\n          y: evY,\n          text: '',\n          type: 'note',\n        }\n\n        this.emit(NoteEvent.New, newNote)\n        this.status = GraphStatus.None\n        this.canvas.eventEl.style.cursor = Cursor.default\n        this.update()\n        break\n      }\n      // case GraphStatus.primaryKey:\n\n      //   break\n      // case GraphStatus.foreignKey:\n\n      //   break\n      // case GraphStatus.branchLine:\n\n      //   break\n\n      default:\n        break\n    }\n  }\n\n  const setEventTarget = (e: MouseEvent) => {\n    const { metaKey, ctrlKey } = e\n    const { hoverTarget, focusTarget, eventObj } = this\n\n    eventObj.target = hoverTarget\n    this.canvas.eventEl.style.cursor = Cursor.grabbing\n\n    if (!hoverTarget) {\n      focusTarget.clear()\n      this.updateEventCanvas()\n      return\n    }\n\n    // 触发外部事件\n    const TargetEvent =\n      hoverTarget instanceof NodeErwin\n        ? NodeEvent\n        : hoverTarget instanceof LineErwin\n        ? LineEvent\n        : hoverTarget instanceof NodeRect\n        ? MarkEvent\n        : hoverTarget instanceof TextBase\n        ? NoteEvent\n        : null\n    this.emit(TargetEvent.MouseDown, hoverTarget)\n\n    const targetDirection = ifAnchor(hoverTarget, canvasEv)\n\n    // 处理实体属性聚焦：只有已聚焦的实体才会触发内部的属性聚焦\n    const attrId = hoverTarget.containsPoint(canvasEv)\n    const ifAttrFocus =\n      hoverTarget instanceof NodeErwin &&\n      focusTarget.has(hoverTarget) &&\n      !targetDirection &&\n      !isBoolean(attrId)\n    if (ifAttrFocus) return (eventObj.targetAttrId = attrId)\n\n    // 未多选 -> 清空聚焦\n    if (!ctrlKey && !metaKey) focusTarget.clear()\n\n    // 处理物料聚焦\n    if (hoverTarget instanceof LineErwin) {\n      focusTarget.clear()\n      eventObj.lastEvLoc = canvasEv\n    } else if (\n      hoverTarget instanceof NodeErwin ||\n      hoverTarget instanceof TextBase ||\n      hoverTarget instanceof NodeRect\n    ) {\n      eventObj.targetOffsetX = canvasEv.x - hoverTarget.x\n      eventObj.targetOffsetY = canvasEv.y - hoverTarget.y\n      eventObj.targetDirection = targetDirection || null\n    }\n    focusTarget.add(hoverTarget)\n\n    this.updateEventCanvas()\n  }\n\n  return {\n    execTask,\n    setEventTarget,\n  }\n}\n\nexport const useMouseUp = function (this: Erg) {\n  const resetMouseState = () => {\n    const { hoverTarget } = this\n    // 触发外部事件\n    const TargetEvent =\n      hoverTarget instanceof NodeErwin\n        ? NodeEvent\n        : hoverTarget instanceof LineErwin\n        ? LineEvent\n        : hoverTarget instanceof NodeRect\n        ? MarkEvent\n        : hoverTarget instanceof TextBase\n        ? NoteEvent\n        : null\n    TargetEvent && this.emit(TargetEvent.MouseUp, hoverTarget)\n\n    this.canvas.eventEl.style.cursor = Cursor.default\n    this.eventObj = {\n      target: null,\n      targetAttrId: null,\n      targetDirection: TargetDirection.NONE,\n      targetOffsetX: 0,\n      targetOffsetY: 0,\n      targetLineStartPointIdx: 0,\n      lastEvLoc: { x: 0, y: 0 },\n    }\n  }\n  return {\n    resetMouseState,\n  }\n}\n","export interface TreeNode {\n  id: number | string\n  children?: TreeNode[]\n}\n\nexport function generateTree(\n  nodeParents: Map<string | number, Set<string | number>>,\n  rootId: number,\n): TreeNode {\n  const rootNode: TreeNode = { id: rootId }\n  const queue: TreeNode[] = [rootNode]\n\n  while (queue.length > 0) {\n    const currentNode = queue.shift()!\n    const children: TreeNode[] = []\n    for (const [itId, itParents] of nodeParents) {\n      const ifWaiting = nodeParents.has(itId)\n      const ifChildren = itParents.has(currentNode.id)\n      if (ifWaiting && ifChildren) {\n        const node = { id: itId }\n        children.push(node)\n        queue.push(node)\n        nodeParents.delete(itId)\n      }\n    }\n\n    currentNode.children = children\n  }\n  return rootNode\n}\n","export const HORIZONTAL_SPACE = 100\nexport const VERTICAL_SPACE = 100\nexport const FONT_SIZE = 12\nexport const FONT_FAMILY = 'sans-serif'\nexport const LINE_HEIGHT = 14\nexport const PADDING = 10\nexport const DEFAULT_WIDTH = 100\nexport const DEFAULT_HEIGHT = 100\nexport const ANIMATION_DURATION = 1000\n","export function getTextWidth(\n  text: string,\n  fontSize: number,\n  fontFamily = 'sans-serif',\n) {\n  const canvas = document.createElement('canvas')\n  const context = canvas.getContext('2d')!\n  context.font = `${fontSize}px ${fontFamily}`\n  return context.measureText(text).width\n}\n","import { getTextWidth } from '../../../../core/utils/string'\nimport {\n  PADDING,\n  FONT_SIZE,\n  FONT_FAMILY,\n  LINE_HEIGHT,\n  DEFAULT_HEIGHT,\n  DEFAULT_WIDTH,\n} from './conf'\n\nexport const getAutoSizeValue = (node) => {\n  return {\n    width: Math.max(\n      Math.floor(\n        Math.max(\n          ...(node.attributes || []).map((it) =>\n            getTextWidth(it.name, FONT_SIZE, FONT_FAMILY),\n          ),\n        ) +\n          PADDING * 2 +\n          FONT_SIZE * 2,\n      ),\n      DEFAULT_WIDTH,\n    ),\n    height: Math.floor(\n      Math.max(\n        ((node.attributes || []).length + 1) * LINE_HEIGHT + PADDING * 2,\n        DEFAULT_HEIGHT,\n      ),\n    ),\n  }\n}\n","import { Id } from '../../../types'\nimport { generateTree, TreeNode } from './utils/tree'\nimport {\n  HORIZONTAL_SPACE,\n  VERTICAL_SPACE,\n  DEFAULT_WIDTH,\n  DEFAULT_HEIGHT,\n  ANIMATION_DURATION,\n} from './utils/conf'\nimport { getAutoSizeValue } from './utils/auto-size'\nimport type {\n  NodeData,\n  LineData,\n  MarkData,\n  NoteData,\n} from '@ej/erg-renderer/src/erg/types/graph'\n\nimport TWEEN from '@tweenjs/tween.js'\n\nexport const hierarchicalLayout = async (\n  data: {\n    nodeDataArray: NodeData[]\n    linkDataArray: LineData[]\n    markDataArray?: MarkData[]\n    noteDataArray?: NoteData[]\n  },\n  updateFunc?: () => void,\n) => {\n  const { nodeDataArray, linkDataArray, markDataArray, noteDataArray } = data\n\n  // 从多到少排序的图形分组\n  const layers = createLayers(nodeDataArray, linkDataArray).sort(\n    (a, b) => b.children.length - a.children.length,\n  )\n\n  // 布局实体（x, y, w, h）\n  layoutNodes(nodeDataArray, layers).then((maxX) => {\n    // 布局备注框\n    const maxY = layoutMarks(markDataArray, maxX, -DEFAULT_HEIGHT)\n\n    // 布局备注文本\n    layoutNotes(noteDataArray, maxX, maxY)\n  })\n\n  function animate() {\n    const tweens = TWEEN.getAll()\n    if (!tweens.length) return\n    requestAnimationFrame(animate)\n    TWEEN.update()\n    updateFunc?.()\n  }\n  animate()\n}\n\n/**\n * 生成layer矩阵\n */\nconst createLayers = (nodes: NodeData[], lines: LineData[]) => {\n  /**\n   * 计算每个节点的深度和父节点\n   */\n  const nodeParents = new Map<Id, Set<Id>>()\n\n  for (const node of nodes) {\n    nodeParents.set(node.id, new Set())\n  }\n\n  for (const line of lines) {\n    const parents = nodeParents.get(line.to)\n\n    // 关系中包含不存在的实体不计入\n    const existToNode = !!parents\n    const existFromNode = !!nodeParents.get(line.from)\n    if (!existFromNode || !existToNode) continue\n\n    parents.add(line.from)\n  }\n\n  /**\n   * 生成layer矩阵\n   */\n  const layers: TreeNode[] = []\n\n  let allDone = false\n  while (!allDone) {\n    if (!nodeParents.size) {\n      allDone = false\n      break\n    }\n\n    let minParentsId = null\n    // 每循环一次为一组，对应第一层[]\n    for (const [toId, fromIds] of nodeParents) {\n      // 找到父级最少的节点作为顶级节点\n      const ifEmpty = minParentsId === null\n      const ifLess = fromIds.size < nodeParents.get(minParentsId)?.size\n      const ifMin = minParentsId === 0\n      if (ifEmpty || ifLess) minParentsId = toId\n      if (ifMin) break\n    }\n\n    nodeParents.delete(minParentsId)\n\n    const groupData = generateTree(nodeParents, minParentsId)\n    layers.push(groupData)\n  }\n\n  return layers\n}\n\n/**\n * 根据矩阵，重新设定各个实体的x,y,w,h\n */\nconst layoutNodes = async (nodes: NodeData[], layers: TreeNode[]) => {\n  const nodeMap = new Map<Id, NodeData>()\n  nodes.map((node) => nodeMap.set(node.id, node))\n\n  await Promise.all(autoSize(nodes))\n\n  return Promise.resolve(\n    layers.reduce(\n      (x, group) => (x = recursionGroup(nodeMap, [group], x, VERTICAL_SPACE)),\n      HORIZONTAL_SPACE,\n    ),\n  )\n}\n\n/**\n * 自适应实体大小: w, h\n */\nconst autoSize = (nodes: NodeData[]) => {\n  return nodes.map((node) => {\n    if (node.type === 'inclusive') return\n    const autoSizeValue = getAutoSizeValue(node)\n\n    return new Promise<void>((resolve) => {\n      new TWEEN.Tween(node)\n        .to(\n          { width: autoSizeValue.width, height: autoSizeValue.height },\n          ANIMATION_DURATION / 2,\n        )\n        .easing(TWEEN.Easing.Quadratic.InOut)\n        .start()\n        .onComplete(() => resolve())\n      // node.width = autoSizeValue.width\n      // node.height = autoSizeValue.height\n    })\n  })\n}\n\n/**\n * 布局实体: x, y\n */\nconst recursionGroup = (nodeMap, rows, x, y) => {\n  const curRowMaxHeight = Math.max(\n    ...rows.map((it) => nodeMap.get(it.id).height || DEFAULT_HEIGHT),\n  )\n  const nextBeginY = y + curRowMaxHeight + VERTICAL_SPACE\n  let maxX = x\n  for (let i = 0; i < rows.length; i++) {\n    const row = nodeMap.get(rows[i].id)\n    new TWEEN.Tween(row)\n      .to({ x: maxX, y: y }, ANIMATION_DURATION)\n      .easing(TWEEN.Easing.Quadratic.InOut)\n      .start()\n    const curX = maxX\n    // row.x = maxX\n    // row.y = y\n    maxX += row.width + HORIZONTAL_SPACE\n    if (rows[i].children?.length)\n      maxX = Math.max(\n        recursionGroup(nodeMap, rows[i].children, curX, nextBeginY),\n        maxX,\n      )\n  }\n  return maxX\n}\n\n/**\n * 布局备注框\n */\nconst layoutMarks = (markDataArray, startX, startY) => {\n  let y = startY\n  markDataArray?.map((it) => {\n    y += VERTICAL_SPACE + DEFAULT_HEIGHT\n\n    new TWEEN.Tween(it)\n      .to(\n        { x: startX, y, width: DEFAULT_WIDTH, height: DEFAULT_HEIGHT },\n        ANIMATION_DURATION,\n      )\n      .easing(TWEEN.Easing.Quadratic.InOut)\n      .start()\n    // it.x = maxX\n    // it.y = y += VERTICAL_SPACE + DEFAULT_HEIGHT\n    // it.width = DEFAULT_WIDTH\n    // it.height = DEFAULT_HEIGHT\n  })\n\n  return y\n}\n\n/**\n * 布局备注文本\n */\nconst layoutNotes = (noteDataArray, startX, startY) => {\n  let y = startY\n  noteDataArray?.map((it) => {\n    y += VERTICAL_SPACE + DEFAULT_HEIGHT\n\n    new TWEEN.Tween(it)\n      .to(\n        { x: startX, y, width: DEFAULT_WIDTH, height: DEFAULT_HEIGHT },\n        ANIMATION_DURATION,\n      )\n      .easing(TWEEN.Easing.Quadratic.InOut)\n      .start()\n    // it.x = maxX\n    // it.y = y += VERTICAL_SPACE + DEFAULT_HEIGHT\n    // it.width = DEFAULT_WIDTH\n    // it.height = DEFAULT_HEIGHT\n  })\n\n  return y\n}\n","import { EventCenter } from '../core/shared/event'\nimport { LockIcon } from '../core/materials/icon/index'\nimport { Canvas, BackgroundType } from '../core/shared/canvas'\nimport { mathRange } from '../core/utils/math'\nimport { nextTick } from '../core/utils/dom'\nimport type { CanvasEvent, Id } from '../types/index'\n\nimport { DataHandler } from './hooks/data-handler'\nimport { NodeErwin as Node } from '../core/materials/node'\nimport { NodeRect } from '../core/materials/node'\nimport { LineErwin } from '../core/materials/line/line-erwin'\nimport { TextBase } from '../core/materials/text'\nimport { FrameResize, FrameHover } from '../core/materials/frame'\nimport { useMouseMove, useMouseDown, useMouseUp } from './hooks/event'\n\nimport { GraphStatus, TargetDirection, Cursor } from './shared/enum'\nimport { Plugins, PluginsEnum } from '../plugins'\n\nimport { cloneDeep, pick, isBoolean } from 'lodash-es'\nimport { Editable } from '../types/enum'\n\nimport { preloadLineageImages } from '../core/shared/image'\n\nimport { hierarchicalLayout } from './hooks/layout'\nimport {\n  Event,\n  GraphEvent,\n  NodeEvent,\n  LineEvent,\n  MarkEvent,\n  ContextmenuEvent,\n  NoteEvent,\n  ThumbnailEvent,\n} from '../core/types/event'\nimport { uuid } from '../core/utils/uuid'\nimport { LineData } from './types/graph'\n\nimport type { Data } from './types/graph'\n\nenum Color {\n  primary = 'blue',\n  border = '#000000',\n}\n\ninterface RelatedLineItem {\n  from: Set<LineErwin>\n  to: Set<LineErwin>\n}\n\ninterface ErgOptions {\n  el?: HTMLElement\n  data?: Data\n  editable?: Editable\n  fontFamily?: string\n  status?: GraphStatus\n  rightMenu?: any[]\n  useRightMenu?: boolean\n  useAttrFocus?: boolean\n  useThumbnail?: boolean\n  useHistory?: boolean\n}\nexport class Erg extends EventCenter {\n  private el: HTMLElement\n  public canvas: Canvas\n  private cacheCtx: CanvasRenderingContext2D\n\n  public dataHandler: DataHandler\n  public nodeMap: Map<Id, Node>\n  public lineMap: Map<Id, LineErwin>\n  public noteMap: Map<Id, TextBase>\n  public markMap: Map<Id, NodeRect>\n  public nodeRelatedLineMap: Map<Node['id'], RelatedLineItem>\n\n  // 优化：缓存页面渲染元素，避免在交互时循环全部数据\n  public renderElements: Array<Node | LineErwin | TextBase | NodeRect>\n\n  public status: GraphStatus\n\n  // 缓存事件对象\n  public eventObj = {\n    target: null,\n    // 节点\n    targetDirection: TargetDirection.NONE,\n    targetOffsetX: 0,\n    targetOffsetY: 0,\n    targetAttrId: null,\n    // 连线\n    targetLineStartPointIdx: 0,\n    lastEvLoc: { x: 0, y: 0 },\n  }\n\n  private plugins: Plugins = new Plugins()\n  private useAttrFocus = true\n  private useHistory = true\n  private useThumbnail = true\n  private useRightMenu = true\n  private rightMenuConfig = []\n\n  private fontFamily: string\n  private chooseTargets = []\n  private editable = Editable.Edit\n\n  // 节点默认配置\n  public defaultWidth = 100\n  public defaultHeight = 50\n\n  public focusTarget = new Set<Node | LineErwin | NodeRect | TextBase>()\n  public hoverTarget: Node | LineErwin | NodeRect | TextBase\n\n  private expandAttrs = []\n\n  private _bindEventMousedown: () => void\n  private _bindEventMousemove: () => void\n  private _bindEventMouseup: () => void\n  private _bindEventResize: () => void\n  private _bindEventWheel: () => void\n  private _bindEventContextmenu: () => void\n  private _bindEventUndo: () => void\n  private _bindEventRedo: () => void\n  private _bindEventKeydown: () => void\n\n  constructor(options: ErgOptions) {\n    super()\n    this.updateConfig(options)\n    this.mountDataHandler(options)\n    this.mountCanvas()\n    this.mountCanvasEvents()\n    this.mountPlugins()\n    preloadLineageImages().then(() => this.update())\n  }\n\n  //初始化数据方法\n  public updateConfig(options: ErgOptions) {\n    const {\n      el,\n      editable,\n      fontFamily,\n      status,\n      rightMenu,\n      useRightMenu,\n      useAttrFocus,\n      useThumbnail,\n      useHistory,\n    } = options\n\n    if (el) this.el = el\n    if (editable) this.editable = editable || Editable.Edit\n    if (fontFamily) this.fontFamily = fontFamily\n    if (rightMenu) this.rightMenuConfig = rightMenu\n    if (status in GraphStatus) this.status = status\n    // 是否使用右键菜单\n    if (isBoolean(useRightMenu)) this.useRightMenu = useRightMenu\n    // 属性是否可点击\n    if (isBoolean(useAttrFocus)) this.useAttrFocus = useAttrFocus\n    if (isBoolean(useThumbnail)) this.useThumbnail = useThumbnail\n    if (isBoolean(useHistory)) this.useHistory = useHistory\n\n    this.mountPlugins()\n  }\n\n  private mountDataHandler(options) {\n    this.dataHandler = new DataHandler({\n      context: this,\n      data: options.data,\n    })\n  }\n\n  public destroy() {\n    this.unmountPlugins()\n    this.unmountCanvasEvents()\n    this.canvas.destroy()\n    this.dataHandler.destroy()\n  }\n\n  private mountCanvas() {\n    this.canvas = new Canvas({\n      mountEl: this.el,\n      backgroundType: BackgroundType.Checker,\n    })\n    this.cacheCtx = this.canvas.cacheCtx\n  }\n\n  private mountPlugins() {\n    // 初始化历史队列\n    if (this.useHistory) {\n      this.plugins.use(PluginsEnum.History)\n    } else {\n      this.plugins.off(PluginsEnum.History)\n    }\n\n    // 初始化全景缩略图\n    if (this.useThumbnail && this.canvas) {\n      this.plugins\n        .use(PluginsEnum.Thumbnail, {\n          mountEl: this.canvas.boxEl,\n          mainCanvas: this.canvas,\n        })\n        .on(ThumbnailEvent.MouseDown, (e, canvasEv, isMove) => {\n          if (isMove) {\n            this.update()\n          }\n          this.emit(ThumbnailEvent.MouseDown, e, canvasEv)\n        })\n        .on(ThumbnailEvent.Move, (e, canvasEv, isMove) => {\n          if (isMove) {\n            this.update()\n          }\n          this.emit(ThumbnailEvent.Move, e, canvasEv)\n        })\n        .on(ThumbnailEvent.MouseUp, (e, canvasEv) => {\n          this.emit(ThumbnailEvent.MouseUp, e, canvasEv)\n        })\n    } else {\n      this.plugins.off(PluginsEnum.Thumbnail)\n    }\n\n    // 初始化右键菜单\n    if (this.useRightMenu) {\n      this.plugins\n        .use(PluginsEnum.RightMenu, this.el, this.rightMenuConfig)\n        .off(ContextmenuEvent.Click)\n        .on(ContextmenuEvent.Click, (value) => {\n          this.emit(ContextmenuEvent.Click, {\n            value: value,\n            target: this.hoverTarget,\n          })\n        })\n    } else {\n      this.plugins.off(PluginsEnum.RightMenu)\n    }\n  }\n\n  private unmountPlugins() {\n    this.plugins.destroy()\n  }\n\n  private mountCanvasEvents() {\n    this._bindEventMousedown = this.onMouseDown.bind(this)\n    this._bindEventMousemove = this.onMouseMove.bind(this)\n    this._bindEventMouseup = this.onMouseUp.bind(this)\n    this._bindEventResize = this.onResize.bind(this)\n    this._bindEventWheel = this.onWheel.bind(this)\n    this._bindEventContextmenu = this.onContextmenu.bind(this)\n    this._bindEventUndo = this.onUndo.bind(this)\n    this._bindEventRedo = this.onRedo.bind(this)\n    this._bindEventKeydown = this.onKeyDown.bind(this)\n\n    this.canvas.on('canvas:resize', this._bindEventResize)\n    this.canvas.on('canvas:wheel', this._bindEventWheel)\n    this.canvas.on('canvas:mouseup', this._bindEventMouseup)\n    this.canvas.on('canvas:mousedown', this._bindEventMousedown)\n    this.canvas.on('canvas:mousemove', this._bindEventMousemove)\n    this.canvas.on('canvas:contextmenu', this._bindEventContextmenu)\n    this.canvas.on('canvas:undo', this._bindEventUndo)\n    this.canvas.on('canvas:redo', this._bindEventRedo)\n    this.canvas.on('canvas:keydown', this._bindEventKeydown)\n  }\n\n  private unmountCanvasEvents() {\n    this.canvas.off('canvas:resize', this._bindEventResize)\n    this.canvas.off('canvas:wheel', this._bindEventWheel)\n    this.canvas.off('canvas:mouseup', this._bindEventMouseup)\n    this.canvas.off('canvas:mousedown', this._bindEventMousedown)\n    this.canvas.off('canvas:mousemove', this._bindEventMousemove)\n    this.canvas.off('canvas:contextmenu', this._bindEventContextmenu)\n    this.canvas.off('canvas:undo', this._bindEventUndo)\n    this.canvas.off('canvas:redo', this._bindEventRedo)\n    this.canvas.off('canvas:keydown', this._bindEventKeydown)\n  }\n\n  private onKeyDown(e) {\n    const { focusTarget } = this\n    if (!focusTarget.size) return\n\n    const { keyCode } = e\n    const ifDelete = keyCode === 8 || keyCode === 46\n\n    if (ifDelete) {\n      focusTarget.forEach((it) => {\n        // 实体先删除相关关系线\n        if (it instanceof Node) {\n          const relatedLines = this.nodeRelatedLineMap.get(\n            it.id,\n          ) as RelatedLineItem\n          ;[...relatedLines.from, ...relatedLines.to].map((it) =>\n            this.emit(LineEvent.Delete, it),\n          )\n        }\n\n        const eventName =\n          it instanceof Node\n            ? NodeEvent\n            : it instanceof LineErwin\n            ? LineEvent\n            : it instanceof NodeRect\n            ? MarkEvent\n            : it instanceof TextBase\n            ? NoteEvent\n            : null\n        this.emit(eventName.Delete, it)\n      })\n\n      focusTarget.clear()\n      this.hoverTarget = null\n      this.update()\n    }\n  }\n\n  private onUndo() {\n    const action = this.plugins.get(PluginsEnum.History).undo()\n    action?.reverse()\n    if (!action) console.warn('撤无可撤')\n  }\n\n  private onRedo() {\n    const action = this.plugins.get(PluginsEnum.History).redo()\n    action?.reverse()\n    if (!action) console.warn('恢无可恢')\n  }\n\n  private onMouseUp(e: MouseEvent, canvasEv: CanvasEvent) {\n    const { resetMouseState } = useMouseUp.call(this, e, canvasEv)\n    resetMouseState()\n  }\n\n  private onMouseDown(e: MouseEvent, canvasEv: CanvasEvent) {\n    const { status } = this\n    const { execTask, setEventTarget } = useMouseDown.call(this, e, canvasEv)\n    // 有指定的操作任务：执行任务（添加节点/添加连线/....）\n    if (status) return execTask()\n\n    // 无指定的操作任务：查找事件触发对象\n    setEventTarget(e)\n  }\n\n  private onMouseMove(e: MouseEvent, canvasEv: CanvasEvent) {\n    const { canvas, eventObj } = this\n    const { changeMouseCursor, moveCanvas, moveElement } = useMouseMove.call(\n      this,\n      e,\n      canvasEv,\n    )\n    // console.log(canvasEv, 'canvasEv')\n    const isJustMove = !canvas.isMouseDown\n    const isMoveCanvas = canvas.isMouseDown && !eventObj.target\n    const isMoveElement = canvas.isMouseDown && eventObj.target\n    // console.log(123)\n    if (isJustMove) return changeMouseCursor()\n    if (isMoveCanvas) return moveCanvas()\n    if (isMoveElement) {\n      if (this.useHistory) {\n        // 加入历史堆栈\n        const copyFocusTarget = []\n\n        for (let i = 0; i < [...this.focusTarget].length; i++) {\n          const it = copyFocusTarget[i]\n          const originObject = {\n            target: it,\n            originValue: {},\n          }\n          if (it instanceof Node) {\n            const attrs = pick(it, 'x', 'y', 'width', 'height')\n            originObject.originValue = cloneDeep(attrs)\n\n            const relatedLines = this.nodeRelatedLineMap.get(it.id)\n            copyFocusTarget.push(...relatedLines.from, ...relatedLines.to)\n          }\n          if (it instanceof LineErwin) {\n            const attrs = pick(it, 'pos')\n            originObject.originValue = cloneDeep(attrs)\n          }\n\n          copyFocusTarget[i] = originObject\n        }\n        this.plugins.get(PluginsEnum.History).push(() => {\n          // 逆向操作数据\n          for (let i = 0; i < copyFocusTarget.length; i++) {\n            const { target, originValue } = copyFocusTarget[i]\n            target.updateOptions(originValue)\n            if (target instanceof Node) this.emit(NodeEvent.Resize, target)\n            if (target instanceof LineErwin) this.emit(LineEvent.Move, target)\n          }\n          this.update()\n        })\n      }\n\n      return moveElement()\n    }\n  }\n\n  private onContextmenu(e: MouseEvent) {\n    if (!this.useRightMenu) return\n    const { offsetX, offsetY } = e\n    const { offsetWidth, offsetHeight } = e.target as HTMLElement\n    this.emit(ContextmenuEvent.Show, {\n      target: this.hoverTarget,\n    })\n\n    // console.log(this.hoverTarget)\n    this.plugins.get(PluginsEnum.RightMenu).show({\n      top: offsetY,\n      left: offsetX,\n      innerWidth: offsetWidth,\n      innerHeight: offsetHeight,\n      menuConfig: this.rightMenuConfig,\n    })\n  }\n\n  private onWheel(e: WheelEvent) {\n    const { deltaY, deltaX, ctrlKey } = e\n    // console.log(deltaY);\n    const wheelConfirm = Math.abs(deltaY) > 2 || Math.abs(deltaX) > 2\n\n    if (!wheelConfirm) return\n\n    // 缩放\n    if (ctrlKey) {\n      const zoomRate = this.canvas.zoomRate\n      // const step = deltaY > 0 ? 10 : -10\n      const calcRatio = Math.floor(mathRange(zoomRate * 100 + deltaY, 10, 200))\n      this.zoom(calcRatio)\n    }\n    // 平移\n    else {\n      const translate = this.canvas.getTranslate()\n      this.canvas.setTranslate({\n        x: translate.x - deltaX,\n        y: translate.y - deltaY,\n      } as MouseEvent)\n      this.update()\n    }\n  }\n\n  private onResize() {\n    this.update()\n  }\n\n  /**\n   * 实例化节点信息\n   * @description 该方法调用后：nodeMap/attrMap可访问\n   * @returns\n   */\n  private initNodes() {\n    const {\n      dataHandler: {\n        originData: { nodeDataArray: nodes },\n      },\n      nodeRelatedLineMap,\n    } = this\n    if (!nodes?.length) return\n    for (let i = 0; i < nodes.length; i++) {\n      const it = nodes[i]\n      let node = this.nodeMap.get(it.id)\n      if (!node) {\n        node = new Node(this.canvas.cacheCtx, {\n          id: it.id,\n          enName: it.name,\n          cnName: it.cnName,\n          type: it.type,\n          x: it.x,\n          y: it.y,\n          width: it.width,\n          height: it.height,\n          attributes: it.attributes,\n          bdC: it.bdC,\n          bgC: it.bgC,\n          quotePrimaryKey: it.quotePrimaryKey,\n          physicalTables: it.physicalTables,\n        })\n        this.nodeMap.set(it.id, node)\n        if (!nodeRelatedLineMap.has(it.id))\n          nodeRelatedLineMap.set(it.id, { from: new Set(), to: new Set() })\n\n        // for (let j = 0; j < node.attributes.length; j++) {\n        //   const attr = node.attributes[j]\n        //   this.attrMap.set(attr.id, node)\n        // }\n      }\n    }\n  }\n\n  private renderNodes() {\n    const {\n      nodeMap,\n      dataHandler: { originData },\n      renderElements,\n    } = this\n    const nodes = originData.nodeDataArray\n    for (let i = 0; i < nodes.length; i++) {\n      const it = nodes[i]\n      const node = nodeMap.get(it.id)\n      node.updateOptions(it)\n      const isVisible = this.canvas.isVisible(node.boundingBox)\n      if (isVisible) {\n        renderElements.push(node)\n        node.draw()\n      }\n    }\n  }\n\n  private renderLines() {\n    const {\n      lineMap,\n      dataHandler: { originData },\n      renderElements,\n      nodeRelatedLineMap,\n    } = this\n    const lines = originData.linkDataArray\n    for (let i = 0; i < lines.length; i++) {\n      const it = lines[i]\n      let line = lineMap.get(it.id)\n\n      this.checkLinePos(it)\n\n      if (!line) {\n        line = new LineErwin(this.canvas.cacheCtx, {\n          pos: it.pos,\n          type: it.type,\n          from: it.from,\n          to: it.to,\n          id: it.id,\n          numLineTypes: it.numLineTypes,\n        })\n        this.lineMap.set(it.id, line)\n      } else {\n        line.updateOptions(it)\n      }\n      // 缓存节点与连线的关系map\n      if (!nodeRelatedLineMap.has(line.from))\n        nodeRelatedLineMap.set(line.from, { from: new Set(), to: new Set() })\n      if (!nodeRelatedLineMap.has(line.to))\n        nodeRelatedLineMap.set(line.to, { from: new Set(), to: new Set() })\n      nodeRelatedLineMap.get(line.from).from.add(line)\n      nodeRelatedLineMap.get(line.to).to.add(line)\n\n      const isVisible = this.canvas.isVisible(line.boundingBox)\n      if (isVisible) {\n        renderElements.push(line)\n        line.draw()\n      }\n    }\n  }\n\n  private renderNote() {\n    const {\n      dataHandler: {\n        originData: { noteDataArray },\n      },\n      noteMap,\n      renderElements,\n    } = this\n\n    for (let i = 0; i < noteDataArray.length; i++) {\n      const it = noteDataArray[i]\n      let note = noteMap.get(it.id)\n\n      if (!note) {\n        note = new TextBase(this.canvas.cacheCtx, {\n          id: it.id,\n          content: it.text,\n          textColor: it.color,\n          x: it.x,\n          y: it.y,\n        })\n        this.noteMap.set(it.id, note)\n      } else {\n        note.updateOptions(it)\n      }\n\n      const isVisible = this.canvas.isVisible(note.boundingBox)\n      if (isVisible) {\n        renderElements.push(note)\n        note.draw()\n      }\n    }\n  }\n\n  public updateLayout() {\n    const originData = this.dataHandler.originData\n    const updateFunc = this.update.bind(this)\n    hierarchicalLayout(originData, updateFunc)\n  }\n\n  //根据数据更新视图\n  update(newData?: Data) {\n    this.renderElements = []\n    //外部可能会改变data指向，当改变data指向时，调用该方法传入新的data\n    //并且清空聚焦节点\n    if (newData) {\n      this.dataHandler.update({\n        data: newData,\n      })\n      this.lineMap = new Map()\n      this.markMap = new Map()\n      this.noteMap = new Map()\n      this.nodeMap = new Map()\n      this.nodeRelatedLineMap = new Map()\n      this.focusTarget.clear()\n    }\n\n    this.canvas.clearCacheCanvas()\n    const cacheCtx = this.cacheCtx\n    cacheCtx.font = '15px ' + this.fontFamily\n\n    // 开始缓存canvas绘制\n    cacheCtx.save()\n\n    // 绘制矩形框\n    this.renderMarks()\n    // 绘制连线\n    this.renderLines()\n    // 绘制实体\n    this.initNodes()\n    this.renderNodes()\n    // 绘制文本备注信息\n    this.renderNote()\n\n    cacheCtx.restore()\n\n    this.canvas.update()\n    this.updateEventCanvas()\n    this.updateThumbnail()\n  }\n\n  public async updateThumbnail() {\n    const {\n      dataHandler: {\n        originData: { nodeDataArray },\n      },\n    } = this\n\n    const thumbnail = this.plugins.get(PluginsEnum.Thumbnail)\n    if (!thumbnail) return false\n\n    await nextTick()\n\n    const { width: viewW, height: viewH } = this.canvas.getRenderSize()\n    let minX = 0,\n      minY = 0,\n      maxX = viewW,\n      maxY = viewH\n    for (let i = 0; i < nodeDataArray.length; i++) {\n      const node = nodeDataArray[i]\n      const { x, y, width, height } = node\n\n      if (x < minX) minX = x\n      if (y < minY) minY = y\n      if (x + width > maxX) maxX = x + width\n      if (y + height > maxY) maxY = y + height\n    }\n\n    thumbnail.draw(minX, minY, maxX, maxY, (ctx) => {\n      for (let i = 0; i < nodeDataArray.length; i++) {\n        const node = nodeDataArray[i]\n        const { x, y, width, height, bgC, bdC } = node\n        ctx.save()\n\n        ctx.fillStyle = bgC || '#fff'\n        ctx.fillRect(x, y, width, height)\n        ctx.strokeStyle = bdC || '#000'\n        ctx.strokeRect(x, y, width, height)\n        ctx.restore()\n      }\n    })\n  }\n\n  public updateEventCanvas() {\n    this.canvas.clearEventCanvas()\n    this.emit(GraphEvent.BeforeUpdate, this.canvas.eventCtx)\n    this.drawFocusElement()\n    this.drawFocusAttribute()\n    this.drawHoverElement()\n    this.drawLockIcon()\n    this.emit(GraphEvent.AfterUpdate, this.canvas.eventCtx)\n  }\n\n  private drawFocusElement() {\n    const { canvas, focusTarget } = this\n\n    focusTarget.forEach((el) => {\n      if (el instanceof LineErwin) {\n        new LineErwin(canvas.eventCtx, {\n          ...el,\n          lineWidth: 3,\n          strokeStyle: Color.primary,\n        }).draw()\n      } else {\n        new FrameResize(canvas.eventCtx, {\n          x: el.x,\n          y: el.y,\n          width: el.width,\n          height: el.height,\n        }).draw()\n      }\n    })\n  }\n\n  private drawFocusAttribute() {\n    const {\n      canvas,\n      eventObj: { targetAttrId, target },\n    } = this\n\n    if (!targetAttrId) return\n    const attrInfo = target.getAttributeInfo(targetAttrId)\n    canvas.eventCtx.save()\n    canvas.eventCtx.fillStyle = target.attrFocusStyle.backgroundColor\n    canvas.eventCtx.fillRect(\n      attrInfo.x,\n      attrInfo.y,\n      attrInfo.width,\n      attrInfo.height,\n    )\n    canvas.eventCtx.restore()\n  }\n\n  private drawHoverElement() {\n    const { canvas, hoverTarget, focusTarget } = this\n\n    const isFocusTarget = focusTarget.has(hoverTarget)\n\n    if (!hoverTarget || isFocusTarget) return\n\n    if (hoverTarget instanceof LineErwin) {\n      new LineErwin(canvas.eventCtx, {\n        ...hoverTarget,\n        lineWidth: 2,\n        strokeStyle: Color.primary,\n      }).draw()\n    } else {\n      new FrameHover(canvas.eventCtx, {\n        x: hoverTarget.x,\n        y: hoverTarget.y,\n        width: hoverTarget.width,\n        height: hoverTarget.height,\n      }).draw()\n    }\n  }\n\n  // 绘制锁\n  private drawLockIcon() {\n    if (this.editable === Editable.Edit) return\n\n    const translatePos = this.canvas.getTranslate()\n    new LockIcon(this.canvas.eventCtx, {\n      x: -translatePos.x + this.canvas.width - 40,\n      y: -translatePos.y + 25,\n    }).draw()\n  }\n\n  /**\n   * 验证线坐标是否合法\n   *    场景：当种种原因造成线坐标混乱时，使用该方法在绘制前把错误数据恢复很有必要，例如：协同操作时\n   * @param lineInfo\n   * @returns\n   */\n  private checkLinePos(lineInfo) {\n    const {\n      dataHandler: { originDataMap },\n    } = this\n    // 坐标数量不正确时 -> 重新生成连线\n    const nonPos = lineInfo.pos?.length < 2 || lineInfo.pos?.length > 4\n    if (nonPos) return this.mergeLines([lineInfo])\n\n    const fromNode = originDataMap.get(lineInfo.from)\n    const toNode = originDataMap.get(lineInfo.to)\n    if (!fromNode || !toNode) return false\n\n    const fromNodeBord = this.getPointBelongBord(fromNode, lineInfo.pos[0])\n    const toNodeBord = this.getPointBelongBord(\n      toNode,\n      lineInfo.pos[lineInfo.pos.length - 1],\n    )\n\n    // 验证通过\n    if (fromNodeBord && toNodeBord) return true\n\n    /**\n     * 验证不通过时 -> 重新生成连线\n     *    实现细节可优化：例如找到当前坐标矩阵的最新距离等\n     */\n    this.mergeLines([lineInfo])\n  }\n\n  //绘制矩形框\n  private renderMarks() {\n    this.dataHandler.originData?.markDataArray?.forEach((item) => {\n      const w = item.width\n      const h = item.height\n      const x = Number(item.x)\n      const y = Number(item.y)\n\n      const it = item\n      let mark = this.markMap.get(it.id)\n\n      if (!mark) {\n        mark = new NodeRect(this.canvas.cacheCtx, {\n          id: it.id,\n          x: x,\n          y: y,\n          width: w,\n          height: h,\n        })\n        this.markMap.set(it.id, mark)\n      } else {\n        mark.updateOptions(it)\n      }\n\n      const isVisible = this.canvas.isVisible(mark.boundingBox)\n      if (isVisible) {\n        this.renderElements.push(mark)\n        mark.draw()\n      }\n    })\n  }\n\n  /**\n   * 放大&缩小视图\n   * 参数：scale - 原始大小：100；2倍大小200...\n   */\n  public zoom(rate) {\n    const fixRate = rate / 100\n    this.canvas.zoom(fixRate)\n    this.update()\n    this.emit(GraphEvent.Zoom, this.canvas.zoomRate)\n  }\n\n  //找到连线点在节点的哪条边上\n  private getPointBelongBord(nodeInfo, pointInfo) {\n    if (pointInfo.x === nodeInfo.x) {\n      return 'L'\n    } else if (pointInfo.x === nodeInfo.x + nodeInfo.width) {\n      return 'R'\n    } else if (pointInfo.y === nodeInfo.y) {\n      return 'T'\n    } else if (pointInfo.y === nodeInfo.y + nodeInfo.height) {\n      return 'B'\n    } else {\n      console.warn(\n        'getPointBelongBord未找到匹配边，detail:',\n        nodeInfo,\n        JSON.parse(JSON.stringify(nodeInfo)),\n        JSON.parse(JSON.stringify(pointInfo)),\n      )\n    }\n  }\n\n  //修改节点尺寸\n  resizeNode(evX, evY, eventObj, minWidth = 50) {\n    //分支不允许修改尺寸\n    if (['exclusive', 'inclusive'].includes(eventObj.target.type)) return\n\n    //开始修改尺寸逻辑\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const _this = this\n    const copyEventObjTarget = {\n      x: eventObj.target.x,\n      y: eventObj.target.y,\n      width: eventObj.target.width,\n      height: eventObj.target.height,\n    }\n\n    //左上\n    if (eventObj.targetDirection === 'LT') {\n      const newWidth = eventObj.target.width + eventObj.target.x - evX\n      const newHeight = eventObj.target.height + eventObj.target.y - evY\n\n      eventObj.target.updateOptions({\n        x: newWidth < minWidth ? eventObj.target.x : evX,\n        y: newHeight < minWidth ? eventObj.target.y : evY,\n        width: newWidth < minWidth ? eventObj.target.width : newWidth,\n        height: newHeight < minWidth ? eventObj.target.height : newHeight,\n      })\n      moveKeyPoint()\n    }\n    //上中\n    else if (eventObj.targetDirection === 'TM') {\n      const newHeight = eventObj.target.height + eventObj.target.y - evY\n\n      eventObj.target.updateOptions({\n        y: newHeight < minWidth ? eventObj.target.y : evY,\n        height: newHeight < minWidth ? eventObj.target.height : newHeight,\n      })\n      moveKeyPoint()\n    }\n    //右上\n    else if (eventObj.targetDirection === 'RT') {\n      const newWidth = evX - eventObj.target.x\n      const newHeight = eventObj.target.height + eventObj.target.y - evY\n\n      eventObj.target.updateOptions({\n        y: newHeight < minWidth ? eventObj.target.y : evY,\n        width: newWidth < minWidth ? eventObj.target.width : newWidth,\n        height: newHeight < minWidth ? eventObj.target.height : newHeight,\n      })\n      moveKeyPoint()\n    }\n    //左中\n    else if (eventObj.targetDirection === 'LM') {\n      const newWidth = eventObj.target.width + eventObj.target.x - evX\n\n      eventObj.target.updateOptions({\n        x: newWidth < minWidth ? eventObj.target.x : evX,\n        width: newWidth < minWidth ? eventObj.target.width : newWidth,\n      })\n      moveKeyPoint()\n    }\n    //右中\n    else if (eventObj.targetDirection === 'RM') {\n      const newWidth = evX - eventObj.target.x\n\n      eventObj.target.updateOptions({\n        width: newWidth < minWidth ? eventObj.target.width : newWidth,\n      })\n      moveKeyPoint()\n    }\n    //左下\n    else if (eventObj.targetDirection === 'LB') {\n      const newWidth = eventObj.target.width + eventObj.target.x - evX\n      const newHeight = evY - eventObj.target.y\n\n      eventObj.target.updateOptions({\n        x: newWidth < minWidth ? eventObj.target.x : evX,\n        width: newWidth < minWidth ? eventObj.target.width : newWidth,\n        height: newHeight < minWidth ? eventObj.target.height : newHeight,\n      })\n      moveKeyPoint()\n    }\n    //下中\n    else if (eventObj.targetDirection === 'BM') {\n      const newHeight = evY - eventObj.target.y\n\n      eventObj.target.updateOptions({\n        height: newHeight < minWidth ? eventObj.target.height : newHeight,\n      })\n      moveKeyPoint()\n    }\n    //右下\n    else if (eventObj.targetDirection === 'RB') {\n      const newWidth = evX - eventObj.target.x\n      const newHeight = evY - eventObj.target.y\n\n      eventObj.target.updateOptions({\n        width: newWidth < minWidth ? eventObj.target.width : newWidth,\n        height: newHeight < minWidth ? eventObj.target.height : newHeight,\n      })\n\n      moveKeyPoint()\n    }\n    if (eventObj.target.type === 'mark') {\n      this.emit(MarkEvent.Resize, eventObj.target)\n    } else {\n      this.emit(NodeEvent.Resize, eventObj.target)\n    }\n\n    //根据节点最新位置更新该节点上的连线关键点函数\n    function moveKeyPoint() {\n      // 只有节点判断相关连线\n      if (!(eventObj.target instanceof Node)) return\n      _this.nodeMap.get(eventObj.target.id).updateOptions(eventObj.target)\n\n      const lineSet = _this.nodeRelatedLineMap.get(\n        eventObj.target.id,\n      ) as RelatedLineItem\n\n      ;[...lineSet.from, ...lineSet.to].forEach((item) => {\n        //判断该条线的起始节点和终结节点是不同的实体：如果不同走实体影响线的函数；如果相同代表是自己连自己的情况，走单独的函数\n        const diffFlag = item.from !== item.to\n        const idx = lineSet.from.has(item) ? 0 : item.pos.length - 1\n        diffFlag && updateKeyPoint(item, idx)\n        diffFlag\n          ? _this.moveLineForNode(item, eventObj, eventObj.target)\n          : _this.moveLineForSameNode(item, eventObj)\n      })\n\n      //更新关键点函数\n      function updateKeyPoint(item, idx) {\n        //左边\n        if (item.pos[idx].x === copyEventObjTarget.x) {\n          item.pos[idx].x = eventObj.target.x\n          item.pos[idx].y =\n            item.pos[idx].y < eventObj.target.y\n              ? eventObj.target.y + 1\n              : item.pos[idx].y > eventObj.target.y + eventObj.target.height\n              ? eventObj.target.y + eventObj.target.height - 1\n              : item.pos[idx].y\n        }\n        //右边\n        else if (\n          item.pos[idx].x ===\n          copyEventObjTarget.x + copyEventObjTarget.width\n        ) {\n          item.pos[idx].x = eventObj.target.x + eventObj.target.width\n          item.pos[idx].y =\n            item.pos[idx].y < eventObj.target.y\n              ? eventObj.target.y + 1\n              : item.pos[idx].y > eventObj.target.y + eventObj.target.height\n              ? eventObj.target.y + eventObj.target.height - 1\n              : item.pos[idx].y\n        }\n        //上边\n        else if (item.pos[idx].y === copyEventObjTarget.y) {\n          item.pos[idx].x =\n            item.pos[idx].x <= eventObj.target.x\n              ? eventObj.target.x + 1\n              : item.pos[idx].x >= eventObj.target.x + eventObj.target.width\n              ? eventObj.target.x + eventObj.target.width - 1\n              : item.pos[idx].x\n          item.pos[idx].y = eventObj.target.y\n        }\n        //下边\n        else if (\n          item.pos[idx].y ===\n          copyEventObjTarget.y + copyEventObjTarget.height\n        ) {\n          item.pos[idx].x =\n            item.pos[idx].x <= eventObj.target.x\n              ? eventObj.target.x + 1\n              : item.pos[idx].x >= eventObj.target.x + eventObj.target.width\n              ? eventObj.target.x + eventObj.target.width - 1\n              : item.pos[idx].x\n          item.pos[idx].y = eventObj.target.y + eventObj.target.height\n        }\n      }\n    }\n  }\n\n  /**\n   * 获取指定边的坐标\n   */\n  private getNodePosFromBoreder(\n    targetNode: Node,\n    direction: 'T' | 'B' | 'L' | 'R',\n  ) {\n    let pos = {\n      start: {\n        x: null,\n        y: null,\n      },\n      end: {\n        x: null,\n        y: null,\n      },\n    }\n    switch (direction) {\n      case 'T':\n        pos = {\n          start: {\n            x: targetNode.x,\n            y: targetNode.y,\n          },\n          end: {\n            x: targetNode.x + targetNode.width,\n            y: targetNode.y,\n          },\n        }\n        break\n      case 'B':\n        pos = {\n          start: {\n            x: targetNode.x,\n            y: targetNode.y + targetNode.height,\n          },\n          end: {\n            x: targetNode.x + targetNode.width,\n            y: targetNode.y + targetNode.height,\n          },\n        }\n        break\n      case 'L':\n        pos = {\n          start: {\n            x: targetNode.x,\n            y: targetNode.y,\n          },\n          end: {\n            x: targetNode.x,\n            y: targetNode.y + targetNode.height,\n          },\n        }\n        break\n      case 'R':\n        pos = {\n          start: {\n            x: targetNode.x + targetNode.width,\n            y: targetNode.y,\n          },\n          end: {\n            x: targetNode.x + targetNode.width,\n            y: targetNode.y + targetNode.height,\n          },\n        }\n        break\n    }\n    return pos\n  }\n\n  //更新 节点移动 触发的更改线条路径\n  moveLineForNode(linkInfo, eventObj, nodeNewLoc) {\n    const posMaxIdx = linkInfo.pos.length - 1\n    const distance = {\n      x: nodeNewLoc.x - eventObj.target.x,\n      y: nodeNewLoc.y - eventObj.target.y,\n    }\n\n    const fromNode = this.nodeMap.get(linkInfo.from)\n    const toNode = this.nodeMap.get(linkInfo.to)\n    const fromNodeBord = this.getPointBelongBord(fromNode, linkInfo.pos[0])\n    const toNodeBord = this.getPointBelongBord(toNode, linkInfo.pos[posMaxIdx])\n\n    // 连线错乱时 -> 重新生成连线坐标\n    if (!fromNodeBord || !toNodeBord) this.mergeLines([linkInfo])\n\n    const moveTargetIsFrom = eventObj.target.id === fromNode.id\n\n    //拖动节点是from节点\n    if (moveTargetIsFrom) {\n      //更新首点定位\n      linkInfo.pos[0].x = nodeNewLoc.x + (linkInfo.pos[0].x - eventObj.target.x)\n      linkInfo.pos[0].y = nodeNewLoc.y + (linkInfo.pos[0].y - eventObj.target.y)\n    }\n    //拖动节点是to节点\n    else {\n      //更新末点定位\n      linkInfo.pos[posMaxIdx].x =\n        nodeNewLoc.x + (linkInfo.pos[posMaxIdx].x - eventObj.target.x)\n      linkInfo.pos[posMaxIdx].y =\n        nodeNewLoc.y + (linkInfo.pos[posMaxIdx].y - eventObj.target.y)\n    }\n\n    //根据最新的定位点更新连线点坐标\n    //直线情况\n    if (posMaxIdx === 1) {\n      linkInfo.pos.splice(\n        1,\n        0,\n        { x: linkInfo.pos[0].x, y: linkInfo.pos[0].y },\n        { x: linkInfo.pos[0].x, y: linkInfo.pos[0].y },\n      )\n    }\n    //二折情况\n    else if (posMaxIdx === 2) {\n      if (fromNodeBord === 'R' && toNodeBord === 'B') {\n        //正常向下\n        if (\n          this.getNodePosFromBoreder(toNode, 'B').start.y < linkInfo.pos[0].y\n        ) {\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[0].y }\n        }\n        //变横向一折\n        else {\n          const idx1X =\n            this.getNodePosFromBoreder(fromNode, 'R').start.x <\n            this.getNodePosFromBoreder(toNode, 'L').start.x\n              ? this.getNodePosFromBoreder(toNode, 'L').start.x\n              : this.getNodePosFromBoreder(toNode, 'R').start.x\n          linkInfo.pos[1] = {\n            x: idx1X + (moveTargetIsFrom ? 0 : distance.x),\n            y: linkInfo.pos[0].y + distance.y,\n          }\n          linkInfo.pos.splice(2)\n        }\n\n        //向右变竖向一折\n        if (linkInfo.pos[2] && linkInfo.pos[2].x <= linkInfo.pos[0].x) {\n          linkInfo.pos[0] = {\n            x: linkInfo.pos[0].x - 1,\n            y: fromNode.y + (moveTargetIsFrom ? distance.y : 0),\n          }\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[2].y }\n          linkInfo.pos.splice(2)\n        }\n      } else if (fromNodeBord === 'B' && toNodeBord === 'R') {\n        if (fromNode.y + fromNode.height < linkInfo.pos[1].y) {\n          linkInfo.pos[1] = { x: linkInfo.pos[0].x, y: linkInfo.pos[2].y }\n        }\n        //变一折\n        else {\n          if (['exclusive', 'inclusive'].includes(fromNode.type)) {\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y:\n                Math.max(\n                  this.getNodePosFromBoreder(fromNode, 'B').start.y,\n                  this.getNodePosFromBoreder(toNode, 'B').start.y,\n                ) + 20,\n            }\n            linkInfo.pos[2] = {\n              x:\n                toNode.x +\n                Math.floor(toNode.width / 2) +\n                (moveTargetIsFrom ? 0 : distance.x),\n              y: linkInfo.pos[1].y,\n            }\n            linkInfo.pos[3] = {\n              x: linkInfo.pos[2].x,\n              y:\n                this.getNodePosFromBoreder(toNode, 'B').start.y +\n                (moveTargetIsFrom ? 0 : distance.y),\n            }\n          } else {\n            linkInfo.pos[0] = {\n              x:\n                fromNode.x +\n                (eventObj.target.id === fromNode.id ? distance.x : 0),\n              y: linkInfo.pos[1].y,\n            }\n            linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[2].y }\n            linkInfo.pos.splice(2)\n          }\n        }\n\n        if (linkInfo.pos[1].x < toNode.x + toNode.width) {\n          linkInfo.pos[1].y =\n            toNode.y + (eventObj.target.id === toNode.id ? distance.y : 0)\n          linkInfo.pos.splice(2)\n        }\n      } else if (fromNodeBord === 'L' && toNodeBord === 'B') {\n        //正常向下\n        if (\n          this.getNodePosFromBoreder(toNode, 'B').start.y < linkInfo.pos[0].y\n        ) {\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[0].y }\n        }\n        //变横向一折\n        else {\n          linkInfo.pos[1] = {\n            x:\n              toNode.x +\n              toNode.width +\n              (eventObj.target.id === toNode.id ? distance.x : 0),\n            y: linkInfo.pos[0].y,\n          }\n          linkInfo.pos.splice(2)\n        }\n        //变竖向一折\n        if (\n          linkInfo.pos[1].x >= eventObj.target.x &&\n          this.getNodePosFromBoreder(toNode, 'B').start.y <\n            this.getNodePosFromBoreder(fromNode, 'T').start.y\n        ) {\n          linkInfo.pos[0] = {\n            x: linkInfo.pos[0].x + (moveTargetIsFrom ? distance.x : 0) - 1,\n            y: fromNode.y + (moveTargetIsFrom ? distance.y : 0),\n          }\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[2].y }\n          linkInfo.pos.splice(2)\n        }\n      } else if (fromNodeBord === 'B' && toNodeBord === 'L') {\n        linkInfo.pos[1].x = linkInfo.pos[0].x\n        linkInfo.pos[1].y = linkInfo.pos[2].y\n        if (linkInfo.pos[1].x > toNode.x) {\n          linkInfo.pos[1].y =\n            toNode.y + (eventObj.target.id === toNode.id ? distance.y : 0)\n          linkInfo.pos.splice(2)\n        }\n        if (linkInfo.pos[1].y < linkInfo.pos[0].y) {\n          if (['exclusive', 'inclusive'].includes(fromNode.type)) {\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y:\n                Math.max(\n                  this.getNodePosFromBoreder(fromNode, 'B').start.y,\n                  this.getNodePosFromBoreder(toNode, 'B').start.y,\n                ) + 20,\n            }\n            linkInfo.pos[2] = {\n              x:\n                toNode.x +\n                Math.floor(toNode.width / 2) +\n                (moveTargetIsFrom ? 0 : distance.x),\n              y: linkInfo.pos[1].y,\n            }\n            linkInfo.pos[3] = {\n              x: linkInfo.pos[2].x,\n              y:\n                this.getNodePosFromBoreder(toNode, 'B').start.y +\n                (moveTargetIsFrom ? 0 : distance.y),\n            }\n          } else {\n            linkInfo.pos[1].x =\n              this.getNodePosFromBoreder(fromNode, 'R').start.x +\n              (eventObj.target.id === fromNode.id ? distance.x : 0)\n            linkInfo.pos[1].y =\n              this.getNodePosFromBoreder(fromNode, 'B').start.y +\n              (eventObj.target.id === fromNode.id ? distance.y : 0)\n            linkInfo.pos.splice(0, 1)\n          }\n        }\n      } else if (fromNodeBord === 'R' && toNodeBord === 'T') {\n        linkInfo.pos[1].x = linkInfo.pos[2].x\n        linkInfo.pos[1].y = linkInfo.pos[0].y\n        if (linkInfo.pos[1].x < linkInfo.pos[0].x) {\n          linkInfo.pos[1].y =\n            this.getNodePosFromBoreder(fromNode, 'B').start.y +\n            (eventObj.target.id === fromNode.id ? distance.y : 0)\n          linkInfo.pos.splice(0, 1)\n        }\n        if (linkInfo.pos[2] && linkInfo.pos[1].y > linkInfo.pos[2].y) {\n          if (['exclusive', 'inclusive'].includes(toNode.type)) {\n            linkInfo.pos[0] = {\n              x: fromNode.x + Math.floor(fromNode.width / 2),\n              y: fromNode.y + (moveTargetIsFrom ? distance.y : 0),\n            }\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y: linkInfo.pos[0].y - 20,\n            }\n            linkInfo.pos[2] = { x: linkInfo.pos[2].x, y: linkInfo.pos[1].y }\n            linkInfo.pos[3] = {\n              x: linkInfo.pos[2].x,\n              y: toNode.y + (moveTargetIsFrom ? 0 : distance.y),\n            }\n          } else {\n            linkInfo.pos[1].x = toNode.x + (moveTargetIsFrom ? 0 : distance.x)\n            linkInfo.pos[1].y = toNode.y + (moveTargetIsFrom ? 0 : distance.y)\n            linkInfo.pos.splice(2)\n          }\n        }\n      } else if (fromNodeBord === 'T' && toNodeBord === 'R') {\n        linkInfo.pos[1].x = linkInfo.pos[0].x\n        linkInfo.pos[1].y = linkInfo.pos[2].y\n        if (linkInfo.pos[1].x < linkInfo.pos[2].x) {\n          linkInfo.pos[1].y =\n            this.getNodePosFromBoreder(toNode, 'B').start.y +\n            (eventObj.target.id === toNode.id ? distance.y : 0)\n          linkInfo.pos.splice(2)\n        }\n        if (linkInfo.pos[0].y < linkInfo.pos[1].y) {\n          linkInfo.pos[1].x =\n            fromNode.x + (eventObj.target.id === fromNode.id ? distance.x : 0)\n          linkInfo.pos[1].y =\n            fromNode.y + (eventObj.target.id === fromNode.id ? distance.y : 0)\n          linkInfo.pos.splice(0, 1)\n        }\n      } else if (fromNodeBord === 'T' && toNodeBord === 'L') {\n        linkInfo.pos[1].x = linkInfo.pos[0].x\n        linkInfo.pos[1].y = linkInfo.pos[2].y\n        if (linkInfo.pos[1].x > linkInfo.pos[2].x) {\n          linkInfo.pos[1].y =\n            this.getNodePosFromBoreder(toNode, 'B').start.y +\n            (eventObj.target.id === toNode.id ? distance.y : 0)\n          linkInfo.pos.splice(2)\n        }\n        if (linkInfo.pos[1].y > linkInfo.pos[0].y) {\n          linkInfo.pos[1].x =\n            this.getNodePosFromBoreder(fromNode, 'R').start.x +\n            (eventObj.target.id === fromNode.id ? distance.x : 0)\n          linkInfo.pos.splice(0, 1)\n        }\n      } else if (fromNodeBord === 'L' && toNodeBord === 'T') {\n        linkInfo.pos[1].x = linkInfo.pos[2].x\n        linkInfo.pos[1].y = linkInfo.pos[0].y\n        if (linkInfo.pos[1].y > linkInfo.pos[2].y) {\n          if (['exclusive', 'inclusive'].includes(toNode.type)) {\n            linkInfo.pos[0] = {\n              x: fromNode.x + Math.floor(fromNode.width / 2),\n              y: fromNode.y + (moveTargetIsFrom ? distance.y : 0),\n            }\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y: linkInfo.pos[0].y - 20,\n            }\n            linkInfo.pos[2] = { x: linkInfo.pos[2].x, y: linkInfo.pos[1].y }\n            linkInfo.pos[3] = {\n              x: linkInfo.pos[2].x,\n              y: toNode.y + (moveTargetIsFrom ? 0 : distance.y),\n            }\n          } else {\n            linkInfo.pos[1].x =\n              this.getNodePosFromBoreder(toNode, 'R').start.x +\n              (eventObj.target.id === toNode.id ? distance.x : 0)\n            linkInfo.pos.splice(2)\n          }\n        }\n        if (linkInfo.pos[1].x > linkInfo.pos[0].x) {\n          linkInfo.pos[1].y =\n            this.getNodePosFromBoreder(fromNode, 'B').start.y +\n            (eventObj.target.id === fromNode.id ? distance.y : 0)\n          linkInfo.pos.splice(0, 1)\n        }\n      }\n    }\n    //三折情况\n    else if (posMaxIdx === 3) {\n      const middleX = Math.floor(\n        Math.abs(linkInfo.pos[0].x - linkInfo.pos[posMaxIdx].x) / 2,\n      )\n      const middleY = Math.floor(\n        Math.abs(linkInfo.pos[0].y - linkInfo.pos[posMaxIdx].y) / 2,\n      )\n\n      if (fromNodeBord === 'B' && toNodeBord === 'B') {\n        // 正常向下移动\n        if (\n          this.getNodePosFromBoreder(fromNode, 'T').start.y <\n          this.getNodePosFromBoreder(toNode, 'B').start.y\n        ) {\n          //正常向下\n          if (\n            this.getNodePosFromBoreder(fromNode, 'B').start.y <\n            linkInfo.pos[1].y\n          ) {\n            const idx1and2Y =\n              linkInfo.pos[2].y - toNode.y - toNode.height + linkInfo.pos[3].y\n            // linkInfo.pos[0] = { x: linkInfo.pos[0].x, y: fromNode.y }\n            linkInfo.pos[1] = { x: linkInfo.pos[0].x, y: idx1and2Y }\n            linkInfo.pos[2] = { x: linkInfo.pos[3].x, y: idx1and2Y }\n            // linkInfo.pos[3] = {x: linkInfo.pos[3].x, y: linkInfo.pos[3].y}\n          }\n          //二折\n          else {\n            const idx0X =\n              fromNode.x + fromNode.width > linkInfo.pos[3].x\n                ? fromNode.x\n                : fromNode.x + fromNode.width\n            const idx1and2Y =\n              linkInfo.pos[2].y - toNode.y - toNode.height + linkInfo.pos[3].y\n            linkInfo.pos[0] = {\n              x: idx0X + (eventObj.target.id === fromNode.id ? distance.x : 0),\n              y: idx1and2Y,\n            }\n            linkInfo.pos[1] = { x: linkInfo.pos[3].x, y: idx1and2Y }\n            linkInfo.pos[2] = { x: linkInfo.pos[3].x, y: linkInfo.pos[3].y }\n            // 删除最后一位\n            linkInfo.pos.splice(3)\n          }\n        }\n        // from和to重合点 -> 变成T to B\n        else {\n          if (['exclusive', 'inclusive'].includes(fromNode.type)) {\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y: fromNode.y + fromNode.height + 20,\n            }\n            linkInfo.pos[2] = { x: linkInfo.pos[3].x, y: linkInfo.pos[1].y }\n          } else {\n            // console.log('T->B')\n            linkInfo.pos[0] = {\n              x: linkInfo.pos[0].x,\n              y: linkInfo.pos[0].y - fromNode.height,\n            }\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y:\n                linkInfo.pos[0].y +\n                Math.floor((fromNode.y - toNode.y - toNode.height) / 2),\n            }\n            linkInfo.pos[2] = {\n              x: linkInfo.pos[3].x,\n              y:\n                linkInfo.pos[0].y +\n                Math.floor((fromNode.y - toNode.y - toNode.height) / 2),\n            }\n          }\n        }\n      } else if (fromNodeBord === 'B' && toNodeBord === 'T') {\n        // from高 to低\n        if (fromNode.y + fromNode.height < toNode.y) {\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x,\n            y: linkInfo.pos[0].y + middleY,\n          }\n          linkInfo.pos[2] = {\n            x: linkInfo.pos[3].x,\n            y: linkInfo.pos[0].y + middleY,\n          }\n        }\n        // from和to重合点 -> 变成B to B\n        else if (fromNode.y + fromNode.height >= toNode.y) {\n          if (['exclusive', 'inclusive'].includes(toNode.type)) {\n            linkInfo.pos[0] = {\n              x: linkInfo.pos[0].x,\n              y: linkInfo.pos[0].y - fromNode.height,\n            }\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y: linkInfo.pos[0].y - 20,\n            }\n            linkInfo.pos[2] = { x: linkInfo.pos[3].x, y: linkInfo.pos[1].y }\n          } else {\n            // console.log('B->B')\n            linkInfo.pos[1] = {\n              x: linkInfo.pos[0].x,\n              y: toNode.y + toNode.height + 20,\n            }\n            linkInfo.pos[2] = {\n              x: linkInfo.pos[3].x,\n              y: toNode.y + toNode.height + 20,\n            }\n            linkInfo.pos[3] = {\n              x: linkInfo.pos[3].x,\n              y: linkInfo.pos[3].y + toNode.height,\n            }\n          }\n        }\n      } else if (fromNodeBord === 'T' && toNodeBord === 'T') {\n        if (\n          ['exclusive', 'inclusive'].includes(fromNode.type) ||\n          ['exclusive', 'inclusive'].includes(toNode.type)\n        ) {\n          const y =\n            linkInfo.pos[1].y + distance.y > Math.min(fromNode.y, toNode.y) - 20\n              ? Math.min(fromNode.y, toNode.y) - 20\n              : linkInfo.pos[1].y + distance.y\n          linkInfo.pos[1] = { x: linkInfo.pos[0].x, y: y }\n          linkInfo.pos[2] = { x: linkInfo.pos[3].x, y: y }\n        } else if (linkInfo.pos[1].y < eventObj.target.y) {\n          linkInfo.pos[1] = { x: linkInfo.pos[0].x, y: linkInfo.pos[1].y }\n          linkInfo.pos[2] = { x: linkInfo.pos[3].x, y: linkInfo.pos[2].y }\n        } else {\n          // console.log('B->B')\n          linkInfo.pos[0] = {\n            x: linkInfo.pos[0].x,\n            y: linkInfo.pos[0].y + fromNode.height,\n          }\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x,\n            y:\n              Math.max(fromNode.y + fromNode.height, toNode.y + toNode.height) +\n              20,\n          }\n          linkInfo.pos[2] = {\n            x: linkInfo.pos[3].x,\n            y:\n              Math.max(fromNode.y + fromNode.height, toNode.y + toNode.height) +\n              20,\n          }\n          linkInfo.pos[3] = {\n            x: linkInfo.pos[3].x,\n            y: linkInfo.pos[3].y + toNode.height,\n          }\n        }\n      } else if (fromNodeBord === 'T' && toNodeBord === 'B') {\n        if (fromNode.y > toNode.y + toNode.height) {\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x,\n            y: linkInfo.pos[0].y - middleY,\n          }\n          linkInfo.pos[2] = {\n            x: linkInfo.pos[3].x,\n            y: linkInfo.pos[3].y + middleY,\n          }\n        }\n        // from和to重合点 -> 变成B to B\n        else if (fromNode.y <= toNode.y + toNode.height) {\n          console.log('B->B')\n          linkInfo.pos[0] = {\n            x: linkInfo.pos[0].x,\n            y: linkInfo.pos[0].y + fromNode.height,\n          }\n          linkInfo.pos[1] = { x: linkInfo.pos[0].x, y: linkInfo.pos[0].y + 20 }\n          linkInfo.pos[2] = { x: linkInfo.pos[3].x, y: linkInfo.pos[0].y + 20 }\n        }\n      } else if (fromNodeBord === 'L' && toNodeBord === 'L') {\n        //拖动的是to节点\n        if (eventObj.target.id === toNode.id) {\n          linkInfo.pos[2] = {\n            x: nodeNewLoc.x - (toNode.x - linkInfo.pos[2].x),\n            y: linkInfo.pos[3].y,\n          }\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[0].y }\n        }\n        //拖动的是from节点\n        else {\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[0].y }\n        }\n        //变成二折\n        if (\n          linkInfo.pos[1].x > fromNode.x &&\n          linkInfo.pos[1].x < fromNode.x + fromNode.width\n        ) {\n          // console.log('变成二折')\n          linkInfo.pos.splice(0, 1)\n          ++linkInfo.pos[0].x\n          linkInfo.pos[0].y =\n            (linkInfo.pos[1].y <\n            this.getNodePosFromBoreder(fromNode, 'T').start.y\n              ? this.getNodePosFromBoreder(fromNode, 'T').start.y\n              : this.getNodePosFromBoreder(fromNode, 'B').start.y) +\n            (eventObj.target.id === fromNode.id ? distance.y : 0)\n        }\n      } else if (fromNodeBord === 'L' && toNodeBord === 'R') {\n        if (fromNode.x > toNode.x + toNode.width) {\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x - middleX,\n            y: linkInfo.pos[0].y,\n          }\n          linkInfo.pos[2] = { x: linkInfo.pos[1].x, y: linkInfo.pos[3].y }\n        }\n        // from和to重合 -> 变成R to R\n        else {\n          linkInfo.pos[0] = {\n            x: linkInfo.pos[0].x + fromNode.width,\n            y: linkInfo.pos[0].y,\n          }\n          linkInfo.pos[1] = { x: linkInfo.pos[0].x + 20, y: linkInfo.pos[0].y }\n          linkInfo.pos[2] = { x: linkInfo.pos[0].x + 20, y: linkInfo.pos[3].y }\n        }\n      } else if (fromNodeBord === 'R' && toNodeBord === 'L') {\n        //from在to左边\n        if (fromNode.x + fromNode.width < toNode.x) {\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x + middleX,\n            y: linkInfo.pos[0].y,\n          }\n          linkInfo.pos[2] = {\n            x: linkInfo.pos[0].x + middleX,\n            y: linkInfo.pos[3].y,\n          }\n        } else {\n          linkInfo.pos[1] = {\n            x: linkInfo.pos[0].x + toNode.width + 20,\n            y: linkInfo.pos[0].y,\n          }\n          linkInfo.pos[2] = {\n            x: linkInfo.pos[0].x + toNode.width + 20,\n            y: linkInfo.pos[3].y,\n          }\n          linkInfo.pos[3] = {\n            x: linkInfo.pos[3].x + toNode.width,\n            y: linkInfo.pos[3].y,\n          }\n        }\n      } else if (fromNodeBord === 'R' && toNodeBord === 'R') {\n        //拖动的是to节点\n        if (eventObj.target.id === toNode.id) {\n          linkInfo.pos[2] = {\n            x: nodeNewLoc.x - (toNode.x - linkInfo.pos[2].x),\n            y: linkInfo.pos[3].y,\n          }\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[0].y }\n        }\n        //拖动的是from节点\n        else {\n          linkInfo.pos[1] = { x: linkInfo.pos[2].x, y: linkInfo.pos[0].y }\n        }\n        //变成二折\n        if (\n          linkInfo.pos[1].x > fromNode.x &&\n          linkInfo.pos[1].x < fromNode.x + fromNode.width\n        ) {\n          // console.log('变成二折')\n          linkInfo.pos.splice(0, 1)\n          --linkInfo.pos[0].x\n          linkInfo.pos[0].y =\n            (linkInfo.pos[1].y <\n            this.getNodePosFromBoreder(fromNode, 'T').start.y\n              ? this.getNodePosFromBoreder(fromNode, 'T').start.y\n              : this.getNodePosFromBoreder(fromNode, 'B').start.y) +\n            (eventObj.target.id === fromNode.id ? distance.y : 0)\n        }\n      }\n    }\n\n    this.emit(LineEvent.Move, linkInfo)\n  }\n\n  //更新 节点移动 触发的更改线条路径(自己连自己的情况)\n  moveLineForSameNode(linkInfo, eventObj) {\n    // const disY = copyEventObjTarget.y+copyEventObjTarget.height-linkInfo.pos[0].y\n    // const disX = copyEventObjTarget.x+copyEventObjTarget.width-linkInfo.pos[4].x\n    const disY = 20\n    const disX = 20\n    // console.log(disX, disY)\n    const dis0to1 = linkInfo.pos[1].x - linkInfo.pos[0].x\n    const dis1to2 = linkInfo.pos[2].y - linkInfo.pos[1].y\n\n    linkInfo.pos[0] = {\n      x: eventObj.target.x + eventObj.target.width,\n      y: eventObj.target.y + eventObj.target.height - disY,\n    }\n    linkInfo.pos[4] = {\n      x: eventObj.target.x + eventObj.target.width - disX,\n      y: eventObj.target.y + eventObj.target.height,\n    }\n    linkInfo.pos[1] = { x: linkInfo.pos[0].x + dis0to1, y: linkInfo.pos[0].y }\n    linkInfo.pos[2] = { x: linkInfo.pos[1].x, y: linkInfo.pos[1].y + dis1to2 }\n    linkInfo.pos[3] = { x: linkInfo.pos[4].x, y: linkInfo.pos[2].y }\n\n    this.emit(LineEvent.Move, linkInfo)\n  }\n\n  /**\n   * 更新 路径移动 触发的更改线条路径\n   */\n  moveLineForLine(eventObj, mouseLoc) {\n    const eventPos = eventObj.target.pos,\n      posMaxIdx = eventPos.length - 1\n    let fromNode,\n      toNode,\n      total = 0\n\n    this.dataHandler.originData.nodeDataArray?.forEach((item) => {\n      if (item.id === eventObj.target.from) {\n        fromNode = item\n        total++\n      }\n      if (item.id === eventObj.target.to) {\n        toNode = item\n        total++\n      }\n      if (total === 2) return\n    })\n\n    //分支节点位置限制: from\n    if (['exclusive', 'inclusive'].includes(fromNode.type)) {\n      //挨着from的竖线\n      if (\n        eventObj.targetLineStartPointIdx === 0 &&\n        eventPos[eventObj.targetLineStartPointIdx].x ===\n          eventPos[eventObj.targetLineStartPointIdx + 1].x &&\n        (this.getNodePosFromBoreder(fromNode, 'L').start.x >= mouseLoc.x ||\n          this.getNodePosFromBoreder(fromNode, 'R').start.x <= mouseLoc.x)\n      )\n        return\n      //中间横线\n      if (\n        eventObj.targetLineStartPointIdx === 1 &&\n        eventPos[eventObj.targetLineStartPointIdx].y ===\n          eventPos[eventObj.targetLineStartPointIdx + 1].y &&\n        this.getNodePosFromBoreder(fromNode, 'B').start.y >= mouseLoc.y\n      )\n        return\n      //挨着to的竖线\n      if (\n        eventObj.targetLineStartPointIdx === 2 &&\n        eventPos[eventObj.targetLineStartPointIdx].x ===\n          eventPos[eventObj.targetLineStartPointIdx + 1].x &&\n        (this.getNodePosFromBoreder(toNode, 'L').start.x >= mouseLoc.x ||\n          this.getNodePosFromBoreder(toNode, 'R').start.x <= mouseLoc.x)\n      )\n        return\n    }\n    //分支节点位置限制: to\n    else if (['exclusive', 'inclusive'].includes(toNode.type)) {\n      //一折线不能移动\n      if (posMaxIdx === 1) return\n      //二折线竖线不能动\n      if (posMaxIdx === 2 && eventObj.targetLineStartPointIdx === 1) return\n      //二折线横线限制\n      if (\n        posMaxIdx === 2 &&\n        eventObj.targetLineStartPointIdx === 0 &&\n        this.getNodePosFromBoreder(toNode, 'T').start.y < mouseLoc.y\n      )\n        return\n      //三折最后的线不能动\n      if (posMaxIdx === 3 && eventObj.targetLineStartPointIdx === 2) return\n      //三折中间横线位置限制\n      if (\n        posMaxIdx === 3 &&\n        eventObj.targetLineStartPointIdx === 1 &&\n        this.getNodePosFromBoreder(toNode, 'T').start.y < mouseLoc.y\n      )\n        return\n      //三折第一条线位置限制\n      if (\n        posMaxIdx === 3 &&\n        eventObj.targetLineStartPointIdx === 0 &&\n        (this.getNodePosFromBoreder(fromNode, 'L').start.x >= mouseLoc.x ||\n          this.getNodePosFromBoreder(fromNode, 'R').start.x <= mouseLoc.x)\n      )\n        return\n    }\n\n    //一折情况\n    if (posMaxIdx === 1) {\n      //横线\n      if (eventPos[0].y === eventPos[1].y) {\n        //更新y坐标\n        eventPos[0].y = mouseLoc.y\n        eventPos[1].y = mouseLoc.y\n        //更新x坐标\n        if (\n          this.getNodePosFromBoreder(fromNode, 'T').start.y > mouseLoc.y ||\n          this.getNodePosFromBoreder(fromNode, 'B').start.y < mouseLoc.y\n        ) {\n          eventPos[0].x = fromNode.x + fromNode.width / 2\n          eventPos.unshift({\n            x: fromNode.x + fromNode.width / 2,\n            y:\n              this.getNodePosFromBoreder(fromNode, 'T').start.y > mouseLoc.y\n                ? fromNode.y\n                : fromNode.y + fromNode.height,\n          })\n        }\n        if (\n          this.getNodePosFromBoreder(toNode, 'T').start.y > mouseLoc.y ||\n          this.getNodePosFromBoreder(toNode, 'B').start.y < mouseLoc.y\n        ) {\n          eventPos[eventPos.length - 1].x = toNode.x + toNode.width / 2\n          eventPos.push({\n            x: toNode.x + toNode.width / 2,\n            y:\n              this.getNodePosFromBoreder(toNode, 'T').start.y > mouseLoc.y\n                ? toNode.y\n                : toNode.y + toNode.height,\n          })\n        }\n      }\n      //竖线\n      else {\n        //更新x坐标\n        eventPos[0].x = mouseLoc.x\n        eventPos[1].x = mouseLoc.x\n        //更新y坐标\n        if (\n          this.getNodePosFromBoreder(fromNode, 'L').start.x > mouseLoc.x ||\n          this.getNodePosFromBoreder(fromNode, 'R').start.x < mouseLoc.x\n        ) {\n          eventPos[0].y = fromNode.y + fromNode.height / 2\n          eventPos.unshift({\n            x:\n              this.getNodePosFromBoreder(fromNode, 'R').start.x < mouseLoc.x\n                ? fromNode.x + fromNode.width\n                : fromNode.x,\n            y: fromNode.y + fromNode.height / 2,\n          })\n        }\n        if (\n          this.getNodePosFromBoreder(toNode, 'L').start.x > mouseLoc.x ||\n          this.getNodePosFromBoreder(toNode, 'R').start.x < mouseLoc.x\n        ) {\n          eventPos[eventPos.length - 1].y = toNode.y + toNode.height / 2\n          eventPos.push({\n            x:\n              this.getNodePosFromBoreder(toNode, 'R').start.x < mouseLoc.x\n                ? toNode.x + toNode.width\n                : toNode.x,\n            y: toNode.y + toNode.height / 2,\n          })\n        }\n      }\n    }\n    //二折情况\n    else if (posMaxIdx === 2) {\n      //横线\n      if (\n        eventPos[eventObj.targetLineStartPointIdx].y ===\n        eventPos[eventObj.targetLineStartPointIdx + 1].y\n      ) {\n        eventPos[eventObj.targetLineStartPointIdx].y = mouseLoc.y\n        eventPos[eventObj.targetLineStartPointIdx + 1].y = mouseLoc.y\n        //超出from节点边界\n        if (\n          (this.getNodePosFromBoreder(fromNode, 'B').start.y < mouseLoc.y ||\n            this.getNodePosFromBoreder(fromNode, 'T').start.y > mouseLoc.y) &&\n          eventObj.targetLineStartPointIdx === 0\n        ) {\n          eventPos[eventObj.targetLineStartPointIdx].x =\n            fromNode.x + fromNode.width / 2\n          eventPos.unshift({\n            x: fromNode.x + fromNode.width / 2,\n            y:\n              this.getNodePosFromBoreder(fromNode, 'T').start.y > mouseLoc.y\n                ? fromNode.y\n                : fromNode.y + fromNode.height,\n          })\n        }\n        //超出to节点边界\n        if (\n          (this.getNodePosFromBoreder(toNode, 'B').start.y < mouseLoc.y ||\n            this.getNodePosFromBoreder(toNode, 'T').start.y > mouseLoc.y) &&\n          eventObj.targetLineStartPointIdx === 1\n        ) {\n          eventPos[eventObj.targetLineStartPointIdx + 1].x =\n            toNode.x + toNode.width / 2\n          eventPos.push({\n            x: toNode.x + toNode.width / 2,\n            y:\n              this.getNodePosFromBoreder(toNode, 'T').start.y > mouseLoc.y\n                ? toNode.y\n                : toNode.y + toNode.height,\n          })\n        }\n        //进入from内\n        if (\n          eventObj.targetLineStartPointIdx === 1 &&\n          this.getNodePosFromBoreder(fromNode, 'B').start.y > mouseLoc.y &&\n          this.getNodePosFromBoreder(fromNode, 'T').start.y < mouseLoc.y\n        ) {\n          // console.log('from内')\n          eventPos.splice(0, 1)\n          eventPos[0].x =\n            toNode.x > fromNode.x ? fromNode.x + fromNode.width : fromNode.x\n        }\n        //进入to内\n        if (\n          eventObj.targetLineStartPointIdx === 0 &&\n          this.getNodePosFromBoreder(toNode, 'B').start.y > mouseLoc.y &&\n          this.getNodePosFromBoreder(toNode, 'T').start.y < mouseLoc.y\n        ) {\n          // console.log('to内')\n          eventPos.splice(eventPos.length - 1, 1)\n          eventPos[eventPos.length - 1].x =\n            fromNode.x > toNode.x ? toNode.x + toNode.width : toNode.x\n        }\n      }\n      //竖线\n      else {\n        eventPos[eventObj.targetLineStartPointIdx].x = mouseLoc.x\n        eventPos[eventObj.targetLineStartPointIdx + 1].x = mouseLoc.x\n        //超出from节点边界\n        if (\n          (this.getNodePosFromBoreder(fromNode, 'L').start.x > mouseLoc.x ||\n            this.getNodePosFromBoreder(fromNode, 'R').start.x < mouseLoc.x) &&\n          eventObj.targetLineStartPointIdx === 0\n        ) {\n          // console.log('超出from')\n          eventPos[eventObj.targetLineStartPointIdx].y =\n            fromNode.y + fromNode.height / 2\n          eventPos.unshift({\n            x:\n              this.getNodePosFromBoreder(fromNode, 'L').start.x > mouseLoc.x\n                ? fromNode.x\n                : fromNode.x + fromNode.width,\n            y: fromNode.y + fromNode.height / 2,\n          })\n        }\n        //超出to节点边界\n        if (\n          (this.getNodePosFromBoreder(toNode, 'L').start.x > mouseLoc.x ||\n            this.getNodePosFromBoreder(toNode, 'R').start.x < mouseLoc.x) &&\n          eventObj.targetLineStartPointIdx === 1\n        ) {\n          // console.log('超出to')\n          eventPos[eventObj.targetLineStartPointIdx + 1].y =\n            toNode.y + toNode.height / 2\n          eventPos.push({\n            x:\n              this.getNodePosFromBoreder(toNode, 'L').start.x > mouseLoc.x\n                ? toNode.x\n                : toNode.x + toNode.width,\n            y: toNode.y + toNode.height / 2,\n          })\n        }\n        //进入from内\n        if (\n          eventObj.targetLineStartPointIdx === 1 &&\n          this.getNodePosFromBoreder(fromNode, 'L').start.x < mouseLoc.x &&\n          this.getNodePosFromBoreder(fromNode, 'R').start.x > mouseLoc.x\n        ) {\n          // console.log('from内')\n          eventPos.splice(0, 1)\n          eventPos[0].y =\n            toNode.y > fromNode.y ? fromNode.y + fromNode.height : fromNode.y\n        }\n        //进入to内\n        if (\n          eventObj.targetLineStartPointIdx === 0 &&\n          this.getNodePosFromBoreder(toNode, 'L').start.x < mouseLoc.x &&\n          this.getNodePosFromBoreder(toNode, 'R').start.x > mouseLoc.x\n        ) {\n          // console.log('to内')\n          eventPos.splice(eventPos.length - 1, 1)\n          eventPos[eventPos.length - 1].y =\n            fromNode.y > toNode.y ? toNode.y + toNode.height : toNode.y\n        }\n      }\n    }\n    //三折情况\n    else if (posMaxIdx === 3) {\n      //横线\n      if (\n        eventPos[eventObj.targetLineStartPointIdx].y ===\n        eventPos[eventObj.targetLineStartPointIdx + 1].y\n      ) {\n        eventPos[eventObj.targetLineStartPointIdx].y = mouseLoc.y\n        eventPos[eventObj.targetLineStartPointIdx + 1].y = mouseLoc.y\n        //触发线段是挨着from节点\n        if (eventObj.targetLineStartPointIdx === 0) {\n          //Z形状\n          if (judgeLineShapeIsZ(eventPos)) {\n            //超出最高点\n            if (\n              eventPos[0].y < this.getNodePosFromBoreder(fromNode, 'T').start.y\n            ) {\n              eventPos[0] = {\n                x:\n                  this.getNodePosFromBoreder(fromNode, 'T').start.x +\n                  fromNode.width / 2,\n                y: fromNode.y,\n              }\n              eventPos[1] = { x: eventPos[0].x, y: mouseLoc.y }\n              if (\n                mouseLoc.y < this.getNodePosFromBoreder(toNode, 'T').start.y ||\n                mouseLoc.y > this.getNodePosFromBoreder(toNode, 'B').start.y\n              ) {\n                eventPos[2] = {\n                  x:\n                    this.getNodePosFromBoreder(toNode, 'L').start.x +\n                    toNode.width / 2,\n                  y: mouseLoc.y,\n                }\n                eventPos[3] = {\n                  x: eventPos[2].x,\n                  y:\n                    mouseLoc.y < this.getNodePosFromBoreder(toNode, 'T').start.y\n                      ? this.getNodePosFromBoreder(toNode, 'T').start.y\n                      : this.getNodePosFromBoreder(toNode, 'B').start.y,\n                }\n              } else {\n                eventPos[2] = {\n                  x:\n                    eventPos[1].x <\n                    this.getNodePosFromBoreder(toNode, 'R').start.x\n                      ? this.getNodePosFromBoreder(toNode, 'L').start.x\n                      : this.getNodePosFromBoreder(toNode, 'R').start.x,\n                  y: mouseLoc.y,\n                }\n                eventPos.splice(3)\n              }\n            }\n            //超出最低点\n            else if (\n              eventPos[0].y > this.getNodePosFromBoreder(fromNode, 'B').start.y\n            ) {\n              eventPos[0] = {\n                x:\n                  this.getNodePosFromBoreder(fromNode, 'T').start.x +\n                  fromNode.width / 2,\n                y: this.getNodePosFromBoreder(fromNode, 'B').start.y,\n              }\n              eventPos[1] = { x: eventPos[0].x, y: mouseLoc.y }\n              if (\n                mouseLoc.y < this.getNodePosFromBoreder(toNode, 'T').start.y ||\n                mouseLoc.y > this.getNodePosFromBoreder(toNode, 'B').start.y\n              ) {\n                eventPos[2] = {\n                  x:\n                    this.getNodePosFromBoreder(toNode, 'L').start.x +\n                    toNode.width / 2,\n                  y: mouseLoc.y,\n                }\n                eventPos[3] = {\n                  x: eventPos[2].x,\n                  y:\n                    mouseLoc.y < this.getNodePosFromBoreder(toNode, 'T').start.y\n                      ? this.getNodePosFromBoreder(toNode, 'T').start.y\n                      : this.getNodePosFromBoreder(toNode, 'B').start.y,\n                }\n              } else {\n                eventPos[2] = {\n                  x:\n                    eventPos[1].x <\n                    this.getNodePosFromBoreder(toNode, 'R').start.x\n                      ? this.getNodePosFromBoreder(toNode, 'L').start.x\n                      : this.getNodePosFromBoreder(toNode, 'R').start.x,\n                  y: mouseLoc.y,\n                }\n                eventPos.splice(3)\n              }\n            }\n          }\n          //C形状\n          else {\n            if (\n              mouseLoc.y < this.getNodePosFromBoreder(fromNode, 'T').start.y\n            ) {\n              eventPos[0].y = this.getNodePosFromBoreder(fromNode, 'T').start.y\n              eventPos[1].y = this.getNodePosFromBoreder(fromNode, 'T').start.y\n            } else if (\n              mouseLoc.y > this.getNodePosFromBoreder(fromNode, 'B').start.y\n            ) {\n              eventPos[0].y = this.getNodePosFromBoreder(fromNode, 'B').start.y\n              eventPos[1].y = this.getNodePosFromBoreder(fromNode, 'B').start.y\n            }\n          }\n        }\n        //触发线段是挨着to节点\n        else if (eventObj.targetLineStartPointIdx === eventPos.length - 2) {\n          //Z形状\n          if (judgeLineShapeIsZ(eventPos)) {\n            //超出最高点\n            if (\n              eventPos[3].y < this.getNodePosFromBoreder(toNode, 'T').start.y\n            ) {\n              eventPos[3] = {\n                x:\n                  this.getNodePosFromBoreder(toNode, 'T').start.x +\n                  toNode.width / 2,\n                y: toNode.y,\n              }\n              eventPos[2] = { x: eventPos[3].x, y: mouseLoc.y }\n              if (\n                mouseLoc.y <\n                  this.getNodePosFromBoreder(fromNode, 'T').start.y ||\n                mouseLoc.y > this.getNodePosFromBoreder(fromNode, 'B').start.y\n              ) {\n                eventPos[1] = {\n                  x:\n                    this.getNodePosFromBoreder(fromNode, 'L').start.x +\n                    fromNode.width / 2,\n                  y: mouseLoc.y,\n                }\n                eventPos[0] = {\n                  x: eventPos[1].x,\n                  y:\n                    mouseLoc.y <\n                    this.getNodePosFromBoreder(fromNode, 'T').start.y\n                      ? this.getNodePosFromBoreder(fromNode, 'T').start.y\n                      : this.getNodePosFromBoreder(fromNode, 'B').start.y,\n                }\n              } else {\n                eventPos[1] = {\n                  x:\n                    eventPos[2].x >\n                    this.getNodePosFromBoreder(fromNode, 'R').start.x\n                      ? this.getNodePosFromBoreder(fromNode, 'R').start.x\n                      : this.getNodePosFromBoreder(fromNode, 'L').start.x,\n                  y: mouseLoc.y,\n                }\n                eventPos.splice(0, 1)\n              }\n            }\n            //超出最低点\n            else if (\n              eventPos[3].y > this.getNodePosFromBoreder(toNode, 'B').start.y\n            ) {\n              eventPos[3] = {\n                x:\n                  this.getNodePosFromBoreder(toNode, 'L').start.x +\n                  toNode.width / 2,\n                y: this.getNodePosFromBoreder(toNode, 'B').start.y,\n              }\n              eventPos[2] = { x: eventPos[3].x, y: mouseLoc.y }\n              if (\n                mouseLoc.y <\n                  this.getNodePosFromBoreder(fromNode, 'T').start.y ||\n                mouseLoc.y > this.getNodePosFromBoreder(fromNode, 'B').start.y\n              ) {\n                eventPos[1] = {\n                  x:\n                    this.getNodePosFromBoreder(fromNode, 'L').start.x +\n                    fromNode.width / 2,\n                  y: mouseLoc.y,\n                }\n                eventPos[0] = {\n                  x: eventPos[1].x,\n                  y:\n                    mouseLoc.y <\n                    this.getNodePosFromBoreder(fromNode, 'T').start.y\n                      ? this.getNodePosFromBoreder(fromNode, 'T').start.y\n                      : this.getNodePosFromBoreder(fromNode, 'B').start.y,\n                }\n              } else {\n                eventPos[1] = {\n                  x:\n                    eventPos[2].x >\n                    this.getNodePosFromBoreder(fromNode, 'R').start.x\n                      ? this.getNodePosFromBoreder(fromNode, 'R').start.x\n                      : this.getNodePosFromBoreder(fromNode, 'L').start.x,\n                  y: mouseLoc.y,\n                }\n                eventPos.splice(0, 1)\n              }\n            }\n          }\n          //C形状\n          else {\n            if (mouseLoc.y < this.getNodePosFromBoreder(toNode, 'T').start.y) {\n              eventPos[2].y = this.getNodePosFromBoreder(toNode, 'T').start.y\n              eventPos[3].y = this.getNodePosFromBoreder(toNode, 'T').start.y\n            } else if (\n              mouseLoc.y > this.getNodePosFromBoreder(toNode, 'B').start.y\n            ) {\n              eventPos[2].y = this.getNodePosFromBoreder(toNode, 'B').start.y\n              eventPos[3].y = this.getNodePosFromBoreder(toNode, 'B').start.y\n            }\n          }\n        }\n        //触发线段是中间部位\n        else {\n          //from变化\n          if (\n            mouseLoc.y > this.getNodePosFromBoreder(fromNode, 'T').start.y &&\n            mouseLoc.y < this.getNodePosFromBoreder(fromNode, 'B').start.y\n          ) {\n            eventPos.splice(0, 1)\n            eventPos[0].x =\n              eventPos[1].x < this.getNodePosFromBoreder(fromNode, 'L').start.x\n                ? this.getNodePosFromBoreder(fromNode, 'L').start.x\n                : this.getNodePosFromBoreder(fromNode, 'R').start.x\n          }\n          //to变化\n          if (\n            mouseLoc.y > this.getNodePosFromBoreder(toNode, 'T').start.y &&\n            mouseLoc.y < this.getNodePosFromBoreder(toNode, 'B').start.y\n          ) {\n            eventPos[eventPos.length - 2].x =\n              eventPos[eventPos.length - 3].x <\n              this.getNodePosFromBoreder(toNode, 'L').start.x\n                ? this.getNodePosFromBoreder(toNode, 'L').start.x\n                : this.getNodePosFromBoreder(toNode, 'R').start.x\n            eventPos.splice(eventPos.length - 1)\n          }\n        }\n      }\n      //竖线\n      else {\n        eventPos[eventObj.targetLineStartPointIdx].x = mouseLoc.x\n        eventPos[eventObj.targetLineStartPointIdx + 1].x = mouseLoc.x\n\n        //触发线段是挨着from节点\n        if (eventObj.targetLineStartPointIdx === 0) {\n          // console.log('from节点')\n          // Z形状\n          if (judgeLineShapeIsN(eventPos)) {\n            //超出最左点\n            if (\n              eventPos[0].x < this.getNodePosFromBoreder(fromNode, 'L').start.x\n            ) {\n              eventPos[0] = {\n                x: this.getNodePosFromBoreder(fromNode, 'L').start.x,\n                y:\n                  this.getNodePosFromBoreder(fromNode, 'L').start.y +\n                  fromNode.height / 2,\n              }\n              eventPos[1] = { x: mouseLoc.x, y: eventPos[0].y }\n              if (\n                mouseLoc.x < this.getNodePosFromBoreder(toNode, 'L').start.x ||\n                mouseLoc.x > this.getNodePosFromBoreder(toNode, 'R').start.x\n              ) {\n                eventPos[2] = {\n                  x: mouseLoc.x,\n                  y:\n                    this.getNodePosFromBoreder(toNode, 'T').start.y +\n                    toNode.height / 2,\n                }\n                eventPos[3] = {\n                  x:\n                    mouseLoc.x < this.getNodePosFromBoreder(toNode, 'L').start.x\n                      ? this.getNodePosFromBoreder(toNode, 'L').start.x\n                      : this.getNodePosFromBoreder(toNode, 'R').start.x,\n                  y: eventPos[2].y,\n                }\n              } else {\n                eventPos[2] = {\n                  x: mouseLoc.x,\n                  y:\n                    eventPos[1].y <\n                    this.getNodePosFromBoreder(toNode, 'T').start.y\n                      ? this.getNodePosFromBoreder(toNode, 'T').start.y\n                      : this.getNodePosFromBoreder(toNode, 'B').start.y,\n                }\n                eventPos.splice(3)\n              }\n            }\n            //超出最右点\n            else if (\n              eventPos[0].x > this.getNodePosFromBoreder(fromNode, 'R').start.x\n            ) {\n              eventPos[0] = {\n                x: this.getNodePosFromBoreder(fromNode, 'R').start.x,\n                y:\n                  this.getNodePosFromBoreder(fromNode, 'R').start.y +\n                  fromNode.height / 2,\n              }\n              eventPos[1] = { x: mouseLoc.x, y: eventPos[0].y }\n              if (\n                mouseLoc.x < this.getNodePosFromBoreder(toNode, 'L').start.x ||\n                mouseLoc.x > this.getNodePosFromBoreder(toNode, 'R').start.x\n              ) {\n                eventPos[2] = {\n                  x: mouseLoc.x,\n                  y:\n                    this.getNodePosFromBoreder(toNode, 'T').start.y +\n                    toNode.height / 2,\n                }\n                eventPos[3] = {\n                  x:\n                    mouseLoc.x < this.getNodePosFromBoreder(toNode, 'L').start.x\n                      ? this.getNodePosFromBoreder(toNode, 'L').start.x\n                      : this.getNodePosFromBoreder(toNode, 'R').start.x,\n                  y: eventPos[2].y,\n                }\n              } else {\n                eventPos[2] = {\n                  x: mouseLoc.x,\n                  y:\n                    eventPos[1].y <\n                    this.getNodePosFromBoreder(toNode, 'T').start.y\n                      ? this.getNodePosFromBoreder(toNode, 'T').start.y\n                      : this.getNodePosFromBoreder(toNode, 'B').start.y,\n                }\n                eventPos.splice(3)\n              }\n            }\n          }\n          //C形状\n          else {\n            if (\n              mouseLoc.x < this.getNodePosFromBoreder(fromNode, 'L').start.x\n            ) {\n              eventPos[0].x =\n                this.getNodePosFromBoreder(fromNode, 'L').start.x + 1\n              eventPos[1].x =\n                this.getNodePosFromBoreder(fromNode, 'L').start.x + 1\n            } else if (\n              mouseLoc.x > this.getNodePosFromBoreder(fromNode, 'R').start.x\n            ) {\n              eventPos[0].x =\n                this.getNodePosFromBoreder(fromNode, 'R').start.x - 1\n              eventPos[1].x =\n                this.getNodePosFromBoreder(fromNode, 'R').start.x - 1\n            }\n          }\n        }\n        //触发线段是挨着to节点\n        else if (eventObj.targetLineStartPointIdx === eventPos.length - 2) {\n          // console.log('to节点')\n          //Z形状\n          if (judgeLineShapeIsN(eventPos)) {\n            //超出最左点\n            if (\n              eventPos[3].x < this.getNodePosFromBoreder(toNode, 'L').start.x\n            ) {\n              eventPos[3] = {\n                x: this.getNodePosFromBoreder(toNode, 'L').start.x,\n                y:\n                  this.getNodePosFromBoreder(toNode, 'L').start.y +\n                  toNode.height / 2,\n              }\n              eventPos[2] = { x: mouseLoc.x, y: eventPos[3].y }\n              //超出对面节点\n              if (\n                mouseLoc.x <\n                  this.getNodePosFromBoreder(fromNode, 'L').start.x ||\n                mouseLoc.x > this.getNodePosFromBoreder(fromNode, 'R').start.x\n              ) {\n                eventPos[1] = {\n                  x: mouseLoc.x,\n                  y:\n                    this.getNodePosFromBoreder(fromNode, 'T').start.y +\n                    fromNode.height / 2,\n                }\n                eventPos[0] = {\n                  x:\n                    mouseLoc.x <\n                    this.getNodePosFromBoreder(fromNode, 'L').start.x\n                      ? this.getNodePosFromBoreder(fromNode, 'L').start.x\n                      : this.getNodePosFromBoreder(fromNode, 'R').start.x,\n                  y: eventPos[1].y,\n                }\n              } else {\n                eventPos[1] = {\n                  x: mouseLoc.x,\n                  y:\n                    eventPos[2].y >\n                    this.getNodePosFromBoreder(fromNode, 'B').start.y\n                      ? this.getNodePosFromBoreder(fromNode, 'B').start.y\n                      : this.getNodePosFromBoreder(fromNode, 'T').start.y,\n                }\n                eventPos.splice(0, 1)\n              }\n            }\n            //超出最右点\n            else if (\n              eventPos[3].x > this.getNodePosFromBoreder(toNode, 'R').start.x\n            ) {\n              eventPos[3] = {\n                x: this.getNodePosFromBoreder(toNode, 'R').start.x,\n                y:\n                  this.getNodePosFromBoreder(toNode, 'R').start.y +\n                  toNode.height / 2,\n              }\n              eventPos[2] = { x: mouseLoc.x, y: eventPos[3].y }\n              //超出对面节点\n              if (\n                mouseLoc.x <\n                  this.getNodePosFromBoreder(fromNode, 'L').start.x ||\n                mouseLoc.x > this.getNodePosFromBoreder(fromNode, 'R').start.x\n              ) {\n                eventPos[1] = {\n                  x: mouseLoc.x,\n                  y:\n                    this.getNodePosFromBoreder(fromNode, 'T').start.y +\n                    fromNode.height / 2,\n                }\n                eventPos[0] = {\n                  x:\n                    mouseLoc.x <\n                    this.getNodePosFromBoreder(fromNode, 'L').start.x\n                      ? this.getNodePosFromBoreder(fromNode, 'L').start.x\n                      : this.getNodePosFromBoreder(fromNode, 'R').start.x,\n                  y: eventPos[1].y,\n                }\n              } else {\n                eventPos[1] = {\n                  x: mouseLoc.x,\n                  y:\n                    eventPos[2].y >\n                    this.getNodePosFromBoreder(fromNode, 'B').start.y\n                      ? this.getNodePosFromBoreder(fromNode, 'B').start.y\n                      : this.getNodePosFromBoreder(fromNode, 'T').start.y,\n                }\n                eventPos.splice(0, 1)\n              }\n            }\n          }\n          //C形状\n          else {\n            if (mouseLoc.x < this.getNodePosFromBoreder(toNode, 'L').start.x) {\n              eventPos[2].x =\n                this.getNodePosFromBoreder(toNode, 'L').start.x + 1\n              eventPos[3].x =\n                this.getNodePosFromBoreder(toNode, 'L').start.x + 1\n            } else if (\n              mouseLoc.x > this.getNodePosFromBoreder(toNode, 'R').start.x\n            ) {\n              eventPos[2].x =\n                this.getNodePosFromBoreder(toNode, 'R').start.x - 1\n              eventPos[3].x =\n                this.getNodePosFromBoreder(toNode, 'R').start.x - 1\n            }\n          }\n        }\n        //触发线段是中间部位\n        else {\n          // console.log('中间')\n          //from变化\n          if (\n            mouseLoc.x > this.getNodePosFromBoreder(fromNode, 'L').start.x &&\n            mouseLoc.x < this.getNodePosFromBoreder(fromNode, 'R').start.x\n          ) {\n            eventPos.splice(0, 1)\n            eventPos[0].y =\n              eventPos[1].y < this.getNodePosFromBoreder(fromNode, 'T').start.y\n                ? this.getNodePosFromBoreder(fromNode, 'T').start.y\n                : this.getNodePosFromBoreder(fromNode, 'B').start.y\n          }\n          //to变化\n          if (\n            mouseLoc.x > this.getNodePosFromBoreder(toNode, 'L').start.x &&\n            mouseLoc.x < this.getNodePosFromBoreder(toNode, 'R').start.x\n          ) {\n            eventPos[eventPos.length - 2].y =\n              eventPos[eventPos.length - 3].y <\n              this.getNodePosFromBoreder(toNode, 'T').start.y\n                ? this.getNodePosFromBoreder(toNode, 'T').start.y\n                : this.getNodePosFromBoreder(toNode, 'B').start.y\n            eventPos.splice(eventPos.length - 1)\n          }\n        }\n      }\n\n      //判断是否需要三折合并一折\n      if (\n        eventPos.length === 4 &&\n        eventPos[1].x === eventPos[2].x &&\n        eventPos[1].y === eventPos[2].y\n      ) {\n        eventPos.splice(1, 2)\n      }\n    }\n\n    //判断连线形状是不是Z形状（false为C）\n    function judgeLineShapeIsZ(eventPos) {\n      let judgeWidth = 0\n      for (let i = 0, len = eventPos.length - 1; i < len; i++) {\n        judgeWidth += Math.abs(eventPos[i].x - eventPos[i + 1].x)\n      }\n\n      return (\n        judgeWidth === Math.abs(eventPos[0].x - eventPos[eventPos.length - 1].x)\n      )\n    }\n    //判断连线形状是不是N形状（false为|__|）\n    function judgeLineShapeIsN(eventPos) {\n      let judgeHeight = 0\n      for (let i = 0, len = eventPos.length - 1; i < len; i++) {\n        judgeHeight += Math.abs(eventPos[i].y - eventPos[i + 1].y)\n      }\n\n      return (\n        judgeHeight ===\n        Math.abs(eventPos[0].y - eventPos[eventPos.length - 1].y)\n      )\n    }\n\n    this.emit(LineEvent.Move, eventObj.target)\n  }\n\n  /**\n   * 根据chooseTargets数据创建新的连线信息数据\n   * @param {String} lineType     必选，创建的线型\n   * @param {Object} defaultData  可选，带有默认数据的线，当该参数有值证明是批量建线\n   */\n  createLineInfo(lineType, defaultData) {\n    const chooseTargets = this.chooseTargets,\n      chooseTargets0Loc = this.getNodePosFromBoreder(chooseTargets[0], 'L'),\n      chooseTargets1Loc = this.getNodePosFromBoreder(chooseTargets[1], 'L')\n\n    const pos = []\n    //起始节点和终止节点是同一个\n    if (chooseTargets[0].id === chooseTargets[1].id) {\n      pos[0] = {\n        x: chooseTargets[0].x + chooseTargets[0].width,\n        y: chooseTargets[0].y + chooseTargets[0].height - 20,\n      }\n      pos[1] = {\n        x: chooseTargets[0].x + chooseTargets[0].width + 20,\n        y: chooseTargets[0].y + chooseTargets[0].height - 20,\n      }\n      pos[2] = {\n        x: chooseTargets[0].x + chooseTargets[0].width + 20,\n        y: chooseTargets[0].y + chooseTargets[0].height + 20,\n      }\n      pos[3] = {\n        x: chooseTargets[0].x + chooseTargets[0].width - 20,\n        y: chooseTargets[0].y + chooseTargets[0].height + 20,\n      }\n      pos[4] = {\n        x: chooseTargets[0].x + chooseTargets[0].width - 20,\n        y: chooseTargets[0].y + chooseTargets[0].height,\n      }\n    }\n    //起始节点是分支节点\n    else if (['exclusive', 'inclusive'].includes(chooseTargets[0].type)) {\n      //分支上 to下 -> N形状\n      if (chooseTargets0Loc.end.y < chooseTargets1Loc.start.y) {\n        pos[0] = {\n          x: chooseTargets0Loc.end.x + Math.floor(chooseTargets[0].width / 2),\n          y: chooseTargets0Loc.end.y,\n        }\n        pos[1] = {\n          x: pos[0].x,\n          y:\n            pos[0].y +\n            Math.floor(\n              (chooseTargets1Loc.start.y - chooseTargets0Loc.end.y) / 2,\n            ),\n        }\n        pos[2] = {\n          x: chooseTargets1Loc.start.x + Math.floor(chooseTargets[1].width / 2),\n          y: pos[1].y,\n        }\n        pos[3] = { x: pos[2].x, y: chooseTargets1Loc.start.y }\n      }\n      //分支下 to上 -> U形状\n      else {\n        pos[0] = {\n          x: chooseTargets0Loc.end.x + Math.floor(chooseTargets[0].width / 2),\n          y: chooseTargets0Loc.end.y,\n        }\n        pos[1] = {\n          x: pos[0].x,\n          y: Math.max(chooseTargets0Loc.end.y, chooseTargets1Loc.start.y) + 20,\n        }\n        pos[2] = {\n          x: chooseTargets1Loc.start.x + Math.floor(chooseTargets[1].width / 2),\n          y: pos[1].y,\n        }\n        pos[3] = { x: pos[2].x, y: chooseTargets1Loc.end.y }\n      }\n    }\n    //终止节点是分支节点\n    else if (['exclusive', 'inclusive'].includes(chooseTargets[1].type)) {\n      //from上 分支下\n      if (chooseTargets0Loc.end.y < chooseTargets1Loc.start.y) {\n        pos[0] = {\n          x: chooseTargets0Loc.end.x + Math.floor(chooseTargets[0].width / 2),\n          y: chooseTargets0Loc.end.y,\n        }\n        pos[1] = {\n          x: pos[0].x,\n          y:\n            pos[0].y +\n            Math.floor(\n              (chooseTargets1Loc.start.y - chooseTargets0Loc.end.y) / 2,\n            ),\n        }\n        pos[2] = {\n          x: chooseTargets1Loc.start.x + Math.floor(chooseTargets[1].width / 2),\n          y: pos[1].y,\n        }\n        pos[3] = { x: pos[2].x, y: chooseTargets1Loc.start.y }\n      }\n      //from下分支上\n      else {\n        pos[0] = {\n          x: chooseTargets0Loc.end.x + Math.floor(chooseTargets[0].width / 2),\n          y: chooseTargets0Loc.start.y,\n        }\n        pos[1] = {\n          x: pos[0].x,\n          y: Math.min(chooseTargets0Loc.end.y, chooseTargets1Loc.start.y) - 20,\n        }\n        pos[2] = {\n          x: chooseTargets1Loc.start.x + Math.floor(chooseTargets[1].width / 2),\n          y: pos[1].y,\n        }\n        pos[3] = { x: pos[2].x, y: chooseTargets1Loc.start.y }\n      }\n    }\n    //起始节点是普通节点\n    else {\n      //from左  to右\n      if (\n        this.getNodePosFromBoreder(chooseTargets[0], 'R').start.x <\n        this.getNodePosFromBoreder(chooseTargets[1], 'L').start.x\n      ) {\n        //有重合 -> 直线\n        if (\n          (chooseTargets1Loc.start.y - chooseTargets0Loc.end.y) *\n            (chooseTargets1Loc.end.y - chooseTargets0Loc.start.y) <\n          0\n        ) {\n          // console.log('有重合')\n          const y =\n            Math.max(chooseTargets0Loc.start.y, chooseTargets1Loc.start.y) +\n            Math.abs(\n              Math.floor(\n                (Math.min(chooseTargets0Loc.end.y, chooseTargets1Loc.end.y) -\n                  Math.max(\n                    chooseTargets0Loc.start.y,\n                    chooseTargets1Loc.start.y,\n                  )) /\n                  2,\n              ),\n            )\n          pos[0] = {\n            x: this.getNodePosFromBoreder(chooseTargets[0], 'R').start.x,\n            y: y,\n          }\n          pos[1] = {\n            x: this.getNodePosFromBoreder(chooseTargets[1], 'L').start.x,\n            y: y,\n          }\n        }\n        //无重合 -> 二折\n        else {\n          // console.log('无重合')\n          //from下  to上\n          if (chooseTargets0Loc.start.y > chooseTargets1Loc.end.y) {\n            pos[0] = {\n              x:\n                chooseTargets0Loc.start.x +\n                Math.floor(chooseTargets[0].width / 2),\n              y: chooseTargets0Loc.start.y,\n            }\n            pos[1] = {\n              x: pos[0].x,\n              y:\n                chooseTargets1Loc.start.y +\n                Math.floor(chooseTargets[1].height / 2),\n            }\n            pos[2] = { x: chooseTargets1Loc.start.x, y: pos[1].y }\n          }\n          //from上  to下\n          else {\n            pos[0] = {\n              x: this.getNodePosFromBoreder(chooseTargets[0], 'R').start.x,\n              y:\n                chooseTargets0Loc.start.y +\n                Math.floor(chooseTargets[0].height / 2),\n            }\n            pos[1] = {\n              x:\n                this.getNodePosFromBoreder(chooseTargets[1], 'L').start.x +\n                Math.floor(chooseTargets[1].width / 2),\n              y: pos[0].y,\n            }\n            pos[2] = {\n              x: pos[1].x,\n              y: this.getNodePosFromBoreder(chooseTargets[1], 'L').start.y,\n            }\n          }\n        }\n      }\n      //from右  to左\n      else if (\n        this.getNodePosFromBoreder(chooseTargets[0], 'L').start.x >\n        this.getNodePosFromBoreder(chooseTargets[1], 'R').start.x\n      ) {\n        //有重合 -> 直线\n        if (\n          (chooseTargets1Loc.start.y - chooseTargets0Loc.end.y) *\n            (chooseTargets1Loc.end.y - chooseTargets0Loc.start.y) <\n          0\n        ) {\n          // console.log('有重合')\n          const y =\n            Math.max(chooseTargets0Loc.start.y, chooseTargets1Loc.start.y) +\n            Math.abs(\n              Math.floor(\n                (Math.min(chooseTargets0Loc.end.y, chooseTargets1Loc.end.y) -\n                  Math.max(\n                    chooseTargets0Loc.start.y,\n                    chooseTargets1Loc.start.y,\n                  )) /\n                  2,\n              ),\n            )\n          pos[0] = {\n            x: this.getNodePosFromBoreder(chooseTargets[0], 'L').start.x,\n            y: y,\n          }\n          pos[1] = {\n            x: this.getNodePosFromBoreder(chooseTargets[1], 'R').start.x,\n            y: y,\n          }\n        }\n        //无重合 -> 二折\n        else {\n          // console.log('无重合')\n          //from下  to上\n          if (chooseTargets0Loc.start.y > chooseTargets1Loc.end.y) {\n            pos[0] = {\n              x:\n                chooseTargets0Loc.start.x +\n                Math.floor(chooseTargets[0].width / 2),\n              y: chooseTargets0Loc.start.y,\n            }\n            pos[1] = {\n              x: pos[0].x,\n              y:\n                chooseTargets1Loc.start.y +\n                Math.floor(chooseTargets[1].height / 2),\n            }\n            pos[2] = {\n              x: this.getNodePosFromBoreder(chooseTargets[1], 'R').start.x,\n              y: pos[1].y,\n            }\n          }\n          //from上  to下\n          else {\n            pos[0] = {\n              x: this.getNodePosFromBoreder(chooseTargets[0], 'L').start.x,\n              y:\n                chooseTargets0Loc.start.y +\n                Math.floor(chooseTargets[0].height / 2),\n            }\n            pos[1] = {\n              x:\n                this.getNodePosFromBoreder(chooseTargets[1], 'L').start.x +\n                Math.floor(chooseTargets[1].width / 2),\n              y: pos[0].y,\n            }\n            pos[2] = {\n              x: pos[1].x,\n              y: this.getNodePosFromBoreder(chooseTargets[1], 'L').start.y,\n            }\n          }\n        }\n      }\n      //from下 to上 上下非重叠重合 -> 直线\n      else if (chooseTargets0Loc.start.y > chooseTargets1Loc.end.y) {\n        const startX = Math.max(\n          chooseTargets0Loc.start.x,\n          chooseTargets1Loc.start.x,\n        )\n        const endX = Math.min(\n          this.getNodePosFromBoreder(chooseTargets[0], 'R').start.x,\n          this.getNodePosFromBoreder(chooseTargets[1], 'R').start.x,\n        )\n        const x = startX + Math.floor((endX - startX) / 2)\n\n        pos[0] = { x: x, y: chooseTargets0Loc.start.y }\n        pos[1] = { x: x, y: chooseTargets1Loc.end.y }\n      }\n      //from上 to下&重叠在一起\n      else {\n        const startX = Math.max(\n          chooseTargets0Loc.start.x,\n          chooseTargets1Loc.start.x,\n        )\n        const endX = Math.min(\n          this.getNodePosFromBoreder(chooseTargets[0], 'R').start.x,\n          this.getNodePosFromBoreder(chooseTargets[1], 'R').start.x,\n        )\n        const x = startX + Math.floor((endX - startX) / 2)\n\n        pos[0] = { x: x, y: chooseTargets0Loc.end.y }\n        pos[1] = { x: x, y: chooseTargets1Loc.start.y }\n      }\n    }\n\n    //生成完整的线信息，通知外部更新数据\n    if (pos.length) {\n      const newLine = {}\n\n      //没有线的默认数据 -> 创建单根线情况\n      if (!defaultData) {\n        Object.assign(newLine, {\n          id: uuid(),\n          from: chooseTargets[0].id,\n          to: chooseTargets[1].id,\n          pos: pos,\n          type: lineType,\n        })\n      }\n      //有线的默认数据 -> 批量创建线的情况\n      else {\n        defaultData.pos = pos\n        Object.assign(newLine, defaultData)\n      }\n\n      return newLine\n    }\n    //线信息生成失败\n    else {\n      console.error('createLine方法错误：未生成对应关键点坐标')\n    }\n  }\n\n  /**\n   * 根据chooseTargets数据创建新的连线\n   * @param {String} lineType     必选，创建的线型\n   * @param {Object} defaultData  可选，带有默认数据的线，当该参数有值证明是批量建线\n   */\n  createLine(lineType, defaultData?) {\n    const newLineInfo = this.createLineInfo(lineType, defaultData)\n\n    // 过滤器连线不调用外部接口\n    if (['primaryKey', 'foreignKey'].includes(lineType))\n      this.emit(LineEvent.New, newLineInfo)\n  }\n\n  mergeLine(lineType, defaultData) {\n    const newLineInfo = this.createLineInfo(lineType, defaultData)\n\n    return Object.assign(defaultData, newLineInfo)\n  }\n\n  //根据chooseTargets数据创建新的节点连线\n  createBranchLine() {\n    const chooseTargets = [].concat(this.chooseTargets),\n      chooseTargets0Loc = this.getNodePosFromBoreder(chooseTargets[0], 'L'),\n      chooseTargets1Loc = this.getNodePosFromBoreder(chooseTargets[1], 'L')\n\n    // 终止节点是过滤器的: 不允许创建\n    if (['inclusive', 'exclusive'].includes(chooseTargets[1].type)) {\n      console.error('未将对象引用设置到对象的实例。')\n    }\n    // 开始节点是过滤器的: 只创建一条fromFilter线\n    else if (['inclusive', 'exclusive'].includes(chooseTargets[0].type)) {\n      // 来自于过滤器(下行线)\n      const fromFilter = this.createLine('fromFilterPrimaryKey') //目前没有fromFilterForeignKey的情况\n\n      this.emit(NodeEvent.New, { fromFilter })\n    }\n    // 开始节点不是过滤器的: 正常的创建逻辑->两根线,一个过滤器\n    else {\n      //from上 to下 且间距>50（因为branch分支块的高度是40）-> 取两块中点放置分支\n      const loc =\n        chooseTargets0Loc.end.y + 50 < chooseTargets1Loc.start.y\n          ? {\n              x:\n                chooseTargets0Loc.start.x +\n                Math.floor(chooseTargets[0].width / 2) -\n                20,\n              y:\n                chooseTargets0Loc.end.y +\n                Math.floor(\n                  (chooseTargets1Loc.start.y - chooseTargets0Loc.end.y) / 2,\n                ) -\n                10,\n            }\n          : {\n              x:\n                chooseTargets1Loc.start.x +\n                Math.floor(chooseTargets[1].width / 2) -\n                20,\n              y:\n                Math.min(chooseTargets0Loc.start.y, chooseTargets1Loc.start.y) -\n                50,\n            }\n      //生成过滤器节点\n      const newBranchFilter = {\n        id: uuid(),\n        x: loc.x,\n        y: loc.y,\n        width: 40,\n        height: 20,\n        type: 'exclusive',\n        fromKey: chooseTargets[0].id,\n      }\n\n      // 链接到过滤器(上行线)\n      this.chooseTargets = [chooseTargets[0], newBranchFilter]\n      const toFilter = this.createLine('toFilter')\n\n      // 来自于过滤器(下行线)\n      this.chooseTargets = [newBranchFilter, chooseTargets[1]]\n      const fromFilter = this.createLine('fromFilterPrimaryKey') //目前没有fromFilterForeignKey的情况\n\n      this.emit(NodeEvent.New, {\n        filter: newBranchFilter,\n        toFilter,\n        fromFilter,\n      })\n\n      this.chooseTargets = []\n    }\n  }\n\n  /**\n   * 批量创建连线\n   */\n  createLines(lineList: LineData[]) {\n    /**\n     * lineList = [{id: 1234, from: 1, to: 2}]\n     */\n    for (const item of lineList) {\n      const fromNode = this.dataHandler.originDataMap.get(item.from)\n      const toNode = this.dataHandler.originDataMap.get(item.to)\n      if (fromNode && toNode) {\n        //目前没考虑过滤器的情况\n        this.chooseTargets = [fromNode, toNode]\n        this.createLine(item.type, item)\n      }\n    }\n    this.chooseTargets = []\n    this.update()\n  }\n\n  /**\n   * 批量merge连线\n   */\n  mergeLines(lineList: LineData[]) {\n    /**\n     * lineList = [{id: 1234, from: 1, to: 2}]\n     */\n    const resultLines = []\n    for (const item of lineList) {\n      const fromNode = this.dataHandler.originDataMap.get(item.from)\n      const toNode = this.dataHandler.originDataMap.get(item.to)\n      if (fromNode && toNode) {\n        //目前没考虑过滤器的情况\n        this.chooseTargets = [fromNode, toNode]\n        resultLines.push(this.mergeLine(item.type, item))\n      }\n    }\n    this.chooseTargets = []\n\n    return resultLines\n  }\n\n  public on(eventName: Event, handler: (event: any) => void): this {\n    super.on(eventName, handler)\n    return this\n  }\n}\n\nexport * from './shared/enum'\n","export const defaultData = {\n  nodeDataArray: [\n    {\n      id: 'Entity1',\n      x: 100,\n      y: 100,\n      width: 100,\n      height: 100,\n      bgC: '#FF8080',\n      bdC: 'red',\n      name: 'Entity1',\n      physicalTables: true,\n      quotePrimaryKey: true,\n      attributes: [\n        {\n          name: 'attr1',\n          id: '1',\n          primaryKey: true,\n          foreignKey: true,\n          type: 'INT',\n          icons: [\n            {\n              bgC: '#FEFF80',\n              color: '#8080FF',\n              text: 'S',\n            },\n            {\n              text: 'L',\n              bdC: 'green',\n            },\n          ],\n        },\n        {\n          name: 'attr2',\n          id: '2',\n          type: 'DATE',\n          primaryKey: true,\n        },\n        {\n          name: '属性名3',\n          id: '3',\n          primaryKey: true,\n          type: 'char',\n          children: [\n            {\n              name: '属性名3-1',\n              id: '3-1',\n              primaryKey: true,\n              foreignKey: true,\n              children: [\n                {\n                  name: '属性名3-1-1',\n                  primaryKey: true,\n                  foreignKey: true,\n                  children: [\n                    {\n                      name: '属性名3-1-1-1',\n                      primaryKey: true,\n                      foreignKey: true,\n                    },\n                  ],\n                  icons: [\n                    {\n                      text: 'A',\n                      bdC: 'green',\n                    },\n                  ],\n                },\n              ],\n            },\n            {\n              name: '属性名3-2',\n              primaryKey: true,\n              foreignKey: true,\n            },\n            {\n              name: '属性名3-3',\n              primaryKey: true,\n              foreignKey: true,\n            },\n          ],\n        },\n        {\n          name: 'attr4',\n          primaryKey: false,\n          foreignKey: true,\n          icons: [\n            {\n              bgC: '#FEFF80',\n              color: '#8080FF',\n              text: 'S',\n            },\n            {\n              text: '标',\n            },\n          ],\n        },\n        {\n          name: 'attr5',\n          primaryKey: false,\n        },\n        {\n          name: 'attr6',\n          primaryKey: false,\n          icons: [\n            {\n              text: 'A',\n              bdC: 'green',\n            },\n          ],\n        },\n      ],\n    },\n    {\n      id: 'Entity2',\n      x: 400,\n      y: 100,\n      width: 50,\n      height: 100,\n      bgC: '#8080FF',\n      name: 'Entity2',\n      quotePrimaryKey: true,\n      attributes: [\n        {\n          name: '属性名1',\n          primaryKey: true,\n          foreignKey: false,\n        },\n        {\n          name: '属性名2',\n          primaryKey: true,\n        },\n        {\n          name: '属性名3',\n          primaryKey: true,\n        },\n      ],\n    },\n    {\n      id: 'Entity3',\n      x: 100,\n      y: 400,\n      width: 50,\n      height: 100,\n      bgC: '#FFFF80',\n      name: 'Entity3',\n      attributes: [\n        {\n          name: '属性名1',\n          primaryKey: false,\n          foreignKey: false,\n        },\n        {\n          name: '属性名2',\n          primaryKey: false,\n        },\n      ],\n    },\n    {\n      id: 'Entity4',\n      x: 100,\n      y: 250,\n      width: 40,\n      height: 20,\n      type: 'inclusive',\n    },\n    {\n      id: 'Entity5',\n      x: 705,\n      y: 92,\n      width: 260,\n      height: 100,\n      name: 'Entity5',\n      type: 'inside',\n    },\n    {\n      id: 'Entity6',\n      x: 600,\n      y: 280,\n      width: 260,\n      height: 100,\n      name: 'Entity6',\n      type: 'explain',\n      attributes: [\n        {\n          label: '说明',\n          content: '表示与银行有利害关系，以及银行希望保留其信息',\n        },\n        {\n          label: '示例',\n          content: '个人 组织 客户',\n        },\n        {\n          label: '所属部门',\n          content: '数据研究院',\n        },\n        {\n          label: '负责人',\n          content: '杨中旭',\n        },\n      ],\n    },\n    {\n      id: 'Entity7',\n      x: 2999,\n      y: 2999,\n      width: 260,\n      height: 100,\n      name: 'Entity7',\n      type: 'inside',\n    },\n    {\n      id: 'Entity8',\n      x: -2999,\n      y: -2999,\n      width: 260,\n      height: 100,\n      name: 'Entity8',\n      type: 'inside',\n    },\n    {\n      id: 'Entity9',\n      x: 500,\n      y: 500,\n      width: 260,\n      height: 100,\n      name: 'Entity9',\n      type: 'inside',\n    },\n    {\n      id: 'Entity10',\n      x: -500,\n      y: -500,\n      width: 260,\n      height: 100,\n      name: 'Entity10',\n      type: 'inside',\n    },\n    {\n      id: 'Entity11',\n      x: -300,\n      y: -300,\n      width: 260,\n      height: 100,\n      name: 'Entity11',\n      type: 'inside',\n    },\n    {\n      id: 'Entity12',\n      x: -200,\n      y: -200,\n      width: 260,\n      height: 100,\n      name: 'Entity12',\n      type: 'inside',\n    },\n  ],\n  linkDataArray: [\n    {\n      id: 1,\n      from: 'Entity1',\n      to: 'Entity2',\n      pos: [\n        {\n          x: 200,\n          y: 125,\n        },\n        {\n          x: 400,\n          y: 125,\n        },\n      ],\n      type: 'primaryKey',\n      numLineTypes: 1,\n      remark: '主键',\n    },\n    {\n      id: 3,\n      from: 'Entity2',\n      to: 'Entity3',\n      pos: [\n        {\n          x: 400,\n          y: 150,\n        },\n        {\n          x: 300,\n          y: 150,\n        },\n        {\n          x: 300,\n          y: 450,\n        },\n        {\n          x: 150,\n          y: 450,\n        },\n      ],\n      type: 'foreignKey',\n      numLineTypes: 1,\n    },\n    {\n      id: 4,\n      from: 'Entity1',\n      to: 'Entity4',\n      pos: [\n        {\n          x: 120,\n          y: 200,\n        },\n        {\n          x: 120,\n          y: 250,\n        },\n      ],\n      type: 'toFilter',\n      numLineTypes: 2,\n    },\n    {\n      id: 5,\n      from: 'Entity4',\n      to: 'Entity3',\n      pos: [\n        {\n          x: 120,\n          y: 270,\n        },\n        {\n          x: 120,\n          y: 400,\n        },\n      ],\n      type: 'fromFilter',\n      numLineTypes: 4,\n    },\n    {\n      id: 6,\n      from: 'Entity5',\n      to: 'Entity6',\n      pos: [\n        {\n          x: 782,\n          y: 192,\n        },\n        {\n          x: 782,\n          y: 280,\n        },\n      ],\n      type: 'arrow',\n      numLineTypes: 1,\n      remark: '来自',\n    },\n    {\n      id: 7,\n      from: 'Entity9',\n      to: 'Entity10',\n      pos: [\n        {\n          x: 782,\n          y: 192,\n        },\n        {\n          x: 782,\n          y: 280,\n        },\n      ],\n      type: 'arrow',\n      numLineTypes: 1,\n      remark: '来自',\n    },\n    {\n      id: 8,\n      from: 'Entity2',\n      to: 'Entity9',\n      pos: [\n        {\n          x: 782,\n          y: 192,\n        },\n        {\n          x: 782,\n          y: 280,\n        },\n      ],\n      type: 'arrow',\n      numLineTypes: 1,\n      remark: '来自',\n    },\n    {\n      id: 9,\n      from: 'Entity2',\n      to: 'Entity1',\n      pos: [\n        {\n          x: 782,\n          y: 192,\n        },\n        {\n          x: 782,\n          y: 280,\n        },\n      ],\n      type: 'arrow',\n      numLineTypes: 1,\n      remark: '来自',\n    },\n    {\n      id: 10,\n      from: 'Entity9',\n      to: 'Entity11',\n      pos: [\n        {\n          x: 782,\n          y: 192,\n        },\n        {\n          x: 782,\n          y: 280,\n        },\n      ],\n      type: 'arrow',\n      numLineTypes: 1,\n      remark: '来自',\n    },\n    {\n      id: 11,\n      from: 'Entity2',\n      to: 'Entity12',\n      pos: [\n        {\n          x: 782,\n          y: 192,\n        },\n        {\n          x: 782,\n          y: 280,\n        },\n      ],\n      type: 'arrow',\n      numLineTypes: 1,\n      remark: '来自',\n    },\n  ],\n  markDataArray: [\n    {\n      id: 'Mark1',\n      x: 50,\n      y: 50,\n      width: 500,\n      height: 500,\n      name: 'Mark1',\n    },\n  ],\n  noteDataArray: [\n    {\n      id: '157837643603536658',\n      x: 525,\n      y: 408,\n      text: '啦啦啦啦啦111',\n      type: 'note',\n      color: '#0000ff',\n    },\n  ],\n}\n\nconst makeManyNodes = (nodeNumber = 10000) => {\n  for (let i = 0; i < nodeNumber; i++) {\n    defaultData.nodeDataArray.push({\n      id: 'Entity1' + i,\n      x: 100 + i * 100,\n      y: 100 + i * 100,\n      width: 100,\n      height: 50,\n      bgC: '#FF8080',\n      bdC: 'red',\n      name: '测试' + i,\n      physicalTables: true, //物理表\n      quotePrimaryKey: true, //引用了别人的主键的标识\n      attributes: defaultData.nodeDataArray[0].attributes,\n    })\n  }\n}\nconst makeManyNodeAttrs = (attrNumber = 500) => {\n  for (let i = 0; i < attrNumber; i++) {\n    defaultData.nodeDataArray[0].attributes.push({\n      name: `批量生成${i}`,\n      primaryKey: true,\n    })\n  }\n}\n// 性能测试\nexport const useBigData = () => {\n  makeManyNodes()\n  makeManyNodeAttrs()\n}\n// useBigData()\n","export default \"__VITE_ASSET__386d2929__\"","<template>\n  <div class=\"erg\">\n    <div class=\"toobar\">\n      <el-button size=\"small\" circle title=\"新增实体\" @click=\"updateGraphStatus('addNode')\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-add`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button size=\"small\" circle title=\"复制\" @click=\"updateGraphStatus('copy')\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#copy`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button\n        size=\"small\"\n        circle\n        title=\"新增主键\"\n        @click=\"updateGraphStatus('primaryKey')\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-primary`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button\n        size=\"small\"\n        circle\n        title=\"新增非主键\"\n        @click=\"updateGraphStatus('foreignKey')\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-foreign`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button\n        size=\"small\"\n        circle\n        title=\"新增过滤器\"\n        @click=\"updateGraphStatus('branchLine')\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-subtype`\"></use>\n          </svg>\n        </template>\n      </el-button>\n\n      <el-divider direction=\"vertical\" />\n\n      <el-button size=\"small\" circle title=\"新增框\" @click=\"updateGraphStatus('addMark')\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-square`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button size=\"small\" circle title=\"新增备注\" @click=\"updateGraphStatus('addNote')\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#icon-tool-text`\"></use>\n          </svg>\n        </template>\n      </el-button>\n\n      <el-divider direction=\"vertical\" />\n\n      <el-button\n        v-if=\"state.lock === 1\"\n        size=\"small\"\n        circle\n        title=\"只读\"\n        @click=\"setEditable\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#lock`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button v-else size=\"small\" circle title=\"编辑\" @click=\"setEditable\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#unlock`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button size=\"small\" circle title=\"批量创建连线\" @click=\"createLines\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#copy`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button\n        size=\"small\"\n        circle\n        title=\"放大\"\n        @click=\"changeCanvasScale(20)\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#plus-circle`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      <el-button\n        size=\"small\"\n        circle\n        title=\"缩小\"\n        @click=\"changeCanvasScale(-20)\"\n      >\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#minus-circle`\"></use>\n          </svg>\n        </template>\n      </el-button>\n\n      <el-divider direction=\"vertical\" />\n\n      <el-color-picker\n        v-model=\"state.bgC\"\n        size=\"small\"\n        @change=\"(value) => changeColor(value, 'bgC')\"\n      />\n      <el-color-picker\n        v-model=\"state.bdC\"\n        size=\"small\"\n        @change=\"(value) => changeColor(value, 'bdC')\"\n      />\n      <el-color-picker\n        v-model=\"state.color\"\n        size=\"small\"\n        @change=\"(value) => changeColor(value, 'color')\"\n      />\n\n      <el-divider direction=\"vertical\" />\n\n      <el-button size=\"small\" circle title=\"自动布局\" @click=\"updateLayout()\">\n        <template #icon>\n          <svg>\n            <use :xlink:href=\"`${Icons}#layout-o`\"></use>\n          </svg>\n        </template>\n      </el-button>\n      \n      <el-divider direction=\"vertical\" />\n\n      <el-select v-model=\"state.viewType\" size=\"small\" placeholder=\"选择视图\">\n        <el-option v-for=\"(value, key) in ErgViewType\" :label=\"key\" :value=\"value\" />\n      </el-select>\n    </div>\n    <div :id=\"props.elName\" class=\"canvas\"></div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { reactive, onBeforeUnmount, onMounted, ref } from 'vue'\nimport { ElButton, ElDivider, ElColorPicker, ElSelect, ElOption } from 'element-plus'\nimport {\n  Erg as Graph,\n  ErgViewType,\n  GraphEvent,\n  NodeEvent,\n  LineEvent,\n  MarkEvent,\n  NoteEvent,\n  ContextmenuEvent,\n} from '@ej/erg-renderer/src'\nimport { defaultData as data } from './assets/js/mock'\n// import { defaultData as data } from './assets/js/mock-gpt'\nimport Icons from './assets/icon/symbol-defs.svg'\n\nconst props = withDefaults(\n  defineProps<{\n    useThumbnail: boolean\n    useRightMenu: boolean\n    useAttrFocus: boolean\n    editable: string\n    elName: string\n  }>(),\n  {\n    useThumbnail: true,\n    useRightMenu: true,\n    useAttrFocus: true,\n    editable: 'edit',\n    elName: 'canvas',\n  },\n)\n\n// 渲染器实例无需设为代理数据，这里只是方便Expose使用！\nconst graph = ref()\n\nconst state = reactive({\n  scale: 100,\n  bgC: '',\n  bdC: '',\n  color: '',\n  lock: 'edit',\n  viewType: ErgViewType.Detail,\n})\n\nconst mountGraph = () => {\n  const fontFamily = '-apple-system, Noto Sans, Helvetica Neue, Helvetica, Nimbus Sans L, Arial, Liberation Sans, PingFang SC, Hiragino Sans GB, Noto Sans CJK SC, Source Han Sans SC, Source Han Sans CN, Microsoft YaHei, Wenquanyi Micro Hei, WenQuanYi Zen Hei, ST Heiti, SimHei, WenQuanYi Zen Hei Sharp, sans-serif'\n  graph.value = new Graph({\n    el: document.getElementById(props.elName),\n    fontFamily,\n    editable: state.lock,\n    useThumbnail: props.useThumbnail,\n    useAttrFocus: props.useAttrFocus,\n    useRightMenu: props.useRightMenu,\n  })\n  graph.value.update(data)\n  graph.value.on(GraphEvent.Copy, (info) => console.log(GraphEvent.Copy, info))\n  graph.value.on(GraphEvent.Paste, (info) => console.log(GraphEvent.Paste, info))\n  // graph.value.on(GraphEvent.Zoom, (info) => console.log(GraphEvent.Zoom, info))\n  // graph.value.on(GraphEvent.Move, (info) => console.log(GraphEvent.Move, info))\n  // graph.value.on(GraphEvent.BeforeUpdate, (ctx) => null)\n  // graph.value.on(GraphEvent.AfterUpdate, (ctx) => null)\n  // graph.value.on(GraphEvent.Mousedown, (info) => console.log(GraphEvent.Mousedown, info))\n  // graph.value.on(GraphEvent.Mouseup, (info) => console.log(GraphEvent.Mouseup, info))\n  // graph.value.on(ContextmenuEvent.Show, (info) => null)\n  // graph.value.on(ContextmenuEvent.Click, (info) => null)\n  graph.value.on(NodeEvent.New, (info) => console.log(NodeEvent.New, info))\n  graph.value.on(NodeEvent.Delete, (info) => console.log(NodeEvent.Delete, info))\n  // graph.value.on(NodeEvent.Move, (info) => console.log(NodeEvent.Move, info))\n  // graph.value.on(NodeEvent.Enter, (info) => console.log(NodeEvent.Enter, info))\n  // graph.value.on(NodeEvent.Leave, (info) => console.log(NodeEvent.Leave, info))\n  // graph.value.on(NodeEvent.Mousedown, (info) => console.log(NodeEvent.Mousedown, info))\n  // graph.value.on(NodeEvent.Mouseup, (info) => console.log(NodeEvent.Mouseup, info))\n  graph.value.on(LineEvent.New, (info) => console.log(LineEvent.New, info))\n  graph.value.on(LineEvent.Delete, (info) => console.log(LineEvent.Delete, info))\n  // graph.value.on(LineEvent.Enter, (info) => console.log(LineEvent.Enter, info))\n  // graph.value.on(LineEvent.Leave, (info) => console.log(LineEvent.Leave, info))\n  // graph.value.on(LineEvent.Mousedown, (info) => console.log(LineEvent.Mousedown, info))\n  // graph.value.on(LineEvent.Mouseup, (info) => console.log(LineEvent.Mouseup, info))\n  graph.value.on(MarkEvent.New, (info) => console.log(MarkEvent.New, info))\n  graph.value.on(MarkEvent.Delete, (info) => console.log(MarkEvent.Delete, info))\n  // graph.value.on(MarkEvent.Enter, (info) => console.log(MarkEvent.Enter, info))\n  // graph.value.on(MarkEvent.Leave, (info) => console.log(MarkEvent.Leave, info))\n  // graph.value.on(MarkEvent.Mousedown, (info) => console.log(MarkEvent.Mousedown, info))\n  // graph.value.on(MarkEvent.Mouseup, (info) => console.log(MarkEvent.Mouseup, info))\n  graph.value.on(NoteEvent.New, (info) => console.log(NoteEvent.New, info))\n  graph.value.on(NoteEvent.Delete, (info) => console.log(NoteEvent.Delete, info))\n  // graph.value.on(NoteEvent.Enter, (info) => console.log(NoteEvent.Enter, info))\n  // graph.value.on(NoteEvent.Leave, (info) => console.log(NoteEvent.Leave, info))\n  // graph.value.on(NoteEvent.Mousedown, (info) => console.log(NoteEvent.Mousedown, info))\n  // graph.value.on(NoteEvent.Mouseup, (info) => console.log(NoteEvent.Mouseup, info))\n}\n\n\n\nconst changeCanvasScale = (scaleRatio) => {\n  if (state.scale > 20) state.scale += scaleRatio\n  graph.value.zoom(state.scale)\n}\nconst updateGraphStatus = (status) => graph.value.updateConfig({ status })\nconst updateLayout = () => graph.value.updateLayout()\nconst handleFullscreen = () => graph.value.fullscreen()\nconst unmountGraph = () => graph.value.destroy()\n\nonMounted(mountGraph)\nonBeforeUnmount(unmountGraph)\n\ndefineExpose({\n  graph,\n})\n</script>\n\n<style lang=\"postcss\">\n.erg {\n  width: 100%;\n  height: 100%;\n  min-height: 500px;\n  display: flex;\n  flex-direction: column;\n}\n\n.toobar {\n  overflow-x: auto;\n  background: #ccc;\n  padding: 5px;\n  display: flex;\n  align-items: center;\n  /* justify-content: center; */\n  > .el-color-picker {\n    margin-right: 10px;\n  }\n}\n\n.canvas {\n  flex-grow: 1;\n  width: 100%;\n  height: 100%;\n  /* border: 1px solid #000; */\n  margin: auto;\n  box-sizing: border-box;\n  position: relative;\n}\n</style>\n","// export const rightMenu = [\n//   [\n//     {\n//       icon: '',\n//       value: 'edit',\n//       label: '编辑',\n//     },\n//     {\n//       icon: '',\n//       value: 'delete',\n//       label: '删除',\n//     },\n//   ],\n//   [\n//     {\n//       icon: '',\n//       value: 'checkin',\n//       label: '签入',\n//     },\n//     {\n//       icon: '',\n//       value: 'checkout',\n//       label: '签出',\n//     },\n//   ],\n//   [\n//     {\n//       icon: '',\n//       value: 'copy',\n//       label: '复制',\n//     },\n//     {\n//       icon: '',\n//       value: 'parse',\n//       label: '粘贴',\n//     },\n//   ],\n//   [\n//     {\n//       icon: '',\n//       value: 'remark',\n//       label: '添加标注',\n//     },\n//     {\n//       icon: '',\n//       value: 'auto-line',\n//       label: '重新规划连线',\n//       disabled: true,\n//     },\n//     {\n//       icon: '',\n//       value: 'auto-line',\n//       label: '自动适应大小',\n//     },\n//     {\n//       icon: '',\n//       value: 'more',\n//       label: '更多',\n//       children: [\n//         [\n//           {\n//             icon: '',\n//             value: 'more1',\n//             label: '更多1',\n//           },\n//         ]\n//       ]\n//     },\n//   ],\n// ]\n\nexport const rightMenu = [\n  [\n    {\n      icon: '',\n      value: 'copy',\n      label: '复制',\n    },\n    {\n      icon: '',\n      value: 'extend-copy',\n      label: '继承复制',\n    },\n    {\n      icon: '',\n      value: 'parse',\n      label: '粘贴',\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'redo',\n      label: '撤销',\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'parent',\n      label: '显示父级关联',\n      children: [\n        {\n          icon: '',\n          value: 'level-1',\n          label: '显示1级',\n        },\n        {\n          icon: '',\n          value: 'level-2',\n          label: '显示2级',\n        },\n        {\n          icon: '',\n          value: 'level-all',\n          label: '显示全部',\n        },\n      ],\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'auto-size',\n      label: '自适应大小',\n    },\n    {\n      icon: '',\n      value: 'auto-layout',\n      label: '自动排布',\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'style',\n      label: '展示风格',\n      children: [\n        {\n          icon: '',\n          value: 'brief',\n          label: '概要',\n        },\n        {\n          icon: '',\n          value: 'easy',\n          label: '简单',\n        },\n        {\n          icon: '',\n          value: 'normal',\n          label: '常规',\n        },\n        {\n          icon: '',\n          value: 'detail',\n          label: '详细',\n        },\n      ],\n    },\n  ],\n  {\n    icon: '',\n    value: 'delete',\n    label: '删除',\n  },\n]\n\nexport const initRightMenu = [\n  [\n    {\n      icon: '',\n      value: 'parse',\n      label: '粘贴',\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'redo',\n      label: '撤销',\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'auto-layout',\n      label: '自动排布',\n    },\n  ],\n  [\n    {\n      icon: '',\n      value: 'style',\n      label: '展示风格',\n      children: [\n        {\n          icon: '',\n          value: 'brief',\n          label: '概要',\n        },\n        {\n          icon: '',\n          value: 'easy',\n          label: '简单',\n        },\n        {\n          icon: '',\n          value: 'normal',\n          label: '常规',\n        },\n        {\n          icon: '',\n          value: 'detail',\n          label: '详细',\n        },\n      ],\n    },\n  ],\n]\n","<template>\n  <el-dialog\n    title=\"Preview\"\n    v-model=\"dialogVisibles\"\n    :append-to-body=\"true\"\n    :close-on-click-modal=\"false\"\n    :before-close=\"handleClose\"\n    width=\"80%\"\n    class=\"dialog-association\"\n  >\n    <div class=\"association__content\">\n      <div :id=\"props.elName\" class=\"association\"></div>\n    </div>\n  </el-dialog>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n  reactive,\n  onBeforeUnmount,\n  onMounted,\n  watch,\n  onUnmounted,\n  nextTick,\n  computed,\n} from 'vue'\nimport { Erg as Graph } from '@ej/erg-renderer/src'\nimport { ElDialog } from 'element-plus'\n\nconst props = defineProps({\n  dialogVisible: {\n    type: Boolean,\n    required: true,\n  },\n  useThumbnail: {\n    type: Boolean,\n    required: true,\n    default: true,\n  },\n  useRightMenu: {\n    type: Boolean,\n    required: true,\n    default: true,\n  },\n  useAttrFocus: {\n    type: Boolean,\n    required: true,\n    default: true,\n  },\n  editable: {\n    type: String,\n    required: true,\n    default: 'edit',\n  },\n  elName: {\n    type: String,\n    required: true,\n    default: 'canvas',\n  },\n})\n\nconst emit = defineEmits(['update:dialogVisible'])\nconst dialogVisibles = computed((_) => props.dialogVisible)\nconst handleClose = () => emit('update:dialogVisible', false)\n\nlet graph\n\nconst mountGraph = () => {\n  graph = new Graph({\n    el: document.getElementById(props.elName),\n    useThumbnail: true,\n  })\n}\nconst unmountGraph = () => graph.destroy()\n\nonMounted(() => nextTick(mountGraph))\nonBeforeUnmount(unmountGraph)\n</script>\n\n<style lang=\"postcss\">\n.dialog-association{\n  .el-dialog__header{\n    border-bottom: 1px solid #ccc;\n    margin-right: 0px;\n    padding-bottom: 14px;\n  }\n}\n.association__content {\n  border: 1px solid #ccc;\n  height: 500px;\n  .association {\n    flex-grow: 1;\n    width: 100%;\n    height: 100%;\n    /* border: 1px solid #000; */\n    margin: auto;\n    box-sizing: border-box;\n    position: relative;\n  }\n}\n</style>\n","<template>\n  <div class=\"erg-right-menu\">\n    <base-erg ref=\"erg\" elName=\"canvas-right-menu\" :useThumbnail=\"true\" :useRightMenu=\"true\" :useAttrFocus=\"true\" :editable=\"'edit'\" />\n    <parent-association\n      v-if=\"associationVisible\"\n      id=\"11\"\n      elName=\"canvas-parent-association\" :useThumbnail=\"true\" :useRightMenu=\"true\" :useAttrFocus=\"true\" :editable=\"'edit'\"\n      v-model:dialogVisible=\"associationVisible\"\n    ></parent-association>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, onMounted, computed } from 'vue'\nimport BaseErg from './Base.vue'\nimport { rightMenu, initRightMenu } from './assets/js/right-menu'\nimport ParentAssociation from './components/parent-association.vue'\nimport { ContextmenuEvent } from '@ej/erg-renderer/src'\n\nconst props = withDefaults(\n  defineProps<{\n    useThumbnail: boolean\n    useRightMenu: boolean\n    useAttrFocus: boolean\n    editable: string\n  }>(),\n  {\n    useThumbnail: true,\n    useRightMenu: true,\n    useAttrFocus: true,\n    editable: 'edit',\n  },\n)\n\nconst erg = ref()\nconst associationVisible = ref(false)\n\nconst graph = computed(() => erg.value.graph)\n// \nconst useRightMenu = () => {\n  console.log(graph.value, 'erg')\n  graph.value.updateConfig({\n    useRightMenu: true,\n  })\n\n  graph.value.on(ContextmenuEvent.Show, (info) => {\n    console.log(initRightMenu)\n    graph.value.updateConfig({\n      rightMenu: info.target ? rightMenu : initRightMenu,\n    })\n  })\n  graph.value.on(ContextmenuEvent.Click, (info) => {\n    console.log(info.target)\n    switch (info.value) {\n      case 'level-1':\n        associationVisible.value = true\n        break\n      case 'level-2':\n        associationVisible.value = true\n        break\n      case 'level-all':\n        associationVisible.value = true\n        break\n\n      default:\n        break\n    }\n  })\n}\n\nonMounted(useRightMenu)\n\n</script>\n\n<style lang=\"postcss\">\n.erg-right-menu {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n</style>\n","<template>\n  <div class=\"erg-extra-drawing\">\n    <base-erg ref=\"erg\" elName=\"canvas-extra-drawing\" :useThumbnail=\"true\" :useRightMenu=\"true\" :useAttrFocus=\"true\" :editable=\"'edit'\"/>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, onMounted, computed } from 'vue'\nimport BaseErg from './Base.vue'\nimport { GraphEvent } from '@ej/erg-renderer/src'\n\nconst erg = ref()\n\nconst graph = computed(() => erg.value.graph)\nconst useExtraDrawing = () => {\n  graph.value.on(GraphEvent.BeforeUpdate, (ctx) => {\n    graph.value.dataHandler.originData.nodeDataArray.map(({id}, idx) => {\n      if (idx % 2) return\n\n      const node = graph.value.dataHandler.originDataMap.get(id)\n      if (!node) return\n      ctx.save()\n      // 设置字体\n      ctx.font = '16px'\n      // 设置颜色\n      ctx.fillStyle = '#F59A23'\n      ctx.strokeStyle = '#F59A23'\n      // 设置水平对齐方式\n      ctx.textAlign = 'right'\n      // 设置垂直对齐方式\n      ctx.textBaseline = 'top'\n      ctx.fillText('正在编辑', node.x + node.width, node.y - 22)\n      ctx.lineWidth = 2\n      ctx.strokeRect(node.x, node.y, node.width, node.height)\n      ctx.restore()\n    })\n  })\n}\n\nonMounted(useExtraDrawing)\n</script>\n\n<style lang=\"postcss\">\n.erg-extra-drawing {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n</style>\n","<template>\n  <div class=\"erg-export-data\">\n    <base-erg ref=\"erg\" elName=\"canvas-export-data\" :useThumbnail=\"true\" :useRightMenu=\"true\" :useAttrFocus=\"true\" :editable=\"'edit'\"/>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, onMounted, computed } from 'vue'\nimport BaseErg from './Base.vue'\nimport { ContextmenuEvent } from '@ej/erg-renderer/src'\n\nconst rightMenu = [\n  [\n    {\n      icon: '',\n      value: 'export',\n      label: '导出数据',\n    },\n  ]\n]\n\nconst props = withDefaults(\n  defineProps<{\n    useThumbnail: boolean\n    useRightMenu: boolean\n    useAttrFocus: boolean\n    editable: string\n  }>(),\n  {\n    useThumbnail: true,\n    useRightMenu: true,\n    useAttrFocus: true,\n    editable: 'edit',\n  },\n)\n\nconst erg = ref()\nconst associationVisible = ref(false)\n\nconst graph = computed(() => erg.value.graph)\nconst useRightMenu = () => {\n  graph.value.updateConfig({\n    useRightMenu: true,\n    rightMenu,\n  })\n\n  graph.value.on(ContextmenuEvent.Click, (info) => {\n    switch (info.value) {\n      case 'export':\n        graph.value.canvas.exportJsonFile(graph.value.dataHandler.originData)\n        break\n\n      default:\n        break\n    }\n  })\n}\n\nonMounted(useRightMenu)\n</script>\n\n<style lang=\"postcss\">\n.erg-export-data {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n</style>\n"],"names":["getClientXY","event","clientX","clientY","identity","value","objectCreate","baseCreate","object","proto","isObject","result","baseCreate$1","apply","func","thisArg","args","copyArray","source","array","index","length","HOT_COUNT","HOT_SPAN","nativeNow","shortOut","count","lastCalled","stamp","remaining","constant","defineProperty","getNative","defineProperty$1","baseSetToString","string","baseSetToString$1","setToString","setToString$1","arrayEach","iteratee","baseAssignValue","key","objectProto","hasOwnProperty","assignValue","objValue","eq","copyObject","props","customizer","isNew","newValue","nativeMax","overRest","start","transform","otherArgs","nativeKeysIn","baseKeysIn","isProto","isPrototype","keysIn","isArrayLike","arrayLikeKeys","spreadableSymbol","Symbol","isFlattenable","isArray","isArguments","baseFlatten","depth","predicate","isStrict","arrayPush","flatten","flatRest","getPrototype","overArg","getPrototype$1","baseAssign","keys","baseAssignIn","freeExports","freeModule","moduleExports","Buffer","root","allocUnsafe","cloneBuffer","buffer","isDeep","copySymbols","getSymbols","nativeGetSymbols","getSymbolsIn","stubArray","getSymbolsIn$1","copySymbolsIn","getAllKeysIn","baseGetAllKeys","initCloneArray","cloneArrayBuffer","arrayBuffer","Uint8Array","cloneDataView","dataView","reFlags","cloneRegExp","regexp","symbolProto","symbolValueOf","cloneSymbol","symbol","cloneTypedArray","typedArray","boolTag","dateTag","mapTag","numberTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","initCloneByTag","tag","Ctor","initCloneObject","baseIsMap","isObjectLike","getTag","nodeIsMap","nodeUtil","isMap","baseUnary","isMap$1","baseIsSet","nodeIsSet","isSet","isSet$1","CLONE_DEEP_FLAG","CLONE_FLAT_FLAG","CLONE_SYMBOLS_FLAG","argsTag","arrayTag","errorTag","funcTag","genTag","objectTag","weakMapTag","cloneableTags","baseClone","bitmask","stack","isFlat","isFull","isArr","isFunc","isBuffer","Stack","stacked","subValue","keysFunc","getAllKeys","cloneDeep","baseHasIn","hasPath","path","hasFunc","castPath","toKey","isLength","isIndex","hasIn","isBoolean","baseGetTag","baseSet","lastIndex","nested","basePickBy","paths","baseGet","basePick","pick","pick$1","scrollBarWidth","getScrollBarWidth","namespace","_a","isClient","outer","widthNoScroll","inner","widthWithScroll","scrollIntoView","container","selected","offsetParents","pointer","top","prev","curr","bottom","viewRectTop","viewRectBottom","composeRefs","refs","el","ref","isFunction","getComponentSize","size","componentSizeMap","PatchFlags","PatchFlags2","DEFAULT_EXCLUDE_KEYS","LISTENER_PREFIX","useAttrs","params","excludeListeners","excludeKeys","allExcludeKeys","computed","instance","getCurrentInstance","fromPairs","useDraggable","targetRef","dragRef","draggable","onMousedown","e","downX","downY","offsetX","offsetY","targetRect","targetLeft","targetTop","targetWidth","targetHeight","clientWidth","clientHeight","minLeft","minTop","maxLeft","maxTop","onMousemove","e2","moveX","moveY","addUnit","onMouseup","onDraggable","offDraggable","onMounted","watchEffect","onBeforeUnmount","useFocus","_b","useLockscreen","trigger","options","isRef","throwError","ns","useNamespace","hiddenCls","hasClass","withoutHiddenClass","bodyWidth","cleanup","removeClass","watch","val","bodyHasOverflow","bodyOverflowY","getStyle","addClass","onScopeDispose","useSameTarget","handleClick","NOOP","mousedownTarget","mouseupTarget","useCursor","input","selectionRef","recordCursor","selectionStart","selectionEnd","beforeTxt","afterTxt","setCursor","startPos","beforeLastChar","newIndex","hiddenTextarea","HIDDEN_STYLE","isFirefox","CONTEXT_STYLE","calculateNodeStyling","targetElement","style","boxSizing","paddingSize","borderSize","name","calcTextareaHeight","minRows","maxRows","contextStyle","height","singleRowHeight","isNumber","minHeight","maxHeight","inputProps","buildProps","useSizeProp","definePropType","iconPropType","mutable","inputEmits","UPDATE_MODEL_EVENT","isString","evt","_hoisted_1","_hoisted_2","_hoisted_3","__default__","defineComponent","_sfc_main","__props","expose","emit","rawAttrs","slots","useSlots","containerAttrs","comboBoxAttrs","containerKls","nsTextarea","nsInput","inputSize","inputDisabled","inputExceed","showClear","showPwdVisible","wrapperKls","focused","attrs","useAttrs$1","form","formItem","useFormItem","inputId","useFormItemInputId","useFormSize","useFormDisabled","shallowRef","textarea","hovering","isComposing","passwordVisible","countStyle","textareaCalcStyle","_ref","needStatusIcon","validateState","validateIcon","ValidateComponentsMap","passwordIcon","View","Hide","containerStyle","textareaStyle","nativeInputValue","isNil","isWordLimitVisible","textLength","suffixVisible","useResizeObserver","entries","onceInitSizeTextarea","entry","width","resizeTextarea","type","autosize","textareaStyle2","nextTick","resizeTextarea2","isInit","setNativeInputValue","input2","handleInput","handleChange","handleCompositionStart","handleCompositionUpdate","text","lastCharacter","isKorean","handleCompositionEnd","handlePasswordVisible","focus","blur","handleFocus","handleBlur","err","debugWarn","handleMouseLeave","handleMouseEnter","handleKeydown","select","clear","toRef","_ctx","_cache","withDirectives","openBlock","createElementBlock","mergeProps","unref","createCommentVNode","Fragment","normalizeClass","renderSlot","createElementVNode","createBlock","ElIcon","withCtx","resolveDynamicComponent","withModifiers","createVNode","CircleClose","toDisplayString","normalizeStyle","vShow","Input","_export_sfc","ElInput","withInstall","scrollbarContextKey","thumbProps","COMPONENT_NAME","scrollbar","inject","thumb","thumbState","visible","cursorDown","cursorLeave","originalOnSelectStart","bar","BAR_MAP","thumbStyle","renderThumbStyle","offsetRatio","clickThumbHandler","startDrag","clickTrackHandler","offset","thumbHalf","thumbPositionPercentage","mouseMoveDocumentHandler","mouseUpDocumentHandler","prevPage","thumbClickPosition","restoreOnselectstart","mouseMoveScrollbarHandler","mouseLeaveScrollbarHandler","useEventListener","Transition","Thumb","barProps","wrap","offsetHeight","GAP","offsetWidth","Bar","scrollbarProps","scrollbarEmits","scrollTop","scrollLeft","stopResizeObserver","stopResizeListener","scrollbarRef","wrapRef","resizeRef","sizeWidth","sizeHeight","barRef","ratioY","ratioX","style2","wrapKls","resizeKls","handleScroll","scrollTo","arg1","arg2","setScrollTop","setScrollLeft","update","originalHeight","originalWidth","noresize","provide","reactive","onUpdated","Scrollbar","ElScrollbar","alphaSliderProps","isDragging","element","moveFn","upFn","downFn","useAlphaSlider","handleDrag","rect","left","useAlphaSliderDOM","thumbLeft","thumbTop","background","getThumbLeft","alpha","getThumbTop","getBackground","r","g","b","dragConfig","rootKls","barKls","thumbKls","barStyle","AlphaSlider","hueValue","hue","_sfc_render","$props","$setup","$data","$options","HueSlider","colorPickerProps","colorPickerEmits","CHANGE_EVENT","colorPickerContextKey","hsv2hsl","sat","isOnePointZero","n","isPercentage","bound01","max","processPercent","INT_HEX_MAP","hexOne","high","low","toHex","HEX_INT_MAP","parseHexChannel","hex","hsl2hsv","light","smin","lmin","v","sv","rgb2hsv","min","h","d","s","hsv2rgb","i","f","p","q","t","mod","Color","option","hasOwn","prop","fromHSV","parts","color","_hue","_saturation","_value","_alpha","format","hsl","currentColor","rgbaColors","parseColors","item","handleSelect","colors","c","renderList","$event","Predefine","cursorTop","cursorLeft","colorValue","saturation","SvPanel","useLocale","colorSize","colorDisabled","buttonId","isLabeledByFormItem","popper","shouldActiveChange","showPicker","showPanelColor","customInput","displayedColor","displayedRgb","buttonAriaLabel","buttonAriaLabelledby","btnKls","color2","showAlpha","setShowPicker","debounceSetShowPicker","debounce","show","hide","resetColor","handleTrigger","handleConfirm","confirmValue","newColor","newVal","_c","ElTooltip","withKeys","ElButton","createTextVNode","ClickOutside","ArrowDown","Close","ColorPicker","ElColorPicker","overlayProps","overlayEmits","BLOCK","Overlay","onMaskClick","onClick","ElOverlay","dialogInjectionKey","dialogContentProps","dialogContentEmits","CloseComponents","dialogRef","headerRef","bodyId","focusTrapRef","FOCUS_TRAP_INJECTION_KEY","composedDialogRef","ElDialogContent","dialogProps","dialogEmits","useDialog","nextZIndex","useZIndex","lastPosition","titleId","useId","closed","rendered","zIndex","openTimer","closeTimer","useGlobalConfig","defaultNamespace","varPrefix","overlayDialogStyle","afterEnter","afterLeave","beforeLeave","open","useTimeoutFn","doOpen","close","doClose","handleClose","shouldCancel","onModalClick","onOpenAutoFocus","onCloseAutoFocus","onFocusoutPrevented","onCloseRequested","useDeprecated","dialogContentRef","overlayEvent","Teleport","ElFocusTrap","createSlots","Dialog","ElDialog","dividerProps","dividerStyle","Divider","ElDivider","selectGroupKey","selectKey","useOption","states","selectGroup","itemSelected","contains","isEqual","limitReached","modelValue","currentLabel","currentValue","isDisabled","arr","target","valueKey","toRaw","get","a","hoverItem","oldVal","remote","queryChange","changes","query","escapeStringRegexp","hover","toRefs","vm","doesSelected","selectOptionClick","Option","popperClass","isMultiple","isFitInputWidth","minWidth","updateMinWidth","ElSelectMenu","useSelectStates","useSelect","ctx","reference","iOSInput","tooltipRef","tags","selectWrapper","hoverOption","groupQueryChange","optionList","originClientHeight","readonly","selectDisabled","showClose","hasValue","iconComponent","iconReverse","debounce$1","emptyText","optionsArray","list","newList","cachedOptionsArray","showNewOption","hasExistingOption","selectSize","collapseTagSize","dropMenuVisible","resetInputHeight","handleQueryChange","setSelected","_d","_e","triggerRef","resetHoverIndex","inputs","checkDefaultFirstOption","_tags","gotSize","sizeInMap","managePlaceholder","optionsInDropdown","userCreatedOption","firstOriginOption","getValueIndex","getOption","isObjectValue","toRawType","isNull","isUndefined","cachedOption","label","newOption","getValueKey","handleResize","resetInputWidth","onInputChange","debouncedOnInputChange","debouncedQueryChange","emitChange","deletePrevTag","EVENT_CODE","toggleLastOptionHitState","deleteTag","deleteSelected","handleOptionSelect","byClick","optionIndex","setSoftFocus","scrollToOption","_input","targetOption","menu","onOptionCreate","onOptionDestroy","resetInputState","hit","handleComposition","handleMenuEnter","handleClearClick","handleKeydownEscape","toggleMenu","selectOption","optionsAllDisabled","showTagList","collapseTagList","navigateOptions","direction","ElOptions","_","cachedOptions","isSameOptions","children","filteredOptions","filterOptions","children2","_a2","_b2","ElTag","isValidComponentSize","useTooltipContentProps","tagProps","placements","nsSelect","inputWidth","inputLength","filteredOptionsCount","softFocus","selectedLabel","hoverIndex","inputHovering","currentPlaceholder","menuVisibleOnFocus","isOnComposition","isSilentBlur","optionsCount","prefixWidth","tagInMultiLine","classList","_selectSize","selectTagsStyle","tagTextStyle","refEl","prefix","popperPaneRef","isIOS","_component_el_tag","resolveComponent","_component_el_tooltip","_component_el_icon","_component_el_input","_component_el_option","_component_el_options","_component_el_scrollbar","_component_el_select_menu","_directive_click_outside","resolveDirective","vModelText","Select","flattedChildren","node","child","OptionGroup","ElSelect","ElOption","withNoopInstall","LockIcon","FabricObject","x","y","w","fillStyle","strokeStyle","ex","ey","lines","isContains","hexToRgb","isLightColor","rgbArr","S4","uuid","uuname","force","NodeErwin","id","enName","cnName","attributes","bgC","bdC","quotePrimaryKey","physicalTables","manualChange","activeAttributeId","attrHeight","linesForNode","relativeH","attrIndex","bgColor","borderColor","roundedDeg","datatype","datatypeUpper","img","DataTypeDate","imageMap","DataTypeNumber","DataTypeString","textColor","titleHeight","fontSize","padding","attributesPrimary","attributesPrimaryNon","curX","curY","attrItem","attrFocusStyle","addText","finalText","textWidth","isExpand","icons","startX","startY","icon","iconX","expand","fullWidth","nodePadding","backgroundStartX","backgroundWidth","attributeId","attributesOrder","NodeRect","borderWidth","isPointOnLineSegments","point","segments","tolerance","xTolerance","yTolerance","p1","p2","LineErwin","pos","from","to","lineWidth","numLineTypes","pointItem","pointIdx","posLen","dis","arcX","arcY","remark","middleIndex","vertical","xPoints","yPoints","it","mathRange","DataHandler","data","context","nodeDataArray","linkDataArray","markDataArray","noteDataArray","originDataMap","elements","GraphEvent","materials","NodeEvent","idx","info","LineEvent","line","MarkEvent","mark","NoteEvent","note","TextBase","content","textMetrics","FrameResize","targetBgColor","targetBdColor","halfTargetWidth","fixX","fixY","FrameHover","ifAnchor","canvasEv","middleX","middleY","fullX","fullY","targetDirection","TargetDirection","useMouseMove","moveMarkRect","eventObj","offsetOfMove","newLoc","moveMarkText","resizeNode","moveNode","focusTarget","nodeRelatedLineMap","focusItem","nodeNewLoc","moveAttr","moveLine","status","renderElements","cursorState","GraphStatus","Cursor","hoverTarget","cursor","isTarget","OldTargetEvent","NewTargetEvent","graphTranslate","isAttrMove","isNodeResize","isNodeMove","isLineMove","isMarkMove","isNoteMove","useMouseDown","evX","evY","defaultWidth","defaultHeight","focusNodes","distanse","fixLocNodes","newNode","newMark","newNote","metaKey","ctrlKey","TargetEvent","attrId","useMouseUp","generateTree","nodeParents","rootId","rootNode","queue","currentNode","itId","itParents","ifWaiting","ifChildren","HORIZONTAL_SPACE","VERTICAL_SPACE","FONT_SIZE","FONT_FAMILY","LINE_HEIGHT","PADDING","DEFAULT_WIDTH","DEFAULT_HEIGHT","ANIMATION_DURATION","getTextWidth","fontFamily","getAutoSizeValue","hierarchicalLayout","updateFunc","layers","createLayers","layoutNodes","maxX","maxY","layoutMarks","layoutNotes","animate","TWEEN","nodes","parents","existToNode","allDone","minParentsId","toId","fromIds","ifEmpty","ifLess","ifMin","groupData","nodeMap","autoSize","group","recursionGroup","autoSizeValue","resolve","rows","curRowMaxHeight","nextBeginY","row","Erg","EventCenter","Plugins","Editable","preloadLineageImages","editable","rightMenu","useRightMenu","useAttrFocus","useThumbnail","useHistory","Canvas","BackgroundType","PluginsEnum","ThumbnailEvent","isMove","ContextmenuEvent","keyCode","Node","relatedLines","eventName","action","resetMouseState","execTask","setEventTarget","canvas","changeMouseCursor","moveCanvas","moveElement","isJustMove","isMoveCanvas","isMoveElement","copyFocusTarget","originObject","originValue","deltaY","deltaX","zoomRate","calcRatio","translate","originData","lineMap","noteMap","newData","cacheCtx","thumbnail","viewW","viewH","minX","minY","targetAttrId","attrInfo","isFocusTarget","translatePos","lineInfo","fromNode","toNode","fromNodeBord","toNodeBord","rate","fixRate","nodeInfo","pointInfo","_this","copyEventObjTarget","newWidth","newHeight","moveKeyPoint","lineSet","diffFlag","updateKeyPoint","targetNode","linkInfo","posMaxIdx","distance","moveTargetIsFrom","idx1X","idx1and2Y","idx0X","dis0to1","dis1to2","mouseLoc","eventPos","total","judgeLineShapeIsZ","judgeLineShapeIsN","judgeWidth","len","judgeHeight","lineType","defaultData","chooseTargets","chooseTargets0Loc","chooseTargets1Loc","endX","newLine","newLineInfo","fromFilter","loc","newBranchFilter","toFilter","lineList","resultLines","handler","Icons","graph","state","ErgViewType","mountGraph","Graph","changeCanvasScale","scaleRatio","updateGraphStatus","updateLayout","unmountGraph","initRightMenu","dialogVisibles","erg","associationVisible"],"mappings":"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,KAAM,SACN,GAAI,MACJ,WAAY,GACZ,WAAY,GACZ,SAAU,CACR,CACE,KAAM,WACN,WAAY,GACZ,WAAY,GACZ,SAAU,CACR,CACE,KAAM,aACN,WAAY,GACZ,WAAY,EACd,CACF,EACA,MAAO,CACL,CACE,KAAM,IACN,IAAK,OACP,CACF,CACF,CACF,CACF,EACA,CACE,KAAM,SACN,WAAY,GACZ,WAAY,EACd,EACA,CACE,KAAM,SACN,WAAY,GACZ,WAAY,EACd,CACF,CACF,EACA,CACE,KAAM,QACN,WAAY,GACZ,WAAY,GACZ,MAAO,CACL,CACE,IAAK,UACL,MAAO,UACP,KAAM,GACR,EACA,CACE,KAAM,GACR,CACF,CACF,EACA,CACE,KAAM,QACN,WAAY,EACd,EACA,CACE,KAAM,QACN,WAAY,GACZ,MAAO,CACL,CACE,KAAM,IACN,IAAK,OACP,CACF,CACF,CACF,CACF,EACA,CACE,GAAI,UACJ,EAAG,IACH,EAAG,IACH,MAAO,GACP,OAAQ,IACR,IAAK,UACL,KAAM,UACN,gBAAiB,GACjB,WAAY,CACV,CACE,KAAM,OACN,WAAY,GACZ,WAAY,EACd,EACA,CACE,KAAM,OACN,WAAY,EACd,EACA,CACE,KAAM,OACN,WAAY,EACd,CACF,CACF,EACA,CACE,GAAI,UACJ,EAAG,IACH,EAAG,IACH,MAAO,GACP,OAAQ,IACR,IAAK,UACL,KAAM,UACN,WAAY,CACV,CACE,KAAM,OACN,WAAY,GACZ,WAAY,EACd,EACA,CACE,KAAM,OACN,WAAY,EACd,CACF,CACF,EACA,CACE,GAAI,UACJ,EAAG,IACH,EAAG,IACH,MAAO,GACP,OAAQ,GACR,KAAM,WACR,EACA,CACE,GAAI,UACJ,EAAG,IACH,EAAG,GACH,MAAO,IACP,OAAQ,IACR,KAAM,UACN,KAAM,QACR,EACA,CACE,GAAI,UACJ,EAAG,IACH,EAAG,IACH,MAAO,IACP,OAAQ,IACR,KAAM,UACN,KAAM,UACN,WAAY,CACV,CACE,MAAO,KACP,QAAS,wBACX,EACA,CACE,MAAO,KACP,QAAS,UACX,EACA,CACE,MAAO,OACP,QAAS,OACX,EACA,CACE,MAAO,MACP,QAAS,KACX,CACF,CACF,EACA,CACE,GAAI,UACJ,EAAG,KACH,EAAG,KACH,MAAO,IACP,OAAQ,IACR,KAAM,UACN,KAAM,QACR,EACA,CACE,GAAI,UACJ,EAAG,MACH,EAAG,MACH,MAAO,IACP,OAAQ,IACR,KAAM,UACN,KAAM,QACR,EACA,CACE,GAAI,UACJ,EAAG,IACH,EAAG,IACH,MAAO,IACP,OAAQ,IACR,KAAM,UACN,KAAM,QACR,EACA,CACE,GAAI,WACJ,EAAG,KACH,EAAG,KACH,MAAO,IACP,OAAQ,IACR,KAAM,WACN,KAAM,QACR,EACA,CACE,GAAI,WACJ,EAAG,KACH,EAAG,KACH,MAAO,IACP,OAAQ,IACR,KAAM,WACN,KAAM,QACR,EACA,CACE,GAAI,WACJ,EAAG,KACH,EAAG,KACH,MAAO,IACP,OAAQ,IACR,KAAM,WACN,KAAM,QACR,CACF,EACA,cAAe,CACb,CACE,GAAI,EACJ,KAAM,UACN,GAAI,UACJ,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,EACA,KAAM,aACN,aAAc,EACd,OAAQ,IACV,EACA,CACE,GAAI,EACJ,KAAM,UACN,GAAI,UACJ,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,EACA,KAAM,aACN,aAAc,CAChB,EACA,CACE,GAAI,EACJ,KAAM,UACN,GAAI,UACJ,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,EACA,KAAM,WACN,aAAc,CAChB,EACA,CACE,GAAI,EACJ,KAAM,UACN,GAAI,UACJ,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,EACA,KAAM,aACN,aAAc,CAChB,EACA,CACE,GAAI,EACJ,KAAM,UACN,GAAI,UACJ,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,EACA,KAAM,QACN,aAAc,EACd,OAAQ,IACV,EACA,CACE,GAAI,EACJ,KAAM,UACN,GAAI,WACJ,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,EACA,KAAM,QACN,aAAc,EACd,OAAQ,IACV,EACA,CACE,GAAI,EACJ,KAAM,UACN,GAAI,UACJ,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,EACA,KAAM,QACN,aAAc,EACd,OAAQ,IACV,EACA,CACE,GAAI,EACJ,KAAM,UACN,GAAI,UACJ,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,EACA,KAAM,QACN,aAAc,EACd,OAAQ,IACV,EACA,CACE,GAAI,GACJ,KAAM,UACN,GAAI,WACJ,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,EACA,KAAM,QACN,aAAc,EACd,OAAQ,IACV,EACA,CACE,GAAI,GACJ,KAAM,UACN,GAAI,WACJ,IAAK,CACH,CACE,EAAG,IACH,EAAG,GACL,EACA,CACE,EAAG,IACH,EAAG,GACL,CACF,EACA,KAAM,QACN,aAAc,EACd,OAAQ,IACV,CACF,EACA,cAAe,CACb,CACE,GAAI,QACJ,EAAG,GACH,EAAG,GACH,MAAO,IACP,OAAQ,IACR,KAAM,OACR,CACF,EACA,cAAe,CACb,CACE,GAAI,qBACJ,EAAG,IACH,EAAG,IACH,KAAM,WACN,KAAM,OACN,MAAO,SACT,CACF,CACF,EChdec,GAAA,GAAA,IAAA,IAAA,2BAAA,YAAA,GAAA,EAAA,igBCsMTC,EAAQzgC,IAER0gC,EAAQ7tB,GAAS,CACrB,MAAO,IACP,IAAK,GACL,IAAK,GACL,MAAO,GACP,KAAM,OACN,SAAU8tB,GAAY,MAAA,CACvB,EAEKC,EAAa,IAAM,CACvB,MAAM9I,EAAa,sSACb2I,EAAA,MAAQ,IAAII,GAAM,CACtB,GAAI,SAAS,eAAevrC,EAAM,MAAM,EACxC,WAAAwiC,EACA,SAAU4I,EAAM,KAChB,aAAcprC,EAAM,aACpB,aAAcA,EAAM,aACpB,aAAcA,EAAM,YAAA,CACrB,EACKmrC,EAAA,MAAM,OAAOnP,EAAI,EACjBmP,EAAA,MAAM,GAAG3O,GAAW,KAAOI,GAAS,QAAQ,IAAIJ,GAAW,KAAMI,CAAI,CAAC,EACtEuO,EAAA,MAAM,GAAG3O,GAAW,MAAQI,GAAS,QAAQ,IAAIJ,GAAW,MAAOI,CAAI,CAAC,EASxEuO,EAAA,MAAM,GAAGzO,GAAU,IAAME,GAAS,QAAQ,IAAIF,GAAU,IAAKE,CAAI,CAAC,EAClEuO,EAAA,MAAM,GAAGzO,GAAU,OAASE,GAAS,QAAQ,IAAIF,GAAU,OAAQE,CAAI,CAAC,EAMxEuO,EAAA,MAAM,GAAGtO,GAAU,IAAMD,GAAS,QAAQ,IAAIC,GAAU,IAAKD,CAAI,CAAC,EAClEuO,EAAA,MAAM,GAAGtO,GAAU,OAASD,GAAS,QAAQ,IAAIC,GAAU,OAAQD,CAAI,CAAC,EAKxEuO,EAAA,MAAM,GAAGpO,GAAU,IAAMH,GAAS,QAAQ,IAAIG,GAAU,IAAKH,CAAI,CAAC,EAClEuO,EAAA,MAAM,GAAGpO,GAAU,OAASH,GAAS,QAAQ,IAAIG,GAAU,OAAQH,CAAI,CAAC,EAKxEuO,EAAA,MAAM,GAAGlO,GAAU,IAAML,GAAS,QAAQ,IAAIK,GAAU,IAAKL,CAAI,CAAC,EAClEuO,EAAA,MAAM,GAAGlO,GAAU,OAASL,GAAS,QAAQ,IAAIK,GAAU,OAAQL,CAAI,CAAC,CAAA,EAS1E4O,EAAqBC,GAAe,CACpCL,EAAM,MAAQ,KAAIA,EAAM,OAASK,GAC/BN,EAAA,MAAM,KAAKC,EAAM,KAAK,CAAA,EAExBM,EAAqBvM,GAAWgM,EAAM,MAAM,aAAa,CAAE,OAAAhM,EAAQ,EACnEwM,EAAe,IAAMR,EAAM,MAAM,aAAa,EAE9CS,EAAe,IAAMT,EAAM,MAAM,QAAQ,EAE/C,OAAA19B,GAAU69B,CAAU,EACpB39B,GAAgBi+B,CAAY,EAEfp5B,EAAA,CACX,MAAA24B,CAAA,CACD,+7HC1MM,MAAMnG,GAAY,CACvB,CACE,CACE,KAAM,GACN,MAAO,OACP,MAAO,IACT,EACA,CACE,KAAM,GACN,MAAO,cACP,MAAO,MACT,EACA,CACE,KAAM,GACN,MAAO,QACP,MAAO,IACT,CACF,EACA,CACE,CACE,KAAM,GACN,MAAO,OACP,MAAO,IACT,CACF,EACA,CACE,CACE,KAAM,GACN,MAAO,SACP,MAAO,SACP,SAAU,CACR,CACE,KAAM,GACN,MAAO,UACP,MAAO,MACT,EACA,CACE,KAAM,GACN,MAAO,UACP,MAAO,MACT,EACA,CACE,KAAM,GACN,MAAO,YACP,MAAO,MACT,CACF,CACF,CACF,EACA,CACE,CACE,KAAM,GACN,MAAO,YACP,MAAO,OACT,EACA,CACE,KAAM,GACN,MAAO,cACP,MAAO,MACT,CACF,EACA,CACE,CACE,KAAM,GACN,MAAO,QACP,MAAO,OACP,SAAU,CACR,CACE,KAAM,GACN,MAAO,QACP,MAAO,IACT,EACA,CACE,KAAM,GACN,MAAO,OACP,MAAO,IACT,EACA,CACE,KAAM,GACN,MAAO,SACP,MAAO,IACT,EACA,CACE,KAAM,GACN,MAAO,SACP,MAAO,IACT,CACF,CACF,CACF,EACA,CACE,KAAM,GACN,MAAO,SACP,MAAO,IACT,CACF,EAEa6G,GAAgB,CAC3B,CACE,CACE,KAAM,GACN,MAAO,QACP,MAAO,IACT,CACF,EACA,CACE,CACE,KAAM,GACN,MAAO,OACP,MAAO,IACT,CACF,EACA,CACE,CACE,KAAM,GACN,MAAO,cACP,MAAO,MACT,CACF,EACA,CACE,CACE,KAAM,GACN,MAAO,QACP,MAAO,OACP,SAAU,CACR,CACE,KAAM,GACN,MAAO,QACP,MAAO,IACT,EACA,CACE,KAAM,GACN,MAAO,OACP,MAAO,IACT,EACA,CACE,KAAM,GACN,MAAO,SACP,MAAO,IACT,EACA,CACE,KAAM,GACN,MAAO,SACP,MAAO,IACT,CACF,CACF,CACF,CACF,ybC7JMC,EAAiBtgC,EAAU4mB,GAAMpyB,EAAM,aAAa,EACpDipB,EAAc,IAAMxW,EAAK,uBAAwB,EAAK,EAExD,IAAA04B,EAEJ,MAAMG,EAAa,IAAM,CACvBH,EAAQ,IAAII,GAAM,CAChB,GAAI,SAAS,eAAevrC,EAAM,MAAM,EACxC,aAAc,EAAA,CACf,CAAA,EAEG4rC,EAAe,IAAMT,EAAM,UAEvB,OAAA19B,GAAA,IAAMwI,EAASq1B,CAAU,CAAC,EACpC39B,GAAgBi+B,CAAY,uxCC1C5B,MAAMG,EAAMrhC,IACNshC,EAAqBthC,EAAI,EAAK,EAE9BygC,EAAQ3/B,EAAS,IAAMugC,EAAI,MAAM,KAAK,EAiC5C,OAAAt+B,GA/BqB,IAAM,CACjB,QAAA,IAAI09B,EAAM,MAAO,KAAK,EAC9BA,EAAM,MAAM,aAAa,CACvB,aAAc,EAAA,CACf,EAEDA,EAAM,MAAM,GAAGzF,GAAiB,KAAO9I,GAAS,CAC9C,QAAQ,IAAIiP,EAAa,EACzBV,EAAM,MAAM,aAAa,CACvB,UAAWvO,EAAK,OAASoI,GAAY6G,EAAA,CACtC,CAAA,CACF,EACDV,EAAM,MAAM,GAAGzF,GAAiB,MAAQ9I,GAAS,CAE/C,OADQ,QAAA,IAAIA,EAAK,MAAM,EACfA,EAAK,MAAO,CAClB,IAAK,UACHoP,EAAmB,MAAQ,GAC3B,MACF,IAAK,UACHA,EAAmB,MAAQ,GAC3B,MACF,IAAK,YACHA,EAAmB,MAAQ,GAC3B,KAIJ,CAAA,CACD,CAAA,CAGmB,y/BC3DtB,MAAMD,EAAMrhC,IAENygC,EAAQ3/B,EAAS,IAAMugC,EAAI,MAAM,KAAK,EA0B5C,OAAAt+B,GAzBwB,IAAM,CAC5B09B,EAAM,MAAM,GAAG3O,GAAW,aAAe5P,GAAQ,CACzCue,EAAA,MAAM,YAAY,WAAW,cAAc,IAAI,CAAC,CAAC,GAAAnU,CAAE,EAAG2F,IAAQ,CAClE,GAAIA,EAAM,EAAG,OAEb,MAAMpH,EAAO4V,EAAM,MAAM,YAAY,cAAc,IAAInU,CAAE,EACpDzB,IACL3I,EAAI,KAAK,EAETA,EAAI,KAAO,OAEXA,EAAI,UAAY,UAChBA,EAAI,YAAc,UAElBA,EAAI,UAAY,QAEhBA,EAAI,aAAe,MACfA,EAAA,SAAS,OAAQ2I,EAAK,EAAIA,EAAK,MAAOA,EAAK,EAAI,EAAE,EACrD3I,EAAI,UAAY,EACZA,EAAA,WAAW2I,EAAK,EAAGA,EAAK,EAAGA,EAAK,MAAOA,EAAK,MAAM,EACtD3I,EAAI,QAAQ,EAAA,CACb,CAAA,CACF,CAAA,CAGsB,8iBC5BzB,MAAMoY,EAAY,CAChB,CACE,CACE,KAAM,GACN,MAAO,SACP,MAAO,MACT,CACF,CAAA,EAkBI+G,EAAMrhC,IACeA,EAAI,EAAK,EAEpC,MAAMygC,EAAQ3/B,EAAS,IAAMugC,EAAI,MAAM,KAAK,EAmB5C,OAAAt+B,GAlBqB,IAAM,CACzB09B,EAAM,MAAM,aAAa,CACvB,aAAc,GACd,UAAAnG,CAAA,CACD,EAEDmG,EAAM,MAAM,GAAGzF,GAAiB,MAAQ9I,GAAS,CAC/C,OAAQA,EAAK,MAAO,CAClB,IAAK,SACHuO,EAAM,MAAM,OAAO,eAAeA,EAAM,MAAM,YAAY,UAAU,EACpE,KAIJ,CAAA,CACD,CAAA,CAGmB;;;;","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105]}
import{a as E,g as qe,l as At,k as B,r as Qt,D as M,f as pt,b as Ue,h as Rt,L as Q,o as he,S as Oa,I as zt,n as Le,q as at,U as Ha,z,A as W,M as et,C as V,O as ot,E as X,m as qt,Q as za,K as U,J as we,P as kt,a7 as Bt,i as le,a3 as je,_ as Ne,R as ka,a1 as Xt,a2 as De,x as Ht,H as q,B as ft,F as xt,V as se,G as gt,W as ct,y as Ba,a8 as Ga,a9 as Pa,X as Fa}from"./vue.esm-bundler-0f7b14ab.js";import{C as fe,bj as $a,R as Wa,bk as It,N as wt,M as te,V as Xa,H as bt,aa as Ya,Q as Yt,a7 as ge,a6 as Ka,aC as qa,aB as Ua,aE as ja,bl as Qa,aw as it,az as Za,a8 as Ja,af as tn,X as en,a2 as Ve,bm as an,$ as nn,Z as rn,ag as sn,ay as xe,a4 as dn,a3 as on,ax as ln,W as Qe,ae as Ze,aA as _n,al as cn,a5 as pn,ai as un,aM as ee,aO as vt,aP as yn,aQ as Ot,aR as mn,aS as hn,aT as fn,aU as gn,b6 as vn,bn,b9 as En,b8 as Tn,aN as An,bb as In,bc as Cn,bg as dt,b7 as Sn,bd as Oe,be as Ct,ba as Mn,aZ as Je,aY as ta,aX as ea,aW as aa,ah as Rn}from"./tween.esm-6e2a2569.js";const na=t=>fe?window.requestAnimationFrame(t):setTimeout(t,16),ia=t=>fe?window.cancelAnimationFrame(t):clearTimeout(t);var He=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Ln(t,e){return!!(t===e||He(t)&&He(e))}function wn(t,e){if(t.length!==e.length)return!1;for(var a=0;a<t.length;a++)if(!Ln(t[a],e[a]))return!1;return!0}function Nn(t,e){e===void 0&&(e=wn);var a=null;function i(){for(var d=[],r=0;r<arguments.length;r++)d[r]=arguments[r];if(a&&a.lastThis===this&&e(d,a.lastArgs))return a.lastResult;var s=t.apply(this,d);return a={lastResult:s,lastArgs:d,lastThis:this},s}return i.clear=function(){a=null},i}const Dn=()=>{const e=qe().proxy.$props;return E(()=>{const a=(i,d,r)=>({});return e.perfMode?$a(a):Nn(a)})},Vn=50,ze="itemRendered",ke="scroll",ra="forward",sa="backward",Gt="auto",da="smart",oa="start",Zt="center",la="end",Nt="horizontal",ve="vertical",xn="ltr",Ut="rtl",_e="negative",_a="positive-ascending",ca="positive-descending",On={[Nt]:"left",[ve]:"top"},Hn=20,zn={[Nt]:"deltaX",[ve]:"deltaY"},kn=({atEndEdge:t,atStartEdge:e,layout:a},i)=>{let d,r=0;const s=_=>_<0&&e.value||_>0&&t.value;return{hasReachedEdge:s,onWheel:_=>{ia(d);const c=_[zn[a.value]];s(r)&&s(r+c)||(r+=c,Wa()||_.preventDefault(),d=na(()=>{i(r),r=0}))}}},ce=It({type:wt([Number,Function]),required:!0}),pe=It({type:Number}),ue=It({type:Number,default:2}),Bn=It({type:String,values:["ltr","rtl"],default:"ltr"}),ye=It({type:Number,default:0}),Jt=It({type:Number,required:!0}),pa=It({type:String,values:["horizontal","vertical"],default:ve}),ua=te({className:{type:String,default:""},containerElement:{type:wt([String,Object]),default:"div"},data:{type:wt(Array),default:()=>Xa([])},direction:Bn,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:wt([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),Gn=te({cache:ue,estimatedItemSize:pe,layout:pa,initScrollOffset:ye,total:Jt,itemSize:ce,...ua}),me={type:Number,default:6},ya={type:Number,default:0},ma={type:Number,default:2};te({columnCache:ue,columnWidth:ce,estimatedColumnWidth:pe,estimatedRowHeight:pe,initScrollLeft:ye,initScrollTop:ye,itemKey:{type:wt(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:ue,rowHeight:ce,totalColumn:Jt,totalRow:Jt,hScrollbarSize:me,vScrollbarSize:me,scrollbarStartGap:ya,scrollbarEndGap:ma,role:String,...ua});const Pn=te({alwaysOn:Boolean,class:String,layout:pa,total:Jt,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:me,startGap:ya,endGap:ma,visible:Boolean}),de=(t,e)=>t<e?ra:sa,Pt=t=>t===xn||t===Ut||t===Nt;let St=null;function Be(t=!1){if(St===null||t){const e=document.createElement("div"),a=e.style;a.width="50px",a.height="50px",a.overflow="scroll",a.direction="rtl";const i=document.createElement("div"),d=i.style;return d.width="100px",d.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?St=ca:(e.scrollLeft=1,e.scrollLeft===0?St=_e:St=_a),document.body.removeChild(e),St}return St}function Fn({move:t,size:e,bar:a},i){const d={},r=`translate${a.axis}(${t}px)`;return d[a.size]=e,d.transform=r,d.msTransform=r,d.webkitTransform=r,i==="horizontal"?d.height="100%":d.width="100%",d}const $n=At({name:"ElVirtualScrollBar",props:Pn,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const a=E(()=>t.startGap+t.endGap),i=bt("virtual-scrollbar"),d=bt("scrollbar"),r=B(),s=B();let n=null,_=null;const c=Qt({isDragging:!1,traveled:0}),o=E(()=>Ya[t.layout]),u=E(()=>t.clientSize-M(a)),l=E(()=>({position:"absolute",width:`${Nt===t.layout?u.value:t.scrollbarSize}px`,height:`${Nt===t.layout?t.scrollbarSize:u.value}px`,[On[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),y=E(()=>{const f=t.ratio,N=t.clientSize;if(f>=100)return Number.POSITIVE_INFINITY;if(f>=50)return f*N/100;const h=N/3;return Math.floor(Math.min(Math.max(f*N,Hn),h))}),v=E(()=>{if(!Number.isFinite(y.value))return{display:"none"};const f=`${y.value}px`;return Fn({bar:o.value,size:f,move:c.traveled},t.layout)}),S=E(()=>Math.floor(t.clientSize-y.value-M(a))),R=()=>{window.addEventListener("mousemove",T),window.addEventListener("mouseup",k);const f=M(s);f&&(_=document.onselectstart,document.onselectstart=()=>!1,f.addEventListener("touchmove",T),f.addEventListener("touchend",k))},b=()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",k),document.onselectstart=_,_=null;const f=M(s);f&&(f.removeEventListener("touchmove",T),f.removeEventListener("touchend",k))},C=f=>{f.stopImmediatePropagation(),!(f.ctrlKey||[1,2].includes(f.button))&&(c.isDragging=!0,c[o.value.axis]=f.currentTarget[o.value.offset]-(f[o.value.client]-f.currentTarget.getBoundingClientRect()[o.value.direction]),e("start-move"),R())},k=()=>{c.isDragging=!1,c[o.value.axis]=0,e("stop-move"),b()},T=f=>{const{isDragging:N}=c;if(!N||!s.value||!r.value)return;const h=c[o.value.axis];if(!h)return;ia(n);const I=(r.value.getBoundingClientRect()[o.value.direction]-f[o.value.client])*-1,L=s.value[o.value.offset]-h,P=I-L;n=na(()=>{c.traveled=Math.max(t.startGap,Math.min(P,S.value)),e("scroll",P,S.value)})},G=f=>{const N=Math.abs(f.target.getBoundingClientRect()[o.value.direction]-f[o.value.client]),h=s.value[o.value.offset]/2,I=N-h;c.traveled=Math.max(0,Math.min(I,S.value)),e("scroll",I,S.value)};return pt(()=>t.scrollFrom,f=>{c.isDragging||(c.traveled=Math.ceil(f*S.value))}),Ue(()=>{b()}),()=>Rt("div",{role:"presentation",ref:r,class:[i.b(),t.class,(t.alwaysOn||c.isDragging)&&"always-on"],style:l.value,onMousedown:Q(G,["stop","prevent"]),onTouchstartPrevent:C},Rt("div",{ref:s,class:d.e("thumb"),style:v.value,onMousedown:C},[]))}}),ha=({name:t,getOffset:e,getItemSize:a,getItemOffset:i,getEstimatedTotalSize:d,getStartIndexForOffset:r,getStopIndexForStartIndex:s,initCache:n,clearCache:_,validateProps:c})=>At({name:t??"ElVirtualList",props:Gn,emits:[ze,ke],setup(o,{emit:u,expose:l}){c(o);const y=qe(),v=bt("vl"),S=B(n(o,y)),R=Dn(),b=B(),C=B(),k=B(),T=B({isScrolling:!1,scrollDir:"forward",scrollOffset:Yt(o.initScrollOffset)?o.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:o.scrollbarAlwaysOn}),G=E(()=>{const{total:g,cache:w}=o,{isScrolling:x,scrollDir:Y,scrollOffset:O}=M(T);if(g===0)return[0,0,0,0];const $=r(o,O,M(S)),F=s(o,$,O,M(S)),mt=!x||Y===sa?Math.max(1,w):1,ht=!x||Y===ra?Math.max(1,w):1;return[Math.max(0,$-mt),Math.max(0,Math.min(g-1,F+ht)),$,F]}),f=E(()=>d(o,M(S))),N=E(()=>Pt(o.layout)),h=E(()=>[{position:"relative",[`overflow-${N.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:o.direction,height:Yt(o.height)?`${o.height}px`:o.height,width:Yt(o.width)?`${o.width}px`:o.width},o.style]),I=E(()=>{const g=M(f),w=M(N);return{height:w?"100%":`${g}px`,pointerEvents:M(T).isScrolling?"none":void 0,width:w?`${g}px`:"100%"}}),L=E(()=>N.value?o.width:o.height),{onWheel:P}=kn({atStartEdge:E(()=>T.value.scrollOffset<=0),atEndEdge:E(()=>T.value.scrollOffset>=f.value),layout:E(()=>o.layout)},g=>{var w,x;(x=(w=k.value).onMouseUp)==null||x.call(w),j(Math.min(T.value.scrollOffset+g,f.value-L.value))}),H=()=>{const{total:g}=o;if(g>0){const[O,$,F,mt]=M(G);u(ze,O,$,F,mt)}const{scrollDir:w,scrollOffset:x,updateRequested:Y}=M(T);u(ke,w,x,Y)},Z=g=>{const{clientHeight:w,scrollHeight:x,scrollTop:Y}=g.currentTarget,O=M(T);if(O.scrollOffset===Y)return;const $=Math.max(0,Math.min(Y,x-w));T.value={...O,isScrolling:!0,scrollDir:de(O.scrollOffset,$),scrollOffset:$,updateRequested:!1},at(_t)},J=g=>{const{clientWidth:w,scrollLeft:x,scrollWidth:Y}=g.currentTarget,O=M(T);if(O.scrollOffset===x)return;const{direction:$}=o;let F=x;if($===Ut)switch(Be()){case _e:{F=-x;break}case ca:{F=Y-w-x;break}}F=Math.max(0,Math.min(F,Y-w)),T.value={...O,isScrolling:!0,scrollDir:de(O.scrollOffset,F),scrollOffset:F,updateRequested:!1},at(_t)},nt=g=>{M(N)?J(g):Z(g),H()},ut=(g,w)=>{const x=(f.value-L.value)/w*g;j(Math.min(f.value-L.value,x))},j=g=>{g=Math.max(g,0),g!==M(T).scrollOffset&&(T.value={...M(T),scrollOffset:g,scrollDir:de(M(T).scrollOffset,g),updateRequested:!0},at(_t))},K=(g,w=Gt)=>{const{scrollOffset:x}=M(T);g=Math.max(0,Math.min(g,o.total-1)),j(e(o,g,w,x,M(S)))},lt=g=>{const{direction:w,itemSize:x,layout:Y}=o,O=R.value(_&&x,_&&Y,_&&w);let $;if(Ha(O,String(g)))$=O[g];else{const F=i(o,g,M(S)),mt=a(o,g,M(S)),ht=M(N),Ft=w===Ut,Dt=ht?F:0;O[g]=$={position:"absolute",left:Ft?void 0:`${Dt}px`,right:Ft?`${Dt}px`:void 0,top:ht?0:`${F}px`,height:ht?"100%":`${mt}px`,width:ht?`${mt}px`:"100%"}}return $},_t=()=>{T.value.isScrolling=!1,at(()=>{R.value(-1,null,null)})},yt=()=>{const g=b.value;g&&(g.scrollTop=0)};he(()=>{if(!fe)return;const{initScrollOffset:g}=o,w=M(b);Yt(g)&&w&&(M(N)?w.scrollLeft=g:w.scrollTop=g),H()}),Oa(()=>{const{direction:g,layout:w}=o,{scrollOffset:x,updateRequested:Y}=M(T),O=M(b);if(Y&&O)if(w===Nt)if(g===Ut)switch(Be()){case _e:{O.scrollLeft=-x;break}case _a:{O.scrollLeft=x;break}default:{const{clientWidth:$,scrollWidth:F}=O;O.scrollLeft=F-$-x;break}}else O.scrollLeft=x;else O.scrollTop=x});const tt={ns:v,clientSize:L,estimatedTotalSize:f,windowStyle:h,windowRef:b,innerRef:C,innerStyle:I,itemsToRender:G,scrollbarRef:k,states:T,getItemStyle:lt,onScroll:nt,onScrollbarScroll:ut,onWheel:P,scrollTo:j,scrollToItem:K,resetScrollTop:yt};return l({windowRef:b,innerRef:C,getItemStyleCache:R,scrollTo:j,scrollToItem:K,resetScrollTop:yt,states:T}),tt},render(o){var u;const{$slots:l,className:y,clientSize:v,containerElement:S,data:R,getItemStyle:b,innerElement:C,itemsToRender:k,innerStyle:T,layout:G,total:f,onScroll:N,onScrollbarScroll:h,onWheel:I,states:L,useIsScrolling:P,windowStyle:H,ns:Z}=o,[J,nt]=k,ut=zt(S),j=zt(C),K=[];if(f>0)for(let tt=J;tt<=nt;tt++)K.push((u=l.default)==null?void 0:u.call(l,{data:R,key:tt,index:tt,isScrolling:P?L.isScrolling:void 0,style:b(tt)}));const lt=[Rt(j,{style:T,ref:"innerRef"},Le(j)?K:{default:()=>K})],_t=Rt($n,{ref:"scrollbarRef",clientSize:v,layout:G,onScroll:h,ratio:v*100/this.estimatedTotalSize,scrollFrom:L.scrollOffset/(this.estimatedTotalSize-v),total:f}),yt=Rt(ut,{class:[Z.e("window"),y],style:H,onScroll:N,onWheel:I,ref:"windowRef",key:0},Le(ut)?[lt]:{default:()=>[lt]});return Rt("div",{key:0,class:[Z.e("wrapper"),L.scrollbarAlwaysOn?"always-on":""]},[yt,_t])}}),Wn=ha({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:a,layout:i,width:d},r,s,n)=>{const _=Pt(i)?d:t,c=Math.max(0,e*a-_),o=Math.min(c,r*a),u=Math.max(0,(r+1)*a-_);switch(s===da&&(n>=u-_&&n<=o+_?s=Gt:s=Zt),s){case oa:return o;case la:return u;case Zt:{const l=Math.round(u+(o-u)/2);return l<Math.ceil(_/2)?0:l>c+Math.floor(_/2)?c:l}case Gt:default:return n>=u&&n<=o?n:n<u?u:o}},getStartIndexForOffset:({total:t,itemSize:e},a)=>Math.max(0,Math.min(t-1,Math.floor(a/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:a,layout:i,width:d},r,s)=>{const n=r*a,_=Pt(i)?d:t,c=Math.ceil((_+s-n)/a);return Math.max(0,Math.min(e-1,r+c-1))},initCache(){},clearCache:!0,validateProps(){}}),Lt=(t,e,a)=>{const{itemSize:i}=t,{items:d,lastVisitedIndex:r}=a;if(e>r){let s=0;if(r>=0){const n=d[r];s=n.offset+n.size}for(let n=r+1;n<=e;n++){const _=i(n);d[n]={offset:s,size:_},s+=_}a.lastVisitedIndex=e}return d[e]},Xn=(t,e,a)=>{const{items:i,lastVisitedIndex:d}=e;return(d>0?i[d].offset:0)>=a?fa(t,e,0,d,a):Yn(t,e,Math.max(0,d),a)},fa=(t,e,a,i,d)=>{for(;a<=i;){const r=a+Math.floor((i-a)/2),s=Lt(t,r,e).offset;if(s===d)return r;s<d?a=r+1:s>d&&(i=r-1)}return Math.max(0,a-1)},Yn=(t,e,a,i)=>{const{total:d}=t;let r=1;for(;a<d&&Lt(t,a,e).offset<i;)a+=r,r*=2;return fa(t,e,Math.floor(a/2),Math.min(a,d-1),i)},Ge=({total:t},{items:e,estimatedItemSize:a,lastVisitedIndex:i})=>{let d=0;if(i>=t&&(i=t-1),i>=0){const n=e[i];d=n.offset+n.size}const s=(t-i-1)*a;return d+s},Kn=ha({name:"ElDynamicSizeList",getItemOffset:(t,e,a)=>Lt(t,e,a).offset,getItemSize:(t,e,{items:a})=>a[e].size,getEstimatedTotalSize:Ge,getOffset:(t,e,a,i,d)=>{const{height:r,layout:s,width:n}=t,_=Pt(s)?n:r,c=Lt(t,e,d),o=Ge(t,d),u=Math.max(0,Math.min(o-_,c.offset)),l=Math.max(0,c.offset-_+c.size);switch(a===da&&(i>=l-_&&i<=u+_?a=Gt:a=Zt),a){case oa:return u;case la:return l;case Zt:return Math.round(l+(u-l)/2);case Gt:default:return i>=l&&i<=u?i:i<l?l:u}},getStartIndexForOffset:(t,e,a)=>Xn(t,a,e),getStopIndexForStartIndex:(t,e,a,i)=>{const{height:d,total:r,layout:s,width:n}=t,_=Pt(s)?n:d,c=Lt(t,e,i),o=a+_;let u=c.offset+c.size,l=e;for(;l<r-1&&u<o;)l++,u+=Lt(t,l,i).size;return l},initCache({estimatedItemSize:t=Vn},e){const a={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return a.clearCacheAfterIndex=(i,d=!0)=>{var r,s;a.lastVisitedIndex=Math.min(a.lastVisitedIndex,i-1),(r=e.exposed)==null||r.getItemStyleCache(-1),d&&((s=e.proxy)==null||s.$forceUpdate())},a},clearCache:!1,validateProps:({itemSize:t})=>{}}),qn=At({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:bt("select")}}});function Un(t,e,a,i,d,r){return t.item.isTitle?(z(),W("div",{key:0,class:V(t.ns.be("group","title")),style:ot([t.style,{lineHeight:`${t.height}px`}])},et(t.item.label),7)):(z(),W("div",{key:1,class:V(t.ns.be("group","split")),style:ot(t.style)},[X("span",{class:V(t.ns.be("group","split-dash")),style:ot({top:`${t.height/2}px`})},null,6)],6))}var jn=ge(qn,[["render",Un],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function Qn(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const Zn={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:Ka},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:qa.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:Ua},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:wt(String),values:ja,default:"bottom-start"}},Jn={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},ti=At({props:Jn,emits:["select","hover"],setup(t,{emit:e}){const a=bt("select"),{hoverItem:i,selectOptionClick:d}=Qn(t,{emit:e});return{ns:a,hoverItem:i,selectOptionClick:d}}}),ei=["aria-selected"];function ai(t,e,a,i,d,r){return z(),W("li",{"aria-selected":t.selected,style:ot(t.style),class:V([t.ns.be("dropdown","option-item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),{hover:t.hovering}]),onMouseenter:e[0]||(e[0]=(...s)=>t.hoverItem&&t.hoverItem(...s)),onClick:e[1]||(e[1]=Q((...s)=>t.selectOptionClick&&t.selectOptionClick(...s),["stop"]))},[qt(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[X("span",null,et(t.item.label),1)])],46,ei)}var ni=ge(ti,[["render",ai],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const ga=Symbol("ElSelectV2Injection");var ii=At({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(t,{slots:e,expose:a}){const i=za(ga),d=bt("select"),r=B([]),s=B(),n=E(()=>t.data.length);pt(()=>n.value,()=>{var h,I;(I=(h=i.popper.value).updatePopper)==null||I.call(h)});const _=E(()=>Qa(i.props.estimatedOptionHeight)),c=E(()=>_.value?{itemSize:i.props.itemHeight}:{estimatedSize:i.props.estimatedOptionHeight,itemSize:h=>r.value[h]}),o=(h=[],I)=>{const{props:{valueKey:L}}=i;return kt(I)?h&&h.some(P=>it(P,L)===it(I,L)):h.includes(I)},u=(h,I)=>{if(kt(I)){const{valueKey:L}=i.props;return it(h,L)===it(I,L)}else return h===I},l=(h,I)=>{const{valueKey:L}=i.props;return i.props.multiple?o(h,it(I,L)):u(h,it(I,L))},y=(h,I)=>{const{disabled:L,multiple:P,multipleLimit:H}=i.props;return L||!I&&(P?H>0&&h.length>=H:!1)},v=h=>t.hoveringIndex===h;a({listRef:s,isSized:_,isItemDisabled:y,isItemHovering:v,isItemSelected:l,scrollToItem:h=>{const I=s.value;I&&I.scrollToItem(h)},resetScrollTop:()=>{const h=s.value;h&&h.resetScrollTop()}});const b=h=>{const{index:I,data:L,style:P}=h,H=M(_),{itemSize:Z,estimatedSize:J}=M(c),{modelValue:nt}=i.props,{onSelect:ut,onHover:j}=i,K=L[I];if(K.type==="Group")return U(jn,{item:K,style:P,height:H?Z:J},null);const lt=l(nt,K),_t=y(nt,lt),yt=v(I);return U(ni,we(h,{selected:lt,disabled:K.disabled||_t,created:!!K.created,hovering:yt,item:K,onSelect:ut,onHover:j}),{default:tt=>{var g;return((g=e.default)==null?void 0:g.call(e,tt))||U("span",null,[K.label])}})},{onKeyboardNavigate:C,onKeyboardSelect:k}=i,T=()=>{C("forward")},G=()=>{C("backward")},f=()=>{i.expanded=!1},N=h=>{const{code:I}=h,{tab:L,esc:P,down:H,up:Z,enter:J}=Za;switch(I!==L&&(h.preventDefault(),h.stopPropagation()),I){case L:case P:{f();break}case H:{T();break}case Z:{G();break}case J:{k();break}}};return()=>{var h;const{data:I,width:L}=t,{height:P,multiple:H,scrollbarAlwaysOn:Z}=i.props;if(I.length===0)return U("div",{class:d.b("dropdown"),style:{width:`${L}px`}},[(h=e.empty)==null?void 0:h.call(e)]);const J=M(_)?Wn:Kn;return U("div",{class:[d.b("dropdown"),d.is("multiple",H)]},[U(J,we({ref:s},M(c),{className:d.be("dropdown","list"),scrollbarAlwaysOn:Z,data:I,height:P,width:L,total:I.length,onKeydown:N}),{default:nt=>U(b,nt,null)})])}}});function ri(t,e){const a=B(0),i=B(null),d=E(()=>t.allowCreate&&t.filterable);function r(o){const u=l=>l.value===o;return t.options&&t.options.some(u)||e.createdOptions.some(u)}function s(o){d.value&&(t.multiple&&o.created?a.value++:i.value=o)}function n(o){if(d.value)if(o&&o.length>0&&!r(o)){const u={value:o,label:o,created:!0,disabled:!1};e.createdOptions.length>=a.value?e.createdOptions[a.value]=u:e.createdOptions.push(u)}else if(t.multiple)e.createdOptions.length=a.value;else{const u=i.value;e.createdOptions.length=0,u&&u.created&&e.createdOptions.push(u)}}function _(o){if(!d.value||!o||!o.created||o.created&&t.reserveKeyword&&e.inputValue===o.label)return;const u=e.createdOptions.findIndex(l=>l.value===o.value);~u&&(e.createdOptions.splice(u,1),a.value--)}function c(){d.value&&(e.createdOptions.length=0,a.value=0)}return{createNewOption:n,removeNewOption:_,selectNewOption:s,clearAllNewOption:c}}const si=t=>{const e=[];return t.forEach(a=>{Bt(a.options)?(e.push({label:a.label,isTitle:!0,type:"Group"}),a.options.forEach(i=>{e.push(i)}),e.push({type:"Group"})):e.push(a)}),e};function di(t){const e=B(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:r=>{const s=r.target.value,n=s[s.length-1]||"";e.value=!Ja(n)},handleCompositionEnd:r=>{e.value&&(e.value=!1,le(t)&&t(r))}}}const Pe="",Fe=11,oi={larget:51,default:42,small:33},li=(t,e)=>{const{t:a}=tn(),i=bt("select-v2"),d=bt("input"),{form:r,formItem:s}=en(),n=Qt({inputValue:Pe,displayInputValue:Pe,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),_=B(-1),c=B(-1),o=B(null),u=B(null),l=B(null),y=B(null),v=B(null),S=B(null),R=B(null),b=B(!1),C=E(()=>t.disabled||(r==null?void 0:r.disabled)),k=E(()=>{const p=H.value.length*34;return p>t.height?t.height:p}),T=E(()=>!Ve(t.modelValue)),G=E(()=>{const p=t.multiple?Array.isArray(t.modelValue)&&t.modelValue.length>0:T.value;return t.clearable&&!C.value&&n.comboBoxHovering&&p}),f=E(()=>t.remote&&t.filterable?"":an),N=E(()=>f.value&&i.is("reverse",b.value)),h=E(()=>(s==null?void 0:s.validateState)||""),I=E(()=>nn[h.value]),L=E(()=>t.remote?300:0),P=E(()=>{const p=H.value;return t.loading?t.loadingText||a("el.select.loading"):t.remote&&n.inputValue===""&&p.length===0?!1:t.filterable&&n.inputValue&&p.length>0?t.noMatchText||a("el.select.noMatch"):p.length===0?t.noDataText||a("el.select.noData"):null}),H=E(()=>{const p=m=>{const A=n.inputValue,D=new RegExp(ln(A),"i");return A?D.test(m.label||""):!0};return t.loading?[]:si(t.options.concat(n.createdOptions).map(m=>{if(Bt(m.options)){const A=m.options.filter(p);if(A.length>0)return{...m,options:A}}else if(t.remote||p(m))return m;return null}).filter(m=>m!==null))}),Z=E(()=>H.value.every(p=>p.disabled)),J=rn(),nt=E(()=>J.value==="small"?"small":"default"),ut=E(()=>{const p=S.value,m=nt.value||"default",A=p?Number.parseInt(getComputedStyle(p).paddingLeft):0,D=p?Number.parseInt(getComputedStyle(p).paddingRight):0;return n.selectWidth-D-A-oi[m]}),j=()=>{var p;c.value=((p=v.value)==null?void 0:p.offsetWidth)||200},K=E(()=>({width:`${n.calculatedWidth===0?Fe:Math.ceil(n.calculatedWidth)+Fe}px`})),lt=E(()=>Bt(t.modelValue)?t.modelValue.length===0&&!n.displayInputValue:t.filterable?n.displayInputValue.length===0:!0),_t=E(()=>{const p=t.placeholder||a("el.select.placeholder");return t.multiple||Ve(t.modelValue)?p:n.selectedLabel}),yt=E(()=>{var p,m;return(m=(p=y.value)==null?void 0:p.popperRef)==null?void 0:m.contentRef}),tt=E(()=>{if(t.multiple){const p=t.modelValue.length;if(t.modelValue.length>0)return H.value.findIndex(m=>m.value===t.modelValue[p-1])}else if(t.modelValue)return H.value.findIndex(p=>p.value===t.modelValue);return-1}),g=E({get(){return b.value&&P.value!==!1},set(p){b.value=p}}),w=E(()=>n.cachedOptions.slice(0,t.maxCollapseTags)),x=E(()=>n.cachedOptions.slice(t.maxCollapseTags)),{createNewOption:Y,removeNewOption:O,selectNewOption:$,clearAllNewOption:F}=ri(t,n),{handleCompositionStart:mt,handleCompositionUpdate:ht,handleCompositionEnd:Ft}=di(p=>Re(p)),Dt=()=>{var p,m,A;(m=(p=u.value)==null?void 0:p.focus)==null||m.call(p),(A=y.value)==null||A.updatePopper()},ae=()=>{if(!t.automaticDropdown&&!C.value)return n.isComposing&&(n.softFocus=!0),at(()=>{var p,m;b.value=!b.value,(m=(p=u.value)==null?void 0:p.focus)==null||m.call(p)})},be=()=>(t.filterable&&n.inputValue!==n.selectedLabel&&(n.query=n.selectedLabel),Te(n.inputValue),at(()=>{Y(n.inputValue)})),Ee=sn(be,L.value),Te=p=>{n.previousQuery!==p&&(n.previousQuery=p,t.filterable&&le(t.filterMethod)?t.filterMethod(p):t.filterable&&t.remote&&le(t.remoteMethod)&&t.remoteMethod(p))},Ta=p=>{xe(t.modelValue,p)||e(Ze,p)},Vt=p=>{e(Qe,p),Ta(p),n.previousValue=p==null?void 0:p.toString()},Aa=(p=[],m)=>{if(!kt(m))return p.indexOf(m);const A=t.valueKey;let D=-1;return p.some((rt,st)=>it(rt,A)===it(m,A)?(D=st,!0):!1),D},Et=p=>kt(p)?it(p,t.valueKey):p,Ia=p=>kt(p)?p.label:p,ne=()=>at(()=>{var p,m;if(!u.value)return;const A=S.value;v.value.height=A.offsetHeight,b.value&&P.value!==!1&&((m=(p=y.value)==null?void 0:p.updatePopper)==null||m.call(p))}),Ae=()=>{var p,m;if(Ca(),j(),(m=(p=y.value)==null?void 0:p.updatePopper)==null||m.call(p),t.multiple)return ne()},Ca=()=>{const p=S.value;p&&(n.selectWidth=p.getBoundingClientRect().width)},Ie=(p,m,A=!0)=>{var D,rt;if(t.multiple){let st=t.modelValue.slice();const Wt=Aa(st,Et(p));Wt>-1?(st=[...st.slice(0,Wt),...st.slice(Wt+1)],n.cachedOptions.splice(Wt,1),O(p)):(t.multipleLimit<=0||st.length<t.multipleLimit)&&(st=[...st,Et(p)],n.cachedOptions.push(p),$(p),Tt(m)),Vt(st),p.created&&(n.query="",Te(""),n.inputLength=20),t.filterable&&!t.reserveKeyword&&((rt=(D=u.value).focus)==null||rt.call(D),$t("")),t.filterable&&(n.calculatedWidth=R.value.getBoundingClientRect().width),ne(),Da()}else _.value=m,n.selectedLabel=p.label,Vt(Et(p)),b.value=!1,n.isComposing=!1,n.isSilentBlur=A,$(p),p.created||F(),Tt(m)},Sa=(p,m)=>{const{valueKey:A}=t,D=t.modelValue.indexOf(it(m,A));if(D>-1&&!C.value){const rt=[...t.modelValue.slice(0,D),...t.modelValue.slice(D+1)];return n.cachedOptions.splice(D,1),Vt(rt),e("remove-tag",it(m,A)),n.softFocus=!0,O(m),at(Dt)}p.stopPropagation()},Ma=p=>{const m=n.isComposing;n.isComposing=!0,n.softFocus?n.softFocus=!1:m||e("focus",p)},Ce=p=>(n.softFocus=!1,at(()=>{var m,A;(A=(m=u.value)==null?void 0:m.blur)==null||A.call(m),R.value&&(n.calculatedWidth=R.value.getBoundingClientRect().width),n.isSilentBlur?n.isSilentBlur=!1:n.isComposing&&e("blur",p),n.isComposing=!1})),Ra=()=>{n.displayInputValue.length>0?$t(""):b.value=!1},La=p=>{if(n.displayInputValue.length===0){p.preventDefault();const m=t.modelValue.slice();m.pop(),O(n.cachedOptions.pop()),Vt(m)}},wa=()=>{let p;return Bt(t.modelValue)?p=[]:p=void 0,n.softFocus=!0,t.multiple?n.cachedOptions=[]:n.selectedLabel="",b.value=!1,Vt(p),e("clear"),F(),at(Dt)},$t=p=>{n.displayInputValue=p,n.inputValue=p},Se=(p,m=void 0)=>{const A=H.value;if(!["forward","backward"].includes(p)||C.value||A.length<=0||Z.value)return;if(!b.value)return ae();m===void 0&&(m=n.hoveringIndex);let D=-1;p==="forward"?(D=m+1,D>=A.length&&(D=0)):p==="backward"&&(D=m-1,(D<0||D>=A.length)&&(D=A.length-1));const rt=A[D];if(rt.disabled||rt.type==="Group")return Se(p,D);Tt(D),ie(D)},Na=()=>{if(b.value)~n.hoveringIndex&&H.value[n.hoveringIndex]&&Ie(H.value[n.hoveringIndex],n.hoveringIndex,!1);else return ae()},Tt=p=>{n.hoveringIndex=p},Me=()=>{n.hoveringIndex=-1},Da=()=>{var p;const m=u.value;m&&((p=m.focus)==null||p.call(m))},Re=p=>{const m=p.target.value;if($t(m),n.displayInputValue.length>0&&!b.value&&(b.value=!0),n.calculatedWidth=R.value.getBoundingClientRect().width,t.multiple&&ne(),t.remote)Ee();else return be()},Va=()=>(b.value=!1,Ce()),xa=()=>(n.inputValue=n.displayInputValue,at(()=>{~tt.value&&(Tt(tt.value),ie(n.hoveringIndex))})),ie=p=>{l.value.scrollToItem(p)},re=()=>{if(Me(),t.multiple)if(t.modelValue.length>0){let p=!1;n.cachedOptions.length=0,n.previousValue=t.modelValue.toString(),t.modelValue.forEach(m=>{const A=H.value.findIndex(D=>Et(D)===m);~A&&(n.cachedOptions.push(H.value[A]),p||Tt(A),p=!0)})}else n.cachedOptions=[],n.previousValue=void 0;else if(T.value){n.previousValue=t.modelValue;const p=H.value,m=p.findIndex(A=>Et(A)===Et(t.modelValue));~m?(n.selectedLabel=p[m].label,Tt(m)):n.selectedLabel=`${t.modelValue}`}else n.selectedLabel="",n.previousValue=void 0;F(),j()};return pt(b,p=>{var m,A;e("visible-change",p),p?(A=(m=y.value).update)==null||A.call(m):(n.displayInputValue="",n.previousQuery=null,Y(""))}),pt(()=>t.modelValue,(p,m)=>{var A;(!p||p.toString()!==n.previousValue)&&re(),!xe(p,m)&&t.validateEvent&&((A=s==null?void 0:s.validate)==null||A.call(s,"change").catch(D=>dn()))},{deep:!0}),pt(()=>t.options,()=>{const p=u.value;(!p||p&&document.activeElement!==p)&&re()},{deep:!0}),pt(H,()=>at(l.value.resetScrollTop)),pt(()=>g.value,p=>{p||Me()}),he(()=>{re()}),on(v,Ae),{collapseTagSize:nt,currentPlaceholder:_t,expanded:b,emptyText:P,popupHeight:k,debounce:L,filteredOptions:H,iconComponent:f,iconReverse:N,inputWrapperStyle:K,popperSize:c,dropdownMenuVisible:g,hasModelValue:T,shouldShowPlaceholder:lt,selectDisabled:C,selectSize:J,showClearBtn:G,states:n,tagMaxWidth:ut,nsSelectV2:i,nsInput:d,calculatorRef:R,controlRef:o,inputRef:u,menuRef:l,popper:y,selectRef:v,selectionRef:S,popperRef:yt,validateState:h,validateIcon:I,showTagList:w,collapseTagList:x,debouncedOnInputChange:Ee,deleteTag:Sa,getLabel:Ia,getValueKey:Et,handleBlur:Ce,handleClear:wa,handleClickOutside:Va,handleDel:La,handleEsc:Ra,handleFocus:Ma,handleMenuEnter:xa,handleResize:Ae,toggleMenu:ae,scrollTo:ie,onInput:Re,onKeyboardNavigate:Se,onKeyboardSelect:Na,onSelect:Ie,onHover:Tt,onUpdateInputValue:$t,handleCompositionStart:mt,handleCompositionEnd:Ft,handleCompositionUpdate:ht}},_i=At({name:"ElSelectV2",components:{ElSelectMenu:ii,ElTag:_n,ElTooltip:cn,ElIcon:pn},directives:{ClickOutside:un,ModelText:je},props:Zn,emits:[Qe,Ze,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const a=E(()=>{const{modelValue:d,multiple:r}=t,s=r?[]:void 0;return Bt(d)?r?d:s:r?s:d}),i=li(Qt({...Ne(t),modelValue:a}),e);return ka(ga,{props:Qt({...Ne(t),height:i.popupHeight,modelValue:a}),popper:i.popper,onSelect:i.onSelect,onHover:i.onHover,onKeyboardNavigate:i.onKeyboardNavigate,onKeyboardSelect:i.onKeyboardSelect}),{...i,modelValue:a}}}),ci={key:0},pi=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],ui=["textContent"],yi=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],mi=["textContent"];function hi(t,e,a,i,d,r){const s=Xt("el-tag"),n=Xt("el-tooltip"),_=Xt("el-icon"),c=Xt("el-select-menu"),o=De("model-text"),u=De("click-outside");return Ht((z(),W("div",{ref:"selectRef",class:V([t.nsSelectV2.b(),t.nsSelectV2.m(t.selectSize)]),onClick:e[24]||(e[24]=Q((...l)=>t.toggleMenu&&t.toggleMenu(...l),["stop"])),onMouseenter:e[25]||(e[25]=l=>t.states.comboBoxHovering=!0),onMouseleave:e[26]||(e[26]=l=>t.states.comboBoxHovering=!1)},[U(n,{ref:"popper",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelectV2.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:e[23]||(e[23]=l=>t.states.inputValue=t.states.displayInputValue)},{default:q(()=>[X("div",{ref:"selectionRef",class:V([t.nsSelectV2.e("wrapper"),t.nsSelectV2.is("focused",t.states.isComposing||t.expanded),t.nsSelectV2.is("hovering",t.states.comboBoxHovering),t.nsSelectV2.is("filterable",t.filterable),t.nsSelectV2.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(z(),W("div",ci,[qt(t.$slots,"prefix")])):ft("v-if",!0),t.multiple?(z(),W("div",{key:1,class:V(t.nsSelectV2.e("selection"))},[t.collapseTags&&t.modelValue.length>0?(z(),W(xt,{key:0},[(z(!0),W(xt,null,se(t.showTagList,l=>(z(),W("div",{key:t.getValueKey(l),class:V(t.nsSelectV2.e("selected-item"))},[U(s,{closable:!t.selectDisabled&&!(l!=null&&l.disable),size:t.collapseTagSize,type:"info","disable-transitions":"",onClose:y=>t.deleteTag(y,l)},{default:q(()=>[X("span",{class:V(t.nsSelectV2.e("tags-text")),style:ot({maxWidth:`${t.tagMaxWidth}px`})},et(l==null?void 0:l.label),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),X("div",{class:V(t.nsSelectV2.e("selected-item"))},[t.modelValue.length>t.maxCollapseTags?(z(),gt(s,{key:0,closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""},{default:q(()=>[t.collapseTagsTooltip?(z(),gt(n,{key:0,disabled:t.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:!1},{default:q(()=>[X("span",{class:V(t.nsSelectV2.e("tags-text")),style:ot({maxWidth:`${t.tagMaxWidth}px`})},"+ "+et(t.modelValue.length-t.maxCollapseTags),7)]),content:q(()=>[X("div",{class:V(t.nsSelectV2.e("selection"))},[(z(!0),W(xt,null,se(t.collapseTagList,l=>(z(),W("div",{key:t.getValueKey(l),class:V(t.nsSelectV2.e("selected-item"))},[U(s,{closable:!t.selectDisabled&&!l.disabled,size:t.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:y=>t.deleteTag(y,l)},{default:q(()=>[X("span",{class:V(t.nsSelectV2.e("tags-text")),style:ot({maxWidth:`${t.tagMaxWidth}px`})},et(t.getLabel(l)),7)]),_:2},1032,["closable","size","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect"])):(z(),W("span",{key:1,class:V(t.nsSelectV2.e("tags-text")),style:ot({maxWidth:`${t.tagMaxWidth}px`})},"+ "+et(t.modelValue.length-t.maxCollapseTags),7))]),_:1},8,["size"])):ft("v-if",!0)],2)],64)):(z(!0),W(xt,{key:1},se(t.states.cachedOptions,l=>(z(),W("div",{key:t.getValueKey(l),class:V(t.nsSelectV2.e("selected-item"))},[U(s,{closable:!t.selectDisabled&&!l.disabled,size:t.collapseTagSize,type:"info","disable-transitions":"",onClose:y=>t.deleteTag(y,l)},{default:q(()=>[X("span",{class:V(t.nsSelectV2.e("tags-text")),style:ot({maxWidth:`${t.tagMaxWidth}px`})},et(t.getLabel(l)),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),X("div",{class:V([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-wrapper")]),style:ot(t.inputWrapperStyle)},[Ht(X("input",{id:t.id,ref:"inputRef",autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-labelledby":t.label,class:V([t.nsSelectV2.is(t.selectSize),t.nsSelectV2.e("combobox-input")]),disabled:t.disabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,unselectable:t.expanded?"on":void 0,"onUpdate:modelValue":e[0]||(e[0]=(...l)=>t.onUpdateInputValue&&t.onUpdateInputValue(...l)),onFocus:e[1]||(e[1]=(...l)=>t.handleFocus&&t.handleFocus(...l)),onBlur:e[2]||(e[2]=(...l)=>t.handleBlur&&t.handleBlur(...l)),onInput:e[3]||(e[3]=(...l)=>t.onInput&&t.onInput(...l)),onCompositionstart:e[4]||(e[4]=(...l)=>t.handleCompositionStart&&t.handleCompositionStart(...l)),onCompositionupdate:e[5]||(e[5]=(...l)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...l)),onCompositionend:e[6]||(e[6]=(...l)=>t.handleCompositionEnd&&t.handleCompositionEnd(...l)),onKeydown:[e[7]||(e[7]=ct(Q(l=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[8]||(e[8]=ct(Q(l=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[9]||(e[9]=ct(Q((...l)=>t.onKeyboardSelect&&t.onKeyboardSelect(...l),["stop","prevent"]),["enter"])),e[10]||(e[10]=ct(Q((...l)=>t.handleEsc&&t.handleEsc(...l),["stop","prevent"]),["esc"])),e[11]||(e[11]=ct(Q((...l)=>t.handleDel&&t.handleDel(...l),["stop"]),["delete"]))]},null,42,pi),[[o,t.states.displayInputValue]]),t.filterable?(z(),W("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:V(t.nsSelectV2.e("input-calculator")),textContent:et(t.states.displayInputValue)},null,10,ui)):ft("v-if",!0)],6)],2)):(z(),W(xt,{key:2},[X("div",{class:V([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-wrapper")])},[Ht(X("input",{id:t.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":t.label,"aria-expanded":t.expanded,autocapitalize:"off",autocomplete:t.autocomplete,class:V(t.nsSelectV2.e("combobox-input")),disabled:t.disabled,name:t.name,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",unselectable:t.expanded?"on":void 0,onCompositionstart:e[12]||(e[12]=(...l)=>t.handleCompositionStart&&t.handleCompositionStart(...l)),onCompositionupdate:e[13]||(e[13]=(...l)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...l)),onCompositionend:e[14]||(e[14]=(...l)=>t.handleCompositionEnd&&t.handleCompositionEnd(...l)),onFocus:e[15]||(e[15]=(...l)=>t.handleFocus&&t.handleFocus(...l)),onBlur:e[16]||(e[16]=(...l)=>t.handleBlur&&t.handleBlur(...l)),onInput:e[17]||(e[17]=(...l)=>t.onInput&&t.onInput(...l)),onKeydown:[e[18]||(e[18]=ct(Q(l=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[19]||(e[19]=ct(Q(l=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[20]||(e[20]=ct(Q((...l)=>t.onKeyboardSelect&&t.onKeyboardSelect(...l),["stop","prevent"]),["enter"])),e[21]||(e[21]=ct(Q((...l)=>t.handleEsc&&t.handleEsc(...l),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":e[22]||(e[22]=(...l)=>t.onUpdateInputValue&&t.onUpdateInputValue(...l))},null,42,yi),[[o,t.states.displayInputValue]])],2),t.filterable?(z(),W("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:V([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-calculator")]),textContent:et(t.states.displayInputValue)},null,10,mi)):ft("v-if",!0)],64)),t.shouldShowPlaceholder?(z(),W("span",{key:3,class:V([t.nsSelectV2.e("placeholder"),t.nsSelectV2.is("transparent",t.multiple?t.modelValue.length===0:!t.hasModelValue)])},et(t.currentPlaceholder),3)):ft("v-if",!0),X("span",{class:V(t.nsSelectV2.e("suffix"))},[t.iconComponent?Ht((z(),gt(_,{key:0,class:V([t.nsSelectV2.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:q(()=>[(z(),gt(zt(t.iconComponent)))]),_:1},8,["class"])),[[Ba,!t.showClearBtn]]):ft("v-if",!0),t.showClearBtn&&t.clearIcon?(z(),gt(_,{key:1,class:V([t.nsSelectV2.e("caret"),t.nsInput.e("icon")]),onClick:Q(t.handleClear,["prevent","stop"])},{default:q(()=>[(z(),gt(zt(t.clearIcon)))]),_:1},8,["class","onClick"])):ft("v-if",!0),t.validateState&&t.validateIcon?(z(),gt(_,{key:2,class:V([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:q(()=>[(z(),gt(zt(t.validateIcon)))]),_:1},8,["class"])):ft("v-if",!0)],2)],2)]),content:q(()=>[U(c,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},{default:q(l=>[qt(t.$slots,"default",Ga(Pa(l)))]),empty:q(()=>[qt(t.$slots,"empty",{},()=>[X("p",{class:V(t.nsSelectV2.e("empty"))},et(t.emptyText?t.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[u,t.handleClickOutside,t.popperRef]])}var jt=ge(_i,[["render",hi],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);jt.install=t=>{t.component(jt.name,jt)};const fi=jt,gi=fi;class va extends ee{constructor(e,a){super(),this.x=0,this.y=0,this.width=8,this.height=5,this.color="#919EAB",this.rotate=0,this.ctx=e,this.analysisOptions(a)}analysisOptions(e){Object.assign(this,e)}draw(){const{ctx:e,x:a,y:i,width:d,height:r,color:s,rotate:n}=this;e.save(),e.beginPath(),e.fillStyle=s,e.translate(a,i),n&&e.rotate(n*Math.PI/180),e.moveTo(-d/2,-r/2),e.lineTo(0,r/2),e.lineTo(d/2,-r/2),e.fill(),e.restore()}containsPoint(e,a=!1){var y;const{width:i,height:d,x:r,y:s}=this,{x:n,y:_}=e,c=this.getImageLines({tl:{x:r-i/2,y:s-d/2},tr:{x:r+i/2,y:s-d/2},bl:{x:r-i/2,y:s+d/2},br:{x:r+i/2,y:s+d/2}}),u=!!(this.findCrossPoints(n,_,c)%2);u&&a&&((y=this.tiggerFunc)==null||y.call(this));const l={type:null,id:null};return u&&(l.type="icon"),l}}class vi extends ee{constructor(e,a){super(),this.x=0,this.y=0,this.circleRadius=8,this.minus=!1,this.ctx=e,this.analysisOptions(a)}analysisOptions(e){this.x=e.x,this.y=e.y,this.minus=e.minus,this.bdC=e.bdC,this.textColor=e.textColor,this.tiggerFunc=e.tiggerFunc}draw(){const{ctx:e,x:a,y:i,bdC:d,textColor:r,minus:s,circleRadius:n}=this;e.save(),e.beginPath(),e.strokeStyle=d,e.fillStyle="#ffffff",e.arc(a,i,n,0,260),e.fill(),e.stroke(),e.beginPath(),e.fillStyle=r,e.lineWidth=2,e.moveTo(a-4,i),e.lineTo(a+4,i),s||(e.moveTo(a,i-4),e.lineTo(a,i+4)),e.stroke(),e.restore()}containsPoint(e,a=!1){var l;const{circleRadius:i,x:d,y:r}=this,{x:s,y:n}=e,_=this.getImageLines({tl:{x:d-i,y:r-i},tr:{x:d+i,y:r-i},bl:{x:d-i,y:r+i},br:{x:d+i,y:r+i}}),o=!!(this.findCrossPoints(s,n,_)%2);o&&a&&((l=this.tiggerFunc)==null||l.call(this));const u={type:null,id:null};return o&&(u.type="icon"),u}}class bi extends ee{constructor(e,a){super(),this.width=260,this.height=0,this.titleHeight=30,this.titlePaddingX=12,this.titlePaddingY=8,this.bdC="#0C64EB",this.textColor="#0C64EB",this.bgC="#D0E2FF",this.attrHeight=24,this.borderWidth=1,this.datatypeIconWidth=14,this.expandLeft=!0,this.expandRight=!0,this.x=0,this.y=0,this.ctx=e,this.updateOptions(a)}analysisOptions(e){if(!e)return;const{x:a=0,y:i=0,id:d,enName:r,cnName:s,type:n,attributes:_,bdC:c,textColor:o,bgC:u}=e;vt(a)&&(this.x=a),vt(i)&&(this.y=i),d&&(this.id=d),r&&(this.enName=r),s&&(this.cnName=s),n&&(this.type=n),_&&(this.attributes=_),c&&(this.bdC=c),o&&(this.textColor=o),u&&(this.bgC=u)}updateOptions(e){this.analysisOptions(e),this.calcBoundingBox()}containsPoint(e,a=!1){var G,f;const{x:i,y:d}=e,{x:r,y:s,width:n,attrHeight:_,titleHeight:c,expandLeft:o,attributes:u,children:l}=this,y={type:null,id:this.id},v=o?c+_*u.length:c,S=this.getImageLines({tl:{x:r,y:s},tr:{x:r+n,y:s},bl:{x:r,y:s+v},br:{x:r+n,y:s+v}});if(!!!(this.findCrossPoints(i,d,S)%2))return y;for(let N=0;N<l.length;N++){const h=l[N];if(((G=h.containsPoint)==null?void 0:G.call(h,e,a)).type)return y.type="lineage-node",y}const C=d-s,k=Math.floor((C-c)/_),T=(f=u[k])==null?void 0:f.id;return T&&(y.type="attribute",y.id=T),y}draw(e){var a;this.updateOptions(e),this.children=[],this.expandLeft&&this.drawBody(),this.drawTitle(),(a=this.attributes)!=null&&a.length&&this.drawDropDownIcon()}drawBody(){const{ctx:e,x:a,y:i,width:d,titleHeight:r,attrHeight:s,titlePaddingX:n,attributes:_,datatypeIconWidth:c}=this;e.save(),e.strokeStyle="#C1C7CD",e.fillStyle="#ffffff";const o=r+s*_.length;e.drawRoundedRect(a,i,d,o,4,4,4,4,!0,!0,!1,!1),e.translate(a,i+r),e.fillStyle="#161616",e.textBaseline="top",e.font="14px PingFang SC";const u=d-n*2;for(let l=0;l<_.length;l++){const y=_[l];e.moveTo(0,s*l),l&&e.lineTo(d,s*l);const v=e.fittingString(y.enName,u-c);this.drawDataType(y.type,n,s*l+(s-14)/2),e.fillText(v,n+c,s*l+(s-14)/2)}e.stroke(),e.restore()}drawDataType(e,a,i){var n;const d=(n=e==null?void 0:e.replace(/[^A-Za-z0-9]/g,""))==null?void 0:n.toLocaleUpperCase();let r;if(d in yn?r=Ot.get("date"):d in mn?r=Ot.get("number"):d in hn?r=Ot.get("string"):d in fn?r=Ot.get("boolean"):d in gn&&(r=Ot.get("binary")),!r)return!1;const{ctx:s}=this;s.drawImage(r,a-6,i-2)}drawTitle(){const{ctx:e,x:a,y:i,width:d,titleHeight:r,bdC:s,bgC:n,textColor:_,enName:c,titlePaddingX:o,titlePaddingY:u,expandLeft:l,attributes:y}=this;e.save(),e.strokeStyle=s,e.fillStyle=n;const v=l&&y.length?0:4;e.drawRoundedRect(a,i,d,r,4,4,v,v,!0,!0,!1,!1),e.textBaseline="top",e.font="14px PingFang SC",e.fillStyle=_;const S=d-o*2-4,R=e.fittingString(c,S);e.fillText(R,a+o+4,i+u),e.restore()}drawCircleIcon(){const{ctx:e,x:a,y:i,width:d,titleHeight:r,bdC:s,textColor:n,expandRight:_}=this,c=a+d,o=i+r/2,u=new vi(e,{x:c,y:o,minus:_,bdC:s,textColor:n,tiggerFunc:this.accordionRight.bind(this)});u.draw(),this.children.push(u)}drawDropDownIcon(){const{ctx:e,x:a,y:i,titleHeight:d,titlePaddingX:r,expandLeft:s}=this,n=a+r/2+2,_=i+d/2,c=new va(e,{x:n,y:_,rotate:s?0:180,tiggerFunc:this.accordionLeft.bind(this)});c.draw(),this.children.push(c)}accordionLeft(){return this.calcBoundingBox(),this.expandLeft=!this.expandLeft}accordionRight(){return this.expandRight=!this.expandRight}calcBoundingBox(){const{x:e,y:a,width:i,attrHeight:d,expandLeft:r,titleHeight:s,attributes:n}=this,_=this.height=r?s+d*n.length:s;this.boundingBox=[[e,a],[e+i,a],[e,a+_],[e+i,a+_]]}getLinePosition(e){const{x:a,y:i,titleHeight:d,expandLeft:r,attributes:s,attrHeight:n,id:_}=this,c={x:a,y:i};if(r&&e!==_){const o=s.findIndex(u=>u.id===e);c.y=i+d+n*(o+.5)}else c.y=i+d/2;return c}}const $e=(t,e,a,i,d)=>{const[r,s]=e,[n,_]=d,[c,o]=a,[u,l]=i,y=r*(1-t)*(1-t)*(1-t)+3*c*t*(1-t)*(1-t)+3*u*t*t*(1-t)+n*t*t*t,v=s*(1-t)*(1-t)*(1-t)+3*o*t*(1-t)*(1-t)+3*l*t*t*(1-t)+_*t*t*t;return[y,v]},We=(t,e,a,i,d)=>{const r=-t+3*e-3*a+i,s=3*t-6*e+3*a,n=-3*t+3*e,_=t-d,c=Math.pow(s,2)-3*r*n,o=s*n-9*r*_,u=Math.pow(n,2)-3*s*_,l=Math.pow(o,2)-4*c*u;let y=-100,v=-100,S=-100;if(c===o&&c===0)return y=-s/(3*r),v=-n/s,S=-3*_/n,[y,v,S];if(l>0){const R=Math.pow(o,2)-4*c*u,b=R<0?-1:1,C=c*s+3*r*(-o+(R*b)**(1/2)*b)/2,k=c*s+3*r*(-o-(R*b)**(1/2)*b)/2,T=C<0?-1:1,G=k<0?-1:1;y=(-s-(C*T)**(1/3)*T-(k*G)**(1/3)*G)/(3*r)}if(l===0){const R=o/c;y=-s/r+R,v=S=-R/2}if(l<0){const R=c<0?-1:1,b=(2*c*s-3*r*o)/(2*(c*R)**(3/2)*R),C=Math.acos(b);c>0&&b<1&&b>-1&&(y=(-s-2*c**(1/2)*Math.cos(C/3))/(3*r),v=(-s+c**(1/2)*(Math.cos(C/3)+3**(1/2)*Math.sin(C/3)))/(3*r),S=(-s+c**(1/2)*(Math.cos(C/3)-3**(1/2)*Math.sin(C/3)))/(3*r))}return[y,v,S]},Ei=(t,e,a)=>{const{startX:i,startY:d,cp1x:r,cp1y:s,cp2x:n,cp2y:_,endX:c,endY:o}=a,u=We(i,r,n,c,t);for(let y=0;y<3;y++)if(u[y]<=1&&u[y]>=0){const v=$e(u[y],[i,d],[r,s],[n,_],[c,o]);if(Math.abs(v[1]-e)<8)return!0}const l=We(d,s,_,o,e);for(let y=0;y<3;y++)if(l[y]<=1&&l[y]>=0){const v=$e(l[y],[i,d],[r,s],[n,_],[c,o]);if(Math.abs(v[0]-t)<8)return!0}return!1};class Mt extends ee{constructor(e,a){super(),this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.cp=60,this.cp1x=0,this.cp1y=0,this.cp2x=0,this.cp2y=0,this.bdC="#0C64EB",this.lineWidth=1,this.ctx=e,this.analysisOptions(a),this.createBezierPath(),this.calcBoundingBox()}analysisOptions(e){if(!e)return;const{startX:a,startY:i,endX:d,endY:r,type:s,lineWidth:n=1,from:_,to:c,id:o}=e;o&&(this.id=o),_&&(this.from=_),c&&(this.to=c),vt(a)&&(this.startX=a),vt(i)&&(this.startY=i),vt(d)&&(this.endX=d),vt(r)&&(this.endY=r),s&&(this.type=s),n&&(this.lineWidth=n)}updateOptions(e){this.analysisOptions(e),this.calcBoundingBox()}createBezierPath(){const{cp:e,startX:a,startY:i,endX:d,endY:r}=this,s=this.cp1x=a+e,n=this.cp1y=i,_=this.cp2x=d-e,c=this.cp2y=r,o=this.path=new Path2D;o.moveTo(a,i),o.bezierCurveTo(s,n,_,c,d,r)}draw(e){this.analysisOptions(e),this.createBezierPath();const{ctx:a,bdC:i,lineDash:d,lineWidth:r,path:s}=this;a.save(),a.strokeStyle=i,r&&(a.lineWidth=r),d&&a.setLineDash(d),a.stroke(s),a.restore(),this.drawArrow()}containsPoint(e){const{x:a,y:i}=e,{startX:d,startY:r,endX:s,endY:n,cp1x:_,cp1y:c,cp2x:o,cp2y:u,id:l}=this,y=Ei(a,i,{startX:d,startY:r,endX:s,endY:n,cp1x:_,cp1y:c,cp2x:o,cp2y:u}),v={type:null,id:null};return y&&(v.type="line",v.id=l),v}drawArrow(){const{ctx:e,endX:a,endY:i,bdC:d}=this,r=10,s=6;new va(e,{x:a-s/2,y:i,width:r,height:s,rotate:270,color:d}).draw()}calcBoundingBox(){const{startX:e,startY:a,endX:i,endY:d}=this;this.boundingBox=[[e,a],[i,d]]}}class Ti extends vn{constructor(e){super(),this.graphStartX=20,this.graphStartY=20,bn(),this.analysisOptions(e),this.initCanvasDom(),this.mountCanvasEvents(),this.mountPlugins(),En().then(()=>this.update())}analysisOptions(e){const{el:a,data:i={table:[],relationship:[]},editable:d=Tn.Edit,graphStartX:r,graphStartY:s,useThumbnail:n}=e;a&&(this.el=a),d&&(this.editable=d),vt(r)&&(this.graphStartX=r),vt(s)&&(this.graphStartY=s),i&&this.updateData(i),An(n)&&(this.useThumbnail=n)}updateData(e){e&&(this.data=e,this.nodeMap=new Map,this.attrMap=new Map,this.lineMap=new Map,this.lineageMap=new Map,this.nodeMatrix=[])}initCanvasDom(){this.canvas=new In({mountEl:this.el,backgroundType:Cn.Color})}mountCanvasEvents(){this._bindEventMousedown=this.onMouseDown.bind(this),this._bindEventMousemove=this.onMouseMove.bind(this),this._bindEventMouseup=this.onMouseUp.bind(this),this._bindEventResize=this.onResize.bind(this),this._bindEventWheel=this.onWheel.bind(this),this.canvas.on(dt.Resize,this._bindEventResize),this.canvas.on(dt.Wheel,this._bindEventWheel),this.canvas.on(dt.Mouseup,this._bindEventMouseup),this.canvas.on(dt.Mousedown,this._bindEventMousedown),this.canvas.on(dt.Mousemove,this._bindEventMousemove)}unmountCanvasEvents(){this.canvas.off(dt.Resize,this._bindEventResize),this.canvas.off(dt.Wheel,this._bindEventWheel),this.canvas.off(dt.Mouseup,this._bindEventMouseup),this.canvas.off(dt.Mousedown,this._bindEventMousedown),this.canvas.off(dt.Mousemove,this._bindEventMousemove)}freeVariable(){this.el=null,this.editable=null,this.data=null,this.nodeMap=null,this.attrMap=null,this.lineMap=null,this.canvas=null,this.hoverTargetId=null,this.activeTargets=[]}mountPlugins(){this.plugins=new Sn,this.useThumbnail&&this.plugins.use(Oe.Thumbnail,{mountEl:this.canvas.boxEl,mainCanvas:this.canvas}).on(Ct.MouseDown,(e,a,i)=>{i&&this.update(),this.emit(Ct.MouseDown,e,a)}).on(Ct.Move,(e,a,i)=>{i&&this.update(),this.emit(Ct.Move,e,a)}).on(Ct.MouseUp,(e,a)=>{this.emit(Ct.MouseUp,e,a)})}unmountPlugins(){this.plugins.destroy()}update(e){this.canvas&&(this.updateData(e),this.canvas.clearCacheCanvas(),this.initNodes(),this.initLines(),this.makeNodeMatrix(),this.renderNodes(),this.renderLines(),this.canvas.update(),this.updateThumbnail())}async updateThumbnail(){const e=this.plugins.get(Oe.Thumbnail);if(!e)return!1;await Mn();const{width:a,height:i}=this.canvas.getRenderSize();let d=0,r=0,s=a,n=i;this.nodeMap.forEach(_=>{const{x:c,y:o,width:u,height:l}=_;c<d&&(d=c),o<r&&(r=o),c+u>s&&(s=c+u),o+l>n&&(n=o+l)}),e.draw(d,r,s,n,_=>{this.nodeMap.forEach(c=>{const{x:o,y:u,width:l,height:y,bgC:v,bdC:S}=c;_.save(),_.fillStyle=v||"#fff",_.fillRect(o,u,l,y),_.strokeStyle=S||"#000",_.strokeRect(o,u,l,y),_.restore()})})}renderNodes(){const{nodeMatrix:e,nodeMap:a,graphStartX:i,graphStartY:d}=this;for(let r=0;r<e.length;r++){const s=e[r];let n=d;for(let _=0;_<s.length;_++){const c=s[_],o=a.get(c);o.updateOptions({x:(o.width+100)*r+i,y:n}),this.canvas.isVisible(o.boundingBox)&&o.draw(),n+=(o.expandLeft?o.attributes.length*o.attrHeight:0)+o.titleHeight+20}}}initNodes(){var a;const e=(a=this.data)==null?void 0:a.table;if(e!=null&&e.length)for(let i=0;i<e.length;i++){const d=e[i];let r=this.nodeMap.get(d.id);if(!r){r=new bi(this.canvas.cacheCtx,d),this.nodeMap.set(d.id,r);for(let s=0;s<r.attributes.length;s++){const n=r.attributes[s];this.attrMap.set(n.id,r)}}this.lineageMap.set(r.id,[])}}initLines(){const{nodeMap:e,attrMap:a,lineageMap:i,data:{relationship:d}}=this;if(d!=null&&d.length)for(let r=0;r<d.length;r++){const s=d[r];let n=this.lineMap.get(s.id);const _=e.get(s.from)||a.get(s.from),c=e.get(s.to)||a.get(s.to);if(!_||!c)continue;n||(n=new Mt(this.canvas.cacheCtx,s),this.lineMap.set(s.id,n));const o=i.get(c.id),u=o.includes(_.id),l=_.id===c.id;!u&&!l&&o.push(_.id)}}makeNodeMatrix(){const{nodeMatrix:e,lineageMap:a}=this;let i=!1;for(;!i;){i=!0;const d=e[e.length-1],r=[];for(const[s,n]of a)if(n.length){if(i=!1,!d)continue;for(let _=0;_<d.length;_++){const c=d[_],o=n.indexOf(c);o!==-1&&(n.splice(o,1),n.length||r.push(s))}}else d||r.push(s);if(r.length)e.push(r);else return i=!1}}renderLines(){const{nodeMap:e,attrMap:a,data:{relationship:i}}=this;if(i!=null&&i.length)for(let d=0;d<i.length;d++){const r=i[d],s=this.lineMap.get(r.id),n=e.get(r.from)||a.get(r.from),_=e.get(r.to)||a.get(r.to);if(!n||!_)continue;const c=n.getLinePosition(r.from),o=_.getLinePosition(r.to);s.updateOptions({startX:c.x+n.width,startY:c.y,endX:o.x,endY:o.y}),this.canvas.isVisible(s.boundingBox)&&s.draw()}}renderTemporaryEventCanvas(){const{activeTargets:e,hoverTargetId:a,lineMap:i,nodeMap:d,attrMap:r,canvas:s,data:n}=this;if(this.renderPermanentEventCanvas(),i.get(a)){const{startX:_,startY:c,endX:o,endY:u,type:l}=i.get(a);new Mt(s.eventCtx,{startX:_,startY:c,endX:o,endY:u,type:l,lineWidth:2}).draw()}else if(r.get(a)){if(e!=null&&e.includes(a))return;const _=r.get(a),c=_.attributes.findIndex(C=>C.id===a),{x:o,y:u,titleHeight:l,attrHeight:y,width:v,bgC:S}=_,R=o,b=u+l+y*c;s.eventCtx.save(),s.eventCtx.fillStyle=`${S}4D`,s.eventCtx.moveTo(R,b),s.eventCtx.fillRect(R,b,v,y),s.eventCtx.fill(),s.eventCtx.restore();for(let C=0;C<n.relationship.length;C++){const k=n.relationship[C];if(k.from===a||k.to===a){const{startX:T,startY:G,endX:f,endY:N,type:h}=i.get(k.id);new Mt(s.eventCtx,{startX:T,startY:G,endX:f,endY:N,type:h,lineWidth:2}).draw()}}}else if(d.get(a)){const _=[a].concat(d.get(a).attributes.map(c=>c.id));for(let c=0;c<n.relationship.length;c++){const o=n.relationship[c];if(_.includes(o.from)||_.includes(o.to)){const{startX:u,startY:l,endX:y,endY:v,type:S}=i.get(o.id);new Mt(s.eventCtx,{startX:u,startY:l,endX:y,endY:v,type:S,lineWidth:2}).draw()}}}}renderPermanentEventCanvas(){const{activeTargets:e,canvas:a,attrMap:i,lineMap:d,data:r}=this;if(this.canvas.clearEventCanvas(),!!e)for(let s=0;s<e.length;s++){const n=e[s];if(i.get(n)){const _=i.get(n),c=_.attributes.findIndex(C=>C.id===n),{x:o,y:u,titleHeight:l,attrHeight:y,width:v,bgC:S}=_,R=o,b=u+l+y*c;a.eventCtx.save(),a.eventCtx.fillStyle=`${S}4D`,a.eventCtx.moveTo(R,b),a.eventCtx.fillRect(R,b,v,y),a.eventCtx.fill(),a.eventCtx.restore();for(let C=0;C<r.relationship.length;C++){const k=r.relationship[C];if(k.from===n||k.to===n){const{startX:T,startY:G,endX:f,endY:N,type:h}=d.get(k.id);new Mt(a.eventCtx,{startX:T,startY:G,endX:f,endY:N,type:h,lineWidth:2}).draw()}}}}}findTarget(e,a,i=!1){const d=a.reverse();for(let r=0;r<d.length;r++){const s=d[r].id,n=this.nodeMap.get(s)||this.lineMap.get(s),_=n==null?void 0:n.containsPoint(e,i);if(_!=null&&_.type)return _.id}}getFabricWithId(e){const{lineMap:a,attrMap:i,nodeMap:d}=this;return a.get(e)||i.get(e)||d.get(e)}onMouseUp(){}onMouseDown(e,a){const{data:i,lineMap:d,attrMap:r,nodeMap:s}=this;this.activeTargets=[];const n=this.findTarget(a,[...i.table,...i.relationship],!0);if(n){let _;d.get(n)?_=Je.Click:r.get(n)?(_=ta.Click,this.activeTargets=[n]):s.get(n)&&(_=ea.Click),this.emit(_,n)}this.update(),this.renderPermanentEventCanvas()}onMouseMove(e,a){if(this.canvas.isMouseDown){this.canvas.setTranslate(e),this.canvas.clearEventCanvas();const i=this.canvas.getTranslate();this.emit(aa.Move,i),this.update()}else{const i=this.findTarget(a,[...this.data.table,...this.data.relationship]);this.hoverTargetId=i,this.renderTemporaryEventCanvas(),i?this.canvas.eventEl.style.cursor="pointer":this.canvas.eventEl.style.cursor="default"}}onWheel(e){const{deltaY:a,deltaX:i,ctrlKey:d}=e;if((Math.abs(a)>2||Math.abs(i)>2)&&!d){const s=this.canvas.getTranslate();this.canvas.setTranslate({x:s.x-i,y:s.y-a}),this.canvas.clearEventCanvas(),this.update()}}onResize(){this.update()}zoom(e){const a=e/50;this.canvas.zoom(a),this.update(),this.renderPermanentEventCanvas()}fullscreen(){this.canvas.fullscreen()}destroy(){this.unmountPlugins(),this.unmountCanvasEvents(),this.canvas.destroy(),this.freeVariable()}viewTo(e){if(!e)return!1;const{nodeMap:a,attrMap:i,lineMap:d,canvas:{width:r,height:s}}=this,n=a.get(e)||i.get(e)||d.get(e);let _,c;n instanceof Mt?(_=-n.startX,c=-n.startY):(_=-n.x-n.width/2,c=-n.y-n.height/2),this.canvas.viewTo(_+r/2,c+s/2),this.update(),this.renderPermanentEventCanvas()}on(e,a){return super.on(e,a),this}}const Ai=[{ent_id:"20011",ent_type:"1",ent_name:"test non-attributes long titleeeeeeeeeeeeeee"},{ent_id:"2001",ent_type:"1",ent_name:"account abuse history"},{ent_id:"2002",ent_type:"1",ent_name:"account collec history"},{ent_id:"2003",ent_type:"1",ent_name:"account credit limit"},{ent_id:"2004",ent_type:"1",ent_name:"account legal history"},{ent_id:"2005",ent_type:"1",ent_name:"acct acct relationship"},{ent_id:"2006",ent_type:"0",ent_name:"agreement"},{ent_id:"2007",ent_type:"1",ent_name:"agreement asset"},{ent_id:"2008",ent_type:"1",ent_name:"default recovery history"},{ent_id:"2009",ent_type:"1",ent_name:"finance exposure agreement"},{ent_id:"2010",ent_type:"1",ent_name:"financial agreement"},{ent_id:"2011",ent_type:"1",ent_name:"legal action"},{ent_id:"2012",ent_type:"1",ent_name:"loan account"},{ent_id:"2013",ent_type:"1",ent_name:"loan review hist"},{ent_id:"2014",ent_type:"1",ent_name:"overdraft excess history"},{ent_id:"2015",ent_type:"1",ent_name:"account account group"},{ent_id:"2016",ent_type:"1",ent_name:"account group"},{ent_id:"2017",ent_type:"1",ent_name:"account group bal hist dd"},{ent_id:"2018",ent_type:"1",ent_name:"account group criterion"},{ent_id:"2019",ent_type:"1",ent_name:"account group feature"},{ent_id:"2020",ent_type:"1",ent_name:"account group limit hist"},{ent_id:"2021",ent_type:"1",ent_name:"account group reason type"},{ent_id:"2022",ent_type:"1",ent_name:"account group related"},{ent_id:"2023",ent_type:"1",ent_name:"account group risk grade"},{ent_id:"2024",ent_type:"1",ent_name:"account group risk hist"},{ent_id:"2025",ent_type:"1",ent_name:"account group risk type hist"},{ent_id:"2026",ent_type:"1",ent_name:"account group type"},{ent_id:"2027",ent_type:"1",ent_name:"account group type assoc"},{ent_id:"2028",ent_type:"1",ent_name:"acct group score dd"},{ent_id:"2029",ent_type:"1",ent_name:"feature"},{ent_id:"2030",ent_type:"1",ent_name:"acct collateral asset"},{ent_id:"2031",ent_type:"1",ent_name:"appl collateral asset"},{ent_id:"2032",ent_type:"1",ent_name:"application"},{ent_id:"2033",ent_type:"1",ent_name:"application asset"},{ent_id:"2034",ent_type:"1",ent_name:"customer asset"},{ent_id:"2035",ent_type:"2",ent_name:"quotation"},{ent_id:"2036",ent_type:"2",ent_name:"quotation asset"},{ent_id:"2037",ent_type:"1",ent_name:"quote collateral asset"},{ent_id:"2038",ent_type:"1",ent_name:"external direct debit"},{ent_id:"2039",ent_type:"1",ent_name:"external standing order"},{ent_id:"2040",ent_type:"1",ent_name:"internal direct debit"},{ent_id:"2041",ent_type:"1",ent_name:"internal standing order"},{ent_id:"2042",ent_type:"1",ent_name:"account card"},{ent_id:"2043",ent_type:"1",ent_name:"card"},{ent_id:"2044",ent_type:"1",ent_name:"card card rel"},{ent_id:"2045",ent_type:"1",ent_name:"card limit"},{ent_id:"2046",ent_type:"1",ent_name:"credit card"},{ent_id:"2047",ent_type:"2",ent_name:"party"},{ent_id:"2048",ent_type:"2",ent_name:"party card"},{ent_id:"2049",ent_type:"1",ent_name:"purchase card"},{ent_id:"2050",ent_type:"1",ent_name:"purchase card bus hist"}],Ii=[{ent_id:"2001",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1001"},{ent_id:"2001",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1002"},{ent_id:"2001",datatype:"SMALLINT",attr_name:"system_abuse_type_cd",attr_type:"",attr_id:"1003"},{ent_id:"2001",datatype:"DATE",attr_name:"account_abuse_dt",attr_type:"",attr_id:"1004"},{ent_id:"2001",datatype:"VARCHAR(50)",attr_name:"abuse_occurred_currency_cd",attr_type:"",attr_id:"1005"},{ent_id:"2001",datatype:"DECIMAL(18,4)",attr_name:"account_abuse_amt",attr_type:"",attr_id:"1006"},{ent_id:"2001",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_abuse_amt",attr_type:"",attr_id:"1007"},{ent_id:"2001",datatype:"DECIMAL(18,4)",attr_name:"occurred_crncy_acct_abuse_amt",attr_type:"",attr_id:"1008"},{ent_id:"2002",datatype:"DATE",attr_name:"collection_status_start_dt",attr_type:"",attr_id:"1009"},{ent_id:"2002",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1010"},{ent_id:"2002",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1011"},{ent_id:"2002",datatype:"SMALLINT",attr_name:"collection_status_cd",attr_type:"",attr_id:"1012"},{ent_id:"2002",datatype:"DECIMAL(18,4)",attr_name:"collection_cost_amt",attr_type:"",attr_id:"1013"},{ent_id:"2002",datatype:"INTEGER",attr_name:"days_past_due_cnt",attr_type:"",attr_id:"1014"},{ent_id:"2002",datatype:"DECIMAL(18,4)",attr_name:"past_due_amt",attr_type:"",attr_id:"1015"},{ent_id:"2002",datatype:"DATE",attr_name:"collection_status_end_dt",attr_type:"",attr_id:"1016"},{ent_id:"2002",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_past_due_amt",attr_type:"",attr_id:"1017"},{ent_id:"2003",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1018"},{ent_id:"2003",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1019"},{ent_id:"2003",datatype:"SMALLINT",attr_name:"limit_type_cd",attr_type:"",attr_id:"1020"},{ent_id:"2003",datatype:"DATE",attr_name:"credit_limit_start_dt",attr_type:"",attr_id:"1021"},{ent_id:"2003",datatype:"SMALLINT",attr_name:"limit_change_reason_cd",attr_type:"",attr_id:"1022"},{ent_id:"2003",datatype:"DECIMAL(18,4)",attr_name:"credit_limit_amt",attr_type:"",attr_id:"1023"},{ent_id:"2003",datatype:"DATE",attr_name:"credit_limit_end_dt",attr_type:"",attr_id:"1024"},{ent_id:"2003",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_credit_limit_amt",attr_type:"",attr_id:"1025"},{ent_id:"2004",datatype:"INTEGER",attr_name:"legal_action_id",attr_type:"",attr_id:"1026"},{ent_id:"2004",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1027"},{ent_id:"2004",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1028"},{ent_id:"2004",datatype:"DECIMAL(18,4)",attr_name:"judgement_amt",attr_type:"",attr_id:"1029"},{ent_id:"2004",datatype:"DATE",attr_name:"judgement_dt",attr_type:"",attr_id:"1030"},{ent_id:"2004",datatype:"DATE",attr_name:"court_judgement_appl_dt",attr_type:"",attr_id:"1031"},{ent_id:"2005",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1032"},{ent_id:"2005",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1033"},{ent_id:"2005",datatype:"CHAR(18)",attr_name:"related_account_num",attr_type:"",attr_id:"1034"},{ent_id:"2005",datatype:"CHAR(18)",attr_name:"related_account_modifier_num",attr_type:"",attr_id:"1035"},{ent_id:"2005",datatype:"SMALLINT",attr_name:"acct_relationship_type_cd",attr_type:"",attr_id:"1036"},{ent_id:"2005",datatype:"DATE",attr_name:"relationship_start_dt",attr_type:"",attr_id:"1037"},{ent_id:"2005",datatype:"DATE",attr_name:"relationship_end_dt",attr_type:"",attr_id:"1038"},{ent_id:"2006",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1039"},{ent_id:"2006",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1040"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"account_type_cd",attr_type:"",attr_id:"1041"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"account_source_cd",attr_type:"",attr_id:"1042"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"acct_status_type_cd",attr_type:"",attr_id:"1043"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"acct_status_reason_cd",attr_type:"",attr_id:"1044"},{ent_id:"2006",datatype:"INTEGER",attr_name:"campaign_id",attr_type:"",attr_id:"1045"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"statement_cycle_cd",attr_type:"",attr_id:"1046"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"statement_mail_type_cd",attr_type:"",attr_id:"1047"},{ent_id:"2006",datatype:"INTEGER",attr_name:"product_id",attr_type:"",attr_id:"1048"},{ent_id:"2006",datatype:"DATE",attr_name:"account_open_dt",attr_type:"",attr_id:"1049"},{ent_id:"2006",datatype:"DATE",attr_name:"account_close_dt",attr_type:"",attr_id:"1050"},{ent_id:"2006",datatype:"DATE",attr_name:"current_product_start_dt",attr_type:"",attr_id:"1051"},{ent_id:"2006",datatype:"DATE",attr_name:"last_statement_dt",attr_type:"",attr_id:"1052"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"acct_obtained_cd",attr_type:"",attr_id:"1053"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"acct_categ_cd",attr_type:"",attr_id:"1054"},{ent_id:"2006",datatype:"INTEGER",attr_name:"application_id",attr_type:"",attr_id:"1055"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"fund_source_type_cd",attr_type:"",attr_id:"1056"},{ent_id:"2006",datatype:"DATE",attr_name:"account_processing_dt",attr_type:"",attr_id:"1057"},{ent_id:"2006",datatype:"INTEGER",attr_name:"package_product_id",attr_type:"",attr_id:"1058"},{ent_id:"2006",datatype:"DATE",attr_name:"account_signed_dt",attr_type:"",attr_id:"1059"},{ent_id:"2006",datatype:"VARCHAR(50)",attr_name:"contract_name",attr_type:"",attr_id:"1060"},{ent_id:"2006",datatype:"DATE",attr_name:"contract_expiration_dt",attr_type:"",attr_id:"1061"},{ent_id:"2006",datatype:"SMALLINT",attr_name:"balance_sheet_cd",attr_type:"",attr_id:"1062"},{ent_id:"2007",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1063"},{ent_id:"2007",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1064"},{ent_id:"2007",datatype:"SMALLINT",attr_name:"asset_contract_role_cd",attr_type:"",attr_id:"1065"},{ent_id:"2007",datatype:"INTEGER",attr_name:"customer_asset_id",attr_type:"",attr_id:"1066"},{ent_id:"2007",datatype:"DATE",attr_name:"agreement_asset_start_dt",attr_type:"",attr_id:"1067"},{ent_id:"2007",datatype:"DATE",attr_name:"agreement_asset_end_dt",attr_type:"",attr_id:"1068"},{ent_id:"2008",datatype:"DATE",attr_name:"recovery_dt",attr_type:"",attr_id:"1069"},{ent_id:"2008",datatype:"VARCHAR(50)",attr_name:"recovery_source_type_cd",attr_type:"",attr_id:"1070"},{ent_id:"2008",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1071"},{ent_id:"2008",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1072"},{ent_id:"2008",datatype:"SMALLINT",attr_name:"time_period_cd",attr_type:"",attr_id:"1073"},{ent_id:"2008",datatype:"INTEGER",attr_name:"time_period_unit_cnt",attr_type:"",attr_id:"1074"},{ent_id:"2008",datatype:"DATE",attr_name:"cost_of_recovery_receipt_dt",attr_type:"",attr_id:"1075"},{ent_id:"2008",datatype:"DATE",attr_name:"default_dt_dd",attr_type:"",attr_id:"1076"},{ent_id:"2008",datatype:"DECIMAL(18,4)",attr_name:"recovery_amt",attr_type:"",attr_id:"1077"},{ent_id:"2008",datatype:"DECIMAL(18,4)",attr_name:"cost_of_recovery_amt",attr_type:"",attr_id:"1078"},{ent_id:"2009",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1079"},{ent_id:"2009",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1080"},{ent_id:"2009",datatype:"VARCHAR(50)",attr_name:"current_basel_ii_treatment_cd",attr_type:"",attr_id:"1081"},{ent_id:"2009",datatype:"VARCHAR(50)",attr_name:"basel_ii_exposure_sub_type_cd",attr_type:"",attr_id:"1082"},{ent_id:"2009",datatype:"VARCHAR(50)",attr_name:"basel_ii_exposure_type_cd",attr_type:"",attr_id:"1083"},{ent_id:"2009",datatype:"SMALLINT",attr_name:"risk_review_time_period_cd",attr_type:"",attr_id:"1084"},{ent_id:"2009",datatype:"INTEGER",attr_name:"reaging_cnt",attr_type:"",attr_id:"1085"},{ent_id:"2009",datatype:"DECIMAL(5,2)",attr_name:"securitization_rate",attr_type:"",attr_id:"1086"},{ent_id:"2010",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1087"},{ent_id:"2010",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1088"},{ent_id:"2010",datatype:"VARCHAR(50)",attr_name:"financial_agreement_categ_cd",attr_type:"",attr_id:"1089"},{ent_id:"2010",datatype:"SMALLINT",attr_name:"asset_liability_cd",attr_type:"",attr_id:"1090"},{ent_id:"2010",datatype:"DATE",attr_name:"last_reprice_dt",attr_type:"",attr_id:"1091"},{ent_id:"2010",datatype:"DATE",attr_name:"next_reprice_dt",attr_type:"",attr_id:"1092"},{ent_id:"2010",datatype:"SMALLINT",attr_name:"acct_comp_freq_time_period_cd",attr_type:"",attr_id:"1093"},{ent_id:"2010",datatype:"INTEGER",attr_name:"acct_comp_freq_unit_num",attr_type:"",attr_id:"1094"},{ent_id:"2010",datatype:"CHAR(3)",attr_name:"credit_risk_ind",attr_type:"",attr_id:"1095"},{ent_id:"2010",datatype:"VARCHAR(50)",attr_name:"market_risk_type_cd",attr_type:"",attr_id:"1096"},{ent_id:"2011",datatype:"INTEGER",attr_name:"legal_action_id",attr_type:"",attr_id:"1097"},{ent_id:"2011",datatype:"VARCHAR(35)",attr_name:"legal_action_desc",attr_type:"",attr_id:"1098"},{ent_id:"2011",datatype:"VARCHAR(20)",attr_name:"legal_action_suit_num",attr_type:"",attr_id:"1099"},{ent_id:"2011",datatype:"DATE",attr_name:"legal_action_start_dt",attr_type:"",attr_id:"1100"},{ent_id:"2011",datatype:"DATE",attr_name:"legal_action_end_dt",attr_type:"",attr_id:"1101"},{ent_id:"2011",datatype:"INTEGER",attr_name:"court_location_address_id",attr_type:"",attr_id:"1102"},{ent_id:"2012",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1103"},{ent_id:"2012",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1104"},{ent_id:"2012",datatype:"SMALLINT",attr_name:"security_type_cd",attr_type:"",attr_id:"1105"},{ent_id:"2012",datatype:"SMALLINT",attr_name:"maturity_cd",attr_type:"",attr_id:"1106"},{ent_id:"2012",datatype:"INTEGER",attr_name:"due_day_num",attr_type:"",attr_id:"1107"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"realizable_collateral_val_amt",attr_type:"",attr_id:"1108"},{ent_id:"2012",datatype:"DATE",attr_name:"loan_last_pmt_dt_dd",attr_type:"",attr_id:"1109"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"loan_last_pmt_amt_dd",attr_type:"",attr_id:"1110"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"loan_past_due_amt",attr_type:"",attr_id:"1111"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"loan_charge_off_amt",attr_type:"",attr_id:"1112"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"loan_payoff_amt",attr_type:"",attr_id:"1113"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_real_collat_amt",attr_type:"",attr_id:"1114"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_last_pmt_amt",attr_type:"",attr_id:"1115"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_charge_off_amt",attr_type:"",attr_id:"1116"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_past_due_amt",attr_type:"",attr_id:"1117"},{ent_id:"2012",datatype:"DECIMAL(18,4)",attr_name:"acct_crncy_loan_payoff_amt",attr_type:"",attr_id:"1118"},{ent_id:"2013",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1119"},{ent_id:"2013",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1120"},{ent_id:"2013",datatype:"SMALLINT",attr_name:"loan_review_categ_cd",attr_type:"",attr_id:"1121"},{ent_id:"2013",datatype:"INTEGER",attr_name:"loan_review_party_id",attr_type:"",attr_id:"1122"},{ent_id:"2013",datatype:"DATE",attr_name:"account_review_dt",attr_type:"",attr_id:"1123"},{ent_id:"2013",datatype:"SMALLINT",attr_name:"loan_review_result_cd",attr_type:"",attr_id:"1124"},{ent_id:"2013",datatype:"VARCHAR(256)",attr_name:"loan_review_comment_txt",attr_type:"",attr_id:"1125"},{ent_id:"2014",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1126"},{ent_id:"2014",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1127"},{ent_id:"2014",datatype:"DATE",attr_name:"overdraft_excess_start_dt",attr_type:"",attr_id:"1128"},{ent_id:"2014",datatype:"DATE",attr_name:"overdraft_excess_end_dt",attr_type:"",attr_id:"1129"},{ent_id:"2015",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1130"},{ent_id:"2015",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1131"},{ent_id:"2015",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1132"},{ent_id:"2015",datatype:"DATE",attr_name:"account_assoc_start_dt",attr_type:"",attr_id:"1133"},{ent_id:"2015",datatype:"DATE",attr_name:"account_assoc_end_dt",attr_type:"",attr_id:"1134"},{ent_id:"2016",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1135"},{ent_id:"2016",datatype:"DATE",attr_name:"account_group_start_dt",attr_type:"",attr_id:"1136"},{ent_id:"2016",datatype:"DATE",attr_name:"account_group_end_dt",attr_type:"",attr_id:"1137"},{ent_id:"2016",datatype:"VARCHAR(30)",attr_name:"account_group_desc",attr_type:"",attr_id:"1138"},{ent_id:"2016",datatype:"INTEGER",attr_name:"analytical_model_id",attr_type:"",attr_id:"1139"},{ent_id:"2016",datatype:"VARCHAR(50)",attr_name:"account_group_reason_type_cd",attr_type:"",attr_id:"1140"},{ent_id:"2016",datatype:"INTEGER",attr_name:"parent_account_group_id",attr_type:"",attr_id:"1141"},{ent_id:"2017",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1142"},{ent_id:"2017",datatype:"DATE",attr_name:"account_group_summary_dt",attr_type:"",attr_id:"1143"},{ent_id:"2017",datatype:"SMALLINT",attr_name:"balance_category_type_cd",attr_type:"",attr_id:"1144"},{ent_id:"2017",datatype:"SMALLINT",attr_name:"time_period_cd",attr_type:"",attr_id:"1145"},{ent_id:"2017",datatype:"DECIMAL(18,4)",attr_name:"account_group_ledger_bal_amt",attr_type:"",attr_id:"1146"},{ent_id:"2018",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1147"},{ent_id:"2018",datatype:"INTEGER",attr_name:"selection_criterion_id",attr_type:"",attr_id:"1148"},{ent_id:"2019",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1149"},{ent_id:"2019",datatype:"INTEGER",attr_name:"feature_id",attr_type:"",attr_id:"1150"},{ent_id:"2019",datatype:"DATE",attr_name:"account_group_feature_start_dt",attr_type:"",attr_id:"1151"},{ent_id:"2019",datatype:"DATE",attr_name:"account_group_feature_end_dt",attr_type:"",attr_id:"1152"},{ent_id:"2020",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1153"},{ent_id:"2020",datatype:"SMALLINT",attr_name:"limit_type_cd",attr_type:"",attr_id:"1154"},{ent_id:"2020",datatype:"DATE",attr_name:"account_group_limit_start_dt",attr_type:"",attr_id:"1155"},{ent_id:"2020",datatype:"SMALLINT",attr_name:"limit_change_reason_cd",attr_type:"",attr_id:"1156"},{ent_id:"2020",datatype:"DATE",attr_name:"account_group_limit_end_dt",attr_type:"",attr_id:"1157"},{ent_id:"2020",datatype:"DECIMAL(18,4)",attr_name:"account_group_credit_limit_amt",attr_type:"",attr_id:"1158"},{ent_id:"2021",datatype:"VARCHAR(50)",attr_name:"account_group_reason_type_cd",attr_type:"",attr_id:"1159"},{ent_id:"2021",datatype:"VARCHAR(250)",attr_name:"account_group_reason_type_desc",attr_type:"",attr_id:"1160"},{ent_id:"2022",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1161"},{ent_id:"2022",datatype:"INTEGER",attr_name:"related_account_group_id",attr_type:"",attr_id:"1162"},{ent_id:"2022",datatype:"CHAR(18)",attr_name:"account_group_related_role_cd",attr_type:"",attr_id:"1163"},{ent_id:"2022",datatype:"CHAR(18)",attr_name:"account_group_related_start_dt",attr_type:"",attr_id:"1164"},{ent_id:"2022",datatype:"CHAR(18)",attr_name:"account_group_related_end_dt",attr_type:"",attr_id:"1165"},{ent_id:"2023",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1166"},{ent_id:"2023",datatype:"SMALLINT",attr_name:"risk_rating_type_cd",attr_type:"",attr_id:"1167"},{ent_id:"2023",datatype:"INTEGER",attr_name:"risk_rating_method_id",attr_type:"",attr_id:"1168"},{ent_id:"2023",datatype:"DATE",attr_name:"account_group_risk_start_dt",attr_type:"",attr_id:"1169"},{ent_id:"2023",datatype:"VARCHAR(50)",attr_name:"risk_rating_cd",attr_type:"",attr_id:"1170"},{ent_id:"2023",datatype:"DATE",attr_name:"account_group_risk_end_dt",attr_type:"",attr_id:"1171"},{ent_id:"2023",datatype:"VARCHAR(50)",attr_name:"account_group_rating_num",attr_type:"",attr_id:"1172"},{ent_id:"2023",datatype:"DATE",attr_name:"account_group_next_review_dt",attr_type:"",attr_id:"1173"},{ent_id:"2024",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1174"},{ent_id:"2024",datatype:"DATE",attr_name:"acct_group_risk_calc_dt",attr_type:"",attr_id:"1175"},{ent_id:"2024",datatype:"DECIMAL(5,2)",attr_name:"acct_grp_loss_given_deflt_rate",attr_type:"",attr_id:"1176"},{ent_id:"2024",datatype:"DECIMAL(5,2)",attr_name:"acct_grp_prob_default_rate",attr_type:"",attr_id:"1177"},{ent_id:"2024",datatype:"INTEGER",attr_name:"acct_grp_eff_maturity_cnt",attr_type:"",attr_id:"1178"},{ent_id:"2024",datatype:"DECIMAL(5,2)",attr_name:"acct_grp_dilutn_exp_loss_rate",attr_type:"",attr_id:"1179"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_dilution_exp_loss_amt",attr_type:"",attr_id:"1180"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_default_guarantee_amt",attr_type:"",attr_id:"1181"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_dilution_guarant_amt",attr_type:"",attr_id:"1182"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_exposure_at_dflt_amt",attr_type:"",attr_id:"1183"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_capital_reqmt_amt",attr_type:"",attr_id:"1184"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_nominal_exposure_amt",attr_type:"",attr_id:"1185"},{ent_id:"2024",datatype:"DECIMAL(5,2)",attr_name:"acct_grp_securitization_rate",attr_type:"",attr_id:"1186"},{ent_id:"2024",datatype:"DECIMAL(5,2)",attr_name:"acct_grp_cr_enhance_lvl_rate",attr_type:"",attr_id:"1187"},{ent_id:"2024",datatype:"DECIMAL(5,2)",attr_name:"acct_grp_lgd_weighted_avg_rate",attr_type:"",attr_id:"1188"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_suprvisry_capital_amt",attr_type:"",attr_id:"1189"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_provision_limit_amt",attr_type:"",attr_id:"1190"},{ent_id:"2024",datatype:"DECIMAL(18,4)",attr_name:"acct_grp_loss_provision_amt",attr_type:"",attr_id:"1191"},{ent_id:"2025",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1192"},{ent_id:"2025",datatype:"VARCHAR(50)",attr_name:"risk_metric_type_cd",attr_type:"",attr_id:"1193"},{ent_id:"2025",datatype:"DATE",attr_name:"account_group_risk_calc_dt",attr_type:"",attr_id:"1194"},{ent_id:"2025",datatype:"DECIMAL(18,4)",attr_name:"account_group_risk_metric_amt",attr_type:"",attr_id:"1195"},{ent_id:"2025",datatype:"DECIMAL(5,2)",attr_name:"account_group_risk_metric_rate",attr_type:"",attr_id:"1196"},{ent_id:"2025",datatype:"INTEGER",attr_name:"account_group_risk_metric_cnt",attr_type:"",attr_id:"1197"},{ent_id:"2026",datatype:"VARCHAR(50)",attr_name:"account_group_type_cd",attr_type:"",attr_id:"1198"},{ent_id:"2026",datatype:"VARCHAR(250)",attr_name:"account_group_type_desc",attr_type:"",attr_id:"1199"},{ent_id:"2027",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1200"},{ent_id:"2027",datatype:"VARCHAR(50)",attr_name:"account_group_type_cd",attr_type:"",attr_id:"1201"},{ent_id:"2027",datatype:"DATE",attr_name:"account_group_type_start_dt",attr_type:"",attr_id:"1202"},{ent_id:"2027",datatype:"DATE",attr_name:"account_group_type_end_dt",attr_type:"",attr_id:"1203"},{ent_id:"2028",datatype:"INTEGER",attr_name:"account_group_id",attr_type:"",attr_id:"1204"},{ent_id:"2028",datatype:"DATE",attr_name:"account_group_score_calc_dt",attr_type:"",attr_id:"1205"},{ent_id:"2028",datatype:"INTEGER",attr_name:"analytical_model_id",attr_type:"",attr_id:"1206"},{ent_id:"2028",datatype:"INTEGER",attr_name:"model_run_id",attr_type:"",attr_id:"1207"},{ent_id:"2028",datatype:"VARCHAR(100)",attr_name:"account_group_score_val",attr_type:"",attr_id:"1208"},{ent_id:"2029",datatype:"INTEGER",attr_name:"feature_id",attr_type:"",attr_id:"1209"},{ent_id:"2029",datatype:"SMALLINT",attr_name:"feature_type_cd",attr_type:"",attr_id:"1210"},{ent_id:"2029",datatype:"SMALLINT",attr_name:"feature_classification_cd",attr_type:"",attr_id:"1211"},{ent_id:"2029",datatype:"VARCHAR(30)",attr_name:"feature_desc",attr_type:"",attr_id:"1212"},{ent_id:"2029",datatype:"VARCHAR(50)",attr_name:"feature_name",attr_type:"",attr_id:"1213"},{ent_id:"2029",datatype:"CHAR(6)",attr_name:"common_feature_name",attr_type:"",attr_id:"1214"},{ent_id:"2029",datatype:"VARCHAR(50)",attr_name:"feature_category_type_cd",attr_type:"",attr_id:"1215"},{ent_id:"2030",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1216"},{ent_id:"2030",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1217"},{ent_id:"2030",datatype:"INTEGER",attr_name:"customer_asset_id",attr_type:"",attr_id:"1218"},{ent_id:"2030",datatype:"SMALLINT",attr_name:"asset_contract_role_cd",attr_type:"",attr_id:"1219"},{ent_id:"2030",datatype:"DATE",attr_name:"agreement_asset_start_dt",attr_type:"",attr_id:"1220"},{ent_id:"2031",datatype:"INTEGER",attr_name:"customer_asset_id",attr_type:"",attr_id:"1221"},{ent_id:"2031",datatype:"INTEGER",attr_name:"application_id",attr_type:"",attr_id:"1222"},{ent_id:"2031",datatype:"DATE",attr_name:"application_asset_start_dt",attr_type:"",attr_id:"1223"},{ent_id:"2031",datatype:"SMALLINT",attr_name:"asset_contract_role_cd",attr_type:"",attr_id:"1224"},{ent_id:"2031",datatype:"DECIMAL(18)",attr_name:"appl_collateral_asset_amt",attr_type:"",attr_id:"1225"},{ent_id:"2031",datatype:"DECIMAL(18)",attr_name:"acct_crncy_appl_collat_ast_amt",attr_type:"",attr_id:"1226"},{ent_id:"2032",datatype:"INTEGER",attr_name:"application_id",attr_type:"",attr_id:"1227"},{ent_id:"2032",datatype:"INTEGER",attr_name:"product_id",attr_type:"",attr_id:"1228"},{ent_id:"2032",datatype:"INTEGER",attr_name:"application_form_id",attr_type:"",attr_id:"1229"},{ent_id:"2032",datatype:"DATE",attr_name:"application_completed_dt",attr_type:"",attr_id:"1230"},{ent_id:"2032",datatype:"INTEGER",attr_name:"promo_id",attr_type:"",attr_id:"1231"},{ent_id:"2032",datatype:"DATE",attr_name:"planned_acct_open_dt",attr_type:"",attr_id:"1232"},{ent_id:"2033",datatype:"INTEGER",attr_name:"customer_asset_id",attr_type:"",attr_id:"1233"},{ent_id:"2033",datatype:"INTEGER",attr_name:"application_id",attr_type:"",attr_id:"1234"},{ent_id:"2033",datatype:"DATE",attr_name:"application_asset_start_dt",attr_type:"",attr_id:"1235"},{ent_id:"2033",datatype:"SMALLINT",attr_name:"asset_contract_role_cd",attr_type:"",attr_id:"1236"},{ent_id:"2034",datatype:"INTEGER",attr_name:"customer_asset_id",attr_type:"",attr_id:"1237"},{ent_id:"2034",datatype:"INTEGER",attr_name:"mm_object_id",attr_type:"",attr_id:"1238"},{ent_id:"2034",datatype:"SMALLINT",attr_name:"asset_insurance_hist_type_cd",attr_type:"",attr_id:"1239"},{ent_id:"2034",datatype:"INTEGER",attr_name:"address_id",attr_type:"",attr_id:"1240"},{ent_id:"2034",datatype:"SMALLINT",attr_name:"asset_type_cd",attr_type:"",attr_id:"1241"},{ent_id:"2034",datatype:"DATE",attr_name:"asset_last_validation_dt",attr_type:"",attr_id:"1242"},{ent_id:"2034",datatype:"VARCHAR(30)",attr_name:"asset_desc",attr_type:"",attr_id:"1243"},{ent_id:"2034",datatype:"INTEGER",attr_name:"asset_acct_num",attr_type:"",attr_id:"1244"},{ent_id:"2034",datatype:"SMALLINT",attr_name:"validation_time_period_cd",attr_type:"",attr_id:"1245"},{ent_id:"2034",datatype:"DATE",attr_name:"asset_next_valuation_dt",attr_type:"",attr_id:"1246"},{ent_id:"2034",datatype:"DATE",attr_name:"asset_next_inspection_dt",attr_type:"",attr_id:"1247"},{ent_id:"2035",datatype:"INTEGER",attr_name:"quotation_id",attr_type:"",attr_id:"1248"},{ent_id:"2035",datatype:"SMALLINT",attr_name:"contract_categ_cd",attr_type:"",attr_id:"1249"},{ent_id:"2035",datatype:"SMALLINT",attr_name:"discount_cd",attr_type:"",attr_id:"1250"},{ent_id:"2035",datatype:"INTEGER",attr_name:"campaign_id",attr_type:"",attr_id:"1251"},{ent_id:"2035",datatype:"INTEGER",attr_name:"package_product_id",attr_type:"",attr_id:"1252"},{ent_id:"2035",datatype:"INTEGER",attr_name:"product_id",attr_type:"",attr_id:"1253"},{ent_id:"2035",datatype:"SMALLINT",attr_name:"quote_status_type_cd",attr_type:"",attr_id:"1254"},{ent_id:"2035",datatype:"SMALLINT",attr_name:"quote_origin_cd",attr_type:"",attr_id:"1255"},{ent_id:"2035",datatype:"SMALLINT",attr_name:"quote_close_reason_cd",attr_type:"",attr_id:"1256"},{ent_id:"2035",datatype:"INTEGER",attr_name:"application_id",attr_type:"",attr_id:"1257"},{ent_id:"2035",datatype:"DECIMAL(18,2)",attr_name:"quotation_amt",attr_type:"",attr_id:"1258"},{ent_id:"2035",datatype:"DATE",attr_name:"current_quote_status_start_dt",attr_type:"",attr_id:"1259"},{ent_id:"2035",datatype:"DATE",attr_name:"quotation_open_dt",attr_type:"",attr_id:"1260"},{ent_id:"2035",datatype:"DATE",attr_name:"quotation_expiration_dt",attr_type:"",attr_id:"1261"},{ent_id:"2035",datatype:"DATE",attr_name:"quotation_close_dt",attr_type:"",attr_id:"1262"},{ent_id:"2035",datatype:"DECIMAL(18,2)",attr_name:"quote_ceiling_amt",attr_type:"",attr_id:"1263"},{ent_id:"2035",datatype:"DECIMAL(18,2)",attr_name:"acct_crncy_quote_amt",attr_type:"",attr_id:"1264"},{ent_id:"2035",datatype:"DECIMAL(18,2)",attr_name:"acct_crncy_ceiling_amt",attr_type:"",attr_id:"1265"},{ent_id:"2035",datatype:"DATE",attr_name:"account_open_dt",attr_type:"",attr_id:"1266"},{ent_id:"2035",datatype:"DATE",attr_name:"account_close_dt",attr_type:"",attr_id:"1267"},{ent_id:"2036",datatype:"INTEGER",attr_name:"customer_asset_id",attr_type:"",attr_id:"1268"},{ent_id:"2036",datatype:"INTEGER",attr_name:"quotation_id",attr_type:"",attr_id:"1269"},{ent_id:"2036",datatype:"DATE",attr_name:"quotation_asset_start_dt",attr_type:"",attr_id:"1270"},{ent_id:"2036",datatype:"SMALLINT",attr_name:"asset_contract_role_cd",attr_type:"",attr_id:"1271"},{ent_id:"2037",datatype:"INTEGER",attr_name:"customer_asset_id",attr_type:"",attr_id:"1272"},{ent_id:"2037",datatype:"INTEGER",attr_name:"quotation_id",attr_type:"",attr_id:"1273"},{ent_id:"2037",datatype:"DATE",attr_name:"quotation_asset_start_dt",attr_type:"",attr_id:"1274"},{ent_id:"2037",datatype:"SMALLINT",attr_name:"asset_contract_role_cd",attr_type:"",attr_id:"1275"},{ent_id:"2037",datatype:"DECIMAL(18)",attr_name:"quote_collateral_asset_amt",attr_type:"",attr_id:"1276"},{ent_id:"2037",datatype:"DECIMAL(18)",attr_name:"acct_crncy_qte_collat_ast_amt",attr_type:"",attr_id:"1277"},{ent_id:"2038",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1278"},{ent_id:"2038",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1279"},{ent_id:"2038",datatype:"DATE",attr_name:"ext_direct_debit_start_dt",attr_type:"",attr_id:"1280"},{ent_id:"2038",datatype:"INTEGER",attr_name:"business_party_id",attr_type:"",attr_id:"1281"},{ent_id:"2038",datatype:"INTEGER",attr_name:"external_account_id",attr_type:"",attr_id:"1282"},{ent_id:"2038",datatype:"DECIMAL(9,2)",attr_name:"ext_direct_debit_allowed_amt",attr_type:"",attr_id:"1283"},{ent_id:"2038",datatype:"VARCHAR(50)",attr_name:"currency_cd",attr_type:"",attr_id:"1284"},{ent_id:"2038",datatype:"SMALLINT",attr_name:"time_period_cd",attr_type:"",attr_id:"1285"},{ent_id:"2038",datatype:"SMALLINT",attr_name:"ext_debit_time_period_num",attr_type:"",attr_id:"1286"},{ent_id:"2038",datatype:"DATE",attr_name:"ext_direct_debit_end_dt",attr_type:"",attr_id:"1287"},{ent_id:"2039",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1288"},{ent_id:"2039",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1289"},{ent_id:"2039",datatype:"DATE",attr_name:"ext_order_start_dt",attr_type:"",attr_id:"1290"},{ent_id:"2039",datatype:"INTEGER",attr_name:"business_party_id",attr_type:"",attr_id:"1291"},{ent_id:"2039",datatype:"INTEGER",attr_name:"to_account_id",attr_type:"",attr_id:"1292"},{ent_id:"2039",datatype:"SMALLINT",attr_name:"ext_standing_order_due_day_num",attr_type:"",attr_id:"1293"},{ent_id:"2039",datatype:"DECIMAL(9,2)",attr_name:"ext_standing_order_due_amt",attr_type:"",attr_id:"1294"},{ent_id:"2039",datatype:"VARCHAR(50)",attr_name:"currency_cd",attr_type:"",attr_id:"1295"},{ent_id:"2039",datatype:"SMALLINT",attr_name:"external_order_txf_freq_cd",attr_type:"",attr_id:"1296"},{ent_id:"2039",datatype:"DATE",attr_name:"ext_order_end_dt",attr_type:"",attr_id:"1297"},{ent_id:"2040",datatype:"CHAR(18)",attr_name:"to_account_num",attr_type:"",attr_id:"1298"},{ent_id:"2040",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1299"},{ent_id:"2040",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1300"},{ent_id:"2040",datatype:"CHAR(18)",attr_name:"to_account_modifier_num",attr_type:"",attr_id:"1301"},{ent_id:"2040",datatype:"DATE",attr_name:"int_direct_debit_start_dt",attr_type:"",attr_id:"1302"},{ent_id:"2040",datatype:"SMALLINT",attr_name:"time_period_cd",attr_type:"",attr_id:"1303"},{ent_id:"2040",datatype:"SMALLINT",attr_name:"internal_debit_time_period_num",attr_type:"",attr_id:"1304"},{ent_id:"2040",datatype:"DECIMAL(9,2)",attr_name:"internal_debit_allowed_amt",attr_type:"",attr_id:"1305"},{ent_id:"2040",datatype:"VARCHAR(50)",attr_name:"currency_cd",attr_type:"",attr_id:"1306"},{ent_id:"2040",datatype:"DATE",attr_name:"int_direct_debit_end_dt",attr_type:"",attr_id:"1307"},{ent_id:"2041",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1308"},{ent_id:"2041",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1309"},{ent_id:"2041",datatype:"CHAR(18)",attr_name:"to_account_num",attr_type:"",attr_id:"1310"},{ent_id:"2041",datatype:"CHAR(18)",attr_name:"to_account_modifier_num",attr_type:"",attr_id:"1311"},{ent_id:"2041",datatype:"DATE",attr_name:"internal_order_start_dt",attr_type:"",attr_id:"1312"},{ent_id:"2041",datatype:"VARCHAR(50)",attr_name:"currency_cd",attr_type:"",attr_id:"1313"},{ent_id:"2041",datatype:"SMALLINT",attr_name:"internal_order_txf_freq_cd",attr_type:"",attr_id:"1314"},{ent_id:"2041",datatype:"SMALLINT",attr_name:"internal_order_due_day_num",attr_type:"",attr_id:"1315"},{ent_id:"2041",datatype:"DECIMAL(9,2)",attr_name:"internal_order_due_amt",attr_type:"",attr_id:"1316"},{ent_id:"2041",datatype:"DATE",attr_name:"internal_order_end_dt",attr_type:"",attr_id:"1317"},{ent_id:"2042",datatype:"CHAR(18)",attr_name:"account_num",attr_type:"",attr_id:"1318"},{ent_id:"2042",datatype:"CHAR(18)",attr_name:"account_modifier_num",attr_type:"",attr_id:"1319"},{ent_id:"2042",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1320"},{ent_id:"2042",datatype:"DATE",attr_name:"account_card_start_dt",attr_type:"",attr_id:"1321"},{ent_id:"2042",datatype:"DATE",attr_name:"account_card_end_dt",attr_type:"",attr_id:"1322"},{ent_id:"2043",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1323"},{ent_id:"2043",datatype:"SMALLINT",attr_name:"card_type_cd",attr_type:"",attr_id:"1324"},{ent_id:"2043",datatype:"SMALLINT",attr_name:"card_status_cd",attr_type:"",attr_id:"1325"},{ent_id:"2043",datatype:"SMALLINT",attr_name:"technology_type_cd",attr_type:"",attr_id:"1326"},{ent_id:"2043",datatype:"CHAR(16)",attr_name:"card_num",attr_type:"",attr_id:"1327"},{ent_id:"2043",datatype:"DATE",attr_name:"expiration_dt",attr_type:"",attr_id:"1328"},{ent_id:"2043",datatype:"DATE",attr_name:"card_issue_dt",attr_type:"",attr_id:"1329"},{ent_id:"2043",datatype:"DATE",attr_name:"card_activation_dt",attr_type:"",attr_id:"1330"},{ent_id:"2043",datatype:"DATE",attr_name:"card_deactivation_dt",attr_type:"",attr_id:"1331"},{ent_id:"2044",datatype:"INTEGER",attr_name:"related_card_id",attr_type:"",attr_id:"1332"},{ent_id:"2044",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1333"},{ent_id:"2044",datatype:"SMALLINT",attr_name:"card_relationship_type_cd",attr_type:"",attr_id:"1334"},{ent_id:"2044",datatype:"DATE",attr_name:"card_rel_start_dt",attr_type:"",attr_id:"1335"},{ent_id:"2044",datatype:"DATE",attr_name:"card_rel_end_dt",attr_type:"",attr_id:"1336"},{ent_id:"2045",datatype:"SMALLINT",attr_name:"limit_type_cd",attr_type:"",attr_id:"1337"},{ent_id:"2045",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1338"},{ent_id:"2045",datatype:"DATE",attr_name:"card_limit_start_dt",attr_type:"",attr_id:"1339"},{ent_id:"2045",datatype:"VARCHAR(50)",attr_name:"currency_cd",attr_type:"",attr_id:"1340"},{ent_id:"2045",datatype:"DECIMAL(12,2)",attr_name:"card_limit_val",attr_type:"",attr_id:"1341"},{ent_id:"2045",datatype:"DATE",attr_name:"card_limit_end_dt",attr_type:"",attr_id:"1342"},{ent_id:"2046",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1343"},{ent_id:"2046",datatype:"SMALLINT",attr_name:"credit_card_type_cd",attr_type:"",attr_id:"1344"},{ent_id:"2047",datatype:"INTEGER",attr_name:"party_id",attr_type:"",attr_id:"1345"},{ent_id:"2047",datatype:"VARCHAR(50)",attr_name:"party_type_cd",attr_type:"",attr_id:"1346"},{ent_id:"2047",datatype:"VARCHAR(50)",attr_name:"party_info_source_type_cd",attr_type:"",attr_id:"1347"},{ent_id:"2047",datatype:"DATE",attr_name:"party_start_dt",attr_type:"",attr_id:"1348"},{ent_id:"2047",datatype:"DATE",attr_name:"party_end_dt",attr_type:"",attr_id:"1349"},{ent_id:"2047",datatype:"SMALLINT",attr_name:"lifecycle_cd",attr_type:"",attr_id:"1350"},{ent_id:"2047",datatype:"VARCHAR(30)",attr_name:"party_host_num",attr_type:"",attr_id:"1351"},{ent_id:"2047",datatype:"SMALLINT",attr_name:"provider_ind",attr_type:"",attr_id:"1352"},{ent_id:"2047",datatype:"SMALLINT",attr_name:"customer_prospect_ind",attr_type:"",attr_id:"1353"},{ent_id:"2048",datatype:"INTEGER",attr_name:"party_id",attr_type:"",attr_id:"1354"},{ent_id:"2048",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1355"},{ent_id:"2048",datatype:"SMALLINT",attr_name:"party_card_role_cd",attr_type:"",attr_id:"1356"},{ent_id:"2048",datatype:"DATE",attr_name:"party_card_rel_start_dt",attr_type:"",attr_id:"1357"},{ent_id:"2048",datatype:"DATE",attr_name:"party_card_rel_end_dt",attr_type:"",attr_id:"1358"},{ent_id:"2049",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1359"},{ent_id:"2049",datatype:"SMALLINT",attr_name:"purchase_type_cd",attr_type:"",attr_id:"1360"},{ent_id:"2050",datatype:"INTEGER",attr_name:"card_id",attr_type:"",attr_id:"1361"},{ent_id:"2050",datatype:"DATE",attr_name:"pcard_bus_type_start_dt",attr_type:"",attr_id:"1362"},{ent_id:"2050",datatype:"VARCHAR(50)",attr_name:"org_business_type_cd",attr_type:"",attr_id:"1363"},{ent_id:"2050",datatype:"DATE",attr_name:"pcard_bus_type_end_dt",attr_type:"",attr_id:"1364"}],Ci=[{rela_source:"2001",rela_target:"2002",rela_type:"0",rela_id:"1"},{rela_source:"2001",rela_target:"2005",rela_type:"0",rela_id:"2"},{rela_source:"2002",rela_target:"2005",rela_type:"0",rela_id:"3"},{rela_source:"2002",rela_target:"2004",rela_type:"0",rela_id:"4"},{rela_source:"1008",rela_target:"1002",rela_type:"0",rela_id:"5"},{rela_source:"1019",rela_target:"1064",rela_type:"0",rela_id:"6"},{rela_source:"1069",rela_target:"1020",rela_type:"0",rela_id:"7"},{rela_source:"1011",rela_target:"1037",rela_type:"0",rela_id:"8"},{rela_source:"1026",rela_target:"1041",rela_type:"0",rela_id:"9"},{rela_source:"1011",rela_target:"1026",rela_type:"0",rela_id:"10"}].map((t,e)=>({...t,rela_id:String(e)})),ba=Ai.map((t,e)=>({id:t.ent_id,enName:t.ent_name,type:t.ent_type,attributes:[],bdC:e===2?"#24A148":"",textColor:e===2?"#24A148":"",bgC:e===2?"#DEFBE6":""}));Ii.forEach(t=>{var a;const e=ba.find(i=>i.id===t.ent_id);e==null||e.attributes.push({id:t.attr_id,enName:t.attr_name,type:(a=t.datatype)==null?void 0:a.replace(/\(.*\)/,"").toLocaleUpperCase()})});const Si=Ci.map((t,e)=>({from:t.rela_source,to:t.rela_target,id:e,type:t.rela_type})),oe={table:ba,relationship:Si},Mi={class:"lineage"},Ri={class:"toobar"},Li=X("div",{id:"canvas",class:"canvas"},null,-1),Ea=At({__name:"Base",setup(t){const e=B("50"),a=B("");let i;const d=()=>{const c=document.getElementById("canvas");i=new Ti({el:c,data:oe,graphStartX:40,graphStartY:40,useThumbnail:!0}),i.on(Je.Click,o=>console.log("line:click",o)),i.on(ea.Click,o=>console.log("node:click",o)),i.on(ta.Click,o=>console.log("node-attr:click",o)),i.on(aa.Move,o=>console.log("graph:move",o))},r=()=>{i.destroy()},s=()=>{i.fullscreen()},n=B([]),_=()=>{const c=[];for(let o=0;o<oe.table.length;o++){const u=oe.table[o];c.push({value:u.id,label:u.enName});for(let l=0;l<u.attributes.length;l++){const y=u.attributes[l];c.push({value:y.id,label:y.enName})}}n.value=c};return pt(()=>a.value,c=>i.viewTo(c)),pt(()=>e.value,c=>i.zoom(c)),he(()=>{d(),_()}),Ue(r),(c,o)=>(z(),W("div",Mi,[X("div",Ri,[U(M(gi),{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=u=>a.value=u),options:n.value,filterable:"",clearable:"",size:"small",placeholder:"请选择表名称",style:{width:"300px","margin-right":"6px"}},null,8,["modelValue","options"]),U(M(Rn),{type:"primary",size:"small",onClick:s},{default:q(()=>[Fa("FullScreen")]),_:1}),Ht(X("input",{"onUpdate:modelValue":o[1]||(o[1]=u=>e.value=u),type:"range",min:"1",max:"100",step:"1"},null,512),[[je,e.value]]),X("span",null,et(e.value),1)]),Li]))}});Ea.__docgenInfo={exportName:"default",displayName:"Base",description:"",tags:{},sourceFiles:["/home/runner/work/renderer2d/renderer2d/stories/lineage/Base.vue"]};const Di={title:"Example/Lineage",component:Ea},Kt={};var Xe,Ye,Ke;Kt.parameters={...Kt.parameters,docs:{...(Xe=Kt.parameters)==null?void 0:Xe.docs,source:{originalSource:"{}",...(Ke=(Ye=Kt.parameters)==null?void 0:Ye.docs)==null?void 0:Ke.source}}};const Vi=["Base"];export{Kt as Base,Vi as __namedExportsOrder,Di as default};
//# sourceMappingURL=Lineage.stories-82b68543.js.map

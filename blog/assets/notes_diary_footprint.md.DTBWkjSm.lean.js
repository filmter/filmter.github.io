const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/leaflet-src.CX4iY7XB.js","assets/chunks/theme.BlIPGSuJ.js","assets/chunks/framework.CnqoUUnS.js"])))=>i.map(i=>d[i]);
import{d as V,q as M,b as O,o as v,w as _,j as t,c as u,e as h,p as k,G as p,k as f,t as x,a as T,h as B,_ as D,v as W,V as $,$ as I}from"./chunks/framework.CnqoUUnS.js";import{b as N,l as U,w as P,d as S,e as j,f as G}from"./chunks/theme.BlIPGSuJ.js";const E=[{name:"æ˜Œå¹³åŒº",level:3},{name:"æµ·æ·€åŒº",level:3},{name:"æœé˜³åŒº",level:2},{name:"æˆ¿å±±åŒº",level:3},{name:"ä¸°å°åŒº",level:2},{name:"è¥¿åŸŽåŒº",level:2},{name:"ä¸œåŸŽåŒº",level:2},{name:"é€šå·žåŒº",level:1},{name:"é¡ºä¹‰åŒº",level:1},{name:"å¤§å…´åŒº",level:1},{name:"å¹³è°·åŒº",level:1},{name:"å’Œå¹³åŒº",level:1},{name:"æ²³è¥¿åŒº",level:1},{name:"åŒ—è¾°åŒº",level:1},{name:"é™æµ·åŒº",level:1},{name:"ç§¦çš‡å²›å¸‚",level:2},{name:"ä¿å®šå¸‚",level:1},{name:"è¿åŸŽå¸‚",level:1},{name:"å¤§åŒå¸‚",level:3},{name:"é€šè¾½å¸‚",level:2},{name:"å‘¼å’Œæµ©ç‰¹å¸‚",level:1},{name:"ä¹Œå…°å¯Ÿå¸ƒå¸‚",level:1},{name:"å…´å®‰ç›Ÿ",level:2},{name:"é„‚å°”å¤šæ–¯å¸‚",level:1},{name:"æ²ˆé˜³å¸‚",level:4},{name:"å¤§è¿žå¸‚",level:3},{name:"ä¸¹ä¸œå¸‚",level:2},{name:"æŠšé¡ºå¸‚",level:2},{name:"æœ¬æºªå¸‚",level:2},{name:"è¥å£å¸‚",level:1},{name:"é”¦å·žå¸‚",level:2},{name:"è¾½é˜³å¸‚",level:1},{name:"é“å²­å¸‚",level:1},{name:"è‘«èŠ¦å²›å¸‚",level:1},{name:"ç›˜é”¦å¸‚",level:1},{name:"éžå±±å¸‚",level:1},{name:"é€šåŒ–å¸‚",level:1},{name:"ç™½å±±å¸‚",level:2},{name:"å»¶è¾¹æœé²œæ—è‡ªæ²»å·ž",level:2},{name:"æ¾åŽŸå¸‚",level:1},{name:"å“ˆå°”æ»¨å¸‚",level:1},{name:"é½é½å“ˆå°”å¸‚",level:4},{name:"é»‘æ²³å¸‚",level:2},{name:"é™å®‰åŒº",level:1},{name:"æµ¦ä¸œæ–°åŒº",level:1},{name:"æ­å·žå¸‚",level:2},{name:"èˆŸå±±å¸‚",level:2},{name:"ç¦å·žå¸‚",level:1},{name:"åŽ¦é—¨å¸‚",level:1},{name:"æ³‰å·žå¸‚",level:2},{name:"æ¼³å·žå¸‚",level:1},{name:"é¾™å²©å¸‚",level:1},{name:"ä¸Šé¥¶å¸‚",level:1},{name:"é’å²›å¸‚",level:2},{name:"çƒŸå°å¸‚",level:1},{name:"æ—¥ç…§å¸‚",level:1},{name:"å¹¿å·žå¸‚",level:2},{name:"ä½›å±±å¸‚",level:3},{name:"å—å®å¸‚",level:1},{name:"åŒ—æµ·å¸‚",level:1},{name:"æµ·å£å¸‚",level:1},{name:"ä¸‰äºšå¸‚",level:3},{name:"ç¼æµ·å¸‚",level:1},{name:"æ–‡æ˜Œå¸‚",level:2},{name:"ä¸‡å®å¸‚",level:2},{name:"é™µæ°´é»Žæ—è‡ªæ²»åŽ¿",level:2},{name:"ç¼ä¸­é»Žæ—è‹—æ—è‡ªæ²»åŽ¿",level:1},{name:"æˆéƒ½å¸‚",level:2},{name:"é˜¿åè—æ—ç¾Œæ—è‡ªæ²»å·ž",level:1},{name:"è´µé˜³å¸‚",level:2},{name:"å…­ç›˜æ°´å¸‚",level:2},{name:"å®‰é¡ºå¸‚",level:2},{name:"æ¯•èŠ‚å¸‚",level:1},{name:"é»”è¥¿å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·ž",level:1},{name:"é»”ä¸œå—è‹—æ—ä¾—æ—è‡ªæ²»å·ž",level:1},{name:"é»”å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·ž",level:1},{name:"è¥¿å®‰å¸‚",level:1},{name:"æ¦†æž—å¸‚",level:2}],R={class:"wiki-drawer-content"},F={key:0,class:"loading-container"},J={key:1,class:"error-container"},A={key:2,class:"wiki-content"},H={class:"wiki-header"},q=["src","alt"],K={class:"wiki-basic-info"},Q={key:0,class:"info-item"},X={class:"value"},Y={key:1,class:"info-item"},ee={class:"value"},le={key:2,class:"info-item"},ae={class:"value"},te={key:0,class:"wiki-coordinates"},ne={class:"coordinates-text"},oe={class:"wiki-description"},se=["innerHTML"],ie={class:"wiki-footer"},re=V({__name:"WikiDrawer",props:{modelValue:{type:Boolean},cityName:{}},emits:["update:modelValue"],setup(w,{emit:y}){const s=w,b=y,o=B({get:()=>s.modelValue,set:a=>b("update:modelValue",a)}),l=k(!1),g=k(""),n=k(null),C=B(()=>`https://zh.wikipedia.org/wiki/${encodeURIComponent(s.cityName)}`),z=async()=>{var a,e,r;if(s.cityName){l.value=!0,g.value="",n.value=null;try{const c=await fetch(`https://zh.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(s.cityName)}`);if(!c.ok)throw new Error("æ— æ³•èŽ·å–ç»´åŸºç™¾ç§‘ä¿¡æ¯");const d=await c.json();n.value={image:(a=d.thumbnail)==null?void 0:a.source,description:d.extract_html||d.extract||"æš‚æ— ç®€ä»‹ä¿¡æ¯",population:(e=d.description)!=null&&e.includes("äººå£")?"è¯¦è§ç»´åŸºç™¾ç§‘":void 0,area:(r=d.description)!=null&&r.includes("é¢ç§¯")?"è¯¦è§ç»´åŸºç™¾ç§‘":void 0,timeZone:d.timezone||void 0,coordinates:d.coordinates?`${d.coordinates.lat}, ${d.coordinates.lon}`:void 0}}catch(c){console.error("Failed to load wiki content:",c),g.value="åŠ è½½ç»´åŸºç™¾ç§‘ä¿¡æ¯å¤±è´¥"}finally{l.value=!1}}},L=()=>{window.open(C.value,"_blank","noopener,noreferrer")},i=()=>{o.value=!1},m=()=>{n.value&&(n.value.image=void 0)};return M(()=>s.cityName,a=>{a&&o.value&&z()}),M(()=>o.value,a=>{a&&s.cityName&&z()}),(a,e)=>(v(),O(f(G),{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r),title:w.cityName,direction:"rtl",size:"400px","before-close":i},{footer:_(()=>[t("div",ie,[p(f(S),{type:"primary",link:"",onClick:L,size:"small"},{default:_(()=>[p(f(N),null,{default:_(()=>[p(f(j))]),_:1}),e[8]||(e[8]=T(" æŸ¥çœ‹å®Œæ•´ç»´åŸºç™¾ç§‘é¡µé¢ ",-1))]),_:1})])]),default:_(()=>[t("div",R,[l.value?(v(),u("div",F,[p(f(N),{class:"is-loading"},{default:_(()=>[p(f(U))]),_:1}),e[1]||(e[1]=t("span",null,"åŠ è½½ä¸­...",-1))])):g.value?(v(),u("div",J,[p(f(N),null,{default:_(()=>[p(f(P))]),_:1}),t("span",null,x(g.value),1),p(f(S),{type:"primary",onClick:L,size:"small"},{default:_(()=>[...e[2]||(e[2]=[T(" åœ¨ç»´åŸºç™¾ç§‘æŸ¥çœ‹ ",-1)])]),_:1})])):n.value?(v(),u("div",A,[t("div",H,[n.value.image?(v(),u("img",{key:0,src:n.value.image,alt:w.cityName,class:"wiki-image",onError:m},null,40,q)):h("",!0),t("div",K,[n.value.population?(v(),u("div",Q,[e[3]||(e[3]=t("span",{class:"label"},"äººå£ï¼š",-1)),t("span",X,x(n.value.population),1)])):h("",!0),n.value.area?(v(),u("div",Y,[e[4]||(e[4]=t("span",{class:"label"},"é¢ç§¯ï¼š",-1)),t("span",ee,x(n.value.area),1)])):h("",!0),n.value.timeZone?(v(),u("div",le,[e[5]||(e[5]=t("span",{class:"label"},"æ—¶åŒºï¼š",-1)),t("span",ae,x(n.value.timeZone),1)])):h("",!0)])]),n.value.coordinates?(v(),u("div",te,[e[6]||(e[6]=t("h4",null,"åæ ‡",-1)),t("p",ne,x(n.value.coordinates),1)])):h("",!0),t("div",oe,[e[7]||(e[7]=t("h4",null,"ç®€ä»‹",-1)),t("p",{innerHTML:n.value.description},null,8,se)])])):h("",!0)])]),_:1},8,["modelValue","title"]))}}),me=D(re,[["__scopeId","data-v-0472b54c"]]),de=V({__name:"FootPrint",setup(w){const y=k(),s=k(!1),b=k("");let o=null,l=null;const g=()=>$(()=>import("./chunks/leaflet-src.CX4iY7XB.js").then(i=>i.l),__vite__mapDeps([0,1,2])).then(i=>(l=i.default,i)),n=()=>{!y.value||!l||(o=new l.Map(y.value,{center:[39,105],zoom:4,maxZoom:18,minZoom:3,zoomControl:!1,attributionControl:!1}),l.control.zoom({zoomInTitle:"æ”¾å¤§",zoomOutTitle:"ç¼©å°"}).addTo(o))},C=()=>{const i={é«˜å¾·çŸ¢é‡:l.tileLayer("http://wprd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}",{maxZoom:18}),é«˜å¾·å½±åƒ:l.tileLayer("https://webst01.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",{maxZoom:18}),OSM:l.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18}),"OSMï¼ˆç°ç™½ï¼‰":l.tileLayer("https://cartodb-basemaps-a.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",{maxZoom:18}),"OSMï¼ˆæš—é»‘ï¼‰":l.tileLayer("https://cartodb-basemaps-a.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png",{maxZoom:18}).addTo(o),"OSMï¼ˆç°ç™½æ— æ ‡ç­¾ï¼‰":l.tileLayer("https://d.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png",{maxZoom:18}),"OSMï¼ˆæš—é»‘æ— æ ‡ç­¾ï¼‰":l.tileLayer("https://d.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png",{maxZoom:18}),è…¾è®¯åœ°å›¾:l.tileLayer("http://rt0.map.gtimg.com/realtimerender?z={z}&x={x}&y={-y}&type=vector&style=0",{maxZoom:18}),æš—é»‘åœ°å›¾:l.tileLayer("https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/WMTS/tile/1.0.0/Canvas_World_Dark_Gray_Base/default/default028mm/{z}/{y}/{x}/",{maxZoom:18})};l.control.layers(i,{},{position:"topright",collapsed:!0}).addTo(o)},z=()=>{fetch("/blog/geojson/100000.geoJson").then(i=>i.json()).then(i=>{!l||!o||l.geoJSON(i,{filter:m=>{var a;return E.map(e=>e.name).includes(((a=m.properties)==null?void 0:a.name)||"")},onEachFeature(m,a){var e;a.bindTooltip(`
            <div class="text-center">
              <div class="font-semibold">${((e=m.properties)==null?void 0:e.name)||""}</div>
            </div>
          `,{permanent:!1,direction:"top",offset:[0,-10],className:"city-tooltip"}),a.on({click(r){var c;o&&r.target.getBounds&&o.fitBounds(r.target.getBounds()),b.value=((c=m.properties)==null?void 0:c.name)||"",s.value=!0},mouseover(r){r.target.openTooltip()},mouseout(r){r.target.closeTooltip()}})},style(m){const a=E.find(d=>{var Z;return d.name===((Z=m.properties)==null?void 0:Z.name)}),r=((a==null?void 0:a.level)||1)/6,c="#01916d";return{color:c,weight:1,opacity:.6,fillColor:c,fillOpacity:r}}}).addTo(o)})},L=()=>{o&&(o.remove(),o=null)};return W(async()=>{await g(),l&&(n(),z(),C())}),I(()=>{L()}),(i,m)=>(v(),u("div",null,[t("div",{ref_key:"mapRef",ref:y,class:"map-home"},null,512),p(me,{modelValue:s.value,"onUpdate:modelValue":m[0]||(m[0]=a=>s.value=a),"city-name":b.value},null,8,["modelValue","city-name"])]))}}),pe=JSON.parse('{"title":"è¶³è¿¹ ðŸ‘£","description":"","frontmatter":{"aside":false},"headers":[],"relativePath":"notes/diary/footprint.md","filePath":"notes/diary/footprint.md","lastUpdated":1749028695000,"readingTime":{"words":20,"readTime":"1"}}'),ve={name:"notes/diary/footprint.md"},fe=V({...ve,setup(w){return(y,s)=>(v(),u("div",null,[s[0]||(s[0]=t("h1",{id:"è¶³è¿¹-ðŸ‘£",tabindex:"-1"},[T("è¶³è¿¹ ðŸ‘£ "),t("a",{class:"header-anchor",href:"#è¶³è¿¹-ðŸ‘£","aria-label":'Permalink to "è¶³è¿¹ ðŸ‘£"'},"â€‹")],-1)),p(de,{style:{"margin-top":"30px"}})]))}});export{pe as __pageData,fe as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/leaflet-src.C0dNA9Ti.js","assets/chunks/theme.CCjkZSVE.js","assets/chunks/framework.C_z8A2SN.js"])))=>i.map(i=>d[i]);
import{d as V,q as Z,b as E,o as d,w as _,j as a,c as v,e as g,p as h,G as c,k as p,t as x,a as T,h as M,_ as O,v as D,V as W,$}from"./chunks/framework.C_z8A2SN.js";import{b as N,l as I,w as U,d as B,e as P,f as j}from"./chunks/theme.CCjkZSVE.js";const S=[{name:"æ˜Œå¹³åŒº",level:3},{name:"æµ·æ·€åŒº",level:3},{name:"æœé˜³åŒº",level:2},{name:"æˆ¿å±±åŒº",level:3},{name:"ä¸°å°åŒº",level:2},{name:"è¥¿åŸŽåŒº",level:2},{name:"ä¸œåŸŽåŒº",level:2},{name:"é€šå·žåŒº",level:1},{name:"é¡ºä¹‰åŒº",level:1},{name:"å¤§å…´åŒº",level:1},{name:"å¹³è°·åŒº",level:1},{name:"å’Œå¹³åŒº",level:1},{name:"æ²³è¥¿åŒº",level:1},{name:"åŒ—è¾°åŒº",level:1},{name:"é™æµ·åŒº",level:1},{name:"ç§¦çš‡å²›å¸‚",level:2},{name:"ä¿å®šå¸‚",level:1},{name:"è¿åŸŽå¸‚",level:1},{name:"å¤§åŒå¸‚",level:3},{name:"é€šè¾½å¸‚",level:2},{name:"å‘¼å’Œæµ©ç‰¹å¸‚",level:1},{name:"ä¹Œå…°å¯Ÿå¸ƒå¸‚",level:1},{name:"å…´å®‰ç›Ÿ",level:2},{name:"é„‚å°”å¤šæ–¯å¸‚",level:1},{name:"æ²ˆé˜³å¸‚",level:4},{name:"å¤§è¿žå¸‚",level:3},{name:"ä¸¹ä¸œå¸‚",level:2},{name:"æŠšé¡ºå¸‚",level:2},{name:"æœ¬æºªå¸‚",level:2},{name:"è¥å£å¸‚",level:1},{name:"é”¦å·žå¸‚",level:2},{name:"è¾½é˜³å¸‚",level:1},{name:"é“å²­å¸‚",level:1},{name:"è‘«èŠ¦å²›å¸‚",level:1},{name:"ç›˜é”¦å¸‚",level:1},{name:"éžå±±å¸‚",level:1},{name:"é€šåŒ–å¸‚",level:1},{name:"ç™½å±±å¸‚",level:2},{name:"å»¶è¾¹æœé²œæ—è‡ªæ²»å·ž",level:2},{name:"æ¾åŽŸå¸‚",level:1},{name:"å“ˆå°”æ»¨å¸‚",level:1},{name:"é½é½å“ˆå°”å¸‚",level:4},{name:"é»‘æ²³å¸‚",level:2},{name:"é™å®‰åŒº",level:1},{name:"æµ¦ä¸œæ–°åŒº",level:1},{name:"æ­å·žå¸‚",level:2},{name:"èˆŸå±±å¸‚",level:2},{name:"ç¦å·žå¸‚",level:1},{name:"åŽ¦é—¨å¸‚",level:1},{name:"æ³‰å·žå¸‚",level:2},{name:"æ¼³å·žå¸‚",level:1},{name:"é¾™å²©å¸‚",level:1},{name:"ä¸Šé¥¶å¸‚",level:1},{name:"é’å²›å¸‚",level:2},{name:"çƒŸå°å¸‚",level:1},{name:"æ—¥ç…§å¸‚",level:1},{name:"å¹¿å·žå¸‚",level:2},{name:"ä½›å±±å¸‚",level:3},{name:"å—å®å¸‚",level:1},{name:"åŒ—æµ·å¸‚",level:1},{name:"æµ·å£å¸‚",level:1},{name:"ä¸‰äºšå¸‚",level:3},{name:"ç¼æµ·å¸‚",level:1},{name:"æ–‡æ˜Œå¸‚",level:2},{name:"ä¸‡å®å¸‚",level:2},{name:"é™µæ°´é»Žæ—è‡ªæ²»åŽ¿",level:2},{name:"ç¼ä¸­é»Žæ—è‹—æ—è‡ªæ²»åŽ¿",level:1},{name:"æˆéƒ½å¸‚",level:2},{name:"é˜¿åè—æ—ç¾Œæ—è‡ªæ²»å·ž",level:1},{name:"è´µé˜³å¸‚",level:2},{name:"å…­ç›˜æ°´å¸‚",level:2},{name:"å®‰é¡ºå¸‚",level:2},{name:"æ¯•èŠ‚å¸‚",level:1},{name:"é»”è¥¿å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·ž",level:1},{name:"é»”ä¸œå—è‹—æ—ä¾—æ—è‡ªæ²»å·ž",level:1},{name:"é»”å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·ž",level:1},{name:"è¥¿å®‰å¸‚",level:1},{name:"æ¦†æž—å¸‚",level:2}],G={class:"wiki-drawer-content"},R={key:0,class:"loading-container"},F={key:1,class:"error-container"},J={key:2,class:"wiki-content"},A={class:"wiki-header"},H=["src","alt"],q={class:"wiki-basic-info"},K={key:0,class:"info-item"},Q={class:"value"},X={key:1,class:"info-item"},Y={class:"value"},ee={key:2,class:"info-item"},le={class:"value"},ae={key:0,class:"wiki-coordinates"},te={class:"coordinates-text"},oe={class:"wiki-description"},ne=["innerHTML"],se={class:"wiki-footer"},ie=V({__name:"WikiDrawer",props:{modelValue:{type:Boolean},cityName:{}},emits:["update:modelValue"],setup(k,{emit:w}){const s=k,b=w,n=M({get:()=>s.modelValue,set:l=>b("update:modelValue",l)}),t=h(!1),y=h(""),o=h(null),C=M(()=>`https://zh.wikipedia.org/wiki/${encodeURIComponent(s.cityName)}`),z=async()=>{var l,e,f;if(s.cityName){t.value=!0,y.value="",o.value=null;try{const u=await fetch(`https://zh.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(s.cityName)}`);if(!u.ok)throw new Error("æ— æ³•èŽ·å–ç»´åŸºç™¾ç§‘ä¿¡æ¯");const r=await u.json();o.value={image:(l=r.thumbnail)==null?void 0:l.source,description:r.extract_html||r.extract||"æš‚æ— ç®€ä»‹ä¿¡æ¯",population:(e=r.description)!=null&&e.includes("äººå£")?"è¯¦è§ç»´åŸºç™¾ç§‘":void 0,area:(f=r.description)!=null&&f.includes("é¢ç§¯")?"è¯¦è§ç»´åŸºç™¾ç§‘":void 0,timeZone:r.timezone||void 0,coordinates:r.coordinates?`${r.coordinates.lat}, ${r.coordinates.lon}`:void 0}}catch(u){console.error("Failed to load wiki content:",u),y.value="åŠ è½½ç»´åŸºç™¾ç§‘ä¿¡æ¯å¤±è´¥"}finally{t.value=!1}}},L=()=>{window.open(C.value,"_blank","noopener,noreferrer")},i=()=>{n.value=!1},m=()=>{o.value&&(o.value.image=void 0)};return Z(()=>s.cityName,l=>{l&&n.value&&z()}),Z(()=>n.value,l=>{l&&s.cityName&&z()}),(l,e)=>(d(),E(p(j),{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=f=>n.value=f),title:k.cityName,direction:"rtl",size:"400px","before-close":i},{footer:_(()=>[a("div",se,[c(p(B),{type:"primary",link:"",onClick:L,size:"small"},{default:_(()=>[c(p(N),null,{default:_(()=>[c(p(P))]),_:1}),e[8]||(e[8]=T(" æŸ¥çœ‹å®Œæ•´ç»´åŸºç™¾ç§‘é¡µé¢ ",-1))]),_:1})])]),default:_(()=>[a("div",G,[t.value?(d(),v("div",R,[c(p(N),{class:"is-loading"},{default:_(()=>[c(p(I))]),_:1}),e[1]||(e[1]=a("span",null,"åŠ è½½ä¸­...",-1))])):y.value?(d(),v("div",F,[c(p(N),null,{default:_(()=>[c(p(U))]),_:1}),a("span",null,x(y.value),1),c(p(B),{type:"primary",onClick:L,size:"small"},{default:_(()=>[...e[2]||(e[2]=[T(" åœ¨ç»´åŸºç™¾ç§‘æŸ¥çœ‹ ",-1)])]),_:1})])):o.value?(d(),v("div",J,[a("div",A,[o.value.image?(d(),v("img",{key:0,src:o.value.image,alt:k.cityName,class:"wiki-image",onError:m},null,40,H)):g("",!0),a("div",q,[o.value.population?(d(),v("div",K,[e[3]||(e[3]=a("span",{class:"label"},"äººå£ï¼š",-1)),a("span",Q,x(o.value.population),1)])):g("",!0),o.value.area?(d(),v("div",X,[e[4]||(e[4]=a("span",{class:"label"},"é¢ç§¯ï¼š",-1)),a("span",Y,x(o.value.area),1)])):g("",!0),o.value.timeZone?(d(),v("div",ee,[e[5]||(e[5]=a("span",{class:"label"},"æ—¶åŒºï¼š",-1)),a("span",le,x(o.value.timeZone),1)])):g("",!0)])]),o.value.coordinates?(d(),v("div",ae,[e[6]||(e[6]=a("h4",null,"åæ ‡",-1)),a("p",te,x(o.value.coordinates),1)])):g("",!0),a("div",oe,[e[7]||(e[7]=a("h4",null,"ç®€ä»‹",-1)),a("p",{innerHTML:o.value.description},null,8,ne)])])):g("",!0)])]),_:1},8,["modelValue","title"]))}}),me=O(ie,[["__scopeId","data-v-0472b54c"]]),re=V({__name:"FootPrint",setup(k){const w=h(),s=h(!1),b=h("");let n,t;const y=()=>W(()=>import("./chunks/leaflet-src.C0dNA9Ti.js").then(i=>i.l),__vite__mapDeps([0,1,2])).then(i=>t=i.default),o=()=>{n=new t.Map(w.value,{center:new t.LatLng(39,105),zoom:4,maxZoom:18,minZoom:3,zoomControl:!1,attributionControl:!1}),t.control.zoom({zoomInTitle:"æ”¾å¤§",zoomOutTitle:"ç¼©å°"}).addTo(n)},C=()=>{const i={é«˜å¾·çŸ¢é‡:t.tileLayer("http://wprd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}",{maxZoom:18}),é«˜å¾·å½±åƒ:t.tileLayer("https://webst01.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",{maxZoom:18}),OSM:t.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18}),"OSMï¼ˆç°ç™½ï¼‰":t.tileLayer("https://cartodb-basemaps-a.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",{maxZoom:18}),"OSMï¼ˆæš—é»‘ï¼‰":t.tileLayer("https://cartodb-basemaps-a.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png",{maxZoom:18}).addTo(n),"OSMï¼ˆç°ç™½æ— æ ‡ç­¾ï¼‰":t.tileLayer("https://d.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png",{maxZoom:18}),"OSMï¼ˆæš—é»‘æ— æ ‡ç­¾ï¼‰":t.tileLayer("https://d.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png",{maxZoom:18}),è…¾è®¯åœ°å›¾:t.tileLayer("http://rt0.map.gtimg.com/realtimerender?z={z}&x={x}&y={-y}&type=vector&style=0",{maxZoom:18}),æš—é»‘åœ°å›¾:t.tileLayer("https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/WMTS/tile/1.0.0/Canvas_World_Dark_Gray_Base/default/default028mm/{z}/{y}/{x}/",{maxZoom:18})};t.control.layers(i,{},{position:"topright",collapsed:!0}).addTo(n)},z=()=>{fetch("/blog/geojson/100000.geoJson").then(i=>i.json()).then(i=>{t.geoJSON(i,{filter:m=>S.map(l=>l.name).includes(m.properties.name),onEachFeature(m,l){l.bindTooltip(`
            <div class="text-center">
              <div class="font-semibold">${m.properties.name}</div>
            </div>
          `,{permanent:!1,direction:"top",offset:[0,-10],className:"city-tooltip"}),l.on({click(e){n.fitBounds(e.target.getBounds()),b.value=m.properties.name,s.value=!0},mouseover(e){e.target.openTooltip()},mouseout(e){e.target.closeTooltip()}})},style(m){const l=S.find(r=>r.name===m.properties.name),f=((l==null?void 0:l.level)||1)/6,u="#01916d";return{color:u,weight:1,opacity:.6,fillColor:u,fillOpacity:f}}}).addTo(n)})},L=()=>{n&&(n.remove(),n=null)};return D(async()=>{await y(),o(),z(),C()}),$(()=>{L()}),(i,m)=>(d(),v("div",null,[a("div",{ref_key:"mapRef",ref:w,class:"map-home"},null,512),c(me,{modelValue:s.value,"onUpdate:modelValue":m[0]||(m[0]=l=>s.value=l),"city-name":b.value},null,8,["modelValue","city-name"])]))}}),pe=JSON.parse('{"title":"è¶³è¿¹ ðŸ‘£","description":"","frontmatter":{"aside":false},"headers":[],"relativePath":"notes/diary/footprint.md","filePath":"notes/diary/footprint.md","lastUpdated":1749028695000,"readingTime":{"words":20,"readTime":"1"}}'),de={name:"notes/diary/footprint.md"},ue=V({...de,setup(k){return(w,s)=>(d(),v("div",null,[s[0]||(s[0]=a("h1",{id:"è¶³è¿¹-ðŸ‘£",tabindex:"-1"},[T("è¶³è¿¹ ðŸ‘£ "),a("a",{class:"header-anchor",href:"#è¶³è¿¹-ðŸ‘£","aria-label":'Permalink to "è¶³è¿¹ ðŸ‘£"'},"â€‹")],-1)),c(re,{style:{"margin-top":"30px"}})]))}});export{pe as __pageData,ue as default};

import{_ as t,c as e,o as n,aO as i}from"./chunks/framework.D_nKG35B.js";const r="/blog/assets/%E6%A8%A1%E5%9E%8B%E5%8A%A8%E7%94%BB.CEdYWrNM.gif",A="/blog/assets/%E5%8A%9B%E5%AF%BC%E5%85%B3%E7%B3%BB%E5%9B%BE.Z8ov3bxK.gif",o="/blog/assets/%E8%A1%A5%E9%97%B4%E5%8A%A8%E7%94%BB.DZshLLZ0.png",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKEAAAA1CAYAAAAppovjAAAJ10lEQVR4Ae1dDYxdRRX+zrw/VDa7tFbbUqCLlBINP4uIVRCixKoIiDEl/KikIAuCKChQ7rzX7XT33blpUy1SobAmAqIoIkJBEjGIJYEaFWoMoBQqCy3y08K6FNC+e9+bY87z3Ze3G9tC0m73ZybZzNyZuTNnvnPe/N3N+QgjgjFm31wudxyAqUmSrDPGPDeiin+cgAiI3vP5/AnM3JEkyW+NMa+O1jCptaNyuXxAJpN5GMAMZn6DiKYwc7fW+oet9Xx6YiFgrf0gEd0HYDaAfzFzGxGtqVQqZxtj4j09WtXaQSaTuZmZY2aeEcfxNOdcBOAGa+2hrfV8emIhQEQ3MjMnSXJ0EARTnXNnAPhSLpe7YDRGmk07KZfLBwH4JBF9JQiC1yTfGNOTz+cvYeavAigZYzpyudzJRHSC/GIA3KO1/kPaho/HHwKyDAM4HoDt6en5i4ygVCrdZa19iYiOlOc9rffmTKiU+hAASpLkbymUxpgqgKeI6PDu7u5coVB4kIi+B0CM92giWmetPSWt7+Pxh0A+ny8A6CGim1LpwzA8iohmAHhuNPTenAllHyhCbNu27elUmEa8AcDcAw88cCaALgC9WuslUhaG4XVKqS8A+PWId/zjOEFAay2rXl8qrrV2KhGtauwNbxoNvTeNULYERIQpU6bsA+CtVCgi2kfKSqXSpiiKHiaiwFp7NIC7mbk3CIJX0ro+Ht8IlMvlYwD8EsB7arXaaaVS6SVZHfe03pvLMQDpUMLIQ8hhjTIeGBj4FDOfTUSDMhEqpTaHYfidxns+GscIWGsvVEo9QkT/cM4dUSqV5JZEwh7Xe9MIkyR5DEAFwEcbnSOKov2YeQ4zr4ui6ODOzs4wjuMHgiA4N47jmcx8PxHZSy+9VPYVPoxTBKy15xLRDQCuX79+/fxisZhOSGIDe1zvw+4JrbU/kqM5M59JRM8T0XJmlovrQ+M4fqtQKDzvnPtFkiR9hULh3cx8HYCZWuv6KWqc6mBSiy0TyMyZM8XoXnXOXdgKBhG9Esfxc3ta782ZUDqP4/hiAGuVUvcS0ZMAjnTOfU5rvdUY828AlymlTioUCiL0RiI6gJl1q+A+Pb4QmD59+lwA+wGYo5R6sPUPwNV7Te+LFi1ql2l4R3BGUXSIMea9Oyr3+RMTAa/3ialXPyqPgEfAI+AR8Ah4BDwCHgGPgEfAI+AR8Ah4BDwCHgGPgEfAI+AReLsIrF69mt9uXV9v4iAwWnof9u144sDnRzKeEPBGOJ60NUFl9UY4QRU7nobV/Pf+XQk9WvuDXcnhyycpAt4AJ6fiR0vvfjmenPY1pkbtjXBMqWNyCuONcHLq3Y/aI+AR8Ah4BDwCHgGPgEfAI+AR8Ah4BDwCHgGPgEfAI+AR8Ah4BDwCHoFWBJpeuTx1RCssEyu9YMGCTFdX17FDQ0NPLF++/I10dOVyeZ5Sam61Wl3f09PzeJqfxuIqePbs2fOY+aAkSdYaY15Iy3ZnXDdCTx2xOyEdW2013P/eAuDzzHy81voRY0w2n8/fQUSnM/MQEbUz85PVavXLPT09f5URXHXVVW0dHR3if1K8t24VF4DMLI7yxT30bg31b8eeOmK3YjpmGoui6Bwi2gzg8Fah8vn8xWKAzrmFQhVSqVRmE9G+2Wz2+2m9jo6O7wKYVavVPhAEwf7OuVOI6LQwDD+d1tldcfbtUEeIK1lm/iMRiRfXjzDzy865WxcvXryhr69vbiaT+WKtVrtz8eLFz4hg5XL5BKXUx+M47jfGiGthH/YCAs65DICvOecey2azT6UiENFnATxTLBZvbuRtstbeA0CoQiCuAQGcA2BpqVQSI0axWLwviqKvp22MjMMwfD8RLazVandkMhkx/oOY+fGtW7feuHLlyv9Ya08HcHAcx9c2WCHEC2y3c66a3RF1hLW2Th3R6KxPKSUO1V9wzv1eKXWyUuqbURSdVKlUHs9ms2dmMpmzjDFipO9TSq0BcJ83wJGqGt3nYrH4Y+mxr69vzoiexen9yy15si0Tw6xTyLW1tR1OROKJ99kwDMtENE889yZJcs3/2ztKO0R0GBFFmUzmMgB/ZmZxpFqaNm3aOcaY44jon8x8ey6XmyL5YRieB0BIfE6X5Xhn1BHTU0GZ+c1KpXJssVi8pFKpyGb1eWZeZozZzsxnEFFnLpdbWSgUfgrg5cHBwWGuZ9N2fLz3EQiCoF9rLTOfBArDcAkRicN84agRg5r1vyJERDSfmTcw86nZbPbR3t7eYUt7o14zEnoyrfWpWuvuarV6kuwpC4XCeUEQiGFeIewPURRdpJS6FsDKUqm0Rgk9hLTQoI5obUxmvnqZZBLR/caYNyXd4Dv7DYCPSZHW+mnnXLdS6iIAH2bmBStWrGjSUDQb9YkxhYAsu9baXymleph5idb6VhGQiFJH+I9oresTTxzHhwCoZrPZK3c2CGa+My2XQ45MVgDE77ks6cKPcjeA1cz8xMDAwCLJl5kw9dS+I+qItM1hbJ/MvEk4Towx76o3pFS696smSVI31vRFH489BGRGa29vFxoxmUjma617UymZ+UVJy/KZ5hljthHR74RYKc3bQTzMTgBsavjETqsLHZ0Y+hv9/f3CGAa1K+qI9M3GnqH5qJT6BDO/Io61lyxZIsf3nwC4i5kH8vn87XLH1KzsE2MKAWPMrGw2u1b4aOI4PiYIggdaBYzjWJzm15RSR7TkEzMfBaBuoC35w5LM/Jk0wxgjq6kcZJ+VvCiKziKi85nZAjgxiqKrJT8rhwdr7W1yEgrDcINsQAEsB7CdiMSw0jDPWtsjU6lzbh4AIVr8gVyEFgqF24joraGhoYXt7e37E9GjnZ2dywB8O33Zx2MHgXw+L4cNOSB8I5fLzQnDsH5wISKntX5o6dKlL1pr7wLwLWvtYONm5CJha6jVapfvbCQNxq/NjVmzCEAM8ZYGU+yNAGQ/WrTWvi4cONbah+v3hDujjkg7dM5dL0dwItqSyWTWMPO9lUqlt6uraxERHS9MT8uWLXtday0EjVcAuDyKovnp+z7e+wg452oihZx2G9LcNoIyQvb59RDH8flEtF6ohpVScoG9kJmvLJVKzT1fWrc1JiLhtpHLcdmeXeycuyAIgseI6Odyu7JlyxY5PQtdyQoADwH4WfOznRTIRrWjo2NqEAT16TNt3Fq7RahItdbXCI3A0NDQVjG4tNzHExcB+XLS1tY2a/PmzRv7+/ubB9WRI7bWnkhEa7dv377/4ODgazNmzOiM43hjeic4sn7r8zAPDA3D2qlxBUGwsbUBn57YCDS+Nf/9nYxy1apVQk/XvBzf1bv15XhXlYjoT+mJaVd1ffnkRKBarW4DsI6I4neKwH8Bs3Ri+koZ9NwAAAAASUVORK5CYII=",s="/blog/assets/%E5%A4%9A%E4%B8%AA%E8%A1%A5%E9%97%B4%E5%8A%A8%E7%94%BB.CxI3rfEU.png",d="data:image/png;base64,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",h="data:image/png;base64,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",p="/blog/assets/%E5%A4%9A%E4%B8%AA%E8%A1%A5%E9%97%B4%E5%8A%A8%E7%94%BB3.DNUWnk_C.gif",g="/blog/assets/%E5%85%B3%E9%94%AE%E5%B8%A7%E8%A1%A5%E9%97%B4%E5%8A%A8%E7%94%BB.EwOn42jL.png",c="/blog/assets/q1.zJThbElF.gif",m="/blog/assets/q2.5zzZlH5L.gif",b="/blog/assets/q3.DHIICg7B.gif",x=JSON.parse('{"title":"深度解析 AntV 技术栈动画的工程原理","description":"","frontmatter":{},"headers":[],"relativePath":"notes/it/web/Graph/解析AntV技术栈动画.md","filePath":"notes/it/web/Graph/解析AntV技术栈动画.md","lastUpdated":1685956711000,"readingTime":{"words":"2.6k","readTime":8}}'),E={name:"notes/it/web/Graph/解析AntV技术栈动画.md"};function u(f,a,y,B,w,q){return n(),e("div",null,a[0]||(a[0]=[i('<h1 id="深度解析-antv-技术栈动画的工程原理" tabindex="-1">深度解析 AntV 技术栈动画的工程原理 <a class="header-anchor" href="#深度解析-antv-技术栈动画的工程原理" aria-label="Permalink to &quot;深度解析 AntV 技术栈动画的工程原理&quot;">​</a></h1><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to &quot;概述&quot;">​</a></h2><p>目前 <a href="https://antv.vision/" target="_blank" rel="noreferrer">AntV</a> 的动画起到的作用主要是增强表现力（类似于样式一般的存在），但对于可视化内容的表达几乎没有实质的影响，其在整个可视化的过程中扮演着一个配角的地位。但随着可视化的发展，随着我们探索的逐步深入，在可预见的未来里，动画的表达将有可能会有更深层次的含义，其在可视化过程中的地位亦将发生翻天覆地的变化的。本文主要从<strong>工程角度</strong>介绍 AntV 动画的基本原理及现阶段存在的问题，为今后可能迎来的动画改造踏出一小步。</p><h2 id="概念列表" tabindex="-1">概念列表 <a class="header-anchor" href="#概念列表" aria-label="Permalink to &quot;概念列表&quot;">​</a></h2><table tabindex="0"><thead><tr><th>名词</th><th>解释</th></tr></thead><tbody><tr><td>帧 (Frame)</td><td>在视频领域，电影、电视、数字视频等可视为随时间连续变换的许多张画面，而帧是指每一张画面。</td></tr><tr><td>帧率 (Frame rate)</td><td>帧率是用于测量显示帧数的量度。测量单位为“每秒显示帧数”（Frame per Second，FPS）或“赫兹”，一般来说FPS用于描述视频、电子绘图或游戏每秒播放多少帧。</td></tr><tr><td>帧数 (Frames)</td><td>帧数为帧生成数量的简称</td></tr><tr><td>插值 (Interpolation)</td><td>通过已知的、离散的数据点，在范围内推求新数据点的过程或方法。</td></tr></tbody></table><h2 id="动画定义" tabindex="-1">动画定义 <a class="header-anchor" href="#动画定义" aria-label="Permalink to &quot;动画定义&quot;">​</a></h2><blockquote><p>动画的基本原理是&quot;视觉暂留&quot;的生理学现象和&quot;相似&quot;的心理学现象。人眼看到物体后，其影像会在视网膜上短暂地停留一会儿(一般认为1/24秒内不会消失)，再加上大脑要完成一个感知的过程，当一系列图像变化非常细微，且变化速度非常快时(每秒至少24帧画面)，他们看起来似乎混合在一起了，从而构成一种运动的视觉假象。—— 《计算机软件技术基础》</p></blockquote><p>上面那么长的原理，其实一言以蔽之：一张张细微差别的图片固定时间间隔以幻灯片的形式播放，再经过人脑的补完，就是咱们人类所认知的计算机动画。</p><h2 id="动画种类" tabindex="-1">动画种类 <a class="header-anchor" href="#动画种类" aria-label="Permalink to &quot;动画种类&quot;">​</a></h2><p>在我们日常工作中我们常常能看到能动的可视化作品，在用户看来能平滑变动，都能称之为动画。但从工程角度看，动画也许应该被分为以下两类：</p><h3 id="基于模拟器的-——-模型动画" tabindex="-1">基于模拟器的 —— 模型动画 <a class="header-anchor" href="#基于模拟器的-——-模型动画" aria-label="Permalink to &quot;基于模拟器的 —— 模型动画&quot;">​</a></h3><p><img src="'+r+'" alt="" data-fancybox="gallery" loading="lazy"> 图片来源：<a href="https://medium.com/@EvanSinar/use-animation-to-supercharge-data-visualization-cd905a882ad4" target="_blank" rel="noreferrer">https://medium.com/@EvanSinar/use-animation-to-supercharge-data-visualization-cd905a882ad4</a></p><p>这类动画，不同时间点，元素的属性（如位置）是由一种模型确定的。在可视化领域内，最常见的模型是物理学领域内的力导模型。这种动画类型的特点是单个图形对象属性的确定往往受环境和自身属性的共同作用。优点是天然符合人的直觉，大多数情况下的动画效果都让人感觉非常自然。<strong>缺点</strong>是往往性能开销较大，对（GPU）并行计算有非常强的需求，开发难度大，控制性弱。</p><p>这类的动画 AntV 目前还探索的比较少，认识也比较初级（仅有的几个案例就是 G6 场景下的动态力导关系图）。这里暂时不展开讨论。 <img src="'+A+'" alt="" data-fancybox="gallery" loading="lazy"></p><h3 id="基于关键帧的-——-补间动画" tabindex="-1">基于关键帧的 —— 补间动画 <a class="header-anchor" href="#基于关键帧的-——-补间动画" aria-label="Permalink to &quot;基于关键帧的 —— 补间动画&quot;">​</a></h3><p>图片来源：<a href="http://www.beautifulinenglish.com/" target="_blank" rel="noreferrer">http://www.beautifulinenglish.com/</a></p><p>这类动画，是指再给定前后两个关键帧，系统根据<strong>时间</strong>进行<strong>插值</strong>，从而计算出两个关键帧间不同时刻的补间帧，然后逐帧绘制，从而制作出动画效果。这类动画的特点是，对起始帧和结束帧的要求非常严格，尤其是结束帧，如果结束帧不是给定的关键帧将直接导致可视化结果出错。<strong>优点</strong>是控制性非常强，不同的开始时间、补间时长、插值过程，使我们能设计、制作出千变万化的动画效果，<strong>缺点</strong>是得需要精细的设计、良好的审美以及极大耐心（要调动画参数）。做这类动画往往对制作者除了工程能力有要求，还需要过硬设计能力，否则制作出的动画将很有可能是反人类的。</p><p>补间动画是目前 AntV 技术栈使用最广的动画类型，下面我们将重点展开讨论。</p><h2 id="antv-的补间动画机制" tabindex="-1">AntV 的补间动画机制 <a class="header-anchor" href="#antv-的补间动画机制" aria-label="Permalink to &quot;AntV 的补间动画机制&quot;">​</a></h2><p>动画机制直接决定了工程上动画的接口以及表现，应是开发者最为关注的模块。所谓补间动画，早年如果使用过 Flash 开发过动画的朋友应该能相对轻松、形象的理解。对于补间动画来说有两个最至关重要的元素，一个是时间轴（下图刻度部分），另一个是补间（下图蓝色部分）。</p><p><img src="'+o+'" alt="" data-fancybox="gallery" loading="lazy"></p><blockquote><p>图片来源：<a href="http://flashjournalism.com/tutorials/animation_examples/index.html" target="_blank" rel="noreferrer">http://flashjournalism.com/tutorials/animation_examples/index.html</a></p></blockquote><p>若转化到程序，<code>时间轴（Timeline）</code>可以理解成用于执行动画的定时器，而<code>补间（Tween）</code>是可以理解为动画执行对象及执行参数所构成的数据集。</p><h3 id="单个执行单个补间动画" tabindex="-1">单个执行单个补间动画 <a class="header-anchor" href="#单个执行单个补间动画" aria-label="Permalink to &quot;单个执行单个补间动画&quot;">​</a></h3><p>要对一个图元做一个补间动画，至少要处理两件事情：时间与插值。时间意味着我们要确定一个补间的起始时间（StarTime）、持续时间（Duration），插值是指根据一段补间起始和结束的属性，确定这段补间不同时刻同一属性的值。举个例子： <img src="'+l+`" alt="" data-fancybox="gallery" loading="lazy"></p><blockquote><p>上面这个例子描述了对一个圆的横坐标 x 做 持续 2s 的补间动画，代码表示如下：</p></blockquote><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">circle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">animate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">126</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="执行多个补间动画" tabindex="-1">执行多个补间动画 <a class="header-anchor" href="#执行多个补间动画" aria-label="Permalink to &quot;执行多个补间动画&quot;">​</a></h3><p>考虑单个图形的单个补间，老实说比简单，一个定时器，一个插值函数就搞定了。但如果是多个补间，问题就稍微复杂了，需要我们再多思考一些东西了。根据历史经验看，执行多个补间动画有两点至关重要：</p><ol><li>使用一个时间轴。</li><li>同一个图形对象同一时间下，执行顺序。</li></ol><p>第一点比较简单，意味着整个动画过程中我们始终只有一个定时器（Timer），否则多定时器的话你会遭遇十分严重的性能问题。第二点可能理解起来比较费劲，且未必有标准答案。下面举例说明：</p><p><img src="`+s+'" alt="" data-fancybox="gallery" loading="lazy"></p><p>对于前两种补间我们心中可能是自然而然的，没有疑问的，但对于第三种情况，我们可以要稍花心思多考虑一下。最自然的想法是，让两个补间按顺序执行，后面的补间覆盖前面的补间。目前上面那种情况并没有什么问题，但如果是下面这种情况呢？</p><p><img src="'+d+'" alt="" data-fancybox="gallery" loading="lazy"></p><p>两个补间运行完以后，图形的终态应该是什么样的呢？从 Flash 这种纯动画制作工具看，可能每个补间互相独立是更合理的。但从 AntV 的动画接口和预期上看。动画只不过是一个中间过程，它应不能影响最终结果的展示。怎么理解？意味着图形的终态只跟动画调用的起始实际有关，跟时长无关。这意味更合理的做法应该是，下一个补间到来时，应该废弃上一补间中相同属性的补间，即废弃掉红色这部分这部分补间。</p><p><img src="'+h+'" alt="" data-fancybox="gallery" loading="lazy"></p><p>以上两个最基础的动画实现在 AntV 技术栈中，对于 G2 和 G6 ，是在 G 这个层面完成的。F2 目前是自己独立的一套渲染和动画，细节策略有些有所不同，但整体思路是一脉相承的。</p><p><img src="'+p+'" alt="" data-fancybox="gallery" loading="lazy"></p><h3 id="关键帧补间动画" tabindex="-1">关键帧补间动画 <a class="header-anchor" href="#关键帧补间动画" aria-label="Permalink to &quot;关键帧补间动画&quot;">​</a></h3><p>关键帧动画的根本问题是，<strong>现有两个画面，怎样让两个画面用动画平滑的过渡</strong>。根据 G2 <a href="https://antv.vision/" target="_blank" rel="noreferrer">动画文档</a> 的描述，在 G2 中有入场动画（Appear）、出现动画（Enter）、更新动画（Update）、退场动画（Leave），四种动画。那么我们又是通过什么方式去区分这几种动画的呢？</p><p>其中入场动画，在 G2 中就是特指第一次渲染（Render）时的出现动画。而剩下三个，则需要基于套<code>比对机制</code>，如下图所示：</p><p><img src="'+g+'" alt="" data-fancybox="gallery" loading="lazy"></p><h2 id="现有问题" tabindex="-1">现有问题 <a class="header-anchor" href="#现有问题" aria-label="Permalink to &quot;现有问题&quot;">​</a></h2><p>目前看来，底层引擎 G 层面的动画没有什么问题，主要的问题还是出在上层框架的<code>关键帧动画</code>上。抛除一些接口设计，概念理解上不清晰的问题之外主要还有以下几处硬伤：</p><h3 id="没有以当前帧作为动画的起始帧-导致画面闪烁" tabindex="-1">没有以当前帧作为动画的起始帧，导致画面闪烁 <a class="header-anchor" href="#没有以当前帧作为动画的起始帧-导致画面闪烁" aria-label="Permalink to &quot;没有以当前帧作为动画的起始帧，导致画面闪烁&quot;">​</a></h3><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><img src="'+c+'" alt="" data-fancybox="gallery" loading="lazy"></td><td><img src="'+m+'" alt="" data-fancybox="gallery" loading="lazy"></td></tr><tr><td>如果在上一次动画没结束，插入下一个动画，画面会闪烁。</td><td>增加动画时长，我们发现原因是，下一个动画的起始帧，是上次渲染的结束帧，而不是当前帧。</td></tr></tbody></table><h3 id="全量比对性能开销大" tabindex="-1">全量比对性能开销大 <a class="header-anchor" href="#全量比对性能开销大" aria-label="Permalink to &quot;全量比对性能开销大&quot;">​</a></h3><p>这点主要是针对 G6 而言的，由于 G6 中有很多接口是差量（如：增（add）、删（delete）、改（update）），但目前每次都是全量比对，会造成不必要的性能浪费。</p><h3 id="无法自定义插值过程" tabindex="-1">无法自定义插值过程 <a class="header-anchor" href="#无法自定义插值过程" aria-label="Permalink to &quot;无法自定义插值过程&quot;">​</a></h3><p>目前是无法自定义动画的插值过程的，使得一些更精细的效果无法完成，比如想让下面数据变化时保留整数，目前是没有接口自定义这件事情的。</p><p><img src="'+b+'" alt="" data-fancybox="gallery" loading="lazy"></p><h2 id="声明" tabindex="-1">声明 <a class="header-anchor" href="#声明" aria-label="Permalink to &quot;声明&quot;">​</a></h2><ul><li>原文：<a href="https://www.yuque.com/antv/blog/deep-analytical-animation" target="_blank" rel="noreferrer">https://www.yuque.com/antv/blog/deep-analytical-animation</a></li><li>作者：黄通（有田）| <a href="mailto:huantong.ht@antfin.com" target="_blank" rel="noreferrer">huantong.ht@antfin.com</a></li></ul>',53)]))}const P=t(E,[["render",u]]);export{x as __pageData,P as default};

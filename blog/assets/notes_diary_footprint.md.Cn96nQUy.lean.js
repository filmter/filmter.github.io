const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/leaflet-src.CoxfqXaM.js","assets/chunks/theme.CHHLS8Op.js","assets/chunks/framework.M0MK_Ym8.js"])))=>i.map(i=>d[i]);
import{d as P,q as L,o as n,b as $,w as R,j as i,c as m,E,k as v,t as S,a as b,N as G,F as D,B as M,e as T,h,p as F,_ as V,v as Z,$ as O,V as X}from"./chunks/framework.M0MK_Ym8.js";import{b as w,l as W,w as U,d as z,e as j,f as J}from"./chunks/theme.CHHLS8Op.js";var a=(y=>(y.PASSING="é€”å¾„",y.BRIEF_STAY="çŸ­ä½",y.EXPERIENCED="ç†Ÿæ‚‰",y.DEEPLY_FAMILIAR="æ·±åº¦",y))(a||{});const g={é€”å¾„:{level:"é€”å¾„",numericValue:1,color:"#93c5fd",description:"åªæ˜¯è·¯è¿‡ï¼ŒçŸ­æš‚åœç•™",opacity:.2},çŸ­ä½:{level:"çŸ­ä½",numericValue:2,color:"#60a5fa",description:"çŸ­æœŸè®¿é—®ï¼Œåœç•™1-3å¤©",opacity:.4},ç†Ÿæ‚‰:{level:"ç†Ÿæ‚‰",numericValue:3,color:"#3b82f6",description:"å¤šæ¬¡è®¿é—®æˆ–åœç•™è¾ƒä¹…",opacity:.6},æ·±åº¦:{level:"æ·±åº¦",numericValue:4,color:"#1d4ed8",description:"é•¿æœŸç”Ÿæ´»æˆ–å·¥ä½œ",opacity:.8}},C=y=>g[y],N=[{name:"æ˜Œå¹³åŒº",familiarity:a.DEEPLY_FAMILIAR},{name:"æµ·æ·€åŒº",familiarity:a.DEEPLY_FAMILIAR},{name:"æœé˜³åŒº",familiarity:a.EXPERIENCED,marks:[]},{name:"æˆ¿å±±åŒº",familiarity:a.EXPERIENCED},{name:"ä¸°å°åŒº",familiarity:a.EXPERIENCED},{name:"è¥¿åŸŽåŒº",familiarity:a.EXPERIENCED},{name:"ä¸œåŸŽåŒº",familiarity:a.EXPERIENCED},{name:"é€šå·žåŒº",familiarity:a.BRIEF_STAY},{name:"é¡ºä¹‰åŒº",familiarity:a.BRIEF_STAY},{name:"å¤§å…´åŒº",familiarity:a.BRIEF_STAY},{name:"å¹³è°·åŒº",familiarity:a.BRIEF_STAY},{name:"å’Œå¹³åŒº",familiarity:a.BRIEF_STAY},{name:"æ²³è¥¿åŒº",familiarity:a.BRIEF_STAY},{name:"åŒ—è¾°åŒº",familiarity:a.BRIEF_STAY},{name:"é™æµ·åŒº",familiarity:a.BRIEF_STAY},{name:"ç§¦çš‡å²›å¸‚",familiarity:a.BRIEF_STAY,marks:["åŒ—æˆ´æ²³","é¸½å­çªå…¬å›­"]},{name:"ä¿å®šå¸‚",familiarity:a.BRIEF_STAY,marks:["ç™½æ´‹æ·€"]},{name:"éƒ‘å·žå¸‚",familiarity:a.PASSING,marks:["éƒ‘å·žä¸œç«™","å¸Œå°”é¡¿æ¬¢æœ‹ï¼ˆéƒ‘å·žä¸œç«™ï¼‰","åªæœ‰æ²³å—Â·æˆå‰§å¹»åŸŽ"]},{name:"æ´›é˜³å¸‚",familiarity:a.BRIEF_STAY,marks:["é¾™é—¨çŸ³çªŸ","åº”å¤©é—¨","å¤å¢“åšç‰©é¦†","æ´›é˜³ç«™","è€é›’é˜³é¢é¦†"]},{name:"è¿åŸŽå¸‚",familiarity:a.BRIEF_STAY,marks:["å¤åŽ¿","ä¸­å´æ‘"]},{name:"å¤§åŒå¸‚",familiarity:a.BRIEF_STAY,marks:["å¤§åŒå¤åŸŽ","äº‘å†ˆçŸ³çªŸ","ä¸‡äººå‘","ä¹é¾™å£","å‡¯é¸½é…’æ¥¼","å¾·å‘³ç¾Šæ‚é¦†"]},{name:"é€šè¾½å¸‚",familiarity:a.BRIEF_STAY,marks:["æ‰Žé²ç‰¹æ——","è¥¿æ‹‰æœ¨ä¼¦å…¬å›­","è–°è¡£è‰åº„å›­"]},{name:"å‘¼å’Œæµ©ç‰¹å¸‚",familiarity:a.PASSING,marks:["åŽ»å¸Œæ‹‰ç©†ä»è‰åŽŸæ—¶è·¯è¿‡"]},{name:"é„‚å°”å¤šæ–¯å¸‚",familiarity:a.PASSING,marks:["å“æ²™æ¹¾"]},{name:"åŒ…å¤´å¸‚",familiarity:a.BRIEF_STAY,marks:["å¸Œæ‹‰ç©†ä»è‰åŽŸ"]},{name:"ä¹Œå…°å¯Ÿå¸ƒå¸‚",familiarity:a.BRIEF_STAY,marks:["ä¹Œå…°å“ˆè¾¾ç«å±±ç¾¤"]},{name:"å…´å®‰ç›Ÿ",familiarity:a.BRIEF_STAY,marks:["é˜¿å°”å±±","å†°ç…®ç¾Š"]},{name:"æ²ˆé˜³å¸‚",familiarity:a.DEEPLY_FAMILIAR},{name:"å¤§è¿žå¸‚",familiarity:a.EXPERIENCED,marks:["æ˜Ÿæµ·å¹¿åœº","è€è™Žæ»©","æ»¨æµ·è·¯","ä¸œæ¸¯ç å¤´","çå­å²›"]},{name:"ä¸¹ä¸œå¸‚",familiarity:a.BRIEF_STAY,marks:["é¸­ç»¿æ±Ÿæ–­æ¡¥"]},{name:"æŠšé¡ºå¸‚",familiarity:a.BRIEF_STAY},{name:"æœ¬æºªå¸‚",familiarity:a.BRIEF_STAY},{name:"è¥å£å¸‚",familiarity:a.PASSING},{name:"é”¦å·žå¸‚",familiarity:a.BRIEF_STAY,marks:["ç¬”æž¶å±±å…¬å›­","ä¹‰åŽ¿"]},{name:"è¾½é˜³å¸‚",familiarity:a.PASSING},{name:"é“å²­å¸‚",familiarity:a.PASSING},{name:"è‘«èŠ¦å²›å¸‚",familiarity:a.BRIEF_STAY,marks:["å…´åŸŽå¤åŸŽ","å…´åŸŽæµ·æ»¨"]},{name:"ç›˜é”¦å¸‚",familiarity:a.PASSING},{name:"éžå±±å¸‚",familiarity:a.PASSING,marks:["å²«å²©æ¡çŽ‰çŸ³ï¼Œåœ¨è·¯ä¸Šå›°å¾—ä¸è¡Œäº†"]},{name:"é˜œæ–°å¸‚",familiarity:a.BRIEF_STAY,marks:["å…«å®æµ·æ°´åº“æ¡çŽ›ç‘™","é˜œæ–°å¸‚åŒº"]},{name:"é€šåŒ–å¸‚",familiarity:a.PASSING},{name:"ç™½å±±å¸‚",familiarity:a.BRIEF_STAY,marks:["é•¿ç™½å±±","ä¸´æ±Ÿå¸‚","æºªè°·æ™¯åŒº","è€ç§ƒé¡¶å­å±±"]},{name:"å»¶è¾¹æœé²œæ—è‡ªæ²»å·ž",familiarity:a.BRIEF_STAY,marks:["å»¶å‰å¸‚","å›¾ä»¬å›½é—¨","æ°‘ä¿—å›­"]},{name:"æ¾åŽŸå¸‚",familiarity:a.PASSING,marks:["æŸ¥å¹²æ¹–ï¼Œåä¸€åŽ»çš„å¾ˆå†·ï¼Œé£Žå¾ˆå¤§ï¼Œæ¹–ä¹Ÿå¾ˆå¤§","åœ¨å¸‚åŒºä½äº†ä¸€æ™šï¼Œåƒäº†å¥½åƒçš„è±†è§’åœŸè±†"]},{name:"å“ˆå°”æ»¨å¸‚",familiarity:a.BRIEF_STAY},{name:"é½é½å“ˆå°”å¸‚",familiarity:a.DEEPLY_FAMILIAR,marks:["å…‹ä¸œ","å…‹å±±","é¾™æ²™å…¬å›­"]},{name:"é»‘æ²³å¸‚",familiarity:a.BRIEF_STAY,marks:["åŒ—å®‰","äº”å¤§è¿žæ± "]},{name:"é™å®‰åŒº",familiarity:a.PASSING},{name:"æµ¦ä¸œæ–°åŒº",familiarity:a.PASSING},{name:"æ­å·žå¸‚",familiarity:a.BRIEF_STAY},{name:"èˆŸå±±å¸‚",familiarity:a.BRIEF_STAY},{name:"ç¦å·žå¸‚",familiarity:a.PASSING,marks:["ä¸‰åŠä¸ƒå··","ç¦å·žç«™","å¹³æ½­é«˜é“ç«™","åŽ¿ä¸­å¿ƒç”µåŠ¨è½¦ç©¿æ¢­","æ¸”æ‘åˆé¥­","æµ·è¾¹å±±å¡ç‰›ç¾Š","è‚¯å¾·åŸºå¥‡å¥‡ä¹å›­","å¹³æ½­çŽ¯å²›è·¯çº¿"]},{name:"åŽ¦é—¨å¸‚",familiarity:a.BRIEF_STAY,marks:["åŽ¦é—¨æ¤ç‰©å›­","é¼“æµªå±¿è‰ºæœ¯ä¸­å¿ƒ"]},{name:"æ³‰å·žå¸‚",familiarity:a.BRIEF_STAY,marks:["å…³å²³åº™","å…ƒå¦™è§‚","èŸ³åŸ”ç°ªèŠ±","æ³‰å·žå¤åŸŽ","å’¸é¥­å°æ‘Šï¼ˆ3å…ƒä¸€ä»½ï¼‰"]},{name:"æ¼³å·žå¸‚",familiarity:a.BRIEF_STAY,marks:["æ¼³å·žå¤åŸŽ","åœ¨è¿™é‡Œçœ‹äº†ã€Šå‡ºèµ°çš„å†³å¿ƒã€‹"]},{name:"å—é–åŽ¿",familiarity:a.BRIEF_STAY,marks:["å—é–åœŸæ¥¼æ™¯åŒº"]},{name:"é¾™å²©å¸‚",familiarity:a.BRIEF_STAY},{name:"ä¸Šé¥¶å¸‚",familiarity:a.BRIEF_STAY,marks:["å©ºæº","ç«è½¦ç«™çš„å¹¿åœºå¾ˆç©ºæ—·ï¼Œåˆšä¸‹è½¦å°±çœ‹åˆ°äº†ç¾Žå¥½çš„æ™šéœž"]},{name:"é’å²›å¸‚",familiarity:a.BRIEF_STAY},{name:"çƒŸå°å¸‚",familiarity:a.BRIEF_STAY,marks:["è“¬èŽ±å¤åŸŽæ—è¾¹ä½äº†ä¸€æ™šï¼Œåƒäº†è‚‰æ¸£ã€ä¹°äº†æ— æ°´è›‹ç³•","é•¿å²›"]},{name:"æ—¥ç…§å¸‚",familiarity:a.PASSING},{name:"å¹¿å·žå¸‚",familiarity:a.BRIEF_STAY},{name:"ä½›å±±å¸‚",familiarity:a.EXPERIENCED},{name:"å—å®å¸‚",familiarity:a.PASSING},{name:"åŒ—æµ·å¸‚",familiarity:a.PASSING},{name:"ä¸‰äºšå¸‚",familiarity:a.BRIEF_STAY,marks:["å¤§ä¸œæµ·","1å·æ¸¯æ¹¾åŸŽ","å®«æ»¡è¥¿å»·ï¼Œå¿…åƒæ¦œæŽ’ç¬¬ä¸€å®žæµ‹éžå¸¸éš¾åƒ","æ¤°æ¢¦é•¿å»Šï¼Œéª‘ç”µåŠ¨è½¦åŽ»æ¤°æ¢¦é•¿å»Šçš„è·¯ä¸Šä¸¤ä¸ªäººä¸€èµ·æ‹‰è‚šå­ï¼Œæ²¡æ•¢åŽ»...","å¤§æ‚¦åŸŽæ—ºè±ªè¶…å¸‚ï¼ŒçŒªè¹„å’ŒçŒªè‚˜å¾ˆå¥½åƒ","å‘€è¯ºè¾¾çƒ­å¸¦é›¨æž—","äºšé¾™æ¹¾","ä¹¡æ‘æµ·å‘³æµ·é²œé¤åŽ…ï¼Œæ— æ•ŒæŽ¨èï¼æµ·é²œè¶…å¥½åƒï¼Œå¦‚åŒåƒåˆ°äº†æµ·å—é‚»å®¶è€å©†å©†åšçš„èœ"]},{name:"é™µæ°´é»Žæ—è‡ªæ²»åŽ¿",familiarity:a.BRIEF_STAY,marks:["çŒ´å²›å–‚çŒ´ï¼Œå–é¦™è•‰çš„å¤§å¨˜ä¹°å®Œä¼šåœ¨æ—è¾¹é™ªç€èŠå¤©è®²è§£ï¼Œå¾ˆå€¼å¾—","ç–å®¶æ¸”æŽ’","æ–°æ‘å¤œå¸‚","æµ·å—ç–å®¶åšç‰©é¦†","æ–°æ‘çš„åœ°ä¸Šæ€»æ˜¯çº¢è‰²çš„ä¸€æ»©ï¼Œæ˜¯åçš„é²œæ§Ÿæ¦”ï¼Œåœ¨å…¶ä»–åœ°æ–¹å¥½åƒå¹¶ä¸å¤šè§"]},{name:"ä¸‡å®å¸‚",familiarity:a.BRIEF_STAY,marks:["æ—¥æœˆæ¹¾ï¼Œæ²¿æµ·å…¬è·¯æ‹ç…§è›®å¥½çœ‹","çŸ³æ¢…æ¹¾","ç¥žå·žåŠå²›","æ¡¥æµ·ç‰§åœºï¼Œå½“åœ°äººæ”¾ç‰§çš„è‰åœ°ï¼Œå¾ˆå¤šåŠ¨ç‰©ã€‚ç½‘ä¸Šè¯´å‘³é“æ¯”è¾ƒå¤§ï¼Œä½†æˆ‘æ²¡é—»åˆ°ï¼Œå€¼å¾—åŽ»ã€‚","å…´éš†å·´åŽ˜æ‘ï¼Œæ‹ç…§æŒºå¥½çœ‹çš„ï¼Œä½†è…¿ä¸Šè¢«å’¬äº†å¥½å‡ ä¸ªåŒ…","å¤§èŠ±è§’é¹…åµçŸ³æ»©","å’Œä¹é•‡ï¼Œåœ¨è¿™é‡Œä¹°äº†è¡€æ©™å’Œå“ˆå¯†ç“œï¼Œå“ˆå¯†ç“œè¶…ç”œï¼"]},{name:"ç¼ä¸­é»Žæ—è‹—æ—è‡ªæ²»åŽ¿",familiarity:a.BRIEF_STAY,marks:["ç™¾èŠ±å²­ï¼Œæ²¡çŽ©æˆé£žæ¼‚ï¼Œé€€ç¥¨ä¹Ÿåå¤æ²Ÿé€šäº†å¥½å‡ æ¬¡ï¼Œæ™¯äº¤è½¦çš„å·¥ä½œäººå‘˜ä¹Ÿæ²¡æœ‰æœåŠ¡æ„è¯†","åœ¨è¿™é‡Œå’Œçˆ¶æ¯åµæž¶äº†ä¸€æ¬¡ï¼Œå’Œå®‹æ¥ é‡Žå‘³å§ã€é’å²›è€çŽ‹é€šäº†ç”µè¯","ä¹°äº†åŒ…å’–å•¡å‘³çš„çƒŸï¼Œå¾ˆè‹¦ï¼åœ¨åŒ—äº¬æŠ½å®Œæœ€åŽä¸€æ ¹çš„æ—¶å€™è¿˜æœ‰äº›æƒ†æ€…ï¼Œä¸Žæµ·å—å›žå¿†ä¸€èµ·çƒŸæ¶ˆäº‘æ•£äº†"]},{name:"ç¼æµ·å¸‚",familiarity:a.BRIEF_STAY,marks:["ä¸­å›½å—æµ·åšç‰©é¦†ï¼Œå±•å‡ºå¾ˆä¸°å¯Œå€¼å¾—åŽ»ã€‚å·§åˆçš„æ˜¯çœ‹çš„æ—¶å€™æœ‰ä¸€äº›æ–‡ç‰©æŒ‚ç€å‡ºå·®çš„ç‰Œå­ï¼ŒåŽæ¥å›žåŒ—äº¬åŽå‘çŽ°è¿™äº›æ–‡ç‰©åœ¨åŒ—äº¬å¤§è¿æ²³åšç‰©é¦†å±•å‡ºä¸­ã€‚","ç‰›å¥¶æµ·ï¼Œä¹³ç™½ç¢§ç»¿çš„æµ·æ°´æ˜¯å› ä¸ºçŠç‘šå°¸ä½“æ˜¯ç™½è‰²çš„ï¼Œè‡ªé©¾æ¸¸ä¸å¿…æ‹˜æ³¥åœ°å›¾ä¸Šçš„æŸä¸ªç‚¹ä½ï¼Œæ²¿æµ·å²¸çº¿å¼€ä¸€å¼€éƒ½æ˜¯ä¸€æ ·çš„æµ·æ¹¾ï¼Œä¸€ä¸ªäººæ‰¿åŒ…æ•´ç‰‡å¤§æµ·"]},{name:"æ–‡æ˜Œå¸‚",familiarity:a.BRIEF_STAY,marks:["ä¸œéƒŠæ¤°æž—","é“œé¼“ä½›å…‰å¯º","æ–‡å—è€è¡—","å‰è‹±ç›ç„—é¸¡ï¼Œéžå¸¸å¥½åƒï¼ç›ç„—é¸¡å¾ˆå…¥å‘³ï¼Œä¸Žçƒ«èœå’Œç²¥ä¸€èµ·åƒç»é…ï¼"]},{name:"æµ·å£å¸‚",familiarity:a.BRIEF_STAY,marks:["æ—¥æœˆå¹¿åœº","æµ·åº•æž","æ’å…´å‘è€çˆ¸èŒ¶","éª‘æ¥¼è€è¡—","æµ·å—çœéžç‰©è´¨æ–‡åŒ–é—äº§å±•ç¤ºä¸­å¿ƒ","æµ·å£ç¾Žå…°å›½é™…æœºåœº"]},{name:"æˆéƒ½å¸‚",familiarity:a.BRIEF_STAY},{name:"é˜¿åè—æ—ç¾Œæ—è‡ªæ²»å·ž",familiarity:a.BRIEF_STAY},{name:"è´µé˜³å¸‚",familiarity:a.BRIEF_STAY},{name:"å…­ç›˜æ°´å¸‚",familiarity:a.BRIEF_STAY},{name:"å®‰é¡ºå¸‚",familiarity:a.BRIEF_STAY},{name:"æ¯•èŠ‚å¸‚",familiarity:a.PASSING},{name:"é»”è¥¿å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·ž",familiarity:a.PASSING},{name:"é»”ä¸œå—è‹—æ—ä¾—æ—è‡ªæ²»å·ž",familiarity:a.BRIEF_STAY},{name:"é»”å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·ž",familiarity:a.PASSING},{name:"è¥¿å®‰å¸‚",familiarity:a.BRIEF_STAY},{name:"æ¦†æž—å¸‚",familiarity:a.PASSING}],H={class:"wiki-drawer-content"},q={key:0,class:"loading-container"},K={key:1,class:"error-container"},Q={key:2,class:"wiki-content"},aa={key:0,class:"my-travel-section"},ea={class:"travel-header"},ia={key:0,class:"marks-container"},ta={class:"marks-list"},la={class:"mark-text"},sa={key:1,class:"no-marks"},na={class:"wiki-header"},oa=["src","alt"],ra={class:"wiki-basic-info"},ma={key:0,class:"info-item"},da={class:"value"},ca={key:1,class:"info-item"},ya={class:"value"},fa={key:2,class:"info-item"},ua={class:"value"},_a={key:1,class:"wiki-coordinates"},pa={class:"coordinates-text"},Ea={class:"wiki-description"},va=["innerHTML"],Sa={class:"wiki-footer"},Ia=P({__name:"WikiDrawer",props:{modelValue:{type:Boolean},cityName:{}},emits:["update:modelValue"],setup(y,{emit:I}){const d=y,A=I,t=h({get:()=>d.modelValue,set:s=>A("update:modelValue",s)}),l=F(!1),B=F(""),o=F(null),x=h(()=>`https://zh.wikipedia.org/wiki/${encodeURIComponent(d.cityName)}`),k=h(()=>N.find(s=>s.name===d.cityName)),Y=async()=>{var s,e,p;if(d.cityName){l.value=!0,B.value="",o.value=null;try{const r=await fetch(`https://zh.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(d.cityName)}`);if(!r.ok)throw new Error("æ— æ³•èŽ·å–ç»´åŸºç™¾ç§‘ä¿¡æ¯");const c=await r.json();o.value={image:(s=c.thumbnail)==null?void 0:s.source,description:c.extract_html||c.extract||"æš‚æ— ç®€ä»‹ä¿¡æ¯",population:(e=c.description)!=null&&e.includes("äººå£")?"è¯¦è§ç»´åŸºç™¾ç§‘":void 0,area:(p=c.description)!=null&&p.includes("é¢ç§¯")?"è¯¦è§ç»´åŸºç™¾ç§‘":void 0,timeZone:c.timezone||void 0,coordinates:c.coordinates?`${c.coordinates.lat}, ${c.coordinates.lon}`:void 0}}catch(r){console.error("Failed to load wiki content:",r),B.value="åŠ è½½ç»´åŸºç™¾ç§‘ä¿¡æ¯å¤±è´¥"}finally{l.value=!1}}},f=()=>{window.open(x.value,"_blank","noopener,noreferrer")},_=()=>{t.value=!1},u=()=>{o.value&&(o.value.image=void 0)};return L(()=>d.cityName,s=>{s&&t.value&&Y()}),L(()=>t.value,s=>{s&&d.cityName&&Y()}),(s,e)=>(n(),$(v(J),{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=p=>t.value=p),title:y.cityName,direction:"rtl",size:"400px","before-close":_},{footer:R(()=>[i("div",Sa,[E(v(z),{type:"primary",link:"",onClick:f,size:"small"},{default:R(()=>[E(v(w),null,{default:R(()=>[E(v(j))]),_:1}),e[11]||(e[11]=b(" æŸ¥çœ‹å®Œæ•´ç»´åŸºç™¾ç§‘é¡µé¢ ",-1))]),_:1})])]),default:R(()=>[i("div",H,[l.value?(n(),m("div",q,[E(v(w),{class:"is-loading"},{default:R(()=>[E(v(W))]),_:1}),e[1]||(e[1]=i("span",null,"åŠ è½½ä¸­...",-1))])):B.value?(n(),m("div",K,[E(v(w),null,{default:R(()=>[E(v(U))]),_:1}),i("span",null,S(B.value),1),E(v(z),{type:"primary",onClick:f,size:"small"},{default:R(()=>[...e[2]||(e[2]=[b(" åœ¨ç»´åŸºç™¾ç§‘æŸ¥çœ‹ ",-1)])]),_:1})])):o.value?(n(),m("div",Q,[k.value?(n(),m("div",aa,[i("div",ea,[e[3]||(e[3]=i("h4",null,"æˆ‘çš„è¶³è¿¹",-1)),i("span",{class:"familiarity-badge",style:G({backgroundColor:v(C)(k.value.familiarity).color})},S(k.value.familiarity),5)]),k.value.marks&&k.value.marks.length>0?(n(),m("div",ia,[i("div",ta,[(n(!0),m(D,null,M(k.value.marks,(p,r)=>(n(),m("div",{key:r,class:"mark-item"},[e[4]||(e[4]=i("span",{class:"mark-icon"},"ðŸ“",-1)),i("span",la,S(p),1)]))),128))])])):(n(),m("div",sa,[...e[5]||(e[5]=[i("span",null,"æš‚æ— å…·ä½“åœ°ç‚¹è®°å½•",-1)])]))])):T("",!0),i("div",na,[o.value.image?(n(),m("img",{key:0,src:o.value.image,alt:y.cityName,class:"wiki-image",onError:u},null,40,oa)):T("",!0),i("div",ra,[o.value.population?(n(),m("div",ma,[e[6]||(e[6]=i("span",{class:"label"},"äººå£ï¼š",-1)),i("span",da,S(o.value.population),1)])):T("",!0),o.value.area?(n(),m("div",ca,[e[7]||(e[7]=i("span",{class:"label"},"é¢ç§¯ï¼š",-1)),i("span",ya,S(o.value.area),1)])):T("",!0),o.value.timeZone?(n(),m("div",fa,[e[8]||(e[8]=i("span",{class:"label"},"æ—¶åŒºï¼š",-1)),i("span",ua,S(o.value.timeZone),1)])):T("",!0)])]),o.value.coordinates?(n(),m("div",_a,[e[9]||(e[9]=i("h4",null,"åæ ‡",-1)),i("p",pa,S(o.value.coordinates),1)])):T("",!0),i("div",Ea,[e[10]||(e[10]=i("h4",null,"ç®€ä»‹",-1)),i("p",{innerHTML:o.value.description},null,8,va)])])):T("",!0)])]),_:1},8,["modelValue","title"]))}}),ka=V(Ia,[["__scopeId","data-v-8d48f510"]]),Aa={class:"familiarity-legend"},Ra={class:"legend-items"},Ta={class:"legend-text"},Ba={class:"legend-level"},Fa={class:"legend-description"},ga=P({__name:"FamiliarityLegend",setup(y){const I=h(()=>[g[a.PASSING],g[a.BRIEF_STAY],g[a.EXPERIENCED],g[a.DEEPLY_FAMILIAR]]);return(d,A)=>(n(),m("div",Aa,[A[0]||(A[0]=i("div",{class:"legend-title"},"ç†Ÿæ‚‰åº¦è¯´æ˜Ž",-1)),i("div",Ra,[(n(!0),m(D,null,M(I.value,t=>(n(),m("div",{key:t.level,class:"legend-item"},[i("div",{class:"legend-color",style:G({backgroundColor:t.color,opacity:t.opacity})},null,4),i("div",Ta,[i("div",Ba,S(t.level),1),i("div",Fa,S(t.description),1)])]))),128))])]))}}),Ya=V(ga,[["__scopeId","data-v-268d426d"]]),ha={class:"relative"},Na=P({__name:"FootPrint",setup(y){const I=F(),d=F(!1),A=F("");let t=null,l=null;const B=()=>X(()=>import("./chunks/leaflet-src.CoxfqXaM.js").then(f=>f.l),__vite__mapDeps([0,1,2])).then(f=>(l=f.default,f)),o=()=>{!I.value||!l||(t=new l.Map(I.value,{center:[39,105],zoom:4,maxZoom:18,minZoom:3,zoomControl:!1,attributionControl:!1}),l.control.zoom({zoomInTitle:"æ”¾å¤§",zoomOutTitle:"ç¼©å°"}).addTo(t))},x=()=>{const f={é«˜å¾·çŸ¢é‡:l.tileLayer("http://wprd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}",{maxZoom:18}),é«˜å¾·å½±åƒ:l.tileLayer("https://webst01.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",{maxZoom:18}),OSM:l.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18}),"OSMï¼ˆç°ç™½ï¼‰":l.tileLayer("https://cartodb-basemaps-a.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",{maxZoom:18}),"OSMï¼ˆæš—é»‘ï¼‰":l.tileLayer("https://cartodb-basemaps-a.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png",{maxZoom:18}).addTo(t),"OSMï¼ˆç°ç™½æ— æ ‡ç­¾ï¼‰":l.tileLayer("https://d.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png",{maxZoom:18}),"OSMï¼ˆæš—é»‘æ— æ ‡ç­¾ï¼‰":l.tileLayer("https://d.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png",{maxZoom:18}),è…¾è®¯åœ°å›¾:l.tileLayer("http://rt0.map.gtimg.com/realtimerender?z={z}&x={x}&y={-y}&type=vector&style=0",{maxZoom:18}),æš—é»‘åœ°å›¾:l.tileLayer("https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/WMTS/tile/1.0.0/Canvas_World_Dark_Gray_Base/default/default028mm/{z}/{y}/{x}/",{maxZoom:18})};l.control.layers(f,{},{position:"topright",collapsed:!0}).addTo(t)},k=()=>{fetch("/blog/geojson/100000.geoJson").then(f=>f.json()).then(f=>{!l||!t||l.geoJSON(f,{filter:_=>{var u;return N.map(s=>s.name).includes(((u=_.properties)==null?void 0:u.name)||"")},onEachFeature(_,u){var p;const s=N.find(r=>{var c;return r.name===((c=_.properties)==null?void 0:c.name)}),e=C((s==null?void 0:s.familiarity)||"é€”å¾„");u.bindTooltip(`
            <div class="text-center">
              <div class="font-semibold">${((p=_.properties)==null?void 0:p.name)||""}</div>
              <div class="text-xs text-gray-600">${e.description}</div>
            </div>
          `,{permanent:!1,direction:"top",offset:[0,-10],className:"city-tooltip"}),u.on({click(r){var c;t&&r.target.getBounds&&t.fitBounds(r.target.getBounds()),A.value=((c=_.properties)==null?void 0:c.name)||"",d.value=!0},mouseover(r){r.target.openTooltip()},mouseout(r){r.target.closeTooltip()}})},style(_){const u=N.find(p=>{var r;return p.name===((r=_.properties)==null?void 0:r.name)}),s=(u==null?void 0:u.familiarity)||"é€”å¾„",e=C(s);return{color:e.color,weight:1,opacity:.6,fillColor:e.color,fillOpacity:e.opacity}}}).addTo(t)})},Y=()=>{t&&(t.remove(),t=null)};return Z(async()=>{await B(),l&&(o(),k(),x())}),O(()=>{Y()}),(f,_)=>(n(),m("div",ha,[i("div",{ref_key:"mapRef",ref:I,class:"map-home"},null,512),E(Ya,{class:"absolute top-4 left-4 z-10"}),E(ka,{modelValue:d.value,"onUpdate:modelValue":_[0]||(_[0]=u=>d.value=u),"city-name":A.value},null,8,["modelValue","city-name"])]))}}),ba=JSON.parse('{"title":"è¶³è¿¹ ðŸ‘£","description":"","frontmatter":{"aside":false},"headers":[],"relativePath":"notes/diary/footprint.md","filePath":"notes/diary/footprint.md","lastUpdated":1749028695000,"readingTime":{"words":20,"readTime":"1"}}'),Pa={name:"notes/diary/footprint.md"},Ca=P({...Pa,setup(y){return(I,d)=>(n(),m("div",null,[d[0]||(d[0]=i("h1",{id:"è¶³è¿¹-ðŸ‘£",tabindex:"-1"},[b("è¶³è¿¹ ðŸ‘£ "),i("a",{class:"header-anchor",href:"#è¶³è¿¹-ðŸ‘£","aria-label":'Permalink to "è¶³è¿¹ ðŸ‘£"'},"â€‹")],-1)),E(Na,{style:{"margin-top":"30px"}})]))}});export{ba as __pageData,Ca as default};

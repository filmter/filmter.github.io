<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>深度解析 AntV 技术栈动画的工程原理 | Memento</title>
    <meta name="description" content="Zhongxu Yang's blog.">
    <link rel="preload stylesheet" href="/blog/assets/style.baeb5405.css" as="style">
    <link rel="modulepreload" href="/blog/assets/chunks/virtual_search-data.c1fb2837.js">
    <link rel="modulepreload" href="/blog/assets/chunks/virtual_pwa-register.1f2d6964.js">
    <link rel="modulepreload" href="/blog/assets/app.ad2dacb1.js">
    <link rel="modulepreload" href="/blog/assets/notes_it_web_解析AntV技术栈动画.md.6948bc17.lean.js">
    
    <link rel="icon" href="/blog/icon/film.svg">
  <script>var _hmt=_hmt||[];(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?cdf0faf3bd5c54510c5319f53e9deb75";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();</script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css">
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  <link rel="manifest" href="/blog/manifest.webmanifest">
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a818de47><!--[--><!--]--><!--[--><span tabindex="-1" data-v-59736647></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-59736647> Skip to content </a><!--]--><!----><header class="VPNav" data-v-a818de47 data-v-af866a43><div class="VPNavBar has-sidebar" data-v-af866a43 data-v-c7d9fa47><div class="container" data-v-c7d9fa47><div class="title" data-v-c7d9fa47><div class="VPNavBarTitle has-sidebar" data-v-c7d9fa47 data-v-9c576d5a><a class="title" href="/blog/" data-v-9c576d5a><!--[--><!--]--><!--[--><img class="VPImage logo" src="/blog/icon/film.svg" alt data-v-5666d3c1><!--]--><!--[-->Memento<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-c7d9fa47><div class="curtain" data-v-c7d9fa47></div><div class="content-body" data-v-c7d9fa47><!--[--><!--]--><div class="VPNavBarSearch search" data-v-c7d9fa47><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key">Meta</span><span class="DocSearch-Button-Key">K</span></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-c7d9fa47 data-v-e9d39e41><span id="main-nav-aria-label" class="visually-hidden" data-v-e9d39e41>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-e9d39e41 data-v-57fdeba1><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-57fdeba1><span class="text" data-v-57fdeba1><!----> Notes <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-57fdeba1><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-57fdeba1><div class="VPMenu" data-v-57fdeba1 data-v-97491713><div class="items" data-v-97491713><!--[--><!--[--><div class="VPMenuLink" data-v-97491713 data-v-23b0507e><a class="VPLink link active" href="/blog/notes/it/web/babelrc.html" data-v-23b0507e data-v-96a508af><!--[-->IT<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-97491713 data-v-23b0507e><a class="VPLink link" href="/blog/notes/art/graph/%E5%BD%B1%E5%83%8F%E5%8F%99%E4%BA%8B%E8%AF%AD%E8%A8%80.html" data-v-23b0507e data-v-96a508af><!--[-->Art<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/photographs/2022.html" data-v-e9d39e41 data-v-142eda55 data-v-96a508af><!--[-->Photographs<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/project/index.html" data-v-e9d39e41 data-v-142eda55 data-v-96a508af><!--[-->Project<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/message/index.html" data-v-e9d39e41 data-v-142eda55 data-v-96a508af><!--[-->Message<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/about/index.html" data-v-e9d39e41 data-v-142eda55 data-v-96a508af><!--[-->About<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-c7d9fa47 data-v-71e6c37e><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-71e6c37e data-v-16ea2170 data-v-0832a754><span class="check" data-v-0832a754><span class="icon" data-v-0832a754><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-16ea2170><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-16ea2170><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-c7d9fa47 data-v-8e01e811 data-v-5f80acc1><!--[--><a class="VPSocialLink" href="https://www.instagram.com/zhongxv/" target="_blank" rel="noopener" data-v-5f80acc1 data-v-1f5225fc><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Instagram</title><path d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"/></svg></a><a class="VPSocialLink" href="https://www.npmjs.com/~zhongxuyang" target="_blank" rel="noopener" data-v-5f80acc1 data-v-1f5225fc><svg viewBox="0 0 780 250"><path d="M240,250h100v-50h100V0H240V250z M340,50h50v100h-50V50z M480,0v200h100V50h50v150h50V50h50v150h50V0H480z M0,200h100V50h50v150h50V0H0V200z"></path></svg></a><a class="VPSocialLink" href="https://github.com/ZhongxuYang" target="_blank" rel="noopener" data-v-5f80acc1 data-v-1f5225fc><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-c7d9fa47 data-v-39c26b17 data-v-57fdeba1><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-57fdeba1><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-57fdeba1><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-57fdeba1><div class="VPMenu" data-v-57fdeba1 data-v-97491713><!----><!--[--><!--[--><!----><div class="group" data-v-39c26b17><div class="item appearance" data-v-39c26b17><p class="label" data-v-39c26b17>Appearance</p><div class="appearance-action" data-v-39c26b17><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-39c26b17 data-v-16ea2170 data-v-0832a754><span class="check" data-v-0832a754><span class="icon" data-v-0832a754><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-16ea2170><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-16ea2170><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-39c26b17><div class="item social-links" data-v-39c26b17><div class="VPSocialLinks social-links-list" data-v-39c26b17 data-v-5f80acc1><!--[--><a class="VPSocialLink" href="https://www.instagram.com/zhongxv/" target="_blank" rel="noopener" data-v-5f80acc1 data-v-1f5225fc><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Instagram</title><path d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"/></svg></a><a class="VPSocialLink" href="https://www.npmjs.com/~zhongxuyang" target="_blank" rel="noopener" data-v-5f80acc1 data-v-1f5225fc><svg viewBox="0 0 780 250"><path d="M240,250h100v-50h100V0H240V250z M340,50h50v100h-50V50z M480,0v200h100V50h50v150h50V50h50v150h50V0H480z M0,200h100V50h50v150h50V0H0V200z"></path></svg></a><a class="VPSocialLink" href="https://github.com/ZhongxuYang" target="_blank" rel="noopener" data-v-5f80acc1 data-v-1f5225fc><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-c7d9fa47 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-a818de47 data-v-d8b07b1c><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-d8b07b1c><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-d8b07b1c><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-d8b07b1c>Menu</span></button><a class="top-link" href="#" data-v-d8b07b1c>Return to top</a></div><aside class="VPSidebar" data-v-a818de47 data-v-309e38f2><div class="curtain" data-v-309e38f2></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-309e38f2><span class="visually-hidden" id="sidebar-aria-label" data-v-309e38f2> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-309e38f2><section class="VPSidebarItem level-0 has-active" data-v-309e38f2 data-v-9b396c27><div class="item" role="button" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link" data-v-9b396c27 data-v-96a508af><!--[--><h2 class="text" data-v-9b396c27>Web</h2><!--]--><!----></a><!----></div><div class="items" data-v-9b396c27><!--[--><section class="VPSidebarItem level-1" data-v-9b396c27 data-v-9b396c27><div class="item" role="button" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link" data-v-9b396c27 data-v-96a508af><!--[--><h3 class="text" data-v-9b396c27>Develop</h3><!--]--><!----></a><!----></div><div class="items" data-v-9b396c27><!--[--><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/babelrc.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>.babelrc与babel.config</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/js%E4%B8%AD%E7%9A%84Base64%E7%BC%96%E7%A0%81%E8%BD%AC%E8%AF%91.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>JS中的Base64编码转译</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/Web%E5%AD%98%E5%82%A8.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>Web存储</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/%E6%89%93%E5%8C%85JavaScript%E5%BA%93%E7%9A%84%E7%8E%B0%E4%BB%A3%E5%8C%96%E6%8C%87%E5%8D%97.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>打包JS库的现代化指南</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/read-zip-info.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>前端预览zip包信息</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/class-extends.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>JS实现多重继承</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/%E5%8D%8F%E5%90%8C%E6%93%8D%E4%BD%9C%E8%AE%BE%E8%AE%A1.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>协同操作设计</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/%E5%89%8D%E7%AB%AFCRDT%E5%AE%9E%E6%97%B6%E5%8D%8F%E4%BD%9C%E5%BA%93%20Yjs%20%E5%B7%A5%E7%A8%8B%E5%AE%9E%E7%8E%B0.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>CRDT实时协作库工程实现</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/%E8%B6%85%E5%87%BA%E6%98%BE%E7%A4%BA%E6%B5%AE%E5%B1%82.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>实现内容超出显示浮层</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-9b396c27 data-v-9b396c27><div class="item" role="button" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link" data-v-9b396c27 data-v-96a508af><!--[--><h3 class="text" data-v-9b396c27>Deploy</h3><!--]--><!----></a><!----></div><div class="items" data-v-9b396c27><!--[--><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/github-actions.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>GithubActions部署静态页面</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/github-page-error.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>Github Page Error</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 has-active" data-v-9b396c27 data-v-9b396c27><div class="item" role="button" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link" data-v-9b396c27 data-v-96a508af><!--[--><h3 class="text" data-v-9b396c27>Graph</h3><!--]--><!----></a><!----></div><div class="items" data-v-9b396c27><!--[--><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/Javascript%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>Javascript图像处理</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/canvas%E4%BA%A4%E4%BA%92%E8%AE%BE%E8%AE%A1.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>Canvas交互设计</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link is-active has-active" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/%E8%A7%A3%E6%9E%90AntV%E6%8A%80%E6%9C%AF%E6%A0%88%E5%8A%A8%E7%94%BB.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>解析AntV技术栈动画</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>贝塞尔曲线</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/%E7%A2%B0%E6%92%9E%E6%A3%80%E6%B5%8B.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>碰撞检测</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-9b396c27 data-v-9b396c27><div class="item" role="button" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link" data-v-9b396c27 data-v-96a508af><!--[--><h3 class="text" data-v-9b396c27>Optimization</h3><!--]--><!----></a><!----></div><div class="items" data-v-9b396c27><!--[--><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/%E5%BC%80%E5%90%AFgzip.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>开启gzip</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/object-create.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>Object.create(null)</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>浏览器中的内存泄漏</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/JS%E4%B8%AD%E7%9A%84%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>JS中的内存占用</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/ChromePerformance.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>Chrome Performance</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-9b396c27 data-v-9b396c27><div class="item" role="button" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link" data-v-9b396c27 data-v-96a508af><!--[--><h3 class="text" data-v-9b396c27>Plugin</h3><!--]--><!----></a><!----></div><div class="items" data-v-9b396c27><!--[--><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/vitepress-export-pdf.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>vitepress-export-pdf</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/project-version-mark.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>vite-plugin-version-mark</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/vitepress-plugin-music.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>vitepress-plugin-music</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/babel-plugin.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>babel-plugin开发</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/seize-npm-name.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>获得npm包名</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/%E5%A6%82%E4%BD%95%E5%91%BD%E5%90%8D%E4%B8%80%E4%B8%AAalias.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>如何命名一个alias</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-9b396c27 data-v-9b396c27><div class="item" role="button" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link" data-v-9b396c27 data-v-96a508af><!--[--><h3 class="text" data-v-9b396c27>SourceCode</h3><!--]--><!----></a><!----></div><div class="items" data-v-9b396c27><!--[--><div class="VPSidebarItem level-2 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/web/bigNumber.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>JS精度丢失的处理</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-309e38f2><section class="VPSidebarItem level-0" data-v-309e38f2 data-v-9b396c27><div class="item" role="button" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link" data-v-9b396c27 data-v-96a508af><!--[--><h2 class="text" data-v-9b396c27>Server</h2><!--]--><!----></a><!----></div><div class="items" data-v-9b396c27><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>server...</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-309e38f2><section class="VPSidebarItem level-0" data-v-309e38f2 data-v-9b396c27><div class="item" role="button" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link" data-v-9b396c27 data-v-96a508af><!--[--><h2 class="text" data-v-9b396c27>Other</h2><!--]--><!----></a><!----></div><div class="items" data-v-9b396c27><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/other/app.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>APP</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/other/clashX.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>clashX使用</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/other/windows%E6%BF%80%E6%B4%BB.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>windows激活</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/other/%E8%99%9A%E6%8B%9F%E5%AE%9A%E4%BD%8D.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>虚拟定位</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/other/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>环境配置</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9b396c27 data-v-9b396c27><div class="item" data-v-9b396c27><div class="indicator" data-v-9b396c27></div><a class="VPLink link link" href="/blog/notes/it/other/git.html" data-v-9b396c27 data-v-96a508af><!--[--><p class="text" data-v-9b396c27>Git使用</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a818de47 data-v-91505d7a><div class="VPDoc has-sidebar has-aside" data-v-91505d7a data-v-40602e86><div class="container" data-v-40602e86><div class="aside" data-v-40602e86><div class="aside-curtain" data-v-40602e86></div><div class="aside-container" data-v-40602e86><div class="aside-content" data-v-40602e86><div class="VPDocAside" data-v-40602e86 data-v-f20c7bfd><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-f20c7bfd data-v-0d25dff3><div class="content" data-v-0d25dff3><div class="outline-marker" data-v-0d25dff3></div><div class="outline-title" data-v-0d25dff3>本页目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-0d25dff3><span class="visually-hidden" id="doc-outline-aria-label" data-v-0d25dff3> Table of Contents for current page </span><ul class="root" data-v-0d25dff3 data-v-c6ed8bb7><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-f20c7bfd></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-40602e86><div class="content-container" data-v-40602e86><!--[--><!--]--><main class="main" data-v-40602e86><div style="position:relative;" class="vp-doc _blog_notes_it_web_%E8%A7%A3%E6%9E%90AntV%E6%8A%80%E6%9C%AF%E6%A0%88%E5%8A%A8%E7%94%BB" data-v-40602e86><div><h1 id="深度解析-antv-技术栈动画的工程原理" tabindex="-1">深度解析 AntV 技术栈动画的工程原理 <a class="header-anchor" href="#深度解析-antv-技术栈动画的工程原理" aria-hidden="true">#</a></h1><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-hidden="true">#</a></h2><p>目前 <a href="https://antv.vision/" target="_blank" rel="noreferrer">AntV</a> 的动画起到的作用主要是增强表现力（类似于样式一般的存在），但对于可视化内容的表达几乎没有实质的影响，其在整个可视化的过程中扮演着一个配角的地位。但随着可视化的发展，随着我们探索的逐步深入，在可预见的未来里，动画的表达将有可能会有更深层次的含义，其在可视化过程中的地位亦将发生翻天覆地的变化的。本文主要从<strong>工程角度</strong>介绍 AntV 动画的基本原理及现阶段存在的问题，为今后可能迎来的动画改造踏出一小步。</p><h2 id="概念列表" tabindex="-1">概念列表 <a class="header-anchor" href="#概念列表" aria-hidden="true">#</a></h2><table><thead><tr><th>名词</th><th>解释</th></tr></thead><tbody><tr><td>帧 (Frame)</td><td>在视频领域，电影、电视、数字视频等可视为随时间连续变换的许多张画面，而帧是指每一张画面。</td></tr><tr><td>帧率 (Frame rate)</td><td>帧率是用于测量显示帧数的量度。测量单位为“每秒显示帧数”（Frame per Second，FPS）或“赫兹”，一般来说FPS用于描述视频、电子绘图或游戏每秒播放多少帧。</td></tr><tr><td>帧数 (Frames)</td><td>帧数为帧生成数量的简称</td></tr><tr><td>插值 (Interpolation)</td><td>通过已知的、离散的数据点，在范围内推求新数据点的过程或方法。</td></tr></tbody></table><h2 id="动画定义" tabindex="-1">动画定义 <a class="header-anchor" href="#动画定义" aria-hidden="true">#</a></h2><blockquote><p>动画的基本原理是&quot;视觉暂留&quot;的生理学现象和&quot;相似&quot;的心理学现象。人眼看到物体后，其影像会在视网膜上短暂地停留一会儿(一般认为1/24秒内不会消失)，再加上大脑要完成一个感知的过程，当一系列图像变化非常细微，且变化速度非常快时(每秒至少24帧画面)，他们看起来似乎混合在一起了，从而构成一种运动的视觉假象。—— 《计算机软件技术基础》</p></blockquote><p>上面那么长的原理，其实一言以蔽之：一张张细微差别的图片固定时间间隔以幻灯片的形式播放，再经过人脑的补完，就是咱们人类所认知的计算机动画。</p><h2 id="动画种类" tabindex="-1">动画种类 <a class="header-anchor" href="#动画种类" aria-hidden="true">#</a></h2><p>在我们日常工作中我们常常能看到能动的可视化作品，在用户看来能平滑变动，都能称之为动画。但从工程角度看，动画也许应该被分为以下两类：</p><h3 id="基于模拟器的-——-模型动画" tabindex="-1">基于模拟器的 —— 模型动画 <a class="header-anchor" href="#基于模拟器的-——-模型动画" aria-hidden="true">#</a></h3><p><img src="/blog/assets/模型动画.d812cb42.gif" alt="" data-fancybox="gallery"> 图片来源：<a href="https://medium.com/@EvanSinar/use-animation-to-supercharge-data-visualization-cd905a882ad4" target="_blank" rel="noreferrer">https://medium.com/@EvanSinar/use-animation-to-supercharge-data-visualization-cd905a882ad4</a></p><p>这类动画，不同时间点，元素的属性（如位置）是由一种模型确定的。在可视化领域内，最常见的模型是物理学领域内的力导模型。这种动画类型的特点是单个图形对象属性的确定往往受环境和自身属性的共同作用。优点是天然符合人的直觉，大多数情况下的动画效果都让人感觉非常自然。<strong>缺点</strong>是往往性能开销较大，对（GPU）并行计算有非常强的需求，开发难度大，控制性弱。</p><p>这类的动画 AntV 目前还探索的比较少，认识也比较初级（仅有的几个案例就是 G6 场景下的动态力导关系图）。这里暂时不展开讨论。 <img src="/blog/assets/力导关系图.5db8fd86.gif" alt="" data-fancybox="gallery"></p><h3 id="基于关键帧的-——-补间动画" tabindex="-1">基于关键帧的 —— 补间动画 <a class="header-anchor" href="#基于关键帧的-——-补间动画" aria-hidden="true">#</a></h3><p>图片来源：<a href="http://www.beautifulinenglish.com/" target="_blank" rel="noreferrer">http://www.beautifulinenglish.com/</a></p><p>这类动画，是指再给定前后两个关键帧，系统根据<strong>时间</strong>进行<strong>插值</strong>，从而计算出两个关键帧间不同时刻的补间帧，然后逐帧绘制，从而制作出动画效果。这类动画的特点是，对起始帧和结束帧的要求非常严格，尤其是结束帧，如果结束帧不是给定的关键帧将直接导致可视化结果出错。<strong>优点</strong>是控制性非常强，不同的开始时间、补间时长、插值过程，使我们能设计、制作出千变万化的动画效果，<strong>缺点</strong>是得需要精细的设计、良好的审美以及极大耐心（要调动画参数）。做这类动画往往对制作者除了工程能力有要求，还需要过硬设计能力，否则制作出的动画将很有可能是反人类的。</p><p>补间动画是目前 AntV 技术栈使用最广的动画类型，下面我们将重点展开讨论。</p><h2 id="antv-的补间动画机制" tabindex="-1">AntV 的补间动画机制 <a class="header-anchor" href="#antv-的补间动画机制" aria-hidden="true">#</a></h2><p>动画机制直接决定了工程上动画的接口以及表现，应是开发者最为关注的模块。所谓补间动画，早年如果使用过 Flash 开发过动画的朋友应该能相对轻松、形象的理解。对于补间动画来说有两个最至关重要的元素，一个是时间轴（下图刻度部分），另一个是补间（下图蓝色部分）。</p><p><img src="/blog/assets/补间动画.50c8c86f.png" alt="" data-fancybox="gallery"></p><blockquote><p>图片来源：<a href="http://flashjournalism.com/tutorials/animation_examples/index.html" target="_blank" rel="noreferrer">http://flashjournalism.com/tutorials/animation_examples/index.html</a></p></blockquote><p>若转化到程序，<code>时间轴（Timeline）</code>可以理解成用于执行动画的定时器，而<code>补间（Tween）</code>是可以理解为动画执行对象及执行参数所构成的数据集。</p><h3 id="单个执行单个补间动画" tabindex="-1">单个执行单个补间动画 <a class="header-anchor" href="#单个执行单个补间动画" aria-hidden="true">#</a></h3><p>要对一个图元做一个补间动画，至少要处理两件事情：时间与插值。时间意味着我们要确定一个补间的起始时间（StarTime）、持续时间（Duration），插值是指根据一段补间起始和结束的属性，确定这段补间不同时刻同一属性的值。举个例子： <img src="data:image/png;base64,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" alt="" data-fancybox="gallery"></p><blockquote><p>上面这个例子描述了对一个圆的横坐标 x 做 持续 2s 的补间动画，代码表示如下：</p></blockquote><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">circle</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">animate</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">x</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">126</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2000</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="执行多个补间动画" tabindex="-1">执行多个补间动画 <a class="header-anchor" href="#执行多个补间动画" aria-hidden="true">#</a></h3><p>考虑单个图形的单个补间，老实说比简单，一个定时器，一个插值函数就搞定了。但如果是多个补间，问题就稍微复杂了，需要我们再多思考一些东西了。根据历史经验看，执行多个补间动画有两点至关重要：</p><ol><li>使用一个时间轴。</li><li>同一个图形对象同一时间下，执行顺序。</li></ol><p>第一点比较简单，意味着整个动画过程中我们始终只有一个定时器（Timer），否则多定时器的话你会遭遇十分严重的性能问题。第二点可能理解起来比较费劲，且未必有标准答案。下面举例说明：</p><p><img src="/blog/assets/多个补间动画.738258d1.png" alt="" data-fancybox="gallery"></p><p>对于前两种补间我们心中可能是自然而然的，没有疑问的，但对于第三种情况，我们可以要稍花心思多考虑一下。最自然的想法是，让两个补间按顺序执行，后面的补间覆盖前面的补间。目前上面那种情况并没有什么问题，但如果是下面这种情况呢？</p><p><img src="data:image/png;base64,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" alt="" data-fancybox="gallery"></p><p>两个补间运行完以后，图形的终态应该是什么样的呢？从 Flash 这种纯动画制作工具看，可能每个补间互相独立是更合理的。但从 AntV 的动画接口和预期上看。动画只不过是一个中间过程，它应不能影响最终结果的展示。怎么理解？意味着图形的终态只跟动画调用的起始实际有关，跟时长无关。这意味更合理的做法应该是，下一个补间到来时，应该废弃上一补间中相同属性的补间，即废弃掉红色这部分这部分补间。</p><p><img src="data:image/png;base64,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" alt="" data-fancybox="gallery"></p><p>以上两个最基础的动画实现在 AntV 技术栈中，对于 G2 和 G6 ，是在 G 这个层面完成的。F2 目前是自己独立的一套渲染和动画，细节策略有些有所不同，但整体思路是一脉相承的。</p><p><img src="/blog/assets/多个补间动画3.230d7743.gif" alt="" data-fancybox="gallery"></p><h3 id="关键帧补间动画" tabindex="-1">关键帧补间动画 <a class="header-anchor" href="#关键帧补间动画" aria-hidden="true">#</a></h3><p>关键帧动画的根本问题是，<strong>现有两个画面，怎样让两个画面用动画平滑的过渡</strong>。根据 G2 <a href="https://antv.vision/" target="_blank" rel="noreferrer">动画文档</a> 的描述，在 G2 中有入场动画（Appear）、出现动画（Enter）、更新动画（Update）、退场动画（Leave），四种动画。那么我们又是通过什么方式去区分这几种动画的呢？</p><p>其中入场动画，在 G2 中就是特指第一次渲染（Render）时的出现动画。而剩下三个，则需要基于套<code>比对机制</code>，如下图所示：</p><p><img src="/blog/assets/关键帧补间动画.480548b4.png" alt="" data-fancybox="gallery"></p><h2 id="现有问题" tabindex="-1">现有问题 <a class="header-anchor" href="#现有问题" aria-hidden="true">#</a></h2><p>目前看来，底层引擎 G 层面的动画没有什么问题，主要的问题还是出在上层框架的<code>关键帧动画</code>上。抛除一些接口设计，概念理解上不清晰的问题之外主要还有以下几处硬伤：</p><h3 id="没有以当前帧作为动画的起始帧-导致画面闪烁" tabindex="-1">没有以当前帧作为动画的起始帧，导致画面闪烁 <a class="header-anchor" href="#没有以当前帧作为动画的起始帧-导致画面闪烁" aria-hidden="true">#</a></h3><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><img src="/blog/assets/q1.b6e48e16.gif" alt="" data-fancybox="gallery"></td><td><img src="/blog/assets/q2.31c9bddd.gif" alt="" data-fancybox="gallery"></td></tr><tr><td>如果在上一次动画没结束，插入下一个动画，画面会闪烁。</td><td>增加动画时长，我们发现原因是，下一个动画的起始帧，是上次渲染的结束帧，而不是当前帧。</td></tr></tbody></table><h3 id="全量比对性能开销大" tabindex="-1">全量比对性能开销大 <a class="header-anchor" href="#全量比对性能开销大" aria-hidden="true">#</a></h3><p>这点主要是针对 G6 而言的，由于 G6 中有很多接口是差量（如：增（add）、删（delete）、改（update）），但目前每次都是全量比对，会造成不必要的性能浪费。</p><h3 id="无法自定义插值过程" tabindex="-1">无法自定义插值过程 <a class="header-anchor" href="#无法自定义插值过程" aria-hidden="true">#</a></h3><p>目前是无法自定义动画的插值过程的，使得一些更精细的效果无法完成，比如想让下面数据变化时保留整数，目前是没有接口自定义这件事情的。</p><p><img src="/blog/assets/q3.029260a7.gif" alt="" data-fancybox="gallery"></p><h2 id="声明" tabindex="-1">声明 <a class="header-anchor" href="#声明" aria-hidden="true">#</a></h2><ul><li>原文：<a href="https://www.yuque.com/antv/blog/deep-analytical-animation" target="_blank" rel="noreferrer">https://www.yuque.com/antv/blog/deep-analytical-animation</a></li><li>作者：黄通（有田）| <a href="mailto:huantong.ht@antfin.com" target="_blank" rel="noreferrer">huantong.ht@antfin.com</a></li></ul></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-40602e86 data-v-620f9ac3><div class="edit-info" data-v-620f9ac3><!----><div class="last-updated" data-v-620f9ac3><p class="VPLastUpdated" data-v-620f9ac3 data-v-9447647c>最后更新: <time datetime="2023-03-11T16:03:45.000Z" data-v-9447647c></time></p></div></div><div class="prev-next" data-v-620f9ac3><div class="pager" data-v-620f9ac3><a class="pager-link prev" href="/blog/notes/it/web/canvas%E4%BA%A4%E4%BA%92%E8%AE%BE%E8%AE%A1.html" data-v-620f9ac3><span class="desc" data-v-620f9ac3>上一篇</span><span class="title" data-v-620f9ac3>Canvas交互设计</span></a></div><div class="has-prev pager" data-v-620f9ac3><a class="pager-link next" href="/blog/notes/it/web/%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF.html" data-v-620f9ac3><span class="desc" data-v-620f9ac3>下一篇</span><span class="title" data-v-620f9ac3>贝塞尔曲线</span></a></div></div></footer><!--[--><!--[--><!--[--><div id="gitalk-container"></div><!--]--><!--]--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"notes_art_graph_他们为何而创作.md\":\"0acd7f5b\",\"index.md\":\"e85fd5aa\",\"message_index.md\":\"b0fcc966\",\"notes_art_book_写给无神论者.md\":\"a04ac93b\",\"notes_art_graph_picture-perfect-posing.md\":\"f56ad3ed\",\"notes_art_graph_今日摄影.md\":\"2c7780bd\",\"notes_art_graph_辐射镜头.md\":\"a602b599\",\"notes_it_index.md\":\"9a2de860\",\"notes_art_index.md\":\"da31b280\",\"notes_index.md\":\"70118dbb\",\"notes_it_other_app.md\":\"27b2f495\",\"notes_it_other_clashx.md\":\"1c455927\",\"notes_it_other_git.md\":\"c1c9cbd4\",\"notes_it_other_windows激活.md\":\"d3adfb9f\",\"notes_it_other_环境配置.md\":\"523718c0\",\"notes_it_other_虚拟定位.md\":\"5fefddee\",\"notes_art_graph_旁轴相机.md\":\"80dac9e8\",\"notes_art_graph_论摄影.md\":\"ce314350\",\"notes_art_graph_摄影构图学.md\":\"1ab5d863\",\"photographs_2022.md\":\"3d544b1d\",\"photographs_thomasjorion.md\":\"a1b5ec45\",\"photographs_tokyocompression.md\":\"6a9f3dbf\",\"photographs_earlier.md\":\"a38a9dd5\",\"photographs_index.md\":\"307a2dec\",\"photographs_li-ya-nan.md\":\"5fcfca1a\",\"photographs_pentaxsp.md\":\"2233ab74\",\"photographs_zhangkechun.md\":\"ce45ca9e\",\"posts_index.md\":\"1902e12c\",\"photographs_2021.md\":\"3c5bae07\",\"posts_me_20221018.md\":\"912dfc6e\",\"notes_it_web_chromeperformance.md\":\"9f903099\",\"notes_art_graph_影像叙事语言.md\":\"a47549b2\",\"notes_it_web_前端crdt实时协作库 yjs 工程实现.md\":\"0c81c490\",\"about_index.md\":\"3e09f77d\",\"notes_it_web_js中的内存占用.md\":\"fd78dbe1\",\"notes_it_web_如何命名一个alias.md\":\"7827c551\",\"notes_it_web_协同操作设计.md\":\"82392aaf\",\"notes_it_web_超出显示浮层.md\":\"86dd402c\",\"photographs_2020.md\":\"f676823d\",\"notes_it_web__打包工具.md\":\"86115af9\",\"notes_it_web_开启gzip.md\":\"06930a70\",\"notes_it_web_解析antv技术栈动画.md\":\"6948bc17\",\"notes_it_web__firefox跨域.md\":\"5e63c4b6\",\"notes_it_web_babel-plugin.md\":\"f8ad95bd\",\"notes_it_web_babelrc.md\":\"7ce0b0ef\",\"notes_it_web_bignumber.md\":\"92fa8b5a\",\"notes_it_web_charles.md\":\"55d2463b\",\"notes_it_web_class-extends.md\":\"5e925e42\",\"notes_it_web_github-page-error.md\":\"b28607f7\",\"notes_it_web_js中的base64编码转译.md\":\"ec951dfd\",\"notes_it_web_object-create.md\":\"6c1d2671\",\"notes_it_web_project-version-mark.md\":\"1a0fc8e0\",\"notes_it_web_seize-npm-name.md\":\"115e4898\",\"notes_it_web_vitepress-export-pdf.md\":\"e4aaec25\",\"notes_it_web_vitepress-plugin-music.md\":\"360a6e86\",\"notes_it_web__npm源.md\":\"f69e4b73\",\"notes_it_web__haida.md\":\"7da20bdf\",\"notes_it_web__hooks的内存泄露.md\":\"34dbbc77\",\"notes_it_web_碰撞检测.md\":\"5b1e053d\",\"notes_it_web_read-zip-info.md\":\"d71a278b\",\"notes_it_web__动态加载.md\":\"37267039\",\"notes_it_web_github-actions.md\":\"0f65b69c\",\"notes_it_web_javascript图像处理.md\":\"b0e27be1\",\"notes_it_web_贝塞尔曲线.md\":\"ebb3a5c9\",\"notes_it_web_web存储.md\":\"415aca28\",\"posts_share_movies.md\":\"f92bce63\",\"project_index.md\":\"c736cc33\",\"notes_it_web_浏览器中的内存泄漏.md\":\"14340e22\",\"notes_it_web_canvas交互设计.md\":\"67ea510c\",\"notes_it_web_打包javascript库的现代化指南.md\":\"2aaf7419\"}")</script>
    <script type="module" async src="/blog/assets/app.ad2dacb1.js"></script>
    
  </body>
</html>